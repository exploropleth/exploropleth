(self.webpackChunkexploropleth=self.webpackChunkexploropleth||[]).push([[792],{41:(ko,Kr,ei)=>{"use strict";var Ln={};ei.r(Ln),ei.d(Ln,{aggregate:()=>t2,bin:()=>nH,collect:()=>iH,compare:()=>Ufe,countpattern:()=>rH,cross:()=>oH,density:()=>sH,dotbin:()=>lH,expression:()=>Gfe,extent:()=>uH,facet:()=>AB,field:()=>qfe,filter:()=>fH,flatten:()=>dH,fold:()=>AH,formula:()=>hH,generate:()=>jfe,impute:()=>pH,joinaggregate:()=>gH,kde:()=>mH,key:()=>Kfe,load:()=>Wfe,lookup:()=>yH,multiextent:()=>Xfe,multivalues:()=>Yfe,params:()=>Zfe,pivot:()=>_H,prefacet:()=>Jfe,project:()=>wH,proxy:()=>ede,quantile:()=>bH,relay:()=>tde,sample:()=>CH,sequence:()=>EH,sieve:()=>nde,subflow:()=>cH,timeunit:()=>xH,tupleindex:()=>rde,values:()=>ode,window:()=>SH});var Ae={};ei.r(Ae),ei.d(Ae,{interpolate:()=>v3,interpolateArray:()=>XXe,interpolateBasis:()=>Rde,interpolateBasisClosed:()=>Ude,interpolateCubehelix:()=>VZe,interpolateCubehelixLong:()=>zZe,interpolateDate:()=>zde,interpolateDiscrete:()=>SZe,interpolateHcl:()=>HZe,interpolateHclLong:()=>QZe,interpolateHsl:()=>LZe,interpolateHslLong:()=>RZe,interpolateHue:()=>BZe,interpolateLab:()=>PZe,interpolateNumber:()=>g0,interpolateNumberArray:()=>VH,interpolateObject:()=>$de,interpolateRgb:()=>QH,interpolateRgbBasis:()=>KXe,interpolateRgbBasisClosed:()=>WXe,interpolateRound:()=>MB,interpolateString:()=>Gde,interpolateTransformCss:()=>DZe,interpolateTransformSvg:()=>TZe,interpolateZoom:()=>NZe,piecewise:()=>nQ,quantize:()=>$Ze});var F={};ei.r(F),ei.d(F,{bound:()=>vpe,identifier:()=>SV,mark:()=>_pe,overlap:()=>wpe,render:()=>Bpe,viewlayout:()=>Ope});var dn={};ei.r(dn),ei.d(dn,{axisticks:()=>Qpe,datajoin:()=>Vpe,encode:()=>zpe,legendentries:()=>$pe,linkpath:()=>FV,pie:()=>OV,scale:()=>Xpe,sortitems:()=>Jpe,stack:()=>NV});var _n={};ei.r(_n),ei.d(_n,{contour:()=>vz,geojson:()=>wz,geopath:()=>bz,geopoint:()=>Cz,geoshape:()=>Ez,graticule:()=>xz,heatmap:()=>Sz,isocontour:()=>pz,kde2d:()=>mz,projection:()=>F1e});var De={};ei.r(De),ei.d(De,{force:()=>Dz});var it={};ei.r(it),ei.d(it,{nest:()=>Pz,pack:()=>Qz,partition:()=>zz,stratify:()=>$z,tree:()=>qz,treelinks:()=>jz,treemap:()=>Wz});var qn={};ei.r(qn),ei.d(qn,{label:()=>o$});var bn={};ei.r(bn),ei.d(bn,{loess:()=>s$,regression:()=>l$});var Qi={};ei.r(Qi),ei.d(Qi,{voronoi:()=>R$});var Ht={};ei.r(Ht),ei.d(Ht,{wordcloud:()=>P$});var Fe={};ei.r(Fe),ei.d(Fe,{crossfilter:()=>H$,resolvefilter:()=>Q$});var $t={};ei.r($t),ei.d($t,{Bounds:()=>fu,CanvasHandler:()=>J_,CanvasRenderer:()=>gM,DATE:()=>vd,DAY:()=>Xc,DAYOFYEAR:()=>qp,Dataflow:()=>q6,Debug:()=>oue,Error:()=>bU,EventStream:()=>nB,Gradient:()=>Lhe,GroupItem:()=>qB,HOURS:()=>lA,Handler:()=>iV,HybridHandler:()=>Y0e,HybridRenderer:()=>pV,Info:()=>rue,Item:()=>GB,MILLISECONDS:()=>A0,MINUTES:()=>uA,MONTH:()=>Wc,Marks:()=>fA,MultiPulse:()=>IP,None:()=>iue,Operator:()=>Ba,Parameters:()=>tB,Pulse:()=>e2,QUARTER:()=>md,RenderType:()=>p2,Renderer:()=>Y_,ResourceLoader:()=>jhe,SECONDS:()=>ah,SVGHandler:()=>F0e,SVGRenderer:()=>hV,SVGStringRenderer:()=>X0e,Scenegraph:()=>_0e,TIME_UNITS:()=>WU,Transform:()=>On,View:()=>$ve,WEEK:()=>xu,Warn:()=>CU,YEAR:()=>gc,accessor:()=>pd,accessorFields:()=>Gc,accessorName:()=>Vl,array:()=>er,ascending:()=>N6,bandwidthNRD:()=>LP,bin:()=>gfe,bootstrapCI:()=>mfe,boundClip:()=>ape,boundContext:()=>$_,boundItem:()=>tV,boundMark:()=>g0e,boundStroke:()=>b1,changeset:()=>g3,clampRange:()=>mue,codegenExpression:()=>s2e,compare:()=>MU,constant:()=>Kc,cumulativeLogNormal:()=>VP,cumulativeNormal:()=>lB,cumulativeUniform:()=>qP,dayofyear:()=>jue,debounce:()=>IU,defaultLocale:()=>pP,definition:()=>ufe,densityLogNormal:()=>QP,densityNormal:()=>RP,densityUniform:()=>GP,domChild:()=>Bu,domClear:()=>gh,domCreate:()=>A2,domFind:()=>nV,dotbin:()=>vfe,error:()=>Gn,expressionFunction:()=>nu,extend:()=>Po,extent:()=>Gp,extentIndex:()=>vue,falsy:()=>jm,fastmap:()=>L6,field:()=>oh,flush:()=>yue,font:()=>oM,fontFamily:()=>W_,fontSize:()=>eg,format:()=>KS,formatLocale:()=>qS,formats:()=>CP,hasOwnProperty:()=>fr,id:()=>j7,identity:()=>qc,inferType:()=>Gce,inferTypes:()=>qce,ingest:()=>Ls,inherits:()=>$i,inrange:()=>R6,interpolate:()=>bQ,interpolateColors:()=>HB,interpolateRange:()=>yhe,intersect:()=>ipe,intersectBoxLine:()=>s8,intersectPath:()=>HQ,intersectPoint:()=>QQ,intersectRule:()=>t0e,isArray:()=>Xn,isBoolean:()=>Km,isDate:()=>Wm,isFunction:()=>Uo,isIterable:()=>_ue,isNumber:()=>Es,isObject:()=>Zi,isRegExp:()=>DU,isString:()=>Ji,isTuple:()=>ZS,key:()=>TU,lerp:()=>wue,lineHeight:()=>f2,loader:()=>WS,locale:()=>Vce,logger:()=>EU,lruCache:()=>bue,markup:()=>AV,merge:()=>Cue,mergeConfig:()=>O6,multiLineOffset:()=>ZQ,one:()=>F6,pad:()=>Eue,panLinear:()=>fue,panLog:()=>due,panPow:()=>Aue,panSymlog:()=>hue,parse:()=>vpt,parseExpression:()=>i2e,parseSelector:()=>F2,path:()=>bB,pathCurves:()=>MQ,pathEqual:()=>lpe,pathParse:()=>i8,pathRectangle:()=>zhe,pathRender:()=>P_,pathSymbols:()=>Vhe,pathTrail:()=>$he,peek:()=>ds,point:()=>aM,projection:()=>cz,quantileLogNormal:()=>zP,quantileNormal:()=>uB,quantileUniform:()=>jP,quantiles:()=>kP,quantizeInterpolator:()=>_he,quarter:()=>pue,quartiles:()=>NP,random:()=>fh,randomInteger:()=>QKe,randomKDE:()=>PP,randomLCG:()=>HKe,randomLogNormal:()=>_fe,randomMixture:()=>wfe,randomNormal:()=>UP,randomUniform:()=>bfe,read:()=>Xce,regressionConstant:()=>KP,regressionExp:()=>Efe,regressionLinear:()=>WP,regressionLoess:()=>Ife,regressionLog:()=>Cfe,regressionPoly:()=>Sfe,regressionPow:()=>xfe,regressionQuad:()=>XP,renderModule:()=>_M,repeat:()=>K7,resetDefaultLocale:()=>Tje,resetSVGClipId:()=>qhe,resetSVGDefIds:()=>snt,responseType:()=>Wce,runtimeContext:()=>wve,sampleCurve:()=>fB,sampleLogNormal:()=>HP,sampleNormal:()=>aB,sampleUniform:()=>$P,scale:()=>Bs,sceneEqual:()=>mV,sceneFromJSON:()=>v0e,scenePickVisit:()=>JB,sceneToJSON:()=>m0e,sceneVisit:()=>y0,sceneZOrder:()=>VQ,scheme:()=>CQ,serializeXML:()=>z0e,setHybridRendererOptions:()=>nnt,setRandom:()=>UKe,span:()=>W7,splitAccessPath:()=>$p,stringValue:()=>Li,textMetrics:()=>cA,timeBin:()=>dce,timeFloor:()=>ece,timeFormatLocale:()=>g_,timeInterval:()=>H6,timeOffset:()=>ice,timeSequence:()=>sce,timeUnitSpecifier:()=>que,timeUnits:()=>YU,toBoolean:()=>FU,toDate:()=>OU,toNumber:()=>jc,toSet:()=>d0,toString:()=>kU,transform:()=>cfe,transforms:()=>j6,truncate:()=>xue,truthy:()=>sh,tupleid:()=>zr,typeParsers:()=>_P,utcFloor:()=>tce,utcInterval:()=>Q6,utcOffset:()=>rce,utcSequence:()=>ace,utcdayofyear:()=>Xue,utcquarter:()=>gue,utcweek:()=>Yue,version:()=>ypt,visitArray:()=>Xm,week:()=>Kue,writeConfig:()=>k6,zero:()=>qm,zoomLinear:()=>xU,zoomLog:()=>SU,zoomPow:()=>PS,zoomSymlog:()=>BU});var Bi={};ei.r(Bi),ei.d(Bi,{accessPathDepth:()=>X8,accessPathWithDatum:()=>Cq,accessWithDatumToUnescapedPath:()=>sa,compile:()=>i8t,contains:()=>es,deepEqual:()=>CA,deleteNestedProperty:()=>ID,duplicate:()=>vo,entries:()=>k2,every:()=>yq,fieldIntersection:()=>bq,flatAccessWithDatum:()=>Y3e,getFirstDefined:()=>iu,hasIntersection:()=>_q,hasProperty:()=>Ei,hash:()=>ss,internalField:()=>e4e,isBoolean:()=>db,isEmpty:()=>ya,isEqual:()=>Fpt,isInternalField:()=>t4e,isNullOrFalse:()=>vq,isNumeric:()=>DD,keys:()=>oi,logicalExpr:()=>Ab,mergeDeep:()=>W3e,never:()=>K3e,normalize:()=>R6e,normalizeAngle:()=>pb,omit:()=>Id,pick:()=>j8,prefixGenerator:()=>wq,removePathFromField:()=>W8,replaceAll:()=>o4,replacePathInField:()=>Ch,resetIdCounter:()=>kpt,setEqual:()=>X3e,some:()=>K8,stringify:()=>_a,titleCase:()=>hb,unique:()=>gg,uniqueId:()=>J3e,vals:()=>_c,varName:()=>vl,version:()=>s8t});var an={};function fn(e,t,i,r,o,s,a){try{var l=e[s](a),u=l.value}catch(c){return void i(c)}l.done?t(u):Promise.resolve(u).then(r,o)}function Tt(e){return function(){var t=this,i=arguments;return new Promise(function(r,o){var s=e.apply(t,i);function a(u){fn(s,r,o,a,l,"next",u)}function l(u){fn(s,r,o,a,l,"throw",u)}a(void 0)})}}function In(e,t){return Object.is(e,t)}ei.r(an),ei.d(an,{carbong10:()=>r9t,carbong100:()=>s9t,carbong90:()=>o9t,carbonwhite:()=>i9t,dark:()=>B8t,excel:()=>M8t,fivethirtyeight:()=>T8t,ggplot2:()=>F8t,googlecharts:()=>$8t,latimes:()=>L8t,powerbi:()=>J8t,quartz:()=>R8t,urbaninstitute:()=>z8t,version:()=>a9t,vox:()=>U8t});let Xe=null,An=!1,Un=1;const gn=Symbol("SIGNAL");function qt(e){const t=Xe;return Xe=e,t}const L={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function U(e){if(An)throw new Error("");if(null===Xe)return;Xe.consumerOnSignalRead(e);const t=Xe.nextProducerIndex++;Rt(Xe),t<Xe.producerNode.length&&Xe.producerNode[t]!==e&&Yt(Xe)&&at(Xe.producerNode[t],Xe.producerIndexOfThis[t]),Xe.producerNode[t]!==e&&(Xe.producerNode[t]=e,Xe.producerIndexOfThis[t]=Yt(Xe)?ne(e,Xe,t):0),Xe.producerLastReadVersion[t]=e.version}function R(e){if((!Yt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Un)){if(!e.producerMustRecompute(e)&&!et(e))return e.dirty=!1,void(e.lastCleanEpoch=Un);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Un}}function oe(e){if(void 0===e.liveConsumerNode)return;const t=An;An=!0;try{for(const i of e.liveConsumerNode)i.dirty||Me(i)}finally{An=t}}function le(){return!1!==Xe?.consumerAllowSignalWrites}function Me(e){e.dirty=!0,oe(e),e.consumerMarkedDirty?.(e)}function Re(e){return e&&(e.nextProducerIndex=0),qt(e)}function $e(e,t){if(qt(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Yt(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)at(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function et(e){Rt(e);for(let t=0;t<e.producerNode.length;t++){const i=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==i.version||(R(i),r!==i.version))return!0}return!1}function ve(e){if(Rt(e),Yt(e))for(let t=0;t<e.producerNode.length;t++)at(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ne(e,t,i){if(Jt(e),Rt(e),0===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=ne(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(t)-1}function at(e,t){if(Jt(e),Rt(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)at(e.producerNode[r],e.producerIndexOfThis[r]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Rt(o),o.producerIndexOfThis[r]=t}}function Yt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Rt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Jt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}const Pn=Symbol("UNSET"),Si=Symbol("COMPUTING"),gi=Symbol("ERRORED"),si={...L,value:Pn,dirty:!0,error:null,equal:In,producerMustRecompute:e=>e.value===Pn||e.value===Si,producerRecomputeValue(e){if(e.value===Si)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Si;const i=Re(e);let r;try{r=e.computation()}catch(o){r=gi,e.error=o}finally{$e(e,i)}t!==Pn&&t!==gi&&r!==gi&&e.equal(t,r)?e.value=t:(e.value=r,e.version++)}};let zn=function Wi(){throw new Error};function ri(){zn()}let rr=null;function ot(e,t){le()||ri(),e.equal(e.value,t)||(e.value=t,function Cn(e){e.version++,function G(){Un++}(),oe(e),rr?.()}(e))}const en={...L,equal:In,value:void 0};const ft=()=>{},jn={...L,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:ft};function _e(e){return"function"==typeof e}let Ne=!1;const At={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Ne&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Ne=e},get useDeprecatedSynchronousErrorHandling(){return Ne}};function vt(e){setTimeout(()=>{throw e},0)}const xe={closed:!0,next(e){},error(e){if(At.useDeprecatedSynchronousErrorHandling)throw e;vt(e)},complete(){}},Nt=Array.isArray||(e=>e&&"number"==typeof e.length);function Ye(e){return null!==e&&"object"==typeof e}const Ge=(()=>{function e(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e})();class yt{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:i,_ctorUnsubscribe:r,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof yt)i.remove(this);else if(null!==i)for(let a=0;a<i.length;++a)i[a].remove(this);if(_e(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(a){t=a instanceof Ge?Kt(a.errors):[a]}}if(Nt(s)){let a=-1,l=s.length;for(;++a<l;){const u=s[a];if(Ye(u))try{u.unsubscribe()}catch(c){t=t||[],c instanceof Ge?t=t.concat(Kt(c.errors)):t.push(c)}}}if(t)throw new Ge(t)}add(t){let i=t;if(!t)return yt.EMPTY;switch(typeof t){case"function":i=new yt(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof yt)){const s=i;i=new yt,i._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=i;if(null===r)i._parentOrParents=this;else if(r instanceof yt){if(r===this)return i;i._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return i;r.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[i]:o.push(i),i}remove(t){const i=this._subscriptions;if(i){const r=i.indexOf(t);-1!==r&&i.splice(r,1)}}}var e;function Kt(e){return e.reduce((t,i)=>t.concat(i instanceof Ge?i.errors:i),[])}yt.EMPTY=((e=new yt).closed=!0,e);const xt="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class mt extends yt{constructor(t,i,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=xe;break;case 1:if(!t){this.destination=xe;break}if("object"==typeof t){t instanceof mt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new hn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new hn(this,t,i,r)}}[xt](){return this}static create(t,i,r){const o=new mt(t,i,r);return o.syncErrorThrowable=!1,o}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class hn extends mt{constructor(t,i,r,o){super(),this._parentSubscriber=t;let s,a=this;_e(i)?s=i:i&&(s=i.next,r=i.error,o=i.complete,i!==xe&&(a=Object.create(i),_e(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=r,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:i}=this;At.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable?this.__tryOrSetError(i,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:i}=this,{useDeprecatedSynchronousErrorHandling:r}=At;if(this._error)r&&i.syncErrorThrowable?(this.__tryOrSetError(i,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(i.syncErrorThrowable)r?(i.syncErrorValue=t,i.syncErrorThrown=!0):vt(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;vt(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const i=()=>this._complete.call(this._context);At.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,i){try{t.call(this._context,i)}catch(r){if(this.unsubscribe(),At.useDeprecatedSynchronousErrorHandling)throw r;vt(r)}}__tryOrSetError(t,i,r){if(!At.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{i.call(this._context,r)}catch(o){return At.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(vt(o),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const hi="function"==typeof Symbol&&Symbol.observable||"@@observable";function ti(e){return e}function mi(e){return 0===e.length?ti:1===e.length?e[0]:function(i){return e.reduce((r,o)=>o(r),i)}}let ni=(()=>{class e{constructor(i){this._isScalar=!1,i&&(this._subscribe=i)}lift(i){const r=new e;return r.source=this,r.operator=i,r}subscribe(i,r,o){const{operator:s}=this,a=function xn(e,t,i){if(e){if(e instanceof mt)return e;if(e[xt])return e[xt]()}return e||t||i?new mt(e,t,i):new mt(xe)}(i,r,o);if(a.add(s?s.call(a,this.source):this.source||At.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),At.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(i){try{return this._subscribe(i)}catch(r){At.useDeprecatedSynchronousErrorHandling&&(i.syncErrorThrown=!0,i.syncErrorValue=r),function mn(e){for(;e;){const{closed:t,destination:i,isStopped:r}=e;if(t||r)return!1;e=i&&i instanceof mt?i:null}return!0}(i)?i.error(r):console.warn(r)}}forEach(i,r){return new(r=Tr(r))((o,s)=>{let a;a=this.subscribe(l=>{try{i(l)}catch(u){s(u),a&&a.unsubscribe()}},s,o)})}_subscribe(i){const{source:r}=this;return r&&r.subscribe(i)}[hi](){return this}pipe(...i){return 0===i.length?this:mi(i)(this)}toPromise(i){return new(i=Tr(i))((r,o)=>{let s;this.subscribe(a=>s=a,a=>o(a),()=>r(s))})}}return e.create=t=>new e(t),e})();function Tr(e){if(e||(e=At.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const _r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class Mr extends yt{constructor(t,i){super(),this.subject=t,this.subscriber=i,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,i=t.observers;if(this.subject=null,!i||0===i.length||t.isStopped||t.closed)return;const r=i.indexOf(this.subscriber);-1!==r&&i.splice(r,1)}}class ui extends mt{constructor(t){super(t),this.destination=t}}let Yn=(()=>{class e extends ni{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[xt](){return new ui(this)}lift(i){const r=new br(this,this);return r.operator=i,r}next(i){if(this.closed)throw new _r;if(!this.isStopped){const{observers:r}=this,o=r.length,s=r.slice();for(let a=0;a<o;a++)s[a].next(i)}}error(i){if(this.closed)throw new _r;this.hasError=!0,this.thrownError=i,this.isStopped=!0;const{observers:r}=this,o=r.length,s=r.slice();for(let a=0;a<o;a++)s[a].error(i);this.observers.length=0}complete(){if(this.closed)throw new _r;this.isStopped=!0;const{observers:i}=this,r=i.length,o=i.slice();for(let s=0;s<r;s++)o[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(i){if(this.closed)throw new _r;return super._trySubscribe(i)}_subscribe(i){if(this.closed)throw new _r;return this.hasError?(i.error(this.thrownError),yt.EMPTY):this.isStopped?(i.complete(),yt.EMPTY):(this.observers.push(i),new Mr(this,i))}asObservable(){const i=new ni;return i.source=this,i}}return e.create=(t,i)=>new br(t,i),e})();class br extends Yn{constructor(t,i){super(),this.destination=t,this.source=i}next(t){const{destination:i}=this;i&&i.next&&i.next(t)}error(t){const{destination:i}=this;i&&i.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:i}=this;return i?this.source.subscribe(t):yt.EMPTY}}class Pr extends Yn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const i=super._subscribe(t);return i&&!i.closed&&t.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _r;return this._value}next(t){super.next(this._value=t)}}function j(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new fe(e,t))}}class fe{constructor(t,i){this.project=t,this.thisArg=i}call(t,i){return i.subscribe(new he(t,this.project,this.thisArg))}}class he extends mt{constructor(t,i,r){super(t),this.project=i,this.count=0,this.thisArg=r||this}_next(t){let i;try{i=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(i)}}const ke="https://g.co/ng/security#xss";class ee extends Error{constructor(t,i){super(function Ue(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,i)),this.code=t}}const gt=Symbol("InputSignalNode#UNSET"),Bt={...en,transformFn:void 0,applyValueToInputSignal(e,t){ot(e,t)}};function vn(e,t){const i=Object.create(Bt);function r(){if(U(i),i.value===gt)throw new ee(-950,!1);return i.value}return i.value=e,i.transformFn=t?.transform,r[gn]=i,r}function yn(e){return{toString:e}.toString()}const Xt="__parameters__";function ar(e,t,i){return yn(()=>{const r=function Yr(e){return function(...i){if(e){const r=e(...i);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const a=new o(...s);return l.annotation=a,l;function l(u,c,f){const d=u.hasOwnProperty(Xt)?u[Xt]:Object.defineProperty(u,Xt,{value:[]})[Xt];for(;d.length<=f;)d.push(null);return(d[f]=d[f]||[]).push(a),u}}return i&&(o.prototype=Object.create(i.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const ue=globalThis;function Ot(e){for(let t in e)if(e[t]===Ot)return t;throw Error("Could not find renamed property on target object.")}function zi(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function nn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(nn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function be(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const $o=Ot({__forward_ref__:Ot});function En(e){return e.__forward_ref__=En,e.toString=function(){return nn(this())},e}function Ti(e){return gr(e)?e():e}function gr(e){return"function"==typeof e&&e.hasOwnProperty($o)&&e.__forward_ref__===En}function Mn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function nr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Cr(e){return is(e,ca)||is(e,Jr)}function is(e,t){return e.hasOwnProperty(t)?e[t]:null}function vs(e){return e&&(e.hasOwnProperty(ys)||e.hasOwnProperty(Qo))?e[ys]:null}const ca=Ot({\u0275prov:Ot}),ys=Ot({\u0275inj:Ot}),Jr=Ot({ngInjectableDef:Ot}),Qo=Ot({ngInjectorDef:Ot});class ai{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Mn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wl(e){return e&&!!e.\u0275providers}const Us=Ot({\u0275cmp:Ot}),Ia=Ot({\u0275dir:Ot}),bl=Ot({\u0275pipe:Ot}),Ll=Ot({\u0275mod:Ot}),rl=Ot({\u0275fac:Ot}),ol=Ot({__NG_ELEMENT_ID__:Ot}),ku=Ot({__NG_ENV_ID__:Ot});function Qr(e){return"string"==typeof e?e:null==e?"":String(e)}function Rl(e,t){throw new ee(-201,!1)}var Or=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Or||{});let Xf;function Yf(){return Xf}function $a(e){const t=Xf;return Xf=e,t}function X1(e,t,i){const r=Cr(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:i&Or.Optional?null:void 0!==t?t:void Rl()}const hf={},ba="__NG_DI_FLAG__",J0="ngTempTokenPath",Ld=/\n/gm,ep="__source";let Bc;function Lo(e){const t=Bc;return Bc=e,t}function tv(e,t=Or.Default){if(void 0===Bc)throw new ee(-203,!1);return null===Bc?X1(e,void 0,t):Bc.get(e,t&Or.Optional?null:void 0,t)}function Ar(e,t=Or.Default){return(Yf()||tv)(Ti(e),t)}function Kn(e,t=Or.Default){return Ar(e,du(t))}function du(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Rd(e){const t=[];for(let i=0;i<e.length;i++){const r=Ti(e[i]);if(Array.isArray(r)){if(0===r.length)throw new ee(900,!1);let o,s=Or.Default;for(let a=0;a<r.length;a++){const l=r[a],u=Zs(l);"number"==typeof u?-1===u?o=l.token:s|=u:o=l}t.push(Ar(o,s))}else t.push(Ar(r))}return t}function Da(e,t){return e[ba]=t,e.prototype[ba]=t,e}function Zs(e){return e[ba]}const Cl=Da(ar("Optional"),8),S=Da(ar("SkipSelf"),4);function me(e,t){return e.hasOwnProperty(rl)?e[rl]:null}function It(e,t){e.forEach(i=>Array.isArray(i)?It(i,t):t(i))}function Ut(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function Zt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Gi(e,t,i){let r=Ir(e,t);return r>=0?e[1|r]=i:(r=~r,function tn(e,t,i,r){let o=e.length;if(o==t)e.push(i,r);else if(1===o)e.push(r,e[0]),e[0]=i;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=i,e[t+1]=r}}(e,r,t,i)),r}function mr(e,t){const i=Ir(e,t);if(i>=0)return e[1|i]}function Ir(e,t){return function Mo(e,t,i){let r=0,o=e.length>>i;for(;o!==r;){const s=r+(o-r>>1),a=e[s<<i];if(t===a)return s<<i;a>t?o=s:r=s+1}return~(o<<i)}(e,t,1)}const li={},wi=[],co=new ai(""),Ur=new ai("",-1),Oo=new ai("");class Go{get(t,i=hf){if(i===hf){const r=new Error(`NullInjectorError: No provider for ${nn(t)}!`);throw r.name="NullInjectorError",r}return i}}var Vo=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Vo||{}),_o=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(_o||{}),cn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(cn||{});function Js(e,t,i){let r=e.length;for(;;){const o=e.indexOf(t,i);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}i=o+1}}function Ps(e,t,i){let r=0;for(;r<i.length;){const o=i[r];if("number"==typeof o){if(0!==o)break;r++;const s=i[r++],a=i[r++],l=i[r++];e.setAttribute(t,a,l,s)}else{const s=o,a=i[++r];ea(s)?e.setProperty(t,s,a):e.setAttribute(t,s,a),r++}}return r}function da(e){return 3===e||4===e||6===e}function ea(e){return 64===e.charCodeAt(0)}function Ta(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?i=o:0===i||as(e,i,o,null,-1===i||2===i?t[++r]:null)}}return e}function as(e,t,i,r,o){let s=0,a=e.length;if(-1===t)a=-1;else for(;s<e.length;){const l=e[s++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=s-1;break}}}for(;s<e.length;){const l=e[s];if("number"==typeof l)break;if(l===i){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==a&&(e.splice(a,0,t),s=a+1),e.splice(s++,0,i),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}const Fa="ng-template";function Au(e,t,i,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==Js(t[o+1].toLowerCase(),i,0))return!0}else if(El(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&"string"==typeof(s=t[o]);)if(s.toLowerCase()===i)return!0}return!1}function El(e){return 4===e.type&&e.value!==Fa}function As(e,t,i){return t===(4!==e.type||i?e.value:Fa)}function Aa(e,t,i){let r=4;const o=e.attrs,s=null!==o?function hu(e){for(let t=0;t<e.length;t++)if(da(e[t]))return t;return e.length}(o):0;let a=!1;for(let l=0;l<t.length;l++){const u=t[l];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!As(e,u,i)||""===u&&1===t.length){if(xo(r))return!1;a=!0}}else if(8&r){if(null===o||!Au(e,o,u,i)){if(xo(r))return!1;a=!0}}else{const c=t[++l],f=al(u,o,El(e),i);if(-1===f){if(xo(r))return!1;a=!0;continue}if(""!==c){let d;if(d=f>s?"":o[f+1].toLowerCase(),2&r&&c!==d){if(xo(r))return!1;a=!0}}}}else{if(!a&&!xo(r)&&!xo(u))return!1;if(a&&xo(u))continue;a=!1,r=u|1&r}}return xo(r)||a}function xo(e){return!(1&e)}function al(e,t,i,r){if(null===t)return-1;let o=0;if(r||!i){let s=!1;for(;o<t.length;){const a=t[o];if(a===e)return o;if(3===a||6===a)s=!0;else{if(1===a||2===a){let l=t[++o];for(;"string"==typeof l;)l=t[++o];continue}if(4===a)break;if(0===a){o+=4;continue}}o+=s?1:2}return-1}return function pu(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const r=e[i];if("number"==typeof r)return-1;if(r===t)return i;i++}return-1}(t,e)}function Hs(e,t,i=!1){for(let r=0;r<t.length;r++)if(Aa(e,t[r],i))return!0;return!1}function Ud(e,t){e:for(let i=0;i<t.length;i++){const r=t[i];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Mc(e,t){return e?":not("+t.trim()+")":t}function Ga(e){let t=e[0],i=1,r=2,o="",s=!1;for(;i<e.length;){let a=e[i];if("string"==typeof a)if(2&r){const l=e[++i];o+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?o+="."+a:4&r&&(o+=" "+a);else""!==o&&!xo(a)&&(t+=Mc(s,o),o=""),r=a,s=s||!xo(r);i++}return""!==o&&(t+=Mc(s,o)),t}function mo(e){return yn(()=>{const t=z4(e),i={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Vo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||_o.Emulated,styles:e.styles||wi,_:null,schemas:e.schemas||null,tView:null,id:""};em(i);const r=e.dependencies;return i.directiveDefs=ip(r,!1),i.pipeDefs=ip(r,!0),i.id=function TA(e){let t=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of i)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(i),i})}function Dh(e){return wo(e)||ll(e)}function Th(e){return null!==e}function Yo(e){return yn(()=>({type:e.type,bootstrap:e.bootstrap||wi,declarations:e.declarations||wi,imports:e.imports||wi,exports:e.exports||wi,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function J1(e,t){if(null==e)return li;const i={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let s,a,l=cn.None;Array.isArray(o)?(l=o[0],s=o[1],a=o[2]??s):(s=o,a=o),t?(i[s]=l!==cn.None?[r,l]:r,t[s]=a):i[s]=r}return i}function Lr(e){return yn(()=>{const t=z4(e);return em(t),t})}function Oa(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function wo(e){return e[Us]||null}function ll(e){return e[Ia]||null}function ul(e){return e[bl]||null}function xl(e,t){const i=e[Ll]||null;if(!i&&!0===t)throw new Error(`Type ${nn(e)} does not have '\u0275mod' property.`);return i}function z4(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||li,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||wi,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:J1(e.inputs,t),outputs:J1(e.outputs),debugInfo:null}}function em(e){e.features?.forEach(t=>t(e))}function ip(e,t){if(!e)return null;const i=t?ul:Dh;return()=>("function"==typeof e?e():e).map(r=>i(r)).filter(Th)}function tm(...e){return{\u0275providers:nm(0,e),\u0275fromNgModule:!0}}function nm(e,...t){const i=[],r=new Set;let o;const s=a=>{i.push(a)};return It(t,a=>{const l=a;FA(l,s,[],r)&&(o||=[],o.push(l))}),void 0!==o&&op(o,s),i}function op(e,t){for(let i=0;i<e.length;i++){const{ngModule:r,providers:o}=e[i];Fh(o,s=>{t(s,r)})}}function FA(e,t,i,r){if(!(e=Ti(e)))return!1;let o=null,s=vs(e);const a=!s&&wo(e);if(s||a){if(a&&!a.standalone)return!1;o=e}else{const u=e.ngModule;if(s=vs(u),!s)return!1;o=u}const l=r.has(o);if(a){if(l)return!1;if(r.add(o),a.dependencies){const u="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of u)FA(c,t,i,r)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let c;r.add(o);try{It(s.imports,f=>{FA(f,t,i,r)&&(c||=[],c.push(f))})}finally{}void 0!==c&&op(c,t)}if(!l){const c=me(o)||(()=>new o);t({provide:o,useFactory:c,deps:wi},o),t({provide:Oo,useValue:o,multi:!0},o),t({provide:co,useValue:()=>Ar(o),multi:!0},o)}const u=s.providers;if(null!=u&&!l){const c=e;Fh(u,f=>{t(f,c)})}}}return o!==e&&void 0!==e.providers}function Fh(e,t){for(let i of e)wl(i)&&(i=i.\u0275providers),Array.isArray(i)?Fh(i,t):t(i)}const Oh=Ot({provide:String,useValue:Ot});function kh(e){return null!==e&&"object"==typeof e&&Oh in e}function OA(e){return"function"==typeof e}const iv=new ai(""),Jf={},Pd={};let rv;function im(){return void 0===rv&&(rv=new Go),rv}class su{}class ap extends su{get destroyed(){return this._destroyed}constructor(t,i,r,o){super(),this.parent=i,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lp(t,a=>this.processProvider(a)),this.records.set(Ur,qa(void 0,this)),o.has("environment")&&this.records.set(su,qa(void 0,this));const s=this.records.get(iv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Oo,wi,Or.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=qt(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of i)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),qt(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const i=Lo(this),r=$a(void 0);try{return t()}finally{Lo(i),$a(r)}}get(t,i=hf,r=Or.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ku))return t[ku](this);r=du(r);const s=Lo(this),a=$a(void 0);try{if(!(r&Or.SkipSelf)){let u=this.records.get(t);if(void 0===u){const c=function M9(e){return"function"==typeof e||"object"==typeof e&&e instanceof ai}(t)&&Cr(t);u=c&&this.injectableDefInScope(c)?qa(ov(t),Jf):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(r&Or.Self?im():this.parent).get(t,i=r&Or.Optional&&i===hf?null:i)}catch(l){if("NullInjectorError"===l.name){if((l[J0]=l[J0]||[]).unshift(nn(t)),s)throw l;return function np(e,t,i,r){const o=e[J0];throw t[ep]&&o.unshift(t[ep]),e.message=function sl(e,t,i,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=nn(t);if(Array.isArray(t))o=t.map(nn).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];s.push(a+":"+("string"==typeof l?JSON.stringify(l):nn(l)))}o=`{${s.join(", ")}}`}return`${i}${r?"("+r+")":""}[${o}]: ${e.replace(Ld,"\n  ")}`}("\n"+e.message,o,i,r),e.ngTokenPath=o,e[J0]=null,e}(l,t,"R3InjectorError",this.source)}throw l}finally{$a(a),Lo(s)}}resolveInjectorInitializers(){const t=qt(null),i=Lo(this),r=$a(void 0);try{const s=this.get(co,wi,Or.Self);for(const a of s)a()}finally{Lo(i),$a(r),qt(t)}}toString(){const t=[],i=this.records;for(const r of i.keys())t.push(nn(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(t){let i=OA(t=Ti(t))?t:Ti(t&&t.provide);const r=function Kl(e){return kh(e)?qa(void 0,e.useValue):qa(cl(e),Jf)}(t);if(!OA(t)&&!0===t.multi){let o=this.records.get(i);o||(o=qa(void 0,Jf,!0),o.factory=()=>Rd(o.multi),this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,r)}hydrate(t,i){const r=qt(null);try{return i.value===Jf&&(i.value=Pd,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Ng(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{qt(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const i=Ti(t.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){const i=this._onDestroyHooks.indexOf(t);-1!==i&&this._onDestroyHooks.splice(i,1)}}function ov(e){const t=Cr(e),i=null!==t?t.factory:me(e);if(null!==i)return i;if(e instanceof ai)throw new ee(204,!1);if(e instanceof Function)return function sv(e){if(e.length>0)throw new ee(204,!1);const i=function io(e){return e&&(e[ca]||e[Jr])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new ee(204,!1)}function cl(e,t,i){let r;if(OA(e)){const o=Ti(e);return me(o)||ov(o)}if(kh(e))r=()=>Ti(e.useValue);else if(function nv(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Rd(e.deps||[]));else if(function Nh(e){return!(!e||!e.useExisting)}(e))r=()=>Ar(Ti(e.useExisting));else{const o=Ti(e&&(e.useClass||e.provide));if(!function Sl(e){return!!e.deps}(e))return me(o)||ov(o);r=()=>new o(...Rd(e.deps))}return r}function qa(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function lp(e,t){for(const i of e)Array.isArray(i)?lp(i,t):i&&wl(i)?lp(i.\u0275providers,t):t(i)}function nc(e,t){e instanceof ap&&e.assertNotDestroyed();const r=Lo(e),o=$a(void 0);try{return t()}finally{Lo(r),$a(o)}}function G4(){return void 0!==Yf()||null!=function Zf(){return Bc}()}function rm(e){if(!G4())throw new ee(-203,!1)}const ha=0,Ii=1,sr=2,Vr=3,ja=4,Ca=5,fl=6,Lh=7,bs=8,Ka=9,gf=10,ur=11,Hd=12,cv=13,LA=14,hs=15,fp=16,RA=17,Qd=18,UA=19,am=20,Vd=21,lm=22,PA=23,ro=25,tr=1,mf=7,gu=9,ka=10;var zd=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(zd||{});function Na(e){return Array.isArray(e)&&"object"==typeof e[tr]}function La(e){return Array.isArray(e)&&!0===e[tr]}function um(e){return!!(4&e.flags)}function $d(e){return e.componentOffset>-1}function Lg(e){return!(1&~e.flags)}function Wl(e){return!!e.template}function Ap(e){return!!(512&e[sr])}class pv{constructor(t,i,r){this.previousValue=t,this.currentValue=i,this.firstChange=r}isFirstChange(){return this.firstChange}}function Y4(e,t,i,r){null!==t?t.applyValueToInputSignal(t,r):e[i]=r}function Il(){return vf}function vf(e){return e.type.prototype.ngOnChanges&&(e.setInput=mp),VA}function VA(){const e=hm(this),t=e?.current;if(t){const i=e.previous;if(i===li)e.previous=t;else for(let r in t)i[r]=t[r];e.current=null,this.ngOnChanges(t)}}function mp(e,t,i,r,o){const s=this.declaredInputs[r],a=hm(e)||function Z4(e,t){return e[gv]=t}(e,{previous:li,current:null}),l=a.current||(a.current={}),u=a.previous,c=u[s];l[s]=new pv(c&&c.currentValue,i,u===li),Y4(e,t,o,i)}Il.ngInherit=!0;const gv="__ngSimpleChanges__";function hm(e){return e[gv]||null}const pa=function(e,t,i){};let pm=!1;function _s(e){for(;Array.isArray(e);)e=e[ha];return e}function Vg(e,t){return _s(t[e])}function mu(e,t){return _s(t[e.index])}function Dc(e,t){return e.data[t]}function ed(e,t){return e[t]}function Xl(e,t){const i=t[e];return Na(i)?i:i[ha]}function rc(e){return!(128&~e[sr])}function Qs(e,t){return null==t?null:e[t]}function yf(e){e[RA]=0}function e5(e){1024&e[sr]||(e[sr]|=1024,rc(e)&&td(e))}function $g(e){return!!(9216&e[sr]||e[PA]?.dirty)}function zA(e){e[gf].changeDetectionScheduler?.notify(1),$g(e)?td(e):64&e[sr]&&(function N9(){return pm}()?(e[sr]|=1024,td(e)):e[gf].changeDetectionScheduler?.notify())}function td(e){e[gf].changeDetectionScheduler?.notify();let t=Gd(e);for(;null!==t&&!(8192&t[sr])&&(t[sr]|=8192,rc(t));)t=Gd(t)}function vp(e,t){if(!(256&~e[sr]))throw new ee(911,!1);null===e[Vd]&&(e[Vd]=[]),e[Vd].push(t)}function Gd(e){const t=e[Vr];return La(t)?t[Vr]:t}const Xr={lFrame:Vh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _v(){return Xr.bindingsEnabled}function Rh(){return null!==Xr.skipHydrationRootTNode}function Fn(){return Xr.lFrame.lView}function Io(){return Xr.lFrame.tView}function Tn(e){return Xr.lFrame.contextLView=e,e[bs]}function Dn(e){return Xr.lFrame.contextLView=null,e}function ls(){let e=jg();for(;null!==e&&64===e.type;)e=e.parent;return e}function jg(){return Xr.lFrame.currentTNode}function vu(e,t){const i=Xr.lFrame;i.currentTNode=e,i.isParent=t}function bv(){return Xr.lFrame.isParent}function Ph(){Xr.lFrame.isParent=!1}function yu(){const e=Xr.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function oc(){return Xr.lFrame.bindingIndex++}function sc(e){const t=Xr.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function V9(e,t){const i=Xr.lFrame;i.bindingIndex=i.bindingRootIndex=e,qd(t)}function qd(e){Xr.lFrame.currentDirectiveIndex=e}function Qh(){return Xr.lFrame.currentQueryIndex}function Kg(e){Xr.lFrame.currentQueryIndex=e}function xv(e){const t=e[Ii];return 2===t.type?t.declTNode:1===t.type?e[Ca]:null}function Sv(e,t,i){if(i&Or.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||i&Or.Host||(o=xv(s),null===o||(s=s[LA],10&o.type))););if(null===o)return!1;t=o,e=s}const r=Xr.lFrame=s5();return r.currentTNode=t,r.lView=e,!0}function Cs(e){const t=s5(),i=e[Ii];Xr.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function s5(){const e=Xr.lFrame,t=null===e?null:e.child;return null===t?Vh(e):t}function Vh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function jd(){const e=Xr.lFrame;return Xr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ac=jd;function zh(){const e=jd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Pl(){return Xr.lFrame.selectedIndex}function Kd(e){Xr.lFrame.selectedIndex=e}function Fs(){const e=Xr.lFrame;return Dc(e.tView,e.selectedIndex)}function lc(){Xr.lFrame.currentNamespace="svg"}let qo=!0;function uc(){return qo}function Yl(e){qo=e}function Tc(e,t){for(let i=t.directiveStart,r=t.directiveEnd;i<r;i++){const s=e.data[i].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:f}=s;a&&(e.contentHooks??=[]).push(-i,a),l&&((e.contentHooks??=[]).push(i,l),(e.contentCheckHooks??=[]).push(i,l)),u&&(e.viewHooks??=[]).push(-i,u),c&&((e.viewHooks??=[]).push(i,c),(e.viewCheckHooks??=[]).push(i,c)),null!=f&&(e.destroyHooks??=[]).push(i,f)}}function $A(e,t,i){mm(e,t,3,i)}function Wg(e,t,i,r){(3&e[sr])===i&&mm(e,t,i,r)}function ta(e,t){let i=e[sr];(3&i)===t&&(i&=16383,i+=1,e[sr]=i)}function mm(e,t,i,r){const s=r??-1,a=t.length-1;let l=0;for(let u=void 0!==r?65535&e[RA]:0;u<a;u++)if("number"==typeof t[u+1]){if(l=t[u],null!=r&&l>=r)break}else t[u]<0&&(e[RA]+=65536),(l<s||-1==s)&&(l5(e,i,t,u),e[RA]=(4294901760&e[RA])+u+2),u++}function wp(e,t){pa(4,e,t);const i=qt(null);try{t.call(e)}finally{qt(i),pa(5,e,t)}}function l5(e,t,i,r){const o=i[r]<0,s=i[r+1],l=e[o?-i[r]:i[r]];o?e[sr]>>14<e[RA]>>16&&(3&e[sr])===t&&(e[sr]+=16384,wp(l,s)):wp(l,s)}const rd=-1;class A{constructor(t,i,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=r}}function re(e){return e!==rd}function de(e){return 32767&e}function nt(e,t){let i=function ze(e){return e>>16}(e),r=t;for(;i>0;)r=r[LA],i--;return r}let Pt=!0;function Dt(e){const t=Pt;return Pt=e,t}const $n=255,Ai=5;let Ni=0;const Oi={};function Ki(e,t){const i=xr(e,t);if(-1!==i)return i;const r=t[Ii];r.firstCreatePass&&(e.injectorIndex=t.length,Dr(r.data,e),Dr(t,null),Dr(r.blueprint,null));const o=eo(e,t),s=e.injectorIndex;if(re(o)){const a=de(o),l=nt(o,t),u=l[Ii].data;for(let c=0;c<8;c++)t[s+c]=l[a+c]|u[a+c]}return t[s+8]=o,s}function Dr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function xr(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function eo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,r=null,o=t;for(;null!==o;){if(r=Yd(o),null===r)return rd;if(i++,o=o[LA],-1!==r.injectorIndex)return r.injectorIndex|i<<16}return rd}function ps(e,t,i){!function Ri(e,t,i){let r;"string"==typeof i?r=i.charCodeAt(0)||0:i.hasOwnProperty(ol)&&(r=i[ol]),null==r&&(r=i[ol]=Ni++);const o=r&$n;t.data[e+(o>>Ai)]|=1<<o}(e,t,i)}function na(e,t,i){if(i&Or.Optional||void 0!==e)return e;Rl()}function Ui(e,t,i,r){if(i&Or.Optional&&void 0===r&&(r=null),!(i&(Or.Self|Or.Host))){const o=e[Ka],s=$a(void 0);try{return o?o.get(t,r,i&Or.Optional):X1(t,r,i&Or.Optional)}finally{$a(s)}}return na(r,0,i)}function Xa(e,t,i,r=Or.Default,o){if(null!==e){if(2048&t[sr]&&!(r&Or.Self)){const a=function Xd(e,t,i,r,o){let s=e,a=t;for(;null!==s&&null!==a&&2048&a[sr]&&!(512&a[sr]);){const l=ia(s,a,i,r|Or.Self,Oi);if(l!==Oi)return l;let u=s.parent;if(!u){const c=a[am];if(c){const f=c.get(i,Oi,r);if(f!==Oi)return f}u=Yd(a),a=a[LA]}s=u}return o}(e,t,i,r,Oi);if(a!==Oi)return a}const s=ia(e,t,i,r,Oi);if(s!==Oi)return s}return Ui(t,i,r,o)}function ia(e,t,i,r,o){const s=function Ao(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ol)?e[ol]:void 0;return"number"==typeof t?t>=0?t&$n:od:t}(i);if("function"==typeof s){if(!Sv(t,e,r))return r&Or.Host?na(o,0,r):Ui(t,i,r,o);try{let a;if(a=s(r),null!=a||r&Or.Optional)return a;Rl()}finally{ac()}}else if("number"==typeof s){let a=null,l=xr(e,t),u=rd,c=r&Or.Host?t[hs][Ca]:null;for((-1===l||r&Or.SkipSelf)&&(u=-1===l?eo(e,t):t[l+8],u!==rd&&au(r,!1)?(a=t[Ii],l=de(u),t=nt(u,t)):l=-1);-1!==l;){const f=t[Ii];if(Os(s,l,f.data)){const d=Vs(l,t,i,a,r,c);if(d!==Oi)return d}u=t[l+8],u!==rd&&au(r,t[Ii].data[l+8]===c)&&Os(s,l,t)?(a=f,l=de(u),t=nt(u,t)):l=-1}}return o}function Vs(e,t,i,r,o,s){const a=t[Ii],l=a.data[e+8],f=Ya(l,a,i,null==r?$d(l)&&Pt:r!=a&&!!(3&l.type),o&Or.Host&&s===l);return null!==f?Hr(t,a,f,l):Oi}function Ya(e,t,i,r,o){const s=e.providerIndexes,a=t.data,l=1048575&s,u=e.directiveStart,f=s>>20,h=o?l+f:e.directiveEnd;for(let g=r?l:l+f;g<h;g++){const v=a[g];if(g<u&&i===v||g>=u&&v.type===i)return g}if(o){const g=a[u];if(g&&Wl(g)&&g.type===i)return u}return null}function Hr(e,t,i,r){let o=e[i];const s=t.data;if(function p(e){return e instanceof A}(o)){const a=o;a.resolving&&function Nu(e,t){throw t&&t.join(" > "),new ee(-200,e)}(function Er(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Qr(e)}(s[i]));const l=Dt(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?$a(a.injectImpl):null;Sv(e,r,Or.Default);try{o=e[i]=a.factory(void 0,s,e,r),t.firstCreatePass&&i>=r.directiveStart&&function id(e,t,i){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const a=vf(t);(i.preOrderHooks??=[]).push(e,a),(i.preOrderCheckHooks??=[]).push(e,a)}o&&(i.preOrderHooks??=[]).push(0-e,o),s&&((i.preOrderHooks??=[]).push(e,s),(i.preOrderCheckHooks??=[]).push(e,s))}(i,s[i],t)}finally{null!==c&&$a(c),Dt(l),a.resolving=!1,ac()}}return o}function Os(e,t,i){return!!(i[t+(e>>Ai)]&1<<e)}function au(e,t){return!(e&Or.Self||e&Or.Host&&t)}class Ro{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,r){return Xa(this._tNode,this._lView,t,du(r),i)}}function od(){return new Ro(ls(),Fn())}function oo(e){return yn(()=>{const t=e.prototype.constructor,i=t[rl]||bp(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[rl]||bp(o);if(s&&s!==i)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function bp(e){return gr(e)?()=>{const t=bp(Ti(e));return t&&t()}:me(e)}function Yd(e){const t=e[Ii],i=t.type;return 2===i?t.declTNode:1===i?e[Ca]:null}function sC(e,t=null,i=null,r){const o=f5(e,t,i,r);return o.resolveInjectorInitializers(),o}function f5(e,t=null,i=null,r,o=new Set){const s=[i||wi,tm(e)];return r=r||("object"==typeof e?void 0:nn(e)),new ap(s,t||im(),r||null,o)}let Dl=(()=>{class e{static{this.THROW_IF_NOT_FOUND=hf}static{this.NULL=new Go}static create(i,r){if(Array.isArray(i))return sC({name:""},r,i,"");{const o=i.name??"";return sC({name:o},i.parent,i.providers,o)}}static{this.\u0275prov=Mn({token:e,providedIn:"any",factory:()=>Ar(Ur)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function $9(e){return e.ngOriginalError}class qA{constructor(){this._console=console}handleError(t){const i=this._findOriginalError(t);this._console.error("ERROR",t),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&$9(t);for(;i&&$9(i);)i=$9(i);return i||null}}const G9=new ai("",{providedIn:"root",factory:()=>Kn(qA).handleError.bind(void 0)});let vm=(()=>{class e{static{this.__NG_ELEMENT_ID__=hF}static{this.__NG_ENV_ID__=i=>i}}return e})();class lC extends vm{constructor(t){super(),this._lView=t}onDestroy(t){return vp(this._lView,t),()=>function Gg(e,t){if(null===e[Vd])return;const i=e[Vd].indexOf(t);-1!==i&&e[Vd].splice(i,1)}(this._lView,t)}}function hF(){return new lC(Fn())}function cC(e,t){return vn(e,t)}const gF=(cC.required=function pF(e){return vn(gt,e)},cC);function mF(){return ym(ls(),Fn())}function ym(e,t){return new rs(mu(e,t))}let rs=(()=>{class e{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=mF}}return e})();function fC(e){return e instanceof rs?e.nativeElement:e}function q9(e){return t=>{setTimeout(e,void 0,t)}}const Xi=class vF extends Yn{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,G4()&&(this.destroyRef=Kn(vm,{optional:!0})??void 0)}emit(t){const i=qt(null);try{super.next(t)}finally{qt(i)}}subscribe(t,i,r){let o=t,s=i||(()=>null),a=r;if(t&&"object"==typeof t){const u=t;o=u.next?.bind(u),s=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(s=q9(s),o&&(o=q9(o)),a&&(a=q9(a)));const l=super.subscribe({next:o,error:s,complete:a});return t instanceof yt&&t.add(l),l}};function B(){return this._results[Symbol.iterator]()}class x{get changes(){return this._changes??=new Xi}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=x.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=B)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){this.dirty=!1;const r=function ct(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Te(e,t,i){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],s=t[r];if(i&&(o=i(o),s=i(s)),s!==o)return!1}return!0}(this._results,r,i))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Se(e){return!(128&~e.flags)}const He=new Map;let kt=0;const vr="__ngContext__";function fo(e,t){Na(t)?(e[vr]=t[UA],function rn(e){He.set(e[UA],e)}(t)):e[vr]=t}function fc(e){return Zd(e[Hd])}function Ep(e){return Zd(e[ja])}function Zd(e){for(;null!==e&&!La(e);)e=e[ja];return e}let yF;function wm(){if(void 0!==yF)return yF;if(typeof document<"u")return document;throw new ee(210,!1)}const dC=new ai("",{providedIn:"root",factory:()=>C7e}),C7e="ng",LW=new ai(""),dc=new ai("",{providedIn:"platform",factory:()=>"unknown"}),RW=new ai(""),UW=new ai("",{providedIn:"root",factory:()=>wm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let PW=()=>null;function BF(e,t,i=!1){return PW(e,t,i)}const $W=new ai("",{providedIn:"root",factory:()=>!1});let yC,_C;function h5(e){return function TF(){if(void 0===yC&&(yC=null,ue.trustedTypes))try{yC=ue.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return yC}()?.createHTML(e)||e}function FF(){if(void 0===_C&&(_C=null,ue.trustedTypes))try{_C=ue.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _C}function qW(e){return FF()?.createHTML(e)||e}function KW(e){return FF()?.createScriptURL(e)||e}class WW{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ke})`}}function bm(e){return e instanceof WW?e.changingThisBreaksApplicationSecurity:e}function Y9(e,t){const i=function V7e(e){return e instanceof WW&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${ke})`)}return i===t}class z7e{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const i=(new window.DOMParser).parseFromString(h5(t),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(t):(i.removeChild(i.firstChild),i)}catch{return null}}}class $7e{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const i=this.inertDocument.createElement("template");return i.innerHTML=h5(t),i}}const q7e=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function OF(e){return(e=String(e)).match(q7e)?e:"unsafe:"+e}function Xg(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function Z9(...e){const t={};for(const i of e)for(const r in i)i.hasOwnProperty(r)&&(t[r]=!0);return t}const YW=Xg("area,br,col,hr,img,wbr"),ZW=Xg("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),JW=Xg("rp,rt"),kF=Z9(YW,Z9(ZW,Xg("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Z9(JW,Xg("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Z9(JW,ZW)),NF=Xg("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),eX=Z9(NF,Xg("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xg("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),j7e=Xg("script,style,template");class K7e{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let i=t.firstChild,r=!0,o=[];for(;i;)if(i.nodeType===Node.ELEMENT_NODE?r=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,r&&i.firstChild)o.push(i),i=Y7e(i);else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let s=X7e(i);if(s){i=s;break}i=o.pop()}return this.buf.join("")}startElement(t){const i=tX(t).toLowerCase();if(!kF.hasOwnProperty(i))return this.sanitizedSomething=!0,!j7e.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const r=t.attributes;for(let o=0;o<r.length;o++){const s=r.item(o),a=s.name,l=a.toLowerCase();if(!eX.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let u=s.value;NF[l]&&(u=OF(u)),this.buf.push(" ",a,'="',iX(u),'"')}return this.buf.push(">"),!0}endElement(t){const i=tX(t).toLowerCase();kF.hasOwnProperty(i)&&!YW.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(t){this.buf.push(iX(t))}}function X7e(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw nX(t);return t}function Y7e(e){const t=e.firstChild;if(t&&function W7e(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw nX(t);return t}function tX(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function nX(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Z7e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,J7e=/([^\#-~ |!])/g;function iX(e){return e.replace(/&/g,"&amp;").replace(Z7e,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(J7e,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wC;function LF(e){return"content"in e&&function t_e(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var p5=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(p5||{});function RF(e){const t=J9();return t?qW(t.sanitize(p5.HTML,e)||""):Y9(e,"HTML")?qW(bm(e)):function e_e(e,t){let i=null;try{wC=wC||function XW(e){const t=new $7e(e);return function G7e(){try{return!!(new window.DOMParser).parseFromString(h5(""),"text/html")}catch{return!1}}()?new z7e(t):t}(e);let r=t?String(t):"";i=wC.getInertBodyElement(r);let o=5,s=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=s,s=i.innerHTML,i=wC.getInertBodyElement(r)}while(r!==s);return h5((new K7e).sanitizeChildren(LF(i)||i))}finally{if(i){const r=LF(i)||i;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(wm(),Qr(e))}function Cm(e){const t=J9();return t?t.sanitize(p5.URL,e)||"":Y9(e,"URL")?bm(e):OF(Qr(e))}function rX(e){const t=J9();if(t)return KW(t.sanitize(p5.RESOURCE_URL,e)||"");if(Y9(e,"ResourceURL"))return KW(bm(e));throw new ee(904,!1)}function J9(){const e=Fn();return e&&e[gf].sanitizer}const a_e=/^>|^->|<!--|-->|--!>|<!-$/g,l_e=/(<|>)/g,u_e="\u200b$1\u200b";function uX(e){return e.ownerDocument}function eA(e){return e instanceof Function?e():e}var Em=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Em||{});let QF;function VF(e,t){return QF(e,t)}function m5(e,t,i,r,o){if(null!=r){let s,a=!1;La(r)?s=r:Na(r)&&(a=!0,r=r[ha]);const l=_s(r);0===e&&null!==i?null==o?vX(t,i,l):Tv(t,i,l,o||null,!0):1===e&&null!==i?Tv(t,i,l,o||null,!0):2===e?function ny(e,t,i){const r=SC(e,t);r&&function B_e(e,t,i,r){e.removeChild(t,i,r)}(e,r,t,i)}(t,l,a):3===e&&t.destroyNode(l),null!=s&&function D_e(e,t,i,r,o){const s=i[mf];s!==_s(i)&&m5(t,e,r,s,o);for(let l=ka;l<i.length;l++){const u=i[l];MC(u[Ii],u,e,t,r,s)}}(t,e,s,i,o)}}function $F(e,t){return e.createComment(function sX(e){return e.replace(a_e,t=>t.replace(l_e,u_e))}(t))}function EC(e,t,i){return e.createElement(t,i)}function pX(e,t){t[gf].changeDetectionScheduler?.notify(1),MC(e,t,t[ur],2,null,null)}function gX(e,t){const i=e[gu],r=i.indexOf(t);i.splice(r,1)}function ey(e,t){if(e.length<=ka)return;const i=ka+t,r=e[i];if(r){const o=r[fp];null!==o&&o!==e&&gX(o,r),t>0&&(e[i-1][ja]=r[ja]);const s=Zt(e,ka+t);!function __e(e,t){pX(e,t),t[ha]=null,t[Ca]=null}(r[Ii],r);const a=s[Qd];null!==a&&a.detachView(s[Ii]),r[Vr]=null,r[ja]=null,r[sr]&=-129}return r}function xC(e,t){if(!(256&t[sr])){const i=t[ur];i.destroyNode&&MC(e,t,i,3,null,null),function b_e(e){let t=e[Hd];if(!t)return GF(e[Ii],e);for(;t;){let i=null;if(Na(t))i=t[Hd];else{const r=t[ka];r&&(i=r)}if(!i){for(;t&&!t[ja]&&t!==e;)Na(t)&&GF(t[Ii],t),t=t[Vr];null===t&&(t=e),Na(t)&&GF(t[Ii],t),i=t&&t[ja]}t=i}}(t)}}function GF(e,t){if(256&t[sr])return;const i=qt(null);try{t[sr]&=-129,t[sr]|=256,t[PA]&&ve(t[PA]),function S_e(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let r=0;r<i.length;r+=2){const o=t[i[r]];if(!(o instanceof A)){const s=i[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const l=o[s[a]],u=s[a+1];pa(4,l,u);try{u.call(l)}finally{pa(5,l,u)}}else{pa(4,o,s);try{s.call(o)}finally{pa(5,o,s)}}}}}(e,t),function x_e(e,t){const i=e.cleanup,r=t[Lh];if(null!==i)for(let s=0;s<i.length-1;s+=2)if("string"==typeof i[s]){const a=i[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else i[s].call(r[i[s+1]]);null!==r&&(t[Lh]=null);const o=t[Vd];if(null!==o){t[Vd]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,t),1===t[Ii].type&&t[ur].destroy();const r=t[fp];if(null!==r&&La(t[Vr])){r!==t[Vr]&&gX(r,t);const o=t[Qd];null!==o&&o.detachView(e)}!function cr(e){He.delete(e[UA])}(t)}finally{qt(i)}}function qF(e,t,i){return function mX(e,t,i){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return i[ha];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===_o.None||s===_o.Emulated)return null}return mu(r,i)}}(e,t.parent,i)}function Tv(e,t,i,r,o){e.insertBefore(t,i,r,o)}function vX(e,t,i){e.appendChild(t,i)}function yX(e,t,i,r,o){null!==r?Tv(e,t,i,r,o):vX(e,t,i)}function SC(e,t){return e.parentNode(t)}function _X(e,t,i){return bX(e,t,i)}let jF,bX=function wX(e,t,i){return 40&e.type?mu(e,i):null};function BC(e,t,i,r){const o=qF(e,r,t),s=t[ur],l=_X(r.parent||t[Ca],r,t);if(null!=o)if(Array.isArray(i))for(let u=0;u<i.length;u++)yX(s,o,i[u],l,!1);else yX(s,o,i,l,!1);void 0!==jF&&jF(s,r,t,i,o)}function ty(e,t){if(null!==t){const i=t.type;if(3&i)return mu(t,e);if(4&i)return KF(-1,e[t.index]);if(8&i){const r=t.child;if(null!==r)return ty(e,r);{const o=e[t.index];return La(o)?KF(-1,o):_s(o)}}if(32&i)return VF(t,e)()||_s(e[t.index]);{const r=EX(e,t);return null!==r?Array.isArray(r)?r[0]:ty(Gd(e[hs]),r):ty(e,t.next)}}return null}function EX(e,t){return null!==t?e[hs][Ca].projection[t.projection]:null}function KF(e,t){const i=ka+e+1;if(i<t.length){const r=t[i],o=r[Ii].firstChild;if(null!==o)return ty(r,o)}return t[mf]}function WF(e,t,i,r,o,s,a){for(;null!=i;){const l=r[i.index],u=i.type;if(a&&0===t&&(l&&fo(_s(l),r),i.flags|=2),32&~i.flags)if(8&u)WF(e,t,i.child,r,o,s,!1),m5(t,e,o,l,s);else if(32&u){const c=VF(i,r);let f;for(;f=c();)m5(t,e,o,f,s);m5(t,e,o,l,s)}else 16&u?SX(e,t,r,i,o,s):m5(t,e,o,l,s);i=a?i.projectionNext:i.next}}function MC(e,t,i,r,o,s){WF(i,r,e.firstChild,t,o,s,!1)}function SX(e,t,i,r,o,s){const a=i[hs],u=a[Ca].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)m5(t,e,o,u[c],s);else{let c=u;const f=a[Vr];Se(r)&&(c.flags|=128),WF(e,t,c,f,o,s,!0)}}function BX(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function MX(e,t,i){const{mergedAttrs:r,classes:o,styles:s}=i;null!==r&&Ps(e,t,r),null!==o&&BX(e,t,o),null!==s&&function F_e(e,t,i){e.setAttribute(t,"style",i)}(e,t,s)}const Do={};function Ke(e=1){IX(Io(),Fn(),Pl()+e,!1)}function IX(e,t,i,r){if(!r)if(3&~t[sr]){const s=e.preOrderHooks;null!==s&&Wg(t,s,0,i)}else{const s=e.preOrderCheckHooks;null!==s&&$A(t,s,i)}Kd(i)}function Wt(e,t=Or.Default){const i=Fn();return null===i?Ar(e,t):Xa(ls(),i,Ti(e),t)}function TX(e,t,i,r,o,s){const a=qt(null);try{let l=null;o&cn.SignalBased&&(l=t[r][gn]),null!==l&&void 0!==l.transformFn&&(s=l.transformFn(s)),o&cn.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,l,s,i,r):Y4(t,l,r,s)}finally{qt(a)}}function IC(e,t,i,r,o,s,a,l,u,c,f){const d=t.blueprint.slice();return d[ha]=o,d[sr]=204|r,(null!==c||e&&2048&e[sr])&&(d[sr]|=2048),yf(d),d[Vr]=d[LA]=e,d[bs]=i,d[gf]=a||e&&e[gf],d[ur]=l||e&&e[ur],d[Ka]=u||e&&e[Ka]||null,d[Ca]=s,d[UA]=function Qt(){return kt++}(),d[fl]=f,d[am]=c,d[hs]=2==t.type?e[hs]:d,d}function v5(e,t,i,r,o){let s=e.data[t];if(null===s)s=function XF(e,t,i,r,o){const s=jg(),a=bv(),u=e.data[t]=function H_e(e,t,i,r,o,s){let a=t?t.injectorIndex:-1,l=0;return Rh()&&(l|=128),{type:i,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,i,t,r,o);return null===e.firstChild&&(e.firstChild=u),null!==s&&(a?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(e,t,i,r,o),function Cv(){return Xr.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=i,s.value=r,s.attrs=o;const a=function nd(){const e=Xr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return vu(s,!0),s}function iy(e,t,i,r){if(0===i)return-1;const o=t.length;for(let s=0;s<i;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function FX(e,t,i,r,o){const s=Pl(),a=2&r;try{Kd(-1),a&&t.length>ro&&IX(e,t,ro,!1),pa(a?2:0,o),i(r,o)}finally{Kd(s),pa(a?3:1,o)}}function YF(e,t,i){if(um(t)){const r=qt(null);try{const s=t.directiveEnd;for(let a=t.directiveStart;a<s;a++){const l=e.data[a];l.contentQueries&&l.contentQueries(1,i[a],a)}}finally{qt(r)}}}function ZF(e,t,i){_v()&&(function j_e(e,t,i,r){const o=i.directiveStart,s=i.directiveEnd;$d(i)&&function ewe(e,t,i){const r=mu(t,e),o=OX(i);let a=16;i.signals?a=4096:i.onPush&&(a=64);const l=DC(e,IC(e,o,null,a,r,t,null,e[gf].rendererFactory.createRenderer(r,i),null,null,null));e[t.index]=l}(t,i,e.data[o+i.componentOffset]),e.firstCreatePass||Ki(i,t),fo(r,t);const a=i.initialInputs;for(let l=o;l<s;l++){const u=e.data[l],c=Hr(t,e,l,i);fo(c,t),null!==a&&twe(0,l-o,c,u,0,a),Wl(u)&&(Xl(i.index,t)[bs]=Hr(t,e,l,i))}}(e,t,i,mu(i,t)),!(64&~i.flags)&&UX(e,t,i))}function JF(e,t,i=mu){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],l=-1===a?i(t,e):e[a];e[o++]=l}}}function OX(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=eO(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function eO(e,t,i,r,o,s,a,l,u,c,f){const d=ro+r,h=d+o,g=function k_e(e,t){const i=[];for(let r=0;r<t;r++)i.push(r<e?null:Do);return i}(d,h),v="function"==typeof c?c():c;return g[Ii]={type:e,blueprint:g,template:i,queries:null,viewQuery:l,declTNode:t,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:v,incompleteFirstPass:!1,ssrId:f}}let kX=()=>null;function NX(e,t,i,r,o){for(let s in t){if(!t.hasOwnProperty(s))continue;const a=t[s];if(void 0===a)continue;r??={};let l,u=cn.None;Array.isArray(a)?(l=a[0],u=a[1]):l=a;let c=s;if(null!==o){if(!o.hasOwnProperty(s))continue;c=o[s]}0===e?LX(r,i,c,l,u):LX(r,i,c,l)}return r}function LX(e,t,i,r,o){let s;e.hasOwnProperty(i)?(s=e[i]).push(t,r):s=e[i]=[t,r],void 0!==o&&s.push(o)}function sd(e,t,i,r,o,s,a,l){const u=mu(t,i);let f,c=t.inputs;!l&&null!=c&&(f=c[r])?(oO(e,i,f,r,o),$d(t)&&function z_e(e,t){const i=Xl(t,e);16&i[sr]||(i[sr]|=64)}(i,t.index)):3&t.type&&(r=function V_e(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=a?a(o,t.value||"",r):o,s.setProperty(u,r,o))}function tO(e,t,i,r){if(_v()){const o=null===r?null:{"":-1},s=function W_e(e,t){const i=e.directiveRegistry;let r=null,o=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];if(Hs(t,a.selectors,!1))if(r||(r=[]),Wl(a))if(null!==a.findHostDirectiveDefs){const l=[];o=o||new Map,a.findHostDirectiveDefs(a,l,o),r.unshift(...l,a),nO(e,t,l.length)}else r.unshift(a),nO(e,t,0);else o=o||new Map,a.findHostDirectiveDefs?.(a,r,o),r.push(a)}return null===r?null:[r,o]}(e,i);let a,l;null===s?a=l=null:[a,l]=s,null!==a&&RX(e,t,i,a,o,l),o&&function X_e(e,t,i){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=i[t[o+1]];if(null==s)throw new ee(-301,!1);r.push(t[o],s)}}}(i,r,o)}i.mergedAttrs=Ta(i.mergedAttrs,i.attrs)}function RX(e,t,i,r,o,s){for(let c=0;c<r.length;c++)ps(Ki(i,t),e,r[c].type);!function Z_e(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,r.length);for(let c=0;c<r.length;c++){const f=r[c];f.providersResolver&&f.providersResolver(f)}let a=!1,l=!1,u=iy(e,t,r.length,null);for(let c=0;c<r.length;c++){const f=r[c];i.mergedAttrs=Ta(i.mergedAttrs,f.hostAttrs),J_e(e,i,t,u,f),Y_e(u,f,o),null!==f.contentQueries&&(i.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(i.flags|=64);const d=f.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),a=!0),!l&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),l=!0),u++}!function Q_e(e,t,i){const o=t.directiveEnd,s=e.data,a=t.attrs,l=[];let u=null,c=null;for(let f=t.directiveStart;f<o;f++){const d=s[f],h=i?i.get(d):null,v=h?h.outputs:null;u=NX(0,d.inputs,f,u,h?h.inputs:null),c=NX(1,d.outputs,f,c,v);const y=null===u||null===a||El(t)?null:nwe(u,f,a);l.push(y)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=u,t.outputs=c}(e,i,s)}function UX(e,t,i){const r=i.directiveStart,o=i.directiveEnd,s=i.index,a=function o5(){return Xr.lFrame.currentDirectiveIndex}();try{Kd(s);for(let l=r;l<o;l++){const u=e.data[l],c=t[l];qd(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&K_e(u,c)}}finally{Kd(-1),qd(a)}}function K_e(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function nO(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function Y_e(e,t,i){if(i){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)i[t.exportAs[r]]=e;Wl(t)&&(i[""]=e)}}function J_e(e,t,i,r,o){e.data[r]=o;const s=o.factory||(o.factory=me(o.type)),a=new A(s,Wl(o),Wt);e.blueprint[r]=a,i[r]=a,function G_e(e,t,i,r,o){const s=o.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~t.index;(function q_e(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}(e,t,r,iy(e,i,o.hostVars,Do),o)}function Mp(e,t,i,r,o,s){const a=mu(e,t);!function iO(e,t,i,r,o,s,a){if(null==s)e.removeAttribute(t,o,i);else{const l=null==a?Qr(s):a(s,r||"",o);e.setAttribute(t,o,l,i)}}(t[ur],a,s,e.value,i,r,o)}function twe(e,t,i,r,o,s){const a=s[t];if(null!==a)for(let l=0;l<a.length;)TX(r,i,a[l++],a[l++],a[l++],a[l++])}function nwe(e,t,i){let r=null,o=0;for(;o<i.length;){const s=i[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const a=e[s];for(let l=0;l<a.length;l+=3)if(a[l]===t){r.push(s,a[l+1],a[l+2],i[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function PX(e,t,i,r){return[e,!0,0,t,null,r,null,i,null,null]}function HX(e,t){const i=e.contentQueries;if(null!==i){const r=qt(null);try{for(let o=0;o<i.length;o+=2){const a=i[o+1];if(-1!==a){const l=e.data[a];Kg(i[o]),l.contentQueries(2,t[a],a)}}}finally{qt(r)}}}function DC(e,t){return e[Hd]?e[cv][ja]=t:e[Hd]=t,e[cv]=t,t}function rO(e,t,i){Kg(0);const r=qt(null);try{t(e,i)}finally{qt(r)}}function QX(e){return e[Lh]||(e[Lh]=[])}function VX(e){return e.cleanup||(e.cleanup=[])}function TC(e,t){const i=e[Ka],r=i?i.get(qA,null):null;r&&r.handleError(t)}function oO(e,t,i,r,o){for(let s=0;s<i.length;){const a=i[s++],l=i[s++],u=i[s++];TX(e.data[a],t[a],r,l,u,o)}}function Yg(e,t,i){const r=Vg(t,e);!function hX(e,t,i){e.setValue(t,i)}(e[ur],r,i)}function iwe(e,t){const i=Xl(t,e),r=i[Ii];!function rwe(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(r,i);const o=i[ha];null!==o&&null===i[fl]&&(i[fl]=BF(o,i[Ka])),sO(r,i,i[bs])}function sO(e,t,i){Cs(t);try{const r=e.viewQuery;null!==r&&rO(1,r,i);const o=e.template;null!==o&&FX(e,t,o,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),t[Qd]?.finishViewCreation(e),e.staticContentQueries&&HX(e,t),e.staticViewQueries&&rO(2,e.viewQuery,i);const s=e.components;null!==s&&function owe(e,t){for(let i=0;i<t.length;i++)iwe(e,t[i])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[sr]&=-5,zh()}}function y5(e,t){return!t||null===t.firstChild||Se(e)}function oy(e,t,i,r=!0){const o=t[Ii];if(function C_e(e,t,i,r){const o=ka+r,s=i.length;r>0&&(i[o-1][ja]=t),r<s-ka?(t[ja]=i[o],Ut(i,ka+r,t)):(i.push(t),t[ja]=null),t[Vr]=i;const a=t[fp];null!==a&&i!==a&&function E_e(e,t){const i=e[gu];t[hs]!==t[Vr][Vr][hs]&&(e[sr]|=zd.HasTransplantedViews),null===i?e[gu]=[t]:i.push(t)}(a,t);const l=t[Qd];null!==l&&l.insertView(e),zA(t),t[sr]|=128}(o,t,e,i),r){const a=KF(i,e),l=t[ur],u=SC(l,e[mf]);null!==u&&function w_e(e,t,i,r,o,s){r[ha]=o,r[Ca]=t,MC(e,r,i,1,o,s)}(o,e[Ca],l,t,u,a)}const s=t[fl];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function sy(e,t,i,r,o=!1){for(;null!==i;){const s=t[i.index];null!==s&&r.push(_s(s)),La(s)&&GX(s,r);const a=i.type;if(8&a)sy(e,t,i.child,r);else if(32&a){const l=VF(i,t);let u;for(;u=l();)r.push(u)}else if(16&a){const l=EX(t,i);if(Array.isArray(l))r.push(...l);else{const u=Gd(t[hs]);sy(u[Ii],u,l,r,!0)}}i=o?i.projectionNext:i.next}return r}function GX(e,t){for(let i=ka;i<e.length;i++){const r=e[i],o=r[Ii].firstChild;null!==o&&sy(r[Ii],r,o,t)}e[mf]!==e[ha]&&t.push(e[mf])}let qX=[];const uwe={...L,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{td(e.lView)},consumerOnSignalRead(){this.lView[PA]=this}},jX=100;function FC(e,t=!0,i=0){const r=e[gf],o=r.rendererFactory;o.begin?.();try{!function cwe(e,t){lO(e,t);let i=0;for(;$g(e);){if(i===jX)throw new ee(103,!1);i++,lO(e,1)}}(e,i)}catch(a){throw t&&TC(e,a),a}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function fwe(e,t,i,r){const o=t[sr];if(!(256&~o))return;t[gf].inlineEffectRunner?.flush(),Cs(t);let a=null,l=null;(function dwe(e){return 2!==e.type})(e)&&(l=function swe(e){return e[PA]??function awe(e){const t=qX.pop()??Object.create(uwe);return t.lView=e,t}(e)}(t),a=Re(l));try{yf(t),function Hh(e){return Xr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&FX(e,t,i,2,r);const u=!(3&~o);if(u){const d=e.preOrderCheckHooks;null!==d&&$A(t,d,null)}else{const d=e.preOrderHooks;null!==d&&Wg(t,d,0,null),ta(t,0)}if(function Awe(e){for(let t=fc(e);null!==t;t=Ep(t)){if(!(t[sr]&zd.HasTransplantedViews))continue;const i=t[gu];for(let r=0;r<i.length;r++){e5(i[r])}}}(t),KX(t,0),null!==e.contentQueries&&HX(e,t),u){const d=e.contentCheckHooks;null!==d&&$A(t,d)}else{const d=e.contentHooks;null!==d&&Wg(t,d,1),ta(t,1)}!function O_e(e,t){const i=e.hostBindingOpCodes;if(null!==i)try{for(let r=0;r<i.length;r++){const o=i[r];if(o<0)Kd(~o);else{const s=o,a=i[++r],l=i[++r];V9(a,s),l(2,t[s])}}}finally{Kd(-1)}}(e,t);const c=e.components;null!==c&&XX(t,c,0);const f=e.viewQuery;if(null!==f&&rO(2,f,r),u){const d=e.viewCheckHooks;null!==d&&$A(t,d)}else{const d=e.viewHooks;null!==d&&Wg(t,d,2),ta(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[lm]){for(const d of t[lm])d();t[lm]=null}t[sr]&=-73}catch(u){throw td(t),u}finally{null!==l&&($e(l,a),function lwe(e){e.lView[PA]!==e&&(e.lView=null,qX.push(e))}(l)),zh()}}function KX(e,t){for(let i=fc(e);null!==i;i=Ep(i))for(let r=ka;r<i.length;r++)WX(i[r],t)}function hwe(e,t,i){WX(Xl(t,e),i)}function WX(e,t){rc(e)&&lO(e,t)}function lO(e,t){const r=e[Ii],o=e[sr],s=e[PA];let a=!!(0===t&&16&o);if(a||=!!(64&o&&0===t),a||=!!(1024&o),a||=!(!s?.dirty||!et(s)),s&&(s.dirty=!1),e[sr]&=-9217,a)fwe(r,e,r.template,e[bs]);else if(8192&o){KX(e,1);const l=r.components;null!==l&&XX(e,l,1)}}function XX(e,t,i){for(let r=0;r<t.length;r++)hwe(e,t[r],i)}function ay(e){for(e[gf].changeDetectionScheduler?.notify();e;){e[sr]|=64;const t=Gd(e);if(Ap(e)&&!t)return e;e=t}return null}class ly{get rootNodes(){const t=this._lView,i=t[Ii];return sy(i,t,i.firstChild,[])}constructor(t,i,r=!0){this._lView=t,this._cdRefInjectingView=i,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bs]}set context(t){this._lView[bs]=t}get destroyed(){return!(256&~this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Vr];if(La(t)){const i=t[8],r=i?i.indexOf(this):-1;r>-1&&(ey(t,r),Zt(i,r))}this._attachedToViewContainer=!1}xC(this._lView[Ii],this._lView)}onDestroy(t){vp(this._lView,t)}markForCheck(){ay(this._cdRefInjectingView||this._lView)}detach(){this._lView[sr]&=-129}reattach(){zA(this._lView),this._lView[sr]|=128}detectChanges(){this._lView[sr]|=1024,FC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,pX(this._lView[Ii],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=t,zA(this._lView)}}let Kh=(()=>{class e{static{this.__NG_ELEMENT_ID__=mwe}}return e})();const pwe=Kh,gwe=class extends pwe{constructor(t,i,r){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){const o=function ry(e,t,i,r){const o=qt(null);try{const s=t.tView,u=IC(e,s,i,4096&e[sr]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[fp]=e[t.index];const f=e[Qd];return null!==f&&(u[Qd]=f.createEmbeddedView(s)),sO(s,u,i),u}finally{qt(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new ly(o)}};function mwe(){return OC(ls(),Fn())}function OC(e,t){return 4&e.type?new gwe(t,e,ym(e,t)):null}class UC{}class Qwe{}class iY{}class zwe{resolveComponentFactory(t){throw function Vwe(e){const t=Error(`No component factory found for ${nn(e)}.`);return t.ngComponent=e,t}(t)}}let PC=(()=>{class e{static{this.NULL=new zwe}}return e})();class hO{}let Ru=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function $we(){const e=Fn(),i=Xl(ls().index,e);return(Na(i)?i:e)[ur]}()}}return e})(),Gwe=(()=>{class e{static{this.\u0275prov=Mn({token:e,providedIn:"root",factory:()=>null})}}return e})();const pO={},oY=new Set;function Ip(e){oY.has(e)||(oY.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function sY(...e){}class Zo{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xi(!1),this.onMicrotaskEmpty=new Xi(!1),this.onStable=new Xi(!1),this.onError=new Xi(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function qwe(){const e="function"==typeof ue.requestAnimationFrame;let t=ue[e?"requestAnimationFrame":"setTimeout"],i=ue[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&i){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Wwe(e){const t=()=>{!function Kwe(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ue,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,mO(e),e.isCheckStableRunning=!0,gO(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),mO(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(function Xwe(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(l))return i.invokeTask(o,s,a,l);try{return aY(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),lY(e)}},onInvoke:(i,r,o,s,a,l,u)=>{try{return aY(e),i.invoke(o,s,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),lY(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,mO(e),gO(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zo.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(Zo.isInAngularZone())throw new ee(909,!1)}run(t,i,r){return this._inner.run(t,i,r)}runTask(t,i,r,o){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+o,t,jwe,sY,sY);try{return s.runTask(a,i,r)}finally{s.cancelTask(a)}}runGuarded(t,i,r){return this._inner.runGuarded(t,i,r)}runOutsideAngular(t){return this._outer.run(t)}}const jwe={};function gO(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mO(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function aY(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function lY(e){e._nesting--,gO(e)}class uY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xi,this.onMicrotaskEmpty=new Xi,this.onStable=new Xi,this.onError=new Xi}run(t,i,r){return t.apply(i,r)}runGuarded(t,i,r){return t.apply(i,r)}runOutsideAngular(t){return t()}runTask(t,i,r,o){return t.apply(i,r)}}var Fv=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Fv||{});const cY={destroy(){}};function yO(e,t){!t&&rm();const i=t?.injector??Kn(Dl);if(!function jh(e){return"browser"===(e??Kn(Dl)).get(dc)}(i))return cY;Ip("NgAfterNextRender");const r=i.get(Ay),o=r.handler??=new dY,s=t?.phase??Fv.MixedReadWrite,a=()=>{o.unregister(u),l()},l=i.get(vm).onDestroy(a),u=nc(i,()=>new fY(s,()=>{a(),e()}));return o.register(u),{destroy:a}}class fY{constructor(t,i){this.phase=t,this.callbackFn=i,this.zone=Kn(Zo),this.errorHandler=Kn(qA,{optional:!0}),Kn(UC,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class dY{constructor(){this.executingCallbacks=!1,this.buckets={[Fv.EarlyRead]:new Set,[Fv.Write]:new Set,[Fv.MixedReadWrite]:new Set,[Fv.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const i of t)i.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Ay=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Mn({token:e,providedIn:"root",factory:()=>new e})}}return e})();function QC(e,t,i){let r=i?e.styles:null,o=i?e.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?s=l:1==s?o=be(o,l):2==s&&(r=be(r,l+": "+t[++a]+";"))}i?e.styles=r:e.stylesWithoutHost=r,i?e.classes=o:e.classesWithoutHost=o}class pY extends PC{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=wo(t);return new gy(i,this.ngModule)}}function gY(e){const t=[];for(const i in e){if(!e.hasOwnProperty(i))continue;const r=e[i];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:i})}return t}class VC{constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,r){r=du(r);const o=this.injector.get(t,pO,r);return o!==pO||i===pO?o:this.parentInjector.get(t,i,r)}}class gy extends iY{get inputs(){const t=this.componentDef,i=t.inputTransforms,r=gY(t.inputs);if(null!==i)for(const o of r)i.hasOwnProperty(o.propName)&&(o.transform=i[o.propName]);return r}get outputs(){return gY(this.componentDef.outputs)}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function IA(e){return e.map(Ga).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}create(t,i,r,o){const s=qt(null);try{let a=(o=o||this.ngModule)instanceof su?o:o?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const l=a?new VC(t,a):t,u=l.get(hO,null);if(null===u)throw new ee(407,!1);const c=l.get(Gwe,null),h={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l.get(Ay,null),changeDetectionScheduler:l.get(UC,null)},g=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",y=r?function N_e(e,t,i,r){const s=r.get($W,!1)||i===_o.ShadowDom,a=e.selectRootElement(t,s);return function L_e(e){kX(e)}(a),a}(g,r,this.componentDef.encapsulation,l):EC(g,v,function tbe(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v));let b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let E=null;null!==y&&(E=BF(y,l,!0));const M=eO(0,null,null,1,0,null,null,null,null,null,null),k=IC(null,M,null,b,null,null,h,g,l,null,E);let P,H;Cs(k);try{const X=this.componentDef;let z,se=null;X.findHostDirectiveDefs?(z=[],se=new Map,X.findHostDirectiveDefs(X,z,se),z.push(X)):z=[X];const ye=function ibe(e,t){const i=e[Ii],r=ro;return e[r]=t,v5(i,r,2,"#host",null)}(k,y),Ie=function rbe(e,t,i,r,o,s,a){const l=o[Ii];!function obe(e,t,i,r){for(const o of e)t.mergedAttrs=Ta(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(QC(t,t.mergedAttrs,!0),null!==i&&MX(r,i,t))}(r,e,t,a);let u=null;null!==t&&(u=BF(t,o[Ka]));const c=s.rendererFactory.createRenderer(t,i);let f=16;i.signals?f=4096:i.onPush&&(f=64);const d=IC(o,OX(i),null,f,o[e.index],e,s,c,null,null,u);return l.firstCreatePass&&nO(l,e,r.length-1),DC(o,d),o[e.index]=d}(ye,y,X,z,k,h,g);H=Dc(M,ro),y&&function abe(e,t,i,r){if(r)Ps(e,i,["ng-version","17.3.12"]);else{const{attrs:o,classes:s}=function Ic(e){const t=[],i=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&i.push(s);else{if(!xo(o))break;o=s}r++}return{attrs:t,classes:i}}(t.selectors[0]);o&&Ps(e,i,o),s&&s.length>0&&BX(e,i,s.join(" "))}}(g,X,y,r),void 0!==i&&function lbe(e,t,i){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=i[o];r.push(null!=s?Array.from(s):null)}}(H,this.ngContentSelectors,i),P=function sbe(e,t,i,r,o,s){const a=ls(),l=o[Ii],u=mu(a,o);RX(l,o,a,i,null,r);for(let f=0;f<i.length;f++)fo(Hr(o,l,a.directiveStart+f,a),o);UX(l,o,a),u&&fo(u,o);const c=Hr(o,l,a.directiveStart+a.componentOffset,a);if(e[bs]=o[bs]=c,null!==s)for(const f of s)f(c,t);return YF(l,a,o),c}(Ie,X,z,se,k,[ube]),sO(M,k,null)}finally{zh()}return new nbe(this.componentType,P,ym(H,k),k,H)}finally{qt(s)}}}class nbe extends Qwe{constructor(t,i,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new ly(o,void 0,!1),this.componentType=t}setInput(t,i){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;const s=this._rootLView;oO(s[Ii],s,o,t,i),this.previousInputValues.set(t,i),ay(Xl(this._tNode.index,s))}}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function ube(){const e=ls();Tc(Fn()[Ii],e)}let tA=(()=>{class e{static{this.__NG_ELEMENT_ID__=cbe}}return e})();function cbe(){return yY(ls(),Fn())}const fbe=tA,mY=class extends fbe{constructor(t,i,r){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=r}get element(){return ym(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const t=eo(this._hostTNode,this._hostLView);if(re(t)){const i=nt(t,this._hostLView),r=de(t);return new Ro(i[Ii].data[r+8],i)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=vY(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-ka}createEmbeddedView(t,i,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const l=t.createEmbeddedViewImpl(i||{},s,null);return this.insertImpl(l,o,y5(this._hostTNode,null)),l}createComponent(t,i,r,o,s){const a=t&&!function up(e){return"function"==typeof e}(t);let l;if(a)l=i;else{const v=i||{};l=v.index,r=v.injector,o=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}const u=a?t:new gy(wo(t)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(a?c:this.parentInjector).get(su,null);y&&(s=y)}wo(u.componentType??{});const g=u.create(c,o,null,s);return this.insertImpl(g.hostView,l,y5(this._hostTNode,null)),g}insert(t,i){return this.insertImpl(t,i,!0)}insertImpl(t,i,r){const o=t._lView;if(function J4(e){return La(e[Vr])}(o)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const u=o[Vr],c=new mY(u,u[Ca],u[Vr]);c.detach(c.indexOf(t))}}const s=this._adjustIndex(i),a=this._lContainer;return oy(a,o,s,r),t.attachToViewContainerRef(),Ut(bO(a),s,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=vY(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),r=ey(this._lContainer,i);r&&(Zt(bO(this._lContainer),i),xC(r[Ii],r))}detach(t){const i=this._adjustIndex(t,-1),r=ey(this._lContainer,i);return r&&null!=Zt(bO(this._lContainer),i)?new ly(r):null}_adjustIndex(t,i=0){return t??this.length+i}};function vY(e){return e[8]}function bO(e){return e[8]||(e[8]=[])}function yY(e,t){let i;const r=t[e.index];return La(r)?i=r:(i=PX(r,t,null,e),t[e.index]=i,DC(t,i)),_Y(i,t,e,r),new mY(i,e,t)}let _Y=function bY(e,t,i,r){if(e[mf])return;let o;o=8&i.type?_s(r):function dbe(e,t){const i=e[ur],r=i.createComment(""),o=mu(t,e);return Tv(i,SC(i,o),r,function M_e(e,t){return e.nextSibling(t)}(i,o),!1),r}(t,i),e[mf]=o},CO=()=>!1;class EO{constructor(t){this.queryList=t,this.matches=null}clone(){return new EO(this.queryList)}setDirty(){this.queryList.setDirty()}}class xO{constructor(t=[]){this.queries=t}createEmbeddedView(t){const i=t.queries;if(null!==i){const r=null!==t.contentQueries?t.contentQueries[0]:i.length,o=[];for(let s=0;s<r;s++){const a=i.getByIndex(s);o.push(this.queries[a.indexInDeclarationView].clone())}return new xO(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)null!==DO(t,i).matches&&this.queries[i].setDirty()}}class CY{constructor(t,i,r=null){this.flags=i,this.read=r,this.predicate="string"==typeof t?function _be(e){return e.split(",").map(t=>t.trim())}(t):t}}class SO{constructor(t=[]){this.queries=t}elementStart(t,i){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let r=0;r<this.length;r++){const o=null!==i?i.length:0,s=this.getByIndex(r).embeddedTView(t,o);s&&(s.indexInDeclarationView=r,null!==i?i.push(s):i=[s])}return null!==i?new SO(i):null}template(t,i){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class BO{constructor(t,i=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new BO(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==i;)r=r.parent;return i===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,i){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const s=r[o];this.matchTNodeWithReadOption(t,i,gbe(i,s)),this.matchTNodeWithReadOption(t,i,Ya(i,t,s,!1,!1))}else r===Kh?4&i.type&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,Ya(i,t,r,!1,!1))}matchTNodeWithReadOption(t,i,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===rs||o===tA||o===Kh&&4&i.type)this.addMatch(i.index,-2);else{const s=Ya(i,t,o,!1,!1);null!==s&&this.addMatch(i.index,s)}else this.addMatch(i.index,r)}}addMatch(t,i){null===this.matches?this.matches=[t,i]:this.matches.push(t,i)}}function gbe(e,t){const i=e.localNames;if(null!==i)for(let r=0;r<i.length;r+=2)if(i[r]===t)return i[r+1];return null}function vbe(e,t,i,r){return-1===i?function mbe(e,t){return 11&e.type?ym(e,t):4&e.type?OC(e,t):null}(t,e):-2===i?function ybe(e,t,i){return i===rs?ym(t,e):i===Kh?OC(t,e):i===tA?yY(t,e):void 0}(e,t,r):Hr(e,e[Ii],i,t)}function EY(e,t,i,r){const o=t[Qd].queries[r];if(null===o.matches){const s=e.data,a=i.matches,l=[];for(let u=0;null!==a&&u<a.length;u+=2){const c=a[u];l.push(c<0?null:vbe(t,s[c],a[u+1],i.metadata.read))}o.matches=l}return o.matches}function MO(e,t,i,r){const o=e.queries.getByIndex(i),s=o.matches;if(null!==s){const a=EY(e,t,o,i);for(let l=0;l<s.length;l+=2){const u=s[l];if(u>0)r.push(a[l/2]);else{const c=s[l+1],f=t[-u];for(let d=ka;d<f.length;d++){const h=f[d];h[fp]===h[Vr]&&MO(h[Ii],h,c,r)}if(null!==f[gu]){const d=f[gu];for(let h=0;h<d.length;h++){const g=d[h];MO(g[Ii],g,c,r)}}}}}return r}function xY(e,t,i){const r=new x(!(4&~i));return function P_e(e,t,i,r){const o=QX(t);o.push(i),e.firstCreatePass&&VX(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[Qd]??=new xO).queries.push(new EO(r))-1}function MY(e,t,i){null===e.queries&&(e.queries=new SO),e.queries.track(new BO(t,i))}function DO(e,t){return e.queries.getByIndex(t)}function IY(e,t){const i=e[Ii],r=DO(i,t);return r.crossesNgTemplate?MO(i,e,t,[]):EY(i,e,r,t)}function Nc(e,t){Ip("NgSignals");const i=function Ve(e){const t=Object.create(en);t.value=e;const i=()=>(U(t),t.value);return i[gn]=t,i}(e),r=i[gn];return t?.equal&&(r.equal=t.equal),i.set=o=>ot(r,o),i.update=o=>function Gt(e,t){le()||ri(),ot(e,t(e.value))}(r,o),i.asReadonly=TY.bind(i),i}function TY(){const e=this[gn];if(void 0===e.readonlyFn){const t=()=>this();t[gn]=e,e.readonlyFn=t}return e.readonlyFn}function FY(e){return function DY(e){return"function"==typeof e&&void 0!==e[gn]}(e)&&"function"==typeof e.set}function Wo(e){let t=function zY(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const r=[e];for(;t;){let o;if(Wl(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ee(903,!1);o=t.\u0275dir}if(o){if(i){r.push(o);const a=e;a.inputs=$C(e.inputs),a.inputTransforms=$C(e.inputTransforms),a.declaredInputs=$C(e.declaredInputs),a.outputs=$C(e.outputs);const l=o.hostBindings;l&&Nbe(e,l);const u=o.viewQuery,c=o.contentQueries;if(u&&Obe(e,u),c&&kbe(e,c),Tbe(e,o),zi(e.outputs,o.outputs),Wl(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let a=0;a<s.length;a++){const l=s[a];l&&l.ngInherit&&l(e),l===Wo&&(i=!1)}}t=Object.getPrototypeOf(t)}!function Fbe(e){let t=0,i=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Ta(o.hostAttrs,i=Ta(i,o.hostAttrs))}}(r)}function Tbe(e,t){for(const i in t.inputs){if(!t.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const r=t.inputs[i];if(void 0!==r&&(e.inputs[i]=r,e.declaredInputs[i]=t.declaredInputs[i],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function $C(e){return e===li?{}:e===wi?[]:e}function Obe(e,t){const i=e.viewQuery;e.viewQuery=i?(r,o)=>{t(r,o),i(r,o)}:t}function kbe(e,t){const i=e.contentQueries;e.contentQueries=i?(r,o,s)=>{t(r,o,s),i(r,o,s)}:t}function Nbe(e,t){const i=e.hostBindings;e.hostBindings=i?(r,o)=>{t(r,o),i(r,o)}:t}function Lc(e){const t=e.inputConfig,i={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[3]&&(i[r]=o[3])}e.inputTransforms=i}class Ov{}class jY{}class FO extends Ov{constructor(t,i,r){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pY(this);const o=xl(t);this._bootstrapComponents=eA(o.bootstrap),this._r3Injector=f5(t,i,[{provide:Ov,useValue:this},{provide:PC,useValue:this.componentFactoryResolver},...r],nn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class OO extends jY{constructor(t){super(),this.moduleType=t}create(t){return new FO(this.moduleType,t,[])}}class KY extends Ov{constructor(t){super(),this.componentFactoryResolver=new pY(this),this.instance=null;const i=new ap([...t.providers,{provide:Ov,useValue:this},{provide:PC,useValue:this.componentFactoryResolver}],t.parent||im(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function GC(e,t,i=null){return new KY({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}let Bm=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function jC(e){return!!kO(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function kO(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Dp(e,t,i){return e[t]=i}function Jl(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function kv(e,t,i,r){const o=Jl(e,t,i);return Jl(e,t+1,r)||o}function KC(e,t,i,r,o){const s=kv(e,t,i,r);return Jl(e,t+2,o)||s}function pn(e,t,i,r,o,s,a,l){const u=Fn(),c=Io(),f=e+ro,d=c.firstCreatePass?function Kbe(e,t,i,r,o,s,a,l,u){const c=t.consts,f=v5(t,e,4,a||null,Qs(c,l));tO(t,i,f,Qs(c,u)),Tc(t,f);const d=f.tView=eO(2,f,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),d.queries=t.queries.embeddedTView(f)),f}(f,c,u,t,i,r,o,s,a):c.data[f];vu(d,!1);const h=WY(c,u,d,e);uc()&&BC(c,u,h,d),fo(h,u);const g=PX(h,u,h,d);return u[f]=g,DC(u,g),function wY(e,t,i){return CO(e,t,i)}(g,d,u),Lg(d)&&ZF(c,u,d),null!=a&&JF(u,d,l),pn}let WY=function XY(e,t,i,r){return Yl(!0),t[ur].createComment("")};function ci(e,t,i,r){const o=Fn();return Jl(o,oc(),t)&&(Io(),Mp(Fs(),o,e,t,i,r)),ci}function I5(e,t,i,r){return Jl(e,oc(),i)?t+Qr(i)+r:Do}function T5(e,t,i,r,o,s,a,l){const c=KC(e,function _f(){return Xr.lFrame.bindingIndex}(),i,o,a);return sc(3),c?t+Qr(i)+r+Qr(o)+s+Qr(a)+l:Do}function eE(e,t){return e<<17|t<<2}function Im(e){return e>>17&32767}function $O(e){return 2|e}function Lv(e){return(131068&e)>>2}function GO(e,t){return-131069&e|t<<2}function qO(e){return 1|e}function BZ(e,t,i,r){const o=e[i+1],s=null===t;let a=r?Im(o):Lv(o),l=!1;for(;0!==a&&(!1===l||s);){const c=e[a+1];kCe(e[a],t)&&(l=!0,e[a+1]=r?qO(c):$O(c)),a=r?Im(c):Lv(c)}l&&(e[i+1]=r?$O(o):qO(o))}function kCe(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ir(e,t)>=0}const wu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MZ(e){return e.substring(wu.key,wu.keyEnd)}function NCe(e){return e.substring(wu.value,wu.valueEnd)}function IZ(e,t){const i=wu.textEnd;return i===t?-1:(t=wu.keyEnd=function UCe(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,wu.key=t,i),R5(e,t,i))}function DZ(e,t){const i=wu.textEnd;let r=wu.key=R5(e,t,i);return i===r?-1:(r=wu.keyEnd=function PCe(e,t,i){let r;for(;t<i&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,i),r=FZ(e,r,i),r=wu.value=R5(e,r,i),r=wu.valueEnd=function HCe(e,t,i){let r=-1,o=-1,s=-1,a=t,l=a;for(;a<i;){const u=e.charCodeAt(a++);if(59===u)return l;34===u||39===u?l=a=OZ(e,u,a,i):t===a-4&&85===s&&82===o&&76===r&&40===u?l=a=OZ(e,41,a,i):u>32&&(l=a),s=o,o=r,r=-33&u}return l}(e,r,i),FZ(e,r,i))}function TZ(e){wu.key=0,wu.keyEnd=0,wu.value=0,wu.valueEnd=0,wu.textEnd=e.length}function R5(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function FZ(e,t,i,r){return(t=R5(e,t,i))<i&&t++,t}function OZ(e,t,i,r){let o=-1,s=i;for(;s<r;){const a=e.charCodeAt(s++);if(a==t&&92!==o)return s;o=92==a&&92===o?0:a}throw new Error}function Le(e,t,i){const r=Fn();return Jl(r,oc(),t)&&sd(Io(),Fs(),r,e,t,r[ur],i,!1),Le}function jO(e,t,i,r,o){const a=o?"class":"style";oO(e,i,t.inputs[a],a,r)}function KO(e,t,i){return Xh(e,t,i,!1),KO}function Wh(e,t){return Xh(e,t,null,!0),Wh}function Cf(e){Yh(LZ,QCe,e,!1)}function QCe(e,t){for(let i=function RCe(e){return TZ(e),DZ(e,R5(e,0,wu.textEnd))}(t);i>=0;i=DZ(t,i))LZ(e,MZ(t),NCe(t))}function ga(e){Yh(jCe,Tp,e,!0)}function Tp(e,t){for(let i=function LCe(e){return TZ(e),IZ(e,R5(e,0,wu.textEnd))}(t);i>=0;i=IZ(t,i))Gi(e,MZ(t),!0)}function Xh(e,t,i,r){const o=Fn(),s=Io(),a=sc(2);s.firstUpdatePass&&NZ(s,e,a,r),t!==Do&&Jl(o,a,t)&&RZ(s,s.data[Pl()],o,o[ur],e,o[a+1]=function WCe(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=nn(bm(e)))),e}(t,i),r,a)}function Yh(e,t,i,r){const o=Io(),s=sc(2);o.firstUpdatePass&&NZ(o,null,s,r);const a=Fn();if(i!==Do&&Jl(a,s,i)){const l=o.data[Pl()];if(PZ(l,r)&&!kZ(o,s)){let u=r?l.classesWithoutHost:l.stylesWithoutHost;null!==u&&(i=be(u,i||"")),jO(o,l,a,i,r)}else!function KCe(e,t,i,r,o,s,a,l){o===Do&&(o=wi);let u=0,c=0,f=0<o.length?o[0]:null,d=0<s.length?s[0]:null;for(;null!==f||null!==d;){const h=u<o.length?o[u+1]:void 0,g=c<s.length?s[c+1]:void 0;let y,v=null;f===d?(u+=2,c+=2,h!==g&&(v=d,y=g)):null===d||null!==f&&f<d?(u+=2,v=f):(c+=2,v=d,y=g),null!==v&&RZ(e,t,i,r,v,y,a,l),f=u<o.length?o[u]:null,d=c<s.length?s[c]:null}}(o,l,a,a[ur],a[s+1],a[s+1]=function qCe(e,t,i){if(null==i||""===i)return wi;const r=[],o=bm(i);if(Array.isArray(o))for(let s=0;s<o.length;s++)e(r,o[s],!0);else if("object"==typeof o)for(const s in o)o.hasOwnProperty(s)&&e(r,s,o[s]);else"string"==typeof o&&t(r,o);return r}(e,t,i),r,s)}}function kZ(e,t){return t>=e.expandoStartIndex}function NZ(e,t,i,r){const o=e.data;if(null===o[i+1]){const s=o[Pl()],a=kZ(e,i);PZ(s,r)&&null===t&&!a&&(t=!1),t=function VCe(e,t,i,r){const o=function _p(e){const t=Xr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(i=Cy(i=WO(null,e,t,i,r),t.attrs,r),s=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==o)if(i=WO(o,e,t,i,r),null===s){let u=function zCe(e,t,i){const r=i?t.classBindings:t.styleBindings;if(0!==Lv(r))return e[Im(r)]}(e,t,r);void 0!==u&&Array.isArray(u)&&(u=WO(null,e,t,u[1],r),u=Cy(u,t.attrs,r),function $Ce(e,t,i,r){e[Im(i?t.classBindings:t.styleBindings)]=r}(e,t,r,u))}else s=function GCe(e,t,i){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=Cy(r,e[s].hostAttrs,i);return Cy(r,t.attrs,i)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),i}(o,s,t,r),function FCe(e,t,i,r,o,s){let a=s?t.classBindings:t.styleBindings,l=Im(a),u=Lv(a);e[r]=i;let f,c=!1;if(Array.isArray(i)?(f=i[1],(null===f||Ir(i,f)>0)&&(c=!0)):f=i,o)if(0!==u){const h=Im(e[l+1]);e[r+1]=eE(h,l),0!==h&&(e[h+1]=GO(e[h+1],r)),e[l+1]=function DCe(e,t){return 131071&e|t<<17}(e[l+1],r)}else e[r+1]=eE(l,0),0!==l&&(e[l+1]=GO(e[l+1],r)),l=r;else e[r+1]=eE(u,0),0===l?l=r:e[u+1]=GO(e[u+1],r),u=r;c&&(e[r+1]=$O(e[r+1])),BZ(e,f,r,!0),BZ(e,f,r,!1),function OCe(e,t,i,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Ir(s,t)>=0&&(i[r+1]=qO(i[r+1]))}(t,f,e,r,s),a=eE(l,u),s?t.classBindings=a:t.styleBindings=a}(o,s,t,i,a,r)}}function WO(e,t,i,r,o){let s=null;const a=i.directiveEnd;let l=i.directiveStylingLast;for(-1===l?l=i.directiveStart:l++;l<a&&(s=t[l],r=Cy(r,s.hostAttrs,o),s!==e);)l++;return null!==e&&(i.directiveStylingLast=l),r}function Cy(e,t,i){const r=i?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Gi(e,a,!!i||t[++s]))}return void 0===e?null:e}function LZ(e,t,i){Gi(e,t,bm(i))}function jCe(e,t,i){const r=String(t);""!==r&&!r.includes(" ")&&Gi(e,r,i)}function RZ(e,t,i,r,o,s,a,l){if(!(3&t.type))return;const u=e.data,c=u[l+1],f=function TCe(e){return!(1&~e)}(c)?UZ(u,t,i,o,Lv(c),a):void 0;tE(f)||(tE(s)||function ICe(e){return!(2&~e)}(c)&&(s=UZ(u,null,i,o,l,a)),function T_e(e,t,i,r,o){if(t)o?e.addClass(i,r):e.removeClass(i,r);else{let s=-1===r.indexOf("-")?void 0:Em.DashCase;null==o?e.removeStyle(i,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Em.Important),e.setStyle(i,r,o,s))}}(r,a,Vg(Pl(),i),o,s))}function UZ(e,t,i,r,o,s){const a=null===t;let l;for(;o>0;){const u=e[o],c=Array.isArray(u),f=c?u[1]:u,d=null===f;let h=i[o+1];h===Do&&(h=d?wi:void 0);let g=d?mr(h,r):f===r?h:void 0;if(c&&!tE(g)&&(g=mr(u,r)),tE(g)&&(l=g,a))return l;const v=e[o+1];o=a?Im(v):Lv(v)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(l=mr(u,r))}return l}function tE(e){return void 0!==e}function PZ(e,t){return!!(e.flags&(t?8:16))}function st(e,t,i,r){const o=Fn(),s=Io(),a=ro+e,l=o[ur],u=s.firstCreatePass?function mEe(e,t,i,r,o,s){const a=t.consts,u=v5(t,e,2,r,Qs(a,o));return tO(t,i,u,Qs(a,s)),null!==u.attrs&&QC(u,u.attrs,!1),null!==u.mergedAttrs&&QC(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(a,s,o,t,i,r):s.data[a],c=$Z(s,o,u,l,t,e);o[a]=c;const f=Lg(u);return vu(u,!0),MX(l,c,u),!function yy(e){return!(32&~e.flags)}(u)&&uc()&&BC(s,o,c,u),0===function P9(){return Xr.lFrame.elementDepthCount}()&&fo(c,o),function yv(){Xr.lFrame.elementDepthCount++}(),f&&(ZF(s,o,u),YF(s,u,o)),null!==r&&JF(o,u),st}function dt(){let e=ls();bv()?Ph():(e=e.parent,vu(e,!1));const t=e;(function Uh(e){return Xr.skipHydrationRootTNode===e})(t)&&function wv(){Xr.skipHydrationRootTNode=null}(),function qg(){Xr.lFrame.elementDepthCount--}();const i=Io();return i.firstCreatePass&&(Tc(i,e),um(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function C(e){return!!(8&e.flags)}(t)&&jO(i,t,Fn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function O(e){return!!(16&e.flags)}(t)&&jO(i,t,Fn(),t.stylesWithoutHost,!1),dt}function yi(e,t,i,r){return st(e,t,i,r),dt(),yi}let $Z=(e,t,i,r,o,s)=>(Yl(!0),EC(r,o,function Wd(){return Xr.lFrame.currentNamespace}()));function to(e,t,i){const r=Fn(),o=Io(),s=e+ro,a=o.firstCreatePass?function _Ee(e,t,i,r,o){const s=t.consts,a=Qs(s,r),l=v5(t,e,8,"ng-container",a);return null!==a&&QC(l,a,!0),tO(t,i,l,Qs(s,o)),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,i):o.data[s];vu(a,!0);const l=GZ(o,r,a,e);return r[s]=l,uc()&&BC(o,r,l,a),fo(l,r),Lg(a)&&(ZF(o,r,a),YF(o,a,r)),null!=i&&JF(r,a),to}function no(){let e=ls();const t=Io();return bv()?Ph():(e=e.parent,vu(e,!1)),t.firstCreatePass&&(Tc(t,e),um(e)&&t.queries.elementEnd(e)),no}function ws(e,t,i){return to(e,t,i),no(),ws}let GZ=(e,t,i,r)=>(Yl(!0),$F(t[ur],""));function To(){return Fn()}const Rv=void 0;var EEe=["en",[["a","p"],["AM","PM"],Rv],[["AM","PM"],Rv,Rv],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rv,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rv,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rv,"{1} 'at' {0}",Rv],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CEe(e){const i=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===r?1:5}];let U5={};function Ef(e){const t=function xEe(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=WZ(t);if(i)return i;const r=t.split("-")[0];if(i=WZ(r),i)return i;if("en"===r)return EEe;throw new ee(701,!1)}function WZ(e){return e in U5||(U5[e]=ue.ng&&ue.ng.common&&ue.ng.common.locales&&ue.ng.common.locales[e]),U5[e]}var Ra=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ra||{});const P5="en-US";let XZ=P5;function ki(e,t,i,r){const o=Fn(),s=Io(),a=ls();return nk(s,o,o[ur],a,e,t,r),ki}function nk(e,t,i,r,o,s,a){const l=Lg(r),c=e.firstCreatePass&&VX(e),f=t[bs],d=QX(t);let h=!0;if(3&r.type||a){const y=mu(r,t),b=a?a(y):y,E=d.length,M=a?P=>a(_s(P[r.index])):r.index;let k=null;if(!a&&l&&(k=function wxe(e,t,i,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const a=o[s];if(a===i&&o[s+1]===r){const l=t[Lh],u=o[s+2];return l.length>u?l[u]:null}"string"==typeof a&&(s+=2)}return null}(e,t,o,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,h=!1;else{s=EJ(r,t,f,s,!1);const P=i.listen(b,o,s);d.push(s,P),c&&c.push(o,M,E,E+1)}}else s=EJ(r,t,f,s,!1);const g=r.outputs;let v;if(h&&null!==g&&(v=g[o])){const y=v.length;if(y)for(let b=0;b<y;b+=2){const H=t[v[b]][v[b+1]].subscribe(s),X=d.length;d.push(s,H),c&&c.push(o,r.index,X,-(X+1))}}}function CJ(e,t,i,r){const o=qt(null);try{return pa(6,t,i),!1!==i(r)}catch(s){return TC(e,s),!1}finally{pa(7,t,i),qt(o)}}function EJ(e,t,i,r,o){return function s(a){if(a===Function)return r;ay(e.componentOffset>-1?Xl(e.index,t):t);let u=CJ(t,i,r,a),c=s.__ngNextListenerFn__;for(;c;)u=CJ(t,i,c,a)&&u,c=c.__ngNextListenerFn__;return o&&!1===u&&a.preventDefault(),u}}function je(e=1){return function Bv(e){return(Xr.lFrame.contextLView=function vv(e,t){for(;e>0;)t=t[LA],e--;return t}(e,Xr.lFrame.contextLView))[bs]}(e)}function bxe(e,t){let i=null;const r=function Ul(e){const t=e.attrs;if(null!=t){const i=t.indexOf(5);if(!(1&i))return t[i+1]}return null}(e);for(let o=0;o<t.length;o++){const s=t[o];if("*"!==s){if(null===r?Hs(e,s,!0):Ud(r,s))return o}else i=o}return i}function Dm(e){const t=Fn()[hs][Ca];if(!t.projection){const r=t.projection=function kn(e,t){const i=[];for(let r=0;r<e;r++)i.push(t);return i}(e?e.length:1,null),o=r.slice();let s=t.child;for(;null!==s;){const a=e?bxe(s,e):0;null!==a&&(o[a]?o[a].projectionNext=s:r[a]=s,o[a]=s),s=s.next}}}function Zg(e,t=0,i){const r=Fn(),o=Io(),s=v5(o,ro+e,16,null,i||null);null===s.projection&&(s.projection=t),Ph(),(!r[fl]||Rh())&&32&~s.flags&&function I_e(e,t,i){SX(t[ur],0,t,i,qF(e,i,t),_X(i.parent||t[Ca],i,t))}(o,r,s)}function H5(e,t,i,r,o){const s=Fn(),a=I5(s,t,i,r);return a!==Do&&sd(Io(),Fs(),s,e,a,s[ur],o,!1),H5}function WA(e,t,i,r){!function BY(e,t,i,r){const o=Io();if(o.firstCreatePass){const s=ls();MY(o,new CY(t,i,r),s.index),function wbe(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(o,e),!(2&~i)&&(o.staticContentQueries=!0)}return xY(o,Fn(),i)}(e,t,i,r)}function Xo(e,t,i){!function SY(e,t,i){const r=Io();return r.firstCreatePass&&(MY(r,new CY(e,t,i),-1),!(2&~t)&&(r.staticViewQueries=!0)),xY(r,Fn(),t)}(e,t,i)}function ao(e){const t=Fn(),i=Io(),r=Qh();Kg(r+1);const o=DO(i,r);if(e.dirty&&function zg(e){return!(4&~e[sr])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const s=IY(t,r);e.reset(s,fC),e.notifyOnChanges()}return!0}return!1}function lo(){return function IO(e,t){return e[Qd].queries[t].queryList}(Fn(),Qh())}function Uu(e){return ed(function i5(){return Xr.lFrame.contextLView}(),ro+e)}function Jn(e,t=""){const i=Fn(),r=Io(),o=e+ro,s=r.firstCreatePass?v5(r,o,1,t,null):r.data[o],a=zJ(r,i,s,t,e);i[o]=a,uc()&&BC(r,i,a,s),vu(s,!1)}let zJ=(e,t,i,r,o)=>(Yl(!0),function zF(e,t){return e.createText(t)}(t[ur],r));function Hl(e){return Rc("",e,""),Hl}function Rc(e,t,i){const r=Fn(),o=I5(r,e,t,i);return o!==Do&&Yg(r,Pl(),o),Rc}function ik(e,t,i,r,o,s,a){const l=Fn(),u=T5(l,e,t,i,r,o,s,a);return u!==Do&&Yg(l,Pl(),u),ik}function Za(e,t,i){FY(t)&&(t=t());const r=Fn();return Jl(r,oc(),t)&&sd(Io(),Fs(),r,e,t,r[ur],i,!1),Za}function dl(e,t){const i=FY(e);return i&&e.set(t),i}function Ja(e,t){const i=Fn(),r=Io(),o=ls();return nk(r,i,i[ur],o,e,t),Ja}function rk(e,t,i,r,o){if(e=Ti(e),Array.isArray(e))for(let s=0;s<e.length;s++)rk(e[s],t,i,r,o);else{const s=Io(),a=Fn(),l=ls();let u=OA(e)?e:Ti(e.provide);const c=cl(e),f=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(OA(e)||!e.multi){const g=new A(c,o,Wt),v=sk(u,t,o?f:f+h,d);-1===v?(ps(Ki(l,a),s,u),ok(s,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),i.push(g),a.push(g)):(i[v]=g,a[v]=g)}else{const g=sk(u,t,f+h,d),v=sk(u,t,f,f+h),b=v>=0&&i[v];if(o&&!b||!o&&!(g>=0&&i[g])){ps(Ki(l,a),s,u);const E=function Qxe(e,t,i,r,o){const s=new A(e,i,Wt);return s.multi=[],s.index=t,s.componentProviders=0,YJ(s,o,r&&!i),s}(o?Hxe:Pxe,i.length,o,r,c);!o&&b&&(i[v].providerFactory=E),ok(s,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),i.push(E),a.push(E)}else ok(s,e,g>-1?g:v,YJ(i[o?v:g],c,!o&&r));!o&&r&&b&&i[v].componentProviders++}}}function ok(e,t,i,r){const o=OA(t),s=function $4(e){return!!e.useClass}(t);if(o||s){const u=(s?Ti(t.useClass):t).prototype.ngOnDestroy;if(u){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(i);-1===f?c.push(i,[r,u]):c[f+1].push(r,u)}else c.push(i,u)}}}function YJ(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function sk(e,t,i,r){for(let o=i;o<r;o++)if(t[o]===e)return o;return-1}function Pxe(e,t,i,r){return ak(this.multi,[])}function Hxe(e,t,i,r){const o=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Hr(i,i[Ii],this.providerFactory.index,r);s=l.slice(0,a),ak(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],ak(o,s);return s}function ak(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function ra(e,t=[]){return i=>{i.providersResolver=(r,o)=>function Uxe(e,t,i){const r=Io();if(r.firstCreatePass){const o=Wl(e);rk(i,r.data,r.blueprint,o,!0),rk(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}let Vxe=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const r=nm(0,i.type),o=r.length>0?GC([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Mn({token:e,providedIn:"environment",factory:()=>new e(Ar(su))})}}return e})();function Pu(e){Ip("NgStandalone"),e.getStandaloneInjector=t=>t.get(Vxe).getOrCreateStandaloneInjector(e)}function $s(e,t,i){const r=yu()+e,o=Fn();return o[r]===Do?Dp(o,r,i?t.call(i):t()):function vy(e,t){return e[t]}(o,r)}function us(e,t,i,r){return function eee(e,t,i,r,o,s){const a=t+i;return Jl(e,a,o)?Dp(e,a+1,s?r.call(s,o):r(o)):Dy(e,a+1)}(Fn(),yu(),e,t,i,r)}function Ac(e,t,i,r,o){return tee(Fn(),yu(),e,t,i,r,o)}function aE(e,t,i,r,o,s){return function nee(e,t,i,r,o,s,a,l){const u=t+i;return KC(e,u,o,s,a)?Dp(e,u+3,l?r.call(l,o,s,a):r(o,s,a)):Dy(e,u+3)}(Fn(),yu(),e,t,i,r,o,s)}function JJ(e,t,i,r,o,s,a){return function iee(e,t,i,r,o,s,a,l,u){const c=t+i;return function KA(e,t,i,r,o,s){const a=kv(e,t,i,r);return kv(e,t+2,o,s)||a}(e,c,o,s,a,l)?Dp(e,c+4,u?r.call(u,o,s,a,l):r(o,s,a,l)):Dy(e,c+4)}(Fn(),yu(),e,t,i,r,o,s,a)}function lk(e,t,i,r){return function ree(e,t,i,r,o,s){let a=t+i,l=!1;for(let u=0;u<o.length;u++)Jl(e,a++,o[u])&&(l=!0);return l?Dp(e,a,r.apply(s,o)):Dy(e,a)}(Fn(),yu(),e,t,i,r)}function Dy(e,t){const i=e[t];return i===Do?void 0:i}function tee(e,t,i,r,o,s,a){const l=t+i;return kv(e,l,o,s)?Dp(e,l+2,a?r.call(a,o,s):r(o,s)):Dy(e,l+2)}function see(e,t,i,r){const o=e+ro,s=Fn(),a=ed(s,o);return function Ty(e,t){return e[Ii].data[t].pure}(s,o)?tee(s,yu(),t,a.transform,i,r,a):a.transform(i,r)}function hc(e,t){return OC(e,t)}let bee=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const Bee=new ai(""),cE=new ai("");let gk,hk=(()=>{class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,gk||(function qSe(e){gk=e}(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(i)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),i()},r)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(Ar(Zo),Ar(pk),Ar(cE))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})(),pk=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return gk?.findTestabilityInTree(this,i,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Ny(e){return!!e&&"function"==typeof e.then}function Mee(e){return!!e&&"function"==typeof e.subscribe}const mk=new ai("");let vk=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=Kn(mk,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const o of this.appInits){const s=o();if(Ny(s))i.push(s);else if(Mee(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});i.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),0===i.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const yk=new ai("");function Tee(e,t){return Array.isArray(t)?t.reduce(Tee,e):{...e,...t}}let Jg=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kn(G9),this.afterRenderEffectManager=Kn(Ay),this.externalTestViews=new Set,this.beforeRender=new Yn,this.afterTick=new Yn,this.componentTypes=[],this.components=[],this.isStable=Kn(Bm).hasPendingTasks.pipe(j(i=>!i)),this._injector=Kn(su)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){const o=i instanceof iY;if(!this._injector.get(vk).done)throw!o&&function DA(e){const t=wo(e)||ll(e)||ul(e);return null!==t&&t.standalone}(i),new ee(405,!1);let a;a=o?i:this._injector.get(PC).resolveComponentFactory(i),this.componentTypes.push(a.componentType);const l=function jSe(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Ov),c=a.create(Dl.NULL,[],r||a.selector,l),f=c.location.nativeElement,d=c.injector.get(Bee,null);return d?.registerApplication(f),c.onDestroy(()=>{this.detachView(c.hostView),fE(this.components,c),d?.unregisterApplication(f)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new ee(101,!1);const r=qt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,qt(r)}}detectChangesInAttachedViews(i){let r=0;const o=this.afterRenderEffectManager;for(;;){if(r===jX)throw new ee(103,!1);if(i){const s=0===r;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)WSe(a,s,l)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>_k(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>_k(s))))break}}attachView(i){const r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){const r=i;fE(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const r=this._injector.get(yk,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>fE(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ee(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fE(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function WSe(e,t,i){!t&&!_k(e)||function XSe(e,t,i){let r;i?(r=0,e[sr]|=1024):r=64&e[sr]?0:1,FC(e,t,r)}(e,i,t)}function _k(e){return $g(e)}class YSe{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}}let Fee=(()=>{class e{compileModuleSync(i){return new OO(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const r=this.compileModuleSync(i),s=eA(xl(i).declarations).reduce((a,l)=>{const u=wo(l);return u&&a.push(new gy(u)),a},[]);return new YSe(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eBe=(()=>{class e{constructor(){this.zone=Kn(Zo),this.applicationRef=Kn(Jg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tBe(){const e=Kn(Zo),t=Kn(qA);return i=>e.runOutsideAngular(()=>t.handleError(i))}let iBe=(()=>{class e{constructor(){this.subscription=new yt,this.initialized=!1,this.zone=Kn(Zo),this.pendingTasks=Kn(Bm)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Zo.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Zo.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const e1=new ai("",{providedIn:"root",factory:()=>Kn(e1,Or.Optional|Or.SkipSelf)||function rBe(){return typeof $localize<"u"&&$localize.locale||P5}()}),wk=new ai("");let Lee=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){const o=function Ywe(e="zone.js",t){return"noop"===e?new uY:"zone.js"===e?new Zo(t):e}(r?.ngZone,function Nee(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const s=function Vbe(e,t,i){return new FO(e,t,i)}(i.moduleType,this.injector,function kee(e){return[{provide:Zo,useFactory:e},{provide:co,multi:!0,useFactory:()=>{const t=Kn(eBe,{optional:!0});return()=>t.initialize()}},{provide:co,multi:!0,useFactory:()=>{const t=Kn(iBe);return()=>{t.initialize()}}},{provide:G9,useFactory:tBe}]}(()=>o)),a=s.injector.get(qA,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{fE(this._modules,s),l.unsubscribe()})}),function Dee(e,t,i){try{const r=i();return Ny(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(a,o,()=>{const l=s.injector.get(vk);return l.runInitializers(),l.donePromise.then(()=>(function YZ(e){"string"==typeof e&&(XZ=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(e1,P5)||P5),this._moduleDoBootstrap(s),s))})})}bootstrapModule(i,r=[]){const o=Tee({},r);return function JSe(e,t,i){const r=new OO(i);return Promise.resolve(r)}(0,0,i).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(i){const r=i.injector.get(Jg);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!i.instance.ngDoBootstrap)throw new ee(-403,!1);i.instance.ngDoBootstrap(r)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const i=this._injector.get(wk,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(Ar(Dl))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Tm=null;const Ree=new ai("");function Uee(e,t,i=[]){const r=`Platform: ${t}`,o=new ai(r);return(s=[])=>{let a=bk();if(!a||a.injector.get(Ree,!1)){const l=[...i,...s,{provide:o,useValue:!0}];e?e(l):function aBe(e){if(Tm&&!Tm.get(Ree,!1))throw new ee(400,!1);(function Iee(){!function Yi(e){zn=e}(()=>{throw new ee(600,!1)})})(),Tm=e;const t=e.get(Lee);(function Hee(e){e.get(LW,null)?.forEach(i=>i())})(e)}(function Pee(e=[],t){return Dl.create({name:t,providers:[{provide:iv,useValue:"platform"},{provide:wk,useValue:new Set([()=>Tm=null])},...e]})}(l,r))}return function lBe(e){const t=bk();if(!t)throw new ee(401,!1);return t}()}}function bk(){return Tm?.get(Lee)??null}let ld=(()=>{class e{static{this.__NG_ELEMENT_ID__=cBe}}return e})();function cBe(e){return function fBe(e,t,i){if($d(e)&&!i){const r=Xl(e.index,t);return new ly(r,r)}return 47&e.type?new ly(t[hs],t):null}(ls(),Fn(),!(16&~e))}class Gee{constructor(){}supports(t){return jC(t)}create(t){return new gBe(t)}}const pBe=(e,t)=>t;class gBe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pBe}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,r=this._removalsHead,o=0,s=null;for(;i||r;){const a=!r||i&&i.currentIndex<jee(r,o,s)?i:r,l=jee(a,o,s),u=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(i=i._next,null==a.previousIndex)o++;else{s||(s=[]);const c=l-o,f=u-o;if(c!=f){for(let h=0;h<c;h++){const g=h<s.length?s[h]:s[h]=0,v=g+h;f<=v&&v<c&&(s[h]=g+1)}s[a.previousIndex]=f-c}}l!==u&&t(a,l,u)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!jC(t))throw new ee(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,s,a,i=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)s=t[l],a=this._trackByFn(l,s),null!==i&&Object.is(i.trackById,a)?(r&&(i=this._verifyReinsertion(i,s,a,l)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,a,l),r=!0),i=i._next}else o=0,function qbe(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Symbol.iterator]();let r;for(;!(r=i.next()).done;)t(r.value)}}(t,l=>{a=this._trackByFn(o,l),null!==i&&Object.is(i.trackById,a)?(r&&(i=this._verifyReinsertion(i,l,a,o)),Object.is(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,a,o),r=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,r,o){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,s,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,s,o)):t=this._addAfter(new mBe(i,r),s,o),t}_verifyReinsertion(t,i,r,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,s=t._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(t,i,r),this._addToMoves(t,r),t}_moveAfter(t,i,r){return this._unlink(t),this._insertAfter(t,i,r),this._addToMoves(t,r),t}_addAfter(t,i,r){return this._insertAfter(t,i,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,r){const o=null===i?this._itHead:i._next;return t._next=o,t._prev=i,null===o?this._itTail=t:o._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new qee),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,r=t._next;return null===i?this._itHead=r:i._next=r,null===r?this._itTail=i:r._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qee),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mBe{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vBe{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===i||i<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const i=t._prevDup,r=t._nextDup;return null===i?this._head=r:i._nextDup=r,null===r?this._tail=i:r._prevDup=i,null===this._head}}class qee{constructor(){this.map=new Map}put(t){const i=t.trackById;let r=this.map.get(i);r||(r=new vBe,this.map.set(i,r)),r.add(t)}get(t,i){const o=this.map.get(t);return o?o.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jee(e,t,i){const r=e.previousIndex;if(null===r)return r;let o=0;return i&&r<i.length&&(o=i[r]),r+t+o}class Kee{constructor(){}supports(t){return t instanceof Map||kO(t)}create(){return new yBe}}class yBe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||kO(t)))throw new ee(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(i&&i.key===o)this._maybeAddToChanges(i,r),this._appendAfter=i,i=i._next;else{const s=this._getOrCreateRecordForKey(o,r);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let r=i;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const r=t._prev;return i._next=t,i._prev=r,t._prev=i,r&&(r._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,i);const s=o._prev,a=o._next;return s&&(s._next=a),a&&(a._prev=s),o._next=null,o._prev=null,o}const r=new _Be(t);return this._records.set(t,r),r.currentValue=i,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(r=>i(t[r],r))}}class _Be{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wee(){return new Bk([new Gee])}let Bk=(()=>{class e{static{this.\u0275prov=Mn({token:e,providedIn:"root",factory:Wee})}constructor(i){this.factories=i}static create(i,r){if(null!=r){const o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||Wee()),deps:[[e,new S,new Cl]]}}find(i){const r=this.factories.find(o=>o.supports(i));if(null!=r)return r;throw new ee(901,!1)}}return e})();function Xee(){return new Ly([new Kee])}let Ly=(()=>{class e{static{this.\u0275prov=Mn({token:e,providedIn:"root",factory:Xee})}constructor(i){this.factories=i}static create(i,r){if(r){const o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||Xee()),deps:[[e,new S,new Cl]]}}find(i){const r=this.factories.find(o=>o.supports(i));if(r)return r;throw new ee(901,!1)}}return e})();const CBe=Uee(null,"core",[]);let EBe=(()=>{class e{constructor(i){}static{this.\u0275fac=function(r){return new(r||e)(Ar(Jg))}}static{this.\u0275mod=Yo({type:e})}static{this.\u0275inj=nr({})}}return e})();function pr(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function lu(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}function Py(e,t){Ip("NgSignals");const i=function Ft(e){const t=Object.create(si);t.computation=e;const i=()=>{if(R(t),U(t),t.value===gi)throw t.error;return t.value};return i[gn]=t,i}(e);return t?.equal&&(i[gn].equal=t.equal),i}const eMe=new ai("",{providedIn:"root",factory:()=>Kn(tMe)});let tMe=(()=>{class e{static{this.\u0275prov=Mn({token:e,providedIn:"root",factory:()=>new nMe})}}return e})();class nMe{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Kn(Bm),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const i=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(i),this.taskId=null})}}enqueue(t){const i=t.creationZone;this.queues.has(i)||this.queues.set(i,new Set);const r=this.queues.get(i);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,i]of this.queues)null===t?this.flushQueue(i):t.run(()=>this.flushQueue(i))}flushQueue(t){for(const i of t)t.delete(i),this.queuedEffectCount--,i.run()}}class iMe{constructor(t,i,r,o,s,a){this.scheduler=t,this.effectFn=i,this.creationZone=r,this.injector=s,this.watcher=function pt(e,t,i){const r=Object.create(jn);i&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const o=u=>{r.cleanupFn=u};return r.ref={notify:()=>Me(r),run:()=>{if(null===r.fn)return;if(function Wn(){return An}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!et(r))return;r.hasRun=!0;const u=Re(r);try{r.cleanupFn(),r.cleanupFn=ft,r.fn(o)}finally{$e(r,u)}},cleanup:()=>r.cleanupFn(),destroy:()=>function a(u){(function s(u){return null===u.fn&&null===u.schedule})(u)||(ve(u),u.cleanupFn(),u.fn=null,u.schedule=null,u.cleanupFn=ft)}(r),[gn]:r},r.ref}(l=>this.runEffect(l),()=>this.schedule(),a),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(i){this.injector.get(qA,null,{optional:!0})?.handleError(i)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Hy(e,t){Ip("NgSignals"),!t?.injector&&rm();const i=t?.injector??Kn(Dl),r=!0!==t?.manualCleanup?i.get(vm):null,o=new iMe(i.get(eMe),e,typeof Zone>"u"?null:Zone.current,r,i,t?.allowSignalWrites??!1),s=i.get(ld,null,{optional:!0});return s&&8&s._lView[sr]?(s._lView[lm]??=[]).push(o.watcher.notify):o.watcher.notify(),o}let yte=null;function Fm(){return yte}class aMe{}const Al=new ai("");let Dk=(()=>{class e{historyGo(i){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:()=>Kn(uMe),providedIn:"platform"})}}return e})();const lMe=new ai("");let uMe=(()=>{class e extends Dk{constructor(){super(),this._doc=Kn(Al),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fm().getBaseHref(this._doc)}onPopState(i){const r=Fm().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){const r=Fm().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Tk(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function _te(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function t1(e){return e&&"?"!==e[0]?"?"+e:e}let Pv=(()=>{class e{historyGo(i){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:()=>Kn(bte),providedIn:"root"})}}return e})();const wte=new ai("");let bte=(()=>{class e extends Pv{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Kn(Al).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Tk(this._baseHref,i)}path(i=!1){const r=this._platformLocation.pathname+t1(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){const a=this.prepareExternalUrl(o+t1(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){const a=this.prepareExternalUrl(o+t1(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static{this.\u0275fac=function(r){return new(r||e)(Ar(Dk),Ar(wte,8))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cMe=(()=>{class e extends Pv{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){const r=Tk(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+t1(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+t1(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static{this.\u0275fac=function(r){return new(r||e)(Ar(Dk),Ar(wte,8))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})(),Qy=(()=>{class e{constructor(i){this._subject=new Xi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const r=this._locationStrategy.getBaseHref();this._basePath=function AMe(e){if(new RegExp("^(https?:)?//").test(e)){const[,i]=e.split(/\/\/[^\/]+/);return i}return e}(_te(Cte(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+t1(r))}normalize(i){return e.stripTrailingSlash(function dMe(e,t){if(!e||!t.startsWith(e))return t;const i=t.substring(e.length);return""===i||["/",";","?","#"].includes(i[0])?i:t}(this._basePath,Cte(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+t1(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+t1(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}static{this.normalizeQueryParams=t1}static{this.joinWithSlash=Tk}static{this.stripTrailingSlash=_te}static{this.\u0275fac=function(r){return new(r||e)(Ar(Pv))}}static{this.\u0275prov=Mn({token:e,factory:()=>function fMe(){return new Qy(Ar(Pv))}(),providedIn:"root"})}}return e})();function Cte(e){return e.replace(/\/index.html$/,"")}var _E=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(_E||{});const uu={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function XA(e,t){const i=Ef(e),r=i[Ra.NumberSymbols][t];if(typeof r>"u"){if(t===uu.CurrencyDecimal)return i[Ra.NumberSymbols][uu.Decimal];if(t===uu.CurrencyGroup)return i[Ra.NumberSymbols][uu.Group]}return r}const HMe=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Pk(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function Fte(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const r=i.indexOf("="),[o,s]=-1==r?[i,""]:[i.slice(0,r),i.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}const Qk=/\s+/,Ote=[];let Bf=(()=>{class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=Ote,this.stateMap=new Map}set klass(i){this.initialClasses=null!=i?i.trim().split(Qk):Ote}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(Qk):i}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const r of i)this._updateState(r,!0);else if(null!=i)for(const r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){const o=this.stateMap.get(i);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){(i=i.trim()).length>0&&i.split(Qk).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(r){return new(r||e)(Wt(rs),Wt(Ru))}}static{this.\u0275dir=Lr({type:e,selectors:[["","ngClass",""]],inputs:{klass:[cn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})(),kte=(()=>{class e{constructor(i){this._viewContainerRef=i,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(i){return void 0!==i.ngComponentOutletNgModule||void 0!==i.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(i){return void 0!==i.ngComponentOutlet||void 0!==i.ngComponentOutletContent||void 0!==i.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(i)}ngOnChanges(i){if(this._needToReCreateComponentInstance(i)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(i)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?function Qbe(e,t){return new FO(e,t??null,[])}(this.ngComponentOutletNgModule,Nte(r)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(Nte(r)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const i of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(i,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(i){for(const[r,o]of this._inputsUsed)o?(i.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(i.setInput(r,void 0),this._inputsUsed.delete(r))}static{this.\u0275fac=function(r){return new(r||e)(Wt(tA))}}static{this.\u0275dir=Lr({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[Il]})}}return e})();function Nte(e){return e.get(Ov).injector}class YMe{constructor(t,i,r,o){this.$implicit=t,this.ngForOf=i,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hv=(()=>{class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new YMe(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const l=r.get(s);r.move(l,a),Lte(l,o)}});for(let o=0,s=r.length;o<s;o++){const l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{Lte(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(i,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(Wt(tA),Wt(Kh),Wt(Bk))}}static{this.\u0275dir=Lr({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Lte(e,t){e.context.$implicit=t.item}let ud=(()=>{class e{constructor(i,r){this._viewContainer=i,this._context=new ZMe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Rte("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Rte("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(Wt(tA),Wt(Kh))}}static{this.\u0275dir=Lr({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class ZMe{constructor(){this.$implicit=null,this.ngIf=null}}function Rte(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${nn(t)}'.`)}let ZA=(()=>{class e{constructor(i,r,o){this._ngEl=i,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){const i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){const[o,s]=i.split("."),a=-1===o.indexOf("-")?void 0:Em.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||e)(Wt(rs),Wt(Ly),Wt(Ru))}}static{this.\u0275dir=Lr({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})(),Jh=(()=>{class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,o),get:(i,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}static{this.\u0275fac=function(r){return new(r||e)(Wt(tA))}}static{this.\u0275dir=Lr({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Il]})}}return e})();let Hte=(()=>{class e{constructor(i){this._locale=i}transform(i,r,o){if(!function $k(e){return!(null==e||""===e||e!=e)}(i))return null;o||=this._locale;try{return function qMe(e,t,i){return function Rk(e,t,i,r,o,s,a=!1){let l="",u=!1;if(isFinite(e)){let c=function KMe(e){let r,o,s,a,l,t=Math.abs(e)+"",i=0;for((o=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(o<0&&(o=s),o+=+t.slice(s+1),t=t.substring(0,s)):o<0&&(o=t.length),s=0;"0"===t.charAt(s);s++);if(s===(l=t.length))r=[0],o=1;else{for(l--;"0"===t.charAt(l);)l--;for(o-=s,r=[],a=0;s<=l;s++,a++)r[a]=Number(t.charAt(s))}return o>22&&(r=r.splice(0,21),i=o-1,o=1),{digits:r,exponent:i,integerLen:o}}(e);a&&(c=function jMe(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));let f=t.minInt,d=t.minFrac,h=t.maxFrac;if(s){const M=s.match(HMe);if(null===M)throw new Error(`${s} is not a valid digit info`);const k=M[1],P=M[3],H=M[5];null!=k&&(f=Pk(k)),null!=P&&(d=Pk(P)),null!=H?h=Pk(H):null!=P&&d>h&&(h=d)}!function WMe(e,t,i){if(t>i)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${i}).`);let r=e.digits,o=r.length-e.integerLen;const s=Math.min(Math.max(t,o),i);let a=s+e.integerLen,l=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(let d=a;d<r.length;d++)r[d]=0}else{o=Math.max(0,o),e.integerLen=1,r.length=Math.max(1,a=s+1),r[0]=0;for(let d=1;d<a;d++)r[d]=0}if(l>=5)if(a-1<0){for(let d=0;d>a;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;o<Math.max(0,s);o++)r.push(0);let u=0!==s;const c=t+e.integerLen,f=r.reduceRight(function(d,h,g,v){return v[g]=(h+=d)<10?h:h-10,u&&(0===v[g]&&g>=c?v.pop():u=!1),h>=10?1:0},0);f&&(r.unshift(f),e.integerLen++)}(c,d,h);let g=c.digits,v=c.integerLen;const y=c.exponent;let b=[];for(u=g.every(M=>!M);v<f;v++)g.unshift(0);for(;v<0;v++)g.unshift(0);v>0?b=g.splice(v,g.length):(b=g,g=[0]);const E=[];for(g.length>=t.lgSize&&E.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)E.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&E.unshift(g.join("")),l=E.join(XA(i,r)),b.length&&(l+=XA(i,o)+b.join("")),y&&(l+=XA(i,uu.Exponential)+"+"+y)}else l=XA(i,uu.Infinity);return l=e<0&&!u?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf,l}(e,function Uk(e,t="-"){const i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),o=r[0],s=r[1],a=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],l=a[0],u=a[1]||"";i.posPre=l.substring(0,l.indexOf("#"));for(let f=0;f<u.length;f++){const d=u.charAt(f);"0"===d?i.minFrac=i.maxFrac=f+1:"#"===d?i.maxFrac=f+1:i.posSuf+=d}const c=l.split(",");if(i.gSize=c[1]?c[1].length:0,i.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const f=o.length-i.posPre.length-i.posSuf.length,d=s.indexOf("#");i.negPre=s.substring(0,d).replace(/'/g,""),i.negSuf=s.slice(d+f).replace(/'/g,"")}else i.negPre=t+i.posPre,i.negSuf=i.posSuf;return i}(function Fk(e,t){return Ef(e)[Ra.NumberFormats][t]}(t,_E.Decimal),XA(t,uu.MinusSign)),t,uu.Group,uu.Decimal,i)}(function Gk(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(i),o,r)}catch(s){throw function e0(e,t){return new ee(2100,!1)}()}}static{this.\u0275fac=function(r){return new(r||e)(Wt(e1,16))}}static{this.\u0275pipe=Oa({name:"number",type:e,pure:!0,standalone:!0})}}return e})();let cd=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Yo({type:e})}static{this.\u0275inj=nr({})}}return e})();function Hu(e){return"browser"===e}function Vte(e){return"server"===e}let BIe=(()=>{class e{static{this.\u0275prov=Mn({token:e,providedIn:"root",factory:()=>Hu(Kn(dc))?new MIe(Kn(Al),window):new DIe})}}return e})();class MIe{constructor(t,i){this.document=t,this.window=i,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const i=function IIe(e,t){const i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const s=o.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}o=r.nextNode()}}return null}(this.document,t);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const i=t.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],o-s[1])}}class DIe{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class zte{}class rDe extends aMe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jk extends rDe{static makeCurrent(){!function sMe(e){yte??=e}(new jk)}onAndCancel(t,i,r){return t.addEventListener(i,r),()=>{t.removeEventListener(i,r)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return(i=i||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return"window"===i?window:"document"===i?t:"body"===i?t.body:null}getBaseHref(t){const i=function oDe(){return Gy=Gy||document.querySelector("base"),Gy?Gy.getAttribute("href"):null}();return null==i?null:function sDe(e){return new URL(e,document.baseURI).pathname}(i)}resetBaseElement(){Gy=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Fte(document.cookie,t)}}let Gy=null,lDe=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();const Kk=new ai("");let Zte=(()=>{class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(i,r),r}static{this.\u0275fac=function(r){return new(r||e)(Ar(Kk),Ar(Zo))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();class Jte{constructor(t){this._doc=t}}const Wk="ng-app-id";let ene=(()=>{class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vte(s),this.resetHostNodes()}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${Wk}="${this.appId}"]`);if(i?.length){const r=new Map;return i.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){const o=this.styleRef;if(o.has(i)){const s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(Wk),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Wk,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){const o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(Ar(Al),Ar(dC),Ar(UW,8),Ar(dc))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();const Xk={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yk=/%COMP%/g,dDe=new ai("",{providedIn:"root",factory:()=>!0});function nne(e,t){return t.map(i=>i.replace(Yk,e))}let Zk=(()=>{class e{constructor(i,r,o,s,a,l,u,c=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Vte(l),this.defaultRenderer=new Jk(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_o.ShadowDom&&(r={...r,encapsulation:_o.Emulated});const o=this.getOrCreateRenderer(i,r);return o instanceof rne?o.applyToHost(i):o instanceof eN&&o.applyStyles(),o}getOrCreateRenderer(i,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const a=this.doc,l=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case _o.Emulated:s=new rne(u,c,r,this.appId,f,a,l,d);break;case _o.ShadowDom:return new gDe(u,c,i,r,a,l,this.nonce,d);default:s=new eN(u,c,r,f,a,l,d)}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(Ar(Zte),Ar(ene),Ar(dC),Ar(dDe),Ar(Al),Ar(dc),Ar(Zo),Ar(UW))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();class Jk{constructor(t,i,r,o){this.eventManager=t,this.doc=i,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(Xk[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(ine(t)?t.content:t).appendChild(i)}insertBefore(t,i,r){t&&(ine(t)?t.content:t).insertBefore(i,r)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new ee(-5104,!1);return i||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,r,o){if(o){i=o+":"+i;const s=Xk[o];s?t.setAttributeNS(s,i,r):t.setAttribute(i,r)}else t.setAttribute(i,r)}removeAttribute(t,i,r){if(r){const o=Xk[r];o?t.removeAttributeNS(o,i):t.removeAttribute(`${r}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,r,o){o&(Em.DashCase|Em.Important)?t.style.setProperty(i,r,o&Em.Important?"important":""):t.style[i]=r}removeStyle(t,i,r){r&Em.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,r){null!=t&&(t[i]=r)}setValue(t,i){t.nodeValue=i}listen(t,i,r){if("string"==typeof t&&!(t=Fm().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(r))}decoratePreventDefault(t){return i=>{if("__ngUnwrap__"===i)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))&&i.preventDefault()}}}function ine(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class gDe extends Jk{constructor(t,i,r,o,s,a,l,u){super(t,s,a,u),this.sharedStylesHost=i,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=nne(o.id,o.styles);for(const f of c){const d=document.createElement("style");l&&d.setAttribute("nonce",l),d.textContent=f,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,r){return super.insertBefore(this.nodeOrShadowRoot(t),i,r)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class eN extends Jk{constructor(t,i,r,o,s,a,l,u){super(t,s,a,l),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=o,this.styles=u?nne(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rne extends eN{constructor(t,i,r,o,s,a,l,u){const c=o+"-"+r.id;super(t,i,r,s,a,l,u,c),this.contentAttr=function ADe(e){return"_ngcontent-%COMP%".replace(Yk,e)}(c),this.hostAttr=function hDe(e){return"_nghost-%COMP%".replace(Yk,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){const r=super.createElement(t,i);return super.setAttribute(r,this.contentAttr,""),r}}let mDe=(()=>{class e extends Jte{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(Ar(Al))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();const one=["alt","control","meta","shift"],vDe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yDe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let _De=(()=>{class e extends Jte{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,r,o){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fm().onAndCancel(i,s.domEventName,a))}static parseEventName(i){const r=i.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(r.pop());let a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),one.forEach(c=>{const f=r.indexOf(c);f>-1&&(r.splice(f,1),a+=c+".")}),a+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let o=vDe[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),one.forEach(a=>{a!==o&&(0,yDe[a])(i)&&(s+=a+".")}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return"esc"===i?"escape":i}static{this.\u0275fac=function(r){return new(r||e)(Ar(Al))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();const ane=[{provide:dc,useValue:"browser"},{provide:LW,useValue:function wDe(){jk.makeCurrent()},multi:!0},{provide:Al,useFactory:function CDe(){return function b7e(e){yF=e}(document),document},deps:[]}],EDe=Uee(CBe,"browser",ane),xDe=new ai(""),lne=[{provide:cE,useClass:class aDe{addToWindow(t){ue.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new ee(5103,!1);return s},ue.getAllAngularTestabilities=()=>t.getAllTestabilities(),ue.getAllAngularRootElements=()=>t.getAllRootElements(),ue.frameworkStabilizers||(ue.frameworkStabilizers=[]),ue.frameworkStabilizers.push(r=>{const o=ue.getAllAngularTestabilities();let s=o.length;const a=function(){s--,0==s&&r()};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,i,r){return null==i?null:t.getTestability(i)??(r?Fm().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},deps:[]},{provide:Bee,useClass:hk,deps:[Zo,pk,cE]},{provide:hk,useClass:hk,deps:[Zo,pk,cE]}],une=[{provide:iv,useValue:"root"},{provide:qA,useFactory:function bDe(){return new qA},deps:[]},{provide:Kk,useClass:mDe,multi:!0,deps:[Al,Zo,dc]},{provide:Kk,useClass:_De,multi:!0,deps:[Al]},Zk,ene,Zte,{provide:hO,useExisting:Zk},{provide:zte,useClass:lDe,deps:[]},[]];let cne=(()=>{class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:dC,useValue:i.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(Ar(xDe,12))}}static{this.\u0275mod=Yo({type:e})}static{this.\u0275inj=nr({providers:[...une,...lne],imports:[cd,EBe]})}}return e})(),SDe=(()=>{class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static{this.\u0275fac=function(r){return new(r||e)(Ar(Al))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var po=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(po||{});const r1="*";function tN(e,t){return{type:po.Trigger,name:e,definitions:t,options:{}}}function G5(e,t=null){return{type:po.Animate,styles:t,timings:e}}function o1(e){return{type:po.Style,styles:e,offset:null}}function q5(e,t,i=null){return{type:po.Transition,expr:e,animation:t,options:i}}function kE(e,t=null){return{type:po.Reference,animation:e,options:t}}function NE(e,t=null){return{type:po.AnimateRef,animation:e,options:t}}class jy{constructor(t=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}}class hne{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let i=0,r=0,o=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++i==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const i=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,i/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((i,r)=>null===i||r.totalTime>i.totalTime?r:i,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}}function pne(e){return new ee(3e3,!1)}function Om(e){switch(e.length){case 0:return new jy;case 1:return e[0];default:return new hne(e)}}function gne(e,t,i=new Map,r=new Map){const o=[],s=[];let a=-1,l=null;if(t.forEach(u=>{const c=u.get("offset"),f=c==a,d=f&&l||new Map;u.forEach((h,g)=>{let v=g,y=h;if("offset"!==g)switch(v=e.normalizePropertyName(v,o),y){case"!":y=i.get(g);break;case r1:y=r.get(g);break;default:y=e.normalizeStyleValue(g,v,y,o)}d.set(v,y)}),f||s.push(d),l=d,a=c}),o.length)throw function iTe(e){return new ee(3502,!1)}();return s}function iN(e,t,i,r){switch(t){case"start":e.onStart(()=>r(i&&rN(i,"start",e)));break;case"done":e.onDone(()=>r(i&&rN(i,"done",e)));break;case"destroy":e.onDestroy(()=>r(i&&rN(i,"destroy",e)))}}function rN(e,t,i){const s=oN(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,i.totalTime??e.totalTime,!!i.disabled),a=e._data;return null!=a&&(s._data=a),s}function oN(e,t,i,r,o="",s=0,a){return{element:e,triggerName:t,fromState:i,toState:r,phaseName:o,totalTime:s,disabled:!!a}}function rA(e,t,i){let r=e.get(t);return r||e.set(t,r=i),r}function mne(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const pTe=typeof document>"u"?null:document.documentElement;function sN(e){const t=e.parentNode||e.host||null;return t===pTe?null:t}let Qv=null,vne=!1;function yne(e,t){for(;t;){if(t===e)return!0;t=sN(t)}return!1}function _ne(e,t,i){if(i)return Array.from(e.querySelectorAll(t));const r=e.querySelector(t);return r?[r]:[]}let aN=(()=>{class e{validateStyleProperty(i){return function mTe(e){Qv||(Qv=function vTe(){return typeof document<"u"?document.body:null}()||{},vne=!!Qv.style&&"WebkitAppearance"in Qv.style);let t=!0;return Qv.style&&!function gTe(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Qv.style,!t&&vne&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Qv.style)),t}(i)}matchesElement(i,r){return!1}containsElement(i,r){return yne(i,r)}getParentElement(i){return sN(i)}query(i,r,o){return _ne(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,s,a,l=[],u){return new jy(o,s)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();class lN{static{this.NOOP=new aN}}class uN{}const _Te=1e3,cN="ng-enter",LE="ng-leave",RE="ng-trigger",UE=".ng-trigger",bne="ng-animating",fN=".ng-animating";function s1(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:dN(parseFloat(t[1]),t[2])}function dN(e,t){return"s"===t?e*_Te:e}function PE(e,t,i){return e.hasOwnProperty("duration")?e:function bTe(e,t,i){let o,s=0,a="";if("string"==typeof e){const l=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(pne()),{duration:0,delay:0,easing:""};o=dN(parseFloat(l[1]),l[2]);const u=l[3];null!=u&&(s=dN(parseFloat(u),l[4]));const c=l[5];c&&(a=c)}else o=e;if(!i){let l=!1,u=t.length;o<0&&(t.push(function NDe(){return new ee(3100,!1)}()),l=!0),s<0&&(t.push(function LDe(){return new ee(3101,!1)}()),l=!0),l&&t.splice(u,0,pne())}return{duration:o,delay:s,easing:a}}(e,t,i)}function Fp(e,t,i){t.forEach((r,o)=>{const s=hN(o);i&&!i.has(o)&&i.set(o,e.style[s]),e.style[s]=r})}function Vv(e,t){t.forEach((i,r)=>{const o=hN(r);e.style[o]=""})}function Ky(e){return Array.isArray(e)?1==e.length?e[0]:function DDe(e,t=null){return{type:po.Sequence,steps:e,options:t}}(e):e}const AN=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ene(e){let t=[];if("string"==typeof e){let i;for(;i=AN.exec(e);)t.push(i[1]);AN.lastIndex=0}return t}function Wy(e,t,i){const r=`${e}`,o=r.replace(AN,(s,a)=>{let l=t[a];return null==l&&(i.push(function UDe(e){return new ee(3003,!1)}()),l=""),l.toString()});return o==r?e:o}const xTe=/-+([a-z0-9])/g;function hN(e){return e.replace(xTe,(...t)=>t[1].toUpperCase())}function oA(e,t,i){switch(t.type){case po.Trigger:return e.visitTrigger(t,i);case po.State:return e.visitState(t,i);case po.Transition:return e.visitTransition(t,i);case po.Sequence:return e.visitSequence(t,i);case po.Group:return e.visitGroup(t,i);case po.Animate:return e.visitAnimate(t,i);case po.Keyframes:return e.visitKeyframes(t,i);case po.Style:return e.visitStyle(t,i);case po.Reference:return e.visitReference(t,i);case po.AnimateChild:return e.visitAnimateChild(t,i);case po.AnimateRef:return e.visitAnimateRef(t,i);case po.Query:return e.visitQuery(t,i);case po.Stagger:return e.visitStagger(t,i);default:throw function PDe(e){return new ee(3004,!1)}()}}function pN(e,t){return window.getComputedStyle(e)[t]}const MTe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xne extends uN{normalizePropertyName(t,i){return hN(t)}normalizeStyleValue(t,i,r,o){let s="";const a=r.toString().trim();if(MTe.has(i)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&o.push(function HDe(e,t){return new ee(3005,!1)}())}return a+s}}const HE="*";const QE=new Set(["true","1"]),VE=new Set(["false","0"]);function Sne(e,t){const i=QE.has(e)||VE.has(e),r=QE.has(t)||VE.has(t);return(o,s)=>{let a=e==HE||e==o,l=t==HE||t==s;return!a&&i&&"boolean"==typeof o&&(a=o?QE.has(e):VE.has(e)),!l&&r&&"boolean"==typeof s&&(l=s?QE.has(t):VE.has(t)),a&&l}}const FTe=new RegExp("s*:selfs*,?","g");function gN(e,t,i,r){return new OTe(e).build(t,i,r)}class OTe{constructor(t){this._driver=t}build(t,i,r){const o=new LTe(i);return this._resetContextStyleTimingState(o),oA(this,Ky(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,i){let r=i.queryCount=0,o=i.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&i.errors.push(function QDe(){return new ee(3006,!1)}()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(i),l.type==po.State){const u=l,c=u.name;c.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,s.push(this.visitState(u,i))}),u.name=c}else if(l.type==po.Transition){const u=this.visitTransition(l,i);r+=u.queryCount,o+=u.depCount,a.push(u)}else i.errors.push(function VDe(){return new ee(3007,!1)}())}),{type:po.Trigger,name:t.name,states:s,transitions:a,queryCount:r,depCount:o,options:null}}visitState(t,i){const r=this.visitStyle(t.styles,i),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,a=o||{};r.styles.forEach(l=>{l instanceof Map&&l.forEach(u=>{Ene(u).forEach(c=>{a.hasOwnProperty(c)||s.add(c)})})}),s.size&&i.errors.push(function zDe(e,t){return new ee(3008,!1)}(0,s.values()))}return{type:po.State,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,i){i.queryCount=0,i.depCount=0;const r=oA(this,Ky(t.animation),i),o=function ITe(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function DTe(e,t,i){if(":"==e[0]){const u=function TTe(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,r)=>parseFloat(r)>parseFloat(i);case":decrement":return(i,r)=>parseFloat(r)<parseFloat(i);default:return t.push(function JDe(e){return new ee(3016,!1)}()),"* => *"}}(e,i);if("function"==typeof u)return void t.push(u);e=u}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return i.push(function ZDe(e){return new ee(3015,!1)}()),t;const o=r[1],s=r[2],a=r[3];t.push(Sne(o,a)),"<"==s[0]&&(o!=HE||a!=HE)&&t.push(Sne(a,o))}(r,i,t)):i.push(e),i}(t.expr,i.errors);return{type:po.Transition,matchers:o,animation:r,queryCount:i.queryCount,depCount:i.depCount,options:zv(t.options)}}visitSequence(t,i){return{type:po.Sequence,steps:t.steps.map(r=>oA(this,r,i)),options:zv(t.options)}}visitGroup(t,i){const r=i.currentTime;let o=0;const s=t.steps.map(a=>{i.currentTime=r;const l=oA(this,a,i);return o=Math.max(o,i.currentTime),l});return i.currentTime=o,{type:po.Group,steps:s,options:zv(t.options)}}visitAnimate(t,i){const r=function UTe(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return mN(PE(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=mN(0,0,"");return s.dynamic=!0,s.strValue=i,s}const o=PE(i,t);return mN(o.duration,o.delay,o.easing)}(t.timings,i.errors);i.currentAnimateTimings=r;let o,s=t.styles?t.styles:o1({});if(s.type==po.Keyframes)o=this.visitKeyframes(s,i);else{let a=t.styles,l=!1;if(!a){l=!0;const c={};r.easing&&(c.easing=r.easing),a=o1(c)}i.currentTime+=r.duration+r.delay;const u=this.visitStyle(a,i);u.isEmptyStep=l,o=u}return i.currentAnimateTimings=null,{type:po.Animate,timings:r,style:o,options:null}}visitStyle(t,i){const r=this._makeStyleAst(t,i);return this._validateStyleAst(r,i),r}_makeStyleAst(t,i){const r=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of o)"string"==typeof l?l===r1?r.push(l):i.errors.push(new ee(3002,!1)):r.push(new Map(Object.entries(l)));let s=!1,a=null;return r.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!s))for(let u of l.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:po.Style,styles:r,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,i){const r=i.currentAnimateTimings;let o=i.currentTime,s=i.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,u)=>{const c=i.collectedStyles.get(i.currentQuerySelector),f=c.get(u);let d=!0;f&&(s!=o&&s>=f.startTime&&o<=f.endTime&&(i.errors.push(function GDe(e,t,i,r,o){return new ee(3010,!1)}()),d=!1),s=f.startTime),d&&c.set(u,{startTime:s,endTime:o}),i.options&&function ETe(e,t,i){const r=t.params||{},o=Ene(e);o.length&&o.forEach(s=>{r.hasOwnProperty(s)||i.push(function RDe(e){return new ee(3001,!1)}())})}(l,i.options,i.errors)})})}visitKeyframes(t,i){const r={type:po.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function qDe(){return new ee(3011,!1)}()),r;let s=0;const a=[];let l=!1,u=!1,c=0;const f=t.steps.map(E=>{const M=this._makeStyleAst(E,i);let k=null!=M.offset?M.offset:function RTe(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(i=>{if(i instanceof Map&&i.has("offset")){const r=i;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}return t}(M.styles),P=0;return null!=k&&(s++,P=M.offset=k),u=u||P<0||P>1,l=l||P<c,c=P,a.push(P),M});u&&i.errors.push(function jDe(){return new ee(3012,!1)}()),l&&i.errors.push(function KDe(){return new ee(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?i.errors.push(function WDe(){return new ee(3202,!1)}()):0==s&&(h=1/(d-1));const g=d-1,v=i.currentTime,y=i.currentAnimateTimings,b=y.duration;return f.forEach((E,M)=>{const k=h>0?M==g?1:h*M:a[M],P=k*b;i.currentTime=v+y.delay+P,y.duration=P,this._validateStyleAst(E,i),E.offset=k,r.styles.push(E)}),r}visitReference(t,i){return{type:po.Reference,animation:oA(this,Ky(t.animation),i),options:zv(t.options)}}visitAnimateChild(t,i){return i.depCount++,{type:po.AnimateChild,options:zv(t.options)}}visitAnimateRef(t,i){return{type:po.AnimateRef,animation:this.visitReference(t.animation,i),options:zv(t.options)}}visitQuery(t,i){const r=i.currentQuerySelector,o=t.options||{};i.queryCount++,i.currentQuery=t;const[s,a]=function kTe(e){const t=!!e.split(/\s*,\s*/).find(i=>":self"==i);return t&&(e=e.replace(FTe,"")),e=e.replace(/@\*/g,UE).replace(/@\w+/g,i=>UE+"-"+i.slice(1)).replace(/:animating/g,fN),[e,t]}(t.selector);i.currentQuerySelector=r.length?r+" "+s:s,rA(i.collectedStyles,i.currentQuerySelector,new Map);const l=oA(this,Ky(t.animation),i);return i.currentQuery=null,i.currentQuerySelector=r,{type:po.Query,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:zv(t.options)}}visitStagger(t,i){i.currentQuery||i.errors.push(function XDe(){return new ee(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:PE(t.timings,i.errors,!0);return{type:po.Stagger,animation:oA(this,Ky(t.animation),i),timings:r,options:null}}}class LTe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zv(e){return e?(e={...e}).params&&(e.params=function NTe(e){return e?{...e}:null}(e.params)):e={},e}function mN(e,t,i){return{duration:e,delay:t,easing:i}}function vN(e,t,i,r,o,s,a=null,l=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:r,duration:o,delay:s,totalTime:o+s,easing:a,subTimeline:l}}class zE{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,i){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...i)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const QTe=new RegExp(":enter","g"),zTe=new RegExp(":leave","g");function yN(e,t,i,r,o,s=new Map,a=new Map,l,u,c=[]){return(new $Te).buildKeyframes(e,t,i,r,o,s,a,l,u,c)}class $Te{buildKeyframes(t,i,r,o,s,a,l,u,c,f=[]){c=c||new zE;const d=new _N(t,i,c,o,s,f,[]);d.options=u;const h=u.delay?s1(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([a],null,d.errors,u),oA(this,r,d);const g=d.timelines.filter(v=>v.containsAnimation());if(g.length&&l.size){let v;for(let y=g.length-1;y>=0;y--){const b=g[y];if(b.element===i){v=b;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([l],null,d.errors,u)}return g.length?g.map(v=>v.buildKeyframes()):[vN(i,[],[],[],0,h,"",!1)]}visitTrigger(t,i){}visitState(t,i){}visitTransition(t,i){}visitAnimateChild(t,i){const r=i.subInstructions.get(i.element);if(r){const o=i.createSubContext(t.options),s=i.currentTimeline.currentTime,a=this._visitSubInstructions(r,o,o.options);s!=a&&i.transformIntoNewTimeline(a)}i.previousNode=t}visitAnimateRef(t,i){const r=i.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],i,r),this.visitReference(t.animation,r),i.transformIntoNewTimeline(r.currentTimeline.currentTime),i.previousNode=t}_applyAnimationRefDelays(t,i,r){for(const o of t){const s=o?.delay;if(s){const a="number"==typeof s?s:s1(Wy(s,o?.params??{},i.errors));r.delayNextStep(a)}}}_visitSubInstructions(t,i,r){let s=i.currentTimeline.currentTime;const a=null!=r.duration?s1(r.duration):null,l=null!=r.delay?s1(r.delay):null;return 0!==a&&t.forEach(u=>{const c=i.appendInstructionToTimeline(u,a,l);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,i){i.updateOptions(t.options,!0),oA(this,t.animation,i),i.previousNode=t}visitSequence(t,i){const r=i.subContextCount;let o=i;const s=t.options;if(s&&(s.params||s.delay)&&(o=i.createSubContext(s),o.transformIntoNewTimeline(),null!=s.delay)){o.previousNode.type==po.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=$E);const a=s1(s.delay);o.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>oA(this,a,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),i.previousNode=t}visitGroup(t,i){const r=[];let o=i.currentTimeline.currentTime;const s=t.options&&t.options.delay?s1(t.options.delay):0;t.steps.forEach(a=>{const l=i.createSubContext(t.options);s&&l.delayNextStep(s),oA(this,a,l),o=Math.max(o,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(a=>i.currentTimeline.mergeTimelineCollectedStyles(a)),i.transformIntoNewTimeline(o),i.previousNode=t}_visitTiming(t,i){if(t.dynamic){const r=t.strValue;return PE(i.params?Wy(r,i.params,i.errors):r,i.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,i){const r=i.currentAnimateTimings=this._visitTiming(t.timings,i),o=i.currentTimeline;r.delay&&(i.incrementTime(r.delay),o.snapshotCurrentStyles());const s=t.style;s.type==po.Keyframes?this.visitKeyframes(s,i):(i.incrementTime(r.duration),this.visitStyle(s,i),o.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=t}visitStyle(t,i){const r=i.currentTimeline,o=i.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,i.errors,i.options),i.previousNode=t}visitKeyframes(t,i){const r=i.currentAnimateTimings,o=i.currentTimeline.duration,s=r.duration,l=i.createSubContext().currentTimeline;l.easing=r.easing,t.styles.forEach(u=>{l.forwardTime((u.offset||0)*s),l.setStyles(u.styles,u.easing,i.errors,i.options),l.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(l),i.transformIntoNewTimeline(o+s),i.previousNode=t}visitQuery(t,i){const r=i.currentTimeline.currentTime,o=t.options||{},s=o.delay?s1(o.delay):0;s&&(i.previousNode.type===po.Style||0==r&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=$E);let a=r;const l=i.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,i.errors);i.currentQueryTotal=l.length;let u=null;l.forEach((c,f)=>{i.currentQueryIndex=f;const d=i.createSubContext(t.options,c);s&&d.delayNextStep(s),c===i.element&&(u=d.currentTimeline),oA(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,d.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(a),u&&(i.currentTimeline.mergeTimelineCollectedStyles(u),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=t}visitStagger(t,i){const r=i.parentContext,o=i.currentTimeline,s=t.timings,a=Math.abs(s.duration),l=a*(i.currentQueryTotal-1);let u=a*i.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=l-u;break;case"full":u=r.currentStaggerTime}const f=i.currentTimeline;u&&f.delayNextStep(u);const d=f.currentTime;oA(this,t.animation,i),i.previousNode=t,r.currentStaggerTime=o.currentTime-d+(o.startTime-r.currentTimeline.startTime)}}const $E={};class _N{constructor(t,i,r,o,s,a,l,u){this._driver=t,this.element=i,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$E,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new GE(this._driver,i,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,i){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=s1(r.duration)),null!=r.delay&&(o.delay=s1(r.delay));const s=r.params;if(s){let a=o.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!i||!a.hasOwnProperty(l))&&(a[l]=Wy(s[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const i=this.options.params;if(i){const r=t.params={};Object.keys(i).forEach(o=>{r[o]=i[o]})}}return t}createSubContext(t=null,i,r){const o=i||this.element,s=new _N(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=$E,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,i,r){const o={duration:i??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new GTe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,i,r,o,s,a){let l=[];if(o&&l.push(this.element),t.length>0){t=(t=t.replace(QTe,"."+this._enterClassName)).replace(zTe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),l.push(...c)}return!s&&0==l.length&&a.push(function YDe(e){return new ee(3014,!1)}()),l}}class GE{constructor(t,i,r,o){this._driver=t,this.element=i,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+t),i&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,i){return this.applyStylesToKeyframe(),new GE(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,i){this._localTimelineStyles.set(t,i),this._globalTimelineStyles.set(t,i),this._styleSummary.set(t,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[i,r]of this._globalTimelineStyles)this._backFill.set(i,r||r1),this._currentKeyframe.set(i,r1);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,i,r,o){i&&this._previousKeyframe.set("easing",i);const s=o&&o.params||{},a=function qTe(e,t){const i=new Map;let r;return e.forEach(o=>{if("*"===o){r??=t.keys();for(let s of r)i.set(s,r1)}else for(let[s,a]of o)i.set(s,a)}),i}(t,this._globalTimelineStyles);for(let[l,u]of a){const c=Wy(u,s,r);this._pendingStyles.set(l,c),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??r1),this._updateStyle(l,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,i)=>{this._currentKeyframe.set(i,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,t)}))}snapshotCurrentStyles(){for(let[t,i]of this._localTimelineStyles)this._pendingStyles.set(t,i),this._updateStyle(t,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let i in this._currentKeyframe)t.push(i);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((i,r)=>{const o=this._styleSummary.get(r);(!o||i.time>o.time)&&this._updateStyle(r,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,i=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((l,u)=>{const c=new Map([...this._backFill,...l]);c.forEach((f,d)=>{"!"===f?t.add(d):f===r1&&i.add(d)}),r||c.set("offset",u/this.duration),o.push(c)});const s=[...t.values()],a=[...i.values()];if(r){const l=o[0],u=new Map(l);l.set("offset",0),u.set("offset",1),o=[l,u]}return vN(this.element,o,s,a,this.duration,this.startTime,this.easing,!1)}}class GTe extends GE{constructor(t,i,r,o,s,a,l=!1){super(t,i,a.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:i,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&i){const s=[],a=r+i,l=i/a,u=new Map(t[0]);u.set("offset",0),s.push(u);const c=new Map(t[0]);c.set("offset",Ine(l)),s.push(c);const f=t.length-1;for(let d=1;d<=f;d++){let h=new Map(t[d]);const g=h.get("offset");h.set("offset",Ine((i+g*r)/a)),s.push(h)}r=a,i=0,o="",t=s}return vN(this.element,t,this.preStyleProps,this.postStyleProps,r,i,o,!0)}}function Ine(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}function Dne(e,t,i,r,o,s,a,l,u,c,f,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:o,fromState:i,fromStyles:s,toState:r,toStyles:a,timelines:l,queriedElements:u,preStyleProps:c,postStyleProps:f,totalTime:d,errors:h}}const wN={};class Tne{constructor(t,i,r){this._triggerName=t,this.ast=i,this._stateStyles=r}match(t,i,r,o){return function jTe(e,t,i,r,o){return e.some(s=>s(t,i,r,o))}(this.ast.matchers,t,i,r,o)}buildStyles(t,i,r){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(i,r):new Map}build(t,i,r,o,s,a,l,u,c,f){const d=[],h=this.ast.options&&this.ast.options.params||wN,v=this.buildStyles(r,l&&l.params||wN,d),y=u&&u.params||wN,b=this.buildStyles(o,y,d),E=new Set,M=new Map,k=new Map,P="void"===o,H={params:Fne(y,h),delay:this.ast.options?.delay},X=f?[]:yN(t,i,this.ast.animation,s,a,v,b,H,c,d);let z=0;return X.forEach(se=>{z=Math.max(se.duration+se.delay,z)}),d.length?Dne(i,this._triggerName,r,o,P,v,b,[],[],M,k,z,d):(X.forEach(se=>{const ye=se.element,Ie=rA(M,ye,new Set);se.preStyleProps.forEach(Je=>Ie.add(Je));const Ee=rA(k,ye,new Set);se.postStyleProps.forEach(Je=>Ee.add(Je)),ye!==i&&E.add(ye)}),Dne(i,this._triggerName,r,o,P,v,b,X,[...E.values()],M,k,z))}}function Fne(e,t){const i={...t};return Object.entries(e).forEach(([r,o])=>{null!=o&&(i[r]=o)}),i}class KTe{constructor(t,i,r){this.styles=t,this.defaultParams=i,this.normalizer=r}buildStyles(t,i){const r=new Map,o=Fne(t,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{a&&(a=Wy(a,o,i));const u=this.normalizer.normalizePropertyName(l,i);a=this.normalizer.normalizeStyleValue(l,u,a,i),r.set(l,a)})}),r}}class XTe{constructor(t,i,r){this.name=t,this.ast=i,this._normalizer=r,this.transitionFactories=[],this.states=new Map,i.states.forEach(o=>{this.states.set(o.name,new KTe(o.style,o.options&&o.options.params||{},r))}),One(this.states,"true","1"),One(this.states,"false","0"),i.transitions.forEach(o=>{this.transitionFactories.push(new Tne(t,o,this.states))}),this.fallbackTransition=function YTe(e,t,i){return new Tne(e,{type:po.Transition,animation:{type:po.Sequence,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,i,r,o){return this.transitionFactories.find(a=>a.match(t,i,r,o))||null}matchStyles(t,i,r){return this.fallbackTransition.buildStyles(t,i,r)}}function One(e,t,i){e.has(t)?e.has(i)||e.set(i,e.get(t)):e.has(i)&&e.set(t,e.get(i))}const ZTe=new zE;class JTe{constructor(t,i,r){this.bodyNode=t,this._driver=i,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,i){const r=[],s=gN(this._driver,i,r,[]);if(r.length)throw function rTe(e){return new ee(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,i,r){const o=t.element,s=gne(this._normalizer,t.keyframes,i,r);return this._driver.animate(o,s,t.duration,t.delay,t.easing,[],!0)}create(t,i,r={}){const o=[],s=this._animations.get(t);let a;const l=new Map;if(s?(a=yN(this._driver,i,s,cN,LE,new Map,new Map,r,ZTe,o),a.forEach(f=>{const d=rA(l,f.element,new Map);f.postStyleProps.forEach(h=>d.set(h,null))})):(o.push(function oTe(){return new ee(3300,!1)}()),a=[]),o.length)throw function sTe(e){return new ee(3504,!1)}();l.forEach((f,d)=>{f.forEach((h,g)=>{f.set(g,this._driver.computeStyle(d,g,r1))})});const c=Om(a.map(f=>{const d=l.get(f.element);return this._buildPlayer(f,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const i=this._getPlayer(t);i.destroy(),this._playersById.delete(t);const r=this.players.indexOf(i);r>=0&&this.players.splice(r,1)}_getPlayer(t){const i=this._playersById.get(t);if(!i)throw function aTe(e){return new ee(3301,!1)}();return i}listen(t,i,r,o){const s=oN(i,"","","");return iN(this._getPlayer(t),r,s,o),()=>{}}command(t,i,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,i,o[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const kne="ng-animate-queued",bN="ng-animate-disabled",rFe=[],Nne={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oFe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},t0="__ng_removed";class CN{get params(){return this.options.params}constructor(t,i=""){this.namespaceId=i;const r=t&&t.hasOwnProperty("value");if(this.value=function uFe(e){return e??null}(r?t.value:t),r){const{value:s,...a}=t;this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const i=t.params;if(i){const r=this.options.params;Object.keys(i).forEach(o=>{null==r[o]&&(r[o]=i[o])})}}}const Xy="void",EN=new CN(Xy);class sFe{constructor(t,i,r){this.id=t,this.hostElement=i,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,JA(i,this._hostClassName)}listen(t,i,r,o){if(!this._triggers.has(i))throw function lTe(e,t){return new ee(3302,!1)}();if(null==r||0==r.length)throw function uTe(e){return new ee(3303,!1)}();if(!function cFe(e){return"start"==e||"done"==e}(r))throw function cTe(e,t){return new ee(3400,!1)}();const s=rA(this._elementListeners,t,[]),a={name:i,phase:r,callback:o};s.push(a);const l=rA(this._engine.statesByElement,t,new Map);return l.has(i)||(JA(t,RE),JA(t,RE+"-"+i),l.set(i,EN)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(a);u>=0&&s.splice(u,1),this._triggers.has(i)||l.delete(i)})}}register(t,i){return!this._triggers.has(t)&&(this._triggers.set(t,i),!0)}_getTrigger(t){const i=this._triggers.get(t);if(!i)throw function fTe(e){return new ee(3401,!1)}();return i}trigger(t,i,r,o=!0){const s=this._getTrigger(i),a=new xN(this.id,i,t);let l=this._engine.statesByElement.get(t);l||(JA(t,RE),JA(t,RE+"-"+i),this._engine.statesByElement.set(t,l=new Map));let u=l.get(i);const c=new CN(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),l.set(i,c),u||(u=EN),c.value!==Xy&&u.value===c.value){if(!function AFe(e,t){const i=Object.keys(e),r=Object.keys(t);if(i.length!=r.length)return!1;for(let o=0;o<i.length;o++){const s=i[o];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(u.params,c.params)){const y=[],b=s.matchStyles(u.value,u.params,y),E=s.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{Vv(t,b),Fp(t,E)})}return}const h=rA(this._engine.playersByElement,t,[]);h.forEach(y=>{y.namespaceId==this.id&&y.triggerName==i&&y.queued&&y.destroy()});let g=s.matchTransition(u.value,c.value,t,c.params),v=!1;if(!g){if(!o)return;g=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:g,fromState:u,toState:c,player:a,isFallbackTransition:v}),v||(JA(t,kne),a.onStart(()=>{j5(t,kne)})),a.onDone(()=>{let y=this.players.indexOf(a);y>=0&&this.players.splice(y,1);const b=this._engine.playersByElement.get(t);if(b){let E=b.indexOf(a);E>=0&&b.splice(E,1)}}),this.players.push(a),h.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(i=>i.delete(t)),this._elementListeners.forEach((i,r)=>{this._elementListeners.set(r,i.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const i=this._engine.playersByElement.get(t);i&&(i.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,i){const r=this._engine.driver.query(t,UE,!0);r.forEach(o=>{if(o[t0])return;const s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(a=>a.triggerLeaveAnimation(o,i,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,i,r,o){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const l=[];if(s.forEach((u,c)=>{if(a.set(c,u.value),this._triggers.has(c)){const f=this.trigger(t,c,Xy,o);f&&l.push(f)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,i,a),r&&Om(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const i=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(i&&r){const o=new Set;i.forEach(s=>{const a=s.name;if(o.has(a))return;o.add(a);const u=this._triggers.get(a).fallbackTransition,c=r.get(a)||EN,f=new CN(Xy),d=new xN(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:u,fromState:c,toState:f,player:d,isFallbackTransition:!0})})}}removeNode(t,i){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,i),this.triggerLeaveAnimation(t,i,!0))return;let o=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)o=!0;else{let a=t;for(;a=a.parentNode;)if(r.statesByElement.get(a)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,i);else{const s=t[t0];(!s||s===Nne)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,i))}}insertNode(t,i){JA(t,this._hostClassName)}drainQueuedTransitions(t){const i=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const s=r.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==r.triggerName){const u=oN(s,r.triggerName,r.fromState.value,r.toState.value);u._data=t,iN(r.player,l.phase,u,l.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):i.push(r)}),this._queue=[],i.sort((r,o)=>{const s=r.transition.ast.depCount,a=o.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class aFe{_onRemovalComplete(t,i){this.onRemovalComplete(t,i)}constructor(t,i,r,o){this.bodyNode=t,this.driver=i,this._normalizer=r,this.scheduler=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,a)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(i=>{i.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,i){const r=new sFe(t,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(r,i):(this.newHostElements.set(i,r),this.collectEnterElement(i)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,i){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,l=this.driver.getParentElement(i);for(;l;){const u=o.get(l);if(u){const c=r.indexOf(u);r.splice(c+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}a||r.unshift(t)}else r.push(t);return o.set(i,t),t}register(t,i){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,i)),r}registerTrigger(t,i,r){let o=this._namespaceLookup[t];o&&o.register(i,r)&&this.totalAnimations++}destroy(t,i){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1),r.destroy(i),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const i=new Set,r=this.statesByElement.get(t);if(r)for(let o of r.values())if(o.namespaceId){const s=this._fetchNamespace(o.namespaceId);s&&i.add(s)}return i}trigger(t,i,r,o){if(qE(i)){const s=this._fetchNamespace(t);if(s)return s.trigger(i,r,o),!0}return!1}insertNode(t,i,r,o){if(!qE(i))return;const s=i[t0];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(i);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(i,r)}o&&this.collectEnterElement(i)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,i){i?this.disabledNodes.has(t)||(this.disabledNodes.add(t),JA(t,bN)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),j5(t,bN))}removeNode(t,i,r){if(qE(i)){this.scheduler?.notify();const o=t?this._fetchNamespace(t):null;o?o.removeNode(i,r):this.markElementAsRemoved(t,i,!1,r);const s=this.namespacesByHostElement.get(i);s&&s.id!==t&&s.removeNode(i,r)}else this._onRemovalComplete(i,r)}markElementAsRemoved(t,i,r,o,s){this.collectedLeaveElements.push(i),i[t0]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,i,r,o,s){return qE(i)?this._fetchNamespace(t).listen(i,r,o,s):()=>{}}_buildInstruction(t,i,r,o,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,i,s)}destroyInnerAnimations(t){let i=this.driver.query(t,UE,!0);i.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(t,fN,!0),i.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const i=this.playersByElement.get(t);i&&i.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const i=this.playersByQueriedElement.get(t);i&&i.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Om(this.players).onDone(()=>t());t()})}processLeaveNode(t){const i=t[t0];if(i&&i.setForRemoval){if(t[t0]=Nne,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}t.classList?.contains(bN)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)JA(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{i=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],i.length?Om(i).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function dTe(e){return new ee(3402,!1)}()}_flushAnimations(t,i){const r=new zE,o=[],s=new Map,a=[],l=new Map,u=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(te=>{f.add(te);const Ce=this.driver.query(te,".ng-animate-queued",!0);for(let ce=0;ce<Ce.length;ce++)f.add(Ce[ce])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),g=Une(h,this.collectedEnterElements),v=new Map;let y=0;g.forEach((te,Ce)=>{const ce=cN+y++;v.set(Ce,ce),te.forEach(we=>JA(we,ce))});const b=[],E=new Set,M=new Set;for(let te=0;te<this.collectedLeaveElements.length;te++){const Ce=this.collectedLeaveElements[te],ce=Ce[t0];ce&&ce.setForRemoval&&(b.push(Ce),E.add(Ce),ce.hasAnimation?this.driver.query(Ce,".ng-star-inserted",!0).forEach(we=>E.add(we)):M.add(Ce))}const k=new Map,P=Une(h,Array.from(E));P.forEach((te,Ce)=>{const ce=LE+y++;k.set(Ce,ce),te.forEach(we=>JA(we,ce))}),t.push(()=>{g.forEach((te,Ce)=>{const ce=v.get(Ce);te.forEach(we=>j5(we,ce))}),P.forEach((te,Ce)=>{const ce=k.get(Ce);te.forEach(we=>j5(we,ce))}),b.forEach(te=>{this.processLeaveNode(te)})});const H=[],X=[];for(let te=this._namespaceList.length-1;te>=0;te--)this._namespaceList[te].drainQueuedTransitions(i).forEach(ce=>{const we=ce.player,Be=ce.element;if(H.push(we),this.collectedEnterElements.length){const sn=Be[t0];if(sn&&sn.setForMove){if(sn.previousTriggersValues&&sn.previousTriggersValues.has(ce.triggerName)){const fi=sn.previousTriggersValues.get(ce.triggerName),wt=this.statesByElement.get(ce.element);if(wt&&wt.has(ce.triggerName)){const ln=wt.get(ce.triggerName);ln.value=fi,wt.set(ce.triggerName,ln)}}return void we.destroy()}}const tt=!d||!this.driver.containsElement(d,Be),lt=k.get(Be),Mt=v.get(Be),bt=this._buildInstruction(ce,r,Mt,lt,tt);if(bt.errors&&bt.errors.length)return void X.push(bt);if(tt)return we.onStart(()=>Vv(Be,bt.fromStyles)),we.onDestroy(()=>Fp(Be,bt.toStyles)),void o.push(we);if(ce.isFallbackTransition)return we.onStart(()=>Vv(Be,bt.fromStyles)),we.onDestroy(()=>Fp(Be,bt.toStyles)),void o.push(we);const Vt=[];bt.timelines.forEach(sn=>{sn.stretchStartingKeyframe=!0,this.disabledNodes.has(sn.element)||Vt.push(sn)}),bt.timelines=Vt,r.append(Be,bt.timelines),a.push({instruction:bt,player:we,element:Be}),bt.queriedElements.forEach(sn=>rA(l,sn,[]).push(we)),bt.preStyleProps.forEach((sn,fi)=>{if(sn.size){let wt=u.get(fi);wt||u.set(fi,wt=new Set),sn.forEach((ln,wn)=>wt.add(wn))}}),bt.postStyleProps.forEach((sn,fi)=>{let wt=c.get(fi);wt||c.set(fi,wt=new Set),sn.forEach((ln,wn)=>wt.add(wn))})});if(X.length){const te=[];X.forEach(Ce=>{te.push(function ATe(e,t){return new ee(3505,!1)}())}),H.forEach(Ce=>Ce.destroy()),this.reportError(te)}const z=new Map,se=new Map;a.forEach(te=>{const Ce=te.element;r.has(Ce)&&(se.set(Ce,Ce),this._beforeAnimationBuild(te.player.namespaceId,te.instruction,z))}),o.forEach(te=>{const Ce=te.element;this._getPreviousPlayers(Ce,!1,te.namespaceId,te.triggerName,null).forEach(we=>{rA(z,Ce,[]).push(we),we.destroy()})});const ye=b.filter(te=>Hne(te,u,c)),Ie=new Map;Rne(Ie,this.driver,M,c,r1).forEach(te=>{Hne(te,u,c)&&ye.push(te)});const Je=new Map;g.forEach((te,Ce)=>{Rne(Je,this.driver,new Set(te),u,"!")}),ye.forEach(te=>{const Ce=Ie.get(te),ce=Je.get(te);Ie.set(te,new Map([...Ce?.entries()??[],...ce?.entries()??[]]))});const Ze=[],W=[],Z={};a.forEach(te=>{const{element:Ce,player:ce,instruction:we}=te;if(r.has(Ce)){if(f.has(Ce))return ce.onDestroy(()=>Fp(Ce,we.toStyles)),ce.disabled=!0,ce.overrideTotalTime(we.totalTime),void o.push(ce);let Be=Z;if(se.size>1){let lt=Ce;const Mt=[];for(;lt=lt.parentNode;){const bt=se.get(lt);if(bt){Be=bt;break}Mt.push(lt)}Mt.forEach(bt=>se.set(bt,Be))}const tt=this._buildAnimation(ce.namespaceId,we,z,s,Je,Ie);if(ce.setRealPlayer(tt),Be===Z)Ze.push(ce);else{const lt=this.playersByElement.get(Be);lt&&lt.length&&(ce.parentPlayer=Om(lt)),o.push(ce)}}else Vv(Ce,we.fromStyles),ce.onDestroy(()=>Fp(Ce,we.toStyles)),W.push(ce),f.has(Ce)&&o.push(ce)}),W.forEach(te=>{const Ce=s.get(te.element);if(Ce&&Ce.length){const ce=Om(Ce);te.setRealPlayer(ce)}}),o.forEach(te=>{te.parentPlayer?te.syncPlayerEvents(te.parentPlayer):te.destroy()});for(let te=0;te<b.length;te++){const Ce=b[te],ce=Ce[t0];if(j5(Ce,LE),ce&&ce.hasAnimation)continue;let we=[];if(l.size){let tt=l.get(Ce);tt&&tt.length&&we.push(...tt);let lt=this.driver.query(Ce,fN,!0);for(let Mt=0;Mt<lt.length;Mt++){let bt=l.get(lt[Mt]);bt&&bt.length&&we.push(...bt)}}const Be=we.filter(tt=>!tt.destroyed);Be.length?fFe(this,Ce,Be):this.processLeaveNode(Ce)}return b.length=0,Ze.forEach(te=>{this.players.push(te),te.onDone(()=>{te.destroy();const Ce=this.players.indexOf(te);this.players.splice(Ce,1)}),te.play()}),Ze}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,i,r,o,s){let a=[];if(i){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const u=!s||s==Xy;l.forEach(c=>{c.queued||!u&&c.triggerName!=o||a.push(c)})}}return(r||o)&&(a=a.filter(l=>!(r&&r!=l.namespaceId||o&&o!=l.triggerName))),a}_beforeAnimationBuild(t,i,r){const s=i.element,a=i.isRemovalTransition?void 0:t,l=i.isRemovalTransition?void 0:i.triggerName;for(const u of i.timelines){const c=u.element,f=c!==s,d=rA(r,c,[]);this._getPreviousPlayers(c,f,a,l,i.toState).forEach(g=>{const v=g.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),g.destroy(),d.push(g)})}Vv(s,i.fromStyles)}_buildAnimation(t,i,r,o,s,a){const l=i.triggerName,u=i.element,c=[],f=new Set,d=new Set,h=i.timelines.map(v=>{const y=v.element;f.add(y);const b=y[t0];if(b&&b.removedBeforeQueried)return new jy(v.duration,v.delay);const E=y!==u,M=function dFe(e){const t=[];return Pne(e,t),t}((r.get(y)||rFe).map(z=>z.getRealPlayer())).filter(z=>!!z.element&&z.element===y),k=s.get(y),P=a.get(y),H=gne(this._normalizer,v.keyframes,k,P),X=this._buildPlayer(v,H,M);if(v.subTimeline&&o&&d.add(y),E){const z=new xN(t,l,y);z.setRealPlayer(X),c.push(z)}return X});c.forEach(v=>{rA(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function lFe(e,t,i){let r=e.get(t);if(r){if(r.length){const o=r.indexOf(i);r.splice(o,1)}0==r.length&&e.delete(t)}return r}(this.playersByQueriedElement,v.element,v))}),f.forEach(v=>JA(v,bne));const g=Om(h);return g.onDestroy(()=>{f.forEach(v=>j5(v,bne)),Fp(u,i.toStyles)}),d.forEach(v=>{rA(o,v,[]).push(g)}),g}_buildPlayer(t,i,r){return i.length>0?this.driver.animate(t.element,i,t.duration,t.delay,t.easing,r):new jy(t.duration,t.delay)}}class xN{constructor(t,i,r){this.namespaceId=t,this.triggerName=i,this.element=r,this._player=new jy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((i,r)=>{i.forEach(o=>iN(t,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const i=this._player;i.triggerCallback&&t.onStart(()=>i.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,i){rA(this._queuedCallbacks,t,[]).push(i)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const i=this._player;i.triggerCallback&&i.triggerCallback(t)}}function qE(e){return e&&1===e.nodeType}function Lne(e,t){const i=e.style.display;return e.style.display=t??"none",i}function Rne(e,t,i,r,o){const s=[];i.forEach(u=>s.push(Lne(u)));const a=[];r.forEach((u,c)=>{const f=new Map;u.forEach(d=>{const h=t.computeStyle(c,d,o);f.set(d,h),(!h||0==h.length)&&(c[t0]=oFe,a.push(c))}),e.set(c,f)});let l=0;return i.forEach(u=>Lne(u,s[l++])),a}function Une(e,t){const i=new Map;if(e.forEach(l=>i.set(l,[])),0==t.length)return i;const o=new Set(t),s=new Map;function a(l){if(!l)return 1;let u=s.get(l);if(u)return u;const c=l.parentNode;return u=i.has(c)?c:o.has(c)?1:a(c),s.set(l,u),u}return t.forEach(l=>{const u=a(l);1!==u&&i.get(u).push(l)}),i}function JA(e,t){e.classList?.add(t)}function j5(e,t){e.classList?.remove(t)}function fFe(e,t,i){Om(i).onDone(()=>e.processLeaveNode(t))}function Pne(e,t){for(let i=0;i<e.length;i++){const r=e[i];r instanceof hne?Pne(r.players,t):t.push(r)}}function Hne(e,t,i){const r=i.get(e);if(!r)return!1;let o=t.get(e);return o?r.forEach(s=>o.add(s)):t.set(e,r),i.delete(e),!0}class Yy{constructor(t,i,r,o){this._driver=i,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,a)=>{},this._transitionEngine=new aFe(t.body,i,r,o),this._timelineEngine=new JTe(t.body,i,r),this._transitionEngine.onRemovalComplete=(s,a)=>this.onRemovalComplete(s,a)}registerTrigger(t,i,r,o,s){const a=t+"-"+o;let l=this._triggerCache[a];if(!l){const u=[],f=gN(this._driver,s,u,[]);if(u.length)throw function nTe(e,t){return new ee(3404,!1)}();l=function WTe(e,t,i){return new XTe(e,t,i)}(o,f,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(i,o,l)}register(t,i){this._transitionEngine.register(t,i)}destroy(t,i){this._transitionEngine.destroy(t,i)}onInsert(t,i,r,o){this._transitionEngine.insertNode(t,i,r,o)}onRemove(t,i,r){this._transitionEngine.removeNode(t,i,r)}disableAnimations(t,i){this._transitionEngine.markElementAsDisabled(t,i)}process(t,i,r,o){if("@"==r.charAt(0)){const[s,a]=mne(r);this._timelineEngine.command(s,i,a,o)}else this._transitionEngine.trigger(t,i,r,o)}listen(t,i,r,o,s){if("@"==r.charAt(0)){const[a,l]=mne(r);return this._timelineEngine.listen(a,i,l,s)}return this._transitionEngine.listen(t,i,r,o,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}class Zy{static{this.initialStylesByElement=new WeakMap}constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=Zy.initialStylesByElement.get(t);o||Zy.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Fp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fp(this._element,this._initialStyles),this._endStyles&&(Fp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Zy.initialStylesByElement.delete(this._element),this._startStyles&&(Vv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vv(this._element,this._endStyles),this._endStyles=null),Fp(this._element,this._initialStyles),this._state=3)}}function SN(e){let t=null;return e.forEach((i,r)=>{(function pFe(e){return"display"===e||"position"===e})(r)&&(t=t||new Map,t.set(r,i))}),t}class Qne{constructor(t,i,r,o){this.element=t,this.keyframes=i,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const i=[];return t.forEach(r=>{i.push(Object.fromEntries(r))}),i}_triggerWebAnimation(t,i,r){return t.animate(this._convertKeyframesToObject(i),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&t.set(o,this._finished?r:pN(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const i="start"===t?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}}class Vne{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,i){return!1}containsElement(t,i){return yne(t,i)}getParentElement(t){return sN(t)}query(t,i,r){return _ne(t,i,r)}computeStyle(t,i,r){return pN(t,i)}animate(t,i,r,o,s,a=[]){const u={duration:r,delay:o,fill:0==o?"both":"forwards"};s&&(u.easing=s);const c=new Map,f=a.filter(g=>g instanceof Qne);(function STe(e,t){return 0===e||0===t})(r,o)&&f.forEach(g=>{g.currentSnapshot.forEach((v,y)=>c.set(y,v))});let d=function CTe(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[]}(i).map(g=>new Map(g));d=function BTe(e,t,i){if(i.size&&t.length){let r=t[0],o=[];if(i.forEach((s,a)=>{r.has(a)||o.push(a),r.set(a,s)}),o.length)for(let s=1;s<t.length;s++){let a=t[s];o.forEach(l=>a.set(l,pN(e,l)))}}return t}(t,d,c);const h=function hFe(e,t){let i=null,r=null;return Array.isArray(t)&&t.length?(i=SN(t[0]),t.length>1&&(r=SN(t[t.length-1]))):t instanceof Map&&(i=SN(t)),i||r?new Zy(e,i,r):null}(t,d);return new Qne(t,d,u,h)}}const zne="@.disabled";class $ne{constructor(t,i,r,o){this.namespaceId=t,this.delegate=i,this.engine=r,this._onDestroy=o,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,i){this.delegate.appendChild(t,i),this.engine.onInsert(this.namespaceId,i,t,!1)}insertBefore(t,i,r,o=!0){this.delegate.insertBefore(t,i,r),this.engine.onInsert(this.namespaceId,i,t,o)}removeChild(t,i,r){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,r,o){this.delegate.setAttribute(t,i,r,o)}removeAttribute(t,i,r){this.delegate.removeAttribute(t,i,r)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,r,o){this.delegate.setStyle(t,i,r,o)}removeStyle(t,i,r){this.delegate.removeStyle(t,i,r)}setProperty(t,i,r){"@"==i.charAt(0)&&i==zne?this.disableAnimations(t,!!r):this.delegate.setProperty(t,i,r)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,r){return this.delegate.listen(t,i,r)}disableAnimations(t,i){this.engine.disableAnimations(t,i)}}class gFe extends $ne{constructor(t,i,r,o,s){super(i,r,o,s),this.factory=t,this.namespaceId=i}setProperty(t,i,r){"@"==i.charAt(0)?"."==i.charAt(1)&&i==zne?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,i.slice(1),r):this.delegate.setProperty(t,i,r)}listen(t,i,r){if("@"==i.charAt(0)){const o=function mFe(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=i.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function vFe(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(t,i,r)}}class yFe{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!t||!i?.data?.animation){const c=this._rendererCache;let f=c.get(o);return f||(f=new $ne("",o,this.engine,()=>c.delete(o)),c.set(o,f)),f}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(s,a,t,c.name,c)};return i.data.animation.forEach(l),new gFe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>i(r));const o=this._animationCallbacksBuffer;0==o.length&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),o.push([i,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let _Fe=(()=>{class e extends Yy{constructor(i,r,o){super(i,r,o,Kn(UC,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||e)(Ar(Al),Ar(lN),Ar(uN))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();const Gne=[{provide:uN,useFactory:function wFe(){return new xne}},{provide:Yy,useClass:_Fe},{provide:hO,useFactory:function bFe(e,t,i){return new yFe(e,t,i)},deps:[Zk,Yy,Zo]}],BN=[{provide:lN,useFactory:()=>new Vne},{provide:RW,useValue:"BrowserAnimations"},...Gne],qne=[{provide:lN,useClass:aN},{provide:RW,useValue:"NoopAnimations"},...Gne];let CFe=(()=>{class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?qne:BN}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Yo({type:e})}static{this.\u0275inj=nr({providers:BN,imports:[cne]})}}return e})();const jne=e=>t=>{for(let i=0,r=e.length;i<r&&!t.closed;i++)t.next(e[i]);t.complete()},KE=function xFe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Kne=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Wne(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const MN=e=>{if(e&&"function"==typeof e[hi])return(e=>t=>{const i=e[hi]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(t)})(e);if(Kne(e))return jne(e);if(Wne(e))return(e=>t=>(e.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,vt),t))(e);if(e&&"function"==typeof e[KE])return(e=>t=>{const i=e[KE]();for(;;){let r;try{r=i.next()}catch(o){return t.error(o),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof i.return&&t.add(()=>{i.return&&i.return()}),t})(e);{const i=`You provided ${Ye(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(i)}};function IN(e,t){return new ni(i=>{const r=new yt;let o=0;return r.add(t.schedule(function(){o!==e.length?(i.next(e[o++]),i.closed||r.add(this.schedule())):i.complete()})),r})}function Cu(e,t){return t?function OFe(e,t){if(null!=e){if(function TFe(e){return e&&"function"==typeof e[hi]}(e))return function MFe(e,t){return new ni(i=>{const r=new yt;return r.add(t.schedule(()=>{const o=e[hi]();r.add(o.subscribe({next(s){r.add(t.schedule(()=>i.next(s)))},error(s){r.add(t.schedule(()=>i.error(s)))},complete(){r.add(t.schedule(()=>i.complete()))}}))})),r})}(e,t);if(Wne(e))return function IFe(e,t){return new ni(i=>{const r=new yt;return r.add(t.schedule(()=>e.then(o=>{r.add(t.schedule(()=>{i.next(o),r.add(t.schedule(()=>i.complete()))}))},o=>{r.add(t.schedule(()=>i.error(o)))}))),r})}(e,t);if(Kne(e))return IN(e,t);if(function FFe(e){return e&&"function"==typeof e[KE]}(e)||"string"==typeof e)return function DFe(e,t){if(!e)throw new Error("Iterable cannot be null");return new ni(i=>{const r=new yt;let o;return r.add(()=>{o&&"function"==typeof o.return&&o.return()}),r.add(t.schedule(()=>{o=e[KE](),r.add(t.schedule(function(){if(i.closed)return;let s,a;try{const l=o.next();s=l.value,a=l.done}catch(l){return void i.error(l)}a?i.complete():(i.next(s),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof ni?e:new ni(MN(e))}function WE(e,t){return new ni(i=>{const r=e.length;if(0===r)return void i.complete();const o=new Array(r);let s=0,a=0;for(let l=0;l<r;l++){const u=Cu(e[l]);let c=!1;i.add(u.subscribe({next:f=>{c||(c=!0,a++),o[l]=f},error:f=>i.error(f),complete:()=>{s++,(s===r||!c)&&(a===r&&i.next(t?t.reduce((f,d,h)=>(f[d]=o[h],f),{}):o),i.complete())}}))}})}let Xne=(()=>{class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static{this.\u0275fac=function(r){return new(r||e)(Wt(Ru),Wt(rs))}}static{this.\u0275dir=Lr({type:e})}}return e})(),$v=(()=>{class e extends Xne{static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})()}static{this.\u0275dir=Lr({type:e,features:[Wo]})}}return e})();const fd=new ai(""),NFe={provide:fd,useExisting:En(()=>DN),multi:!0};let DN=(()=>{class e extends $v{writeValue(i){this.setProperty("checked",i)}static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})()}static{this.\u0275dir=Lr({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){1&r&&ki("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[ra([NFe]),Wo]})}}return e})();const LFe={provide:fd,useExisting:En(()=>Jy),multi:!0},UFe=new ai("");let Jy=(()=>{class e extends Xne{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function RFe(){const e=Fm()?Fm().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static{this.\u0275fac=function(r){return new(r||e)(Wt(Ru),Wt(rs),Wt(UFe,8))}}static{this.\u0275dir=Lr({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&ki("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ra([LFe]),Wo]})}}return e})();function km(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}const Uc=new ai(""),Nm=new ai("");function XE(e){return null}function sie(e){return null!=e}function aie(e){return Ny(e)?Cu(e):e}function lie(e){let t={};return e.forEach(i=>{t=null!=i?{...t,...i}:t}),0===Object.keys(t).length?null:t}function uie(e,t){return t.map(i=>i(e))}function cie(e){return e.map(t=>function HFe(e){return!e.validate}(t)?t:i=>t.validate(i))}function TN(e){return null!=e?function fie(e){if(!e)return null;const t=e.filter(sie);return 0==t.length?null:function(i){return lie(uie(i,t))}}(cie(e)):null}function FN(e){return null!=e?function die(e){if(!e)return null;const t=e.filter(sie);return 0==t.length?null:function(i){return function kFe(...e){if(1===e.length){const t=e[0];if(Nt(t))return WE(t,null);if(Ye(t)&&Object.getPrototypeOf(t)===Object.prototype){const i=Object.keys(t);return WE(i.map(r=>t[r]),i)}}if("function"==typeof e[e.length-1]){const t=e.pop();return WE(e=1===e.length&&Nt(e[0])?e[0]:e,null).pipe(j(i=>t(...i)))}return WE(e,null)}(uie(i,t).map(aie)).pipe(j(lie))}}(cie(e)):null}function Aie(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ON(e){return e?Array.isArray(e)?e:[e]:[]}function YE(e,t){return Array.isArray(e)?e.includes(t):e===t}function gie(e,t){const i=ON(t);return ON(e).forEach(o=>{YE(i,o)||i.push(o)}),i}function mie(e,t){return ON(t).filter(i=>!YE(e,i))}class vie{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=TN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=FN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}class Mf extends vie{get formDirective(){return null}get path(){return null}}class Lm extends vie{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yie{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kN=(()=>{class e extends yie{constructor(i){super(i)}static{this.\u0275fac=function(r){return new(r||e)(Wt(Lm,2))}}static{this.\u0275dir=Lr({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&Wh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Wo]})}}return e})(),_ie=(()=>{class e extends yie{constructor(i){super(i)}static{this.\u0275fac=function(r){return new(r||e)(Wt(Mf,10))}}static{this.\u0275dir=Lr({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&Wh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Wo]})}}return e})();const e7="VALID",JE="INVALID",K5="PENDING",t7="DISABLED";function RN(e){return(ex(e)?e.validators:e)||null}function UN(e,t){return(ex(t)?t.asyncValidators:e)||null}function ex(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class PN{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===e7}get invalid(){return this.status===JE}get pending(){return this.status==K5}get disabled(){return this.status===t7}get enabled(){return this.status!==t7}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(gie(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(gie(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(mie(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(mie(t,this._rawAsyncValidators))}hasValidator(t){return YE(this._rawValidators,t)}hasAsyncValidator(t){return YE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=K5,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=t7,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:i}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=e7,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:i}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===e7||this.status===K5)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?t7:e7}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=K5,this._hasOwnPendingAsyncValidator=!0;const i=aie(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(!1!==i.emitEvent)}get(t){let i=t;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((r,o)=>r&&r._find(o),this)}getError(t,i){const r=i?this.get(i):this;return r&&r.errors?r.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Xi,this.statusChanges=new Xi}_calculateStatus(){return this._allControlsDisabled()?t7:this.errors?JE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(K5)?K5:this._anyControlsHaveStatus(JE)?JE:e7}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ex(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function $Fe(e){return Array.isArray(e)?TN(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function GFe(e){return Array.isArray(e)?FN(e):e||null}(this._rawAsyncValidators)}}class HN extends PN{constructor(t,i,r){super(RN(i),UN(r,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,r={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){(function Cie(e,t,i){e._forEachChild((r,o)=>{if(void 0===i[o])throw new ee(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function bie(e,t,i){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[i])throw new ee(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,r)=>(t[r]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,r)=>!!r._syncPendingControls()||i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{const r=this.controls[i];r&&t(r,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[i,r]of Object.entries(this.controls))if(this.contains(i)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(i,r,o)=>((r.enabled||this.disabled)&&(i[o]=r.value),i))}_reduceChildren(t,i){let r=t;return this._forEachChild((o,s)=>{r=i(r,o,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const W5=new ai("CallSetDisabledState",{providedIn:"root",factory:()=>tx}),tx="always";function n7(e,t,i=tx){QN(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===i)&&t.valueAccessor.setDisabledState?.(e.disabled),function KFe(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Eie(e,t)})}(e,t),function XFe(e,t){const i=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}(e,t),function WFe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Eie(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function jFe(e,t){if(t.valueAccessor.setDisabledState){const i=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}(e,t)}function rx(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function QN(e,t){const i=function hie(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Aie(i,t.validator)):"function"==typeof i&&e.setValidators([i]);const r=function pie(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Aie(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();rx(t._rawValidators,o),rx(t._rawAsyncValidators,o)}function Eie(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const tOe={provide:Mf,useExisting:En(()=>sx)},i7=Promise.resolve();let sx=(()=>{class e extends Mf{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Xi,this.form=new HN({},TN(i),FN(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){i7.then(()=>{const r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),n7(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){i7.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){i7.then(()=>{const r=this._findContainer(i.path),o=new HN({});(function xie(e,t){QN(e,t)})(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){i7.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){i7.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,function Sie(e,t){e._syncPendingControls(),t.forEach(i=>{const r=i.control;"submit"===r.updateOn&&r._pendingChange&&(i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}static{this.\u0275fac=function(r){return new(r||e)(Wt(Uc,10),Wt(Nm,10),Wt(W5,8))}}static{this.\u0275dir=Lr({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){1&r&&ki("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[cn.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ra([tOe]),Wo]})}}return e})();function Bie(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function Mie(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Iie=class extends PN{constructor(t=null,i,r){super(RN(i),UN(r,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ex(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=Mie(t)?t.value:t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Bie(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Bie(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Mie(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},rOe={provide:Lm,useExisting:En(()=>ax)},Fie=Promise.resolve();let ax=(()=>{class e extends Lm{constructor(i,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Iie,this._registered=!1,this.name="",this.update=new Xi,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function $N(e,t){if(!t)return null;let i,r,o;return Array.isArray(t),t.forEach(s=>{s.constructor===Jy?i=s:function JFe(e){return Object.getPrototypeOf(e.constructor)===$v}(s)?r=s:o=s}),o||r||i||null}(0,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),function zN(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){n7(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){Fie.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const r=i.isDisabled.currentValue,o=0!==r&&pr(r);Fie.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?function nx(e,t){return[...t.path,e]}(i,this._parent):[i]}static{this.\u0275fac=function(r){return new(r||e)(Wt(Mf,9),Wt(Uc,10),Wt(Nm,10),Wt(fd,10),Wt(ld,8),Wt(W5,8))}}static{this.\u0275dir=Lr({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[cn.None,"disabled","isDisabled"],model:[cn.None,"ngModel","model"],options:[cn.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ra([rOe]),Wo,Il]})}}return e})(),Oie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Lr({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();const oOe={provide:fd,useExisting:En(()=>lx),multi:!0};let lx=(()=>{class e extends $v{writeValue(i){this.setProperty("value",i??"")}registerOnChange(i){this.onChange=r=>{i(""==r?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})()}static{this.\u0275dir=Lr({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){1&r&&ki("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[ra([oOe]),Wo]})}}return e})();const sOe={provide:fd,useExisting:En(()=>GN),multi:!0};let aOe=(()=>{class e{constructor(){this._accessors=[]}add(i,r){this._accessors.push([i,r])}remove(i){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===i)return void this._accessors.splice(r,1)}select(i){this._accessors.forEach(r=>{this._isSameGroup(r,i)&&r[1]!==i&&r[1].fireUncheck(i.value)})}_isSameGroup(i,r){return!!i[0].control&&i[0]._parent===r._control._parent&&i[1].name===r.name}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),GN=(()=>{class e extends $v{constructor(i,r,o,s){super(i,r),this._registry=o,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Kn(W5,{optional:!0})??tx}ngOnInit(){this._control=this._injector.get(Lm),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(i){this._state=i===this.value,this.setProperty("checked",this._state)}registerOnChange(i){this._fn=i,this.onChange=()=>{i(this.value),this._registry.select(this)}}setDisabledState(i){(this.setDisabledStateFired||i||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",i),this.setDisabledStateFired=!0}fireUncheck(i){this.writeValue(i)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||e)(Wt(Ru),Wt(rs),Wt(aOe),Wt(Dl))}}static{this.\u0275dir=Lr({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,o){1&r&&ki("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ra([sOe]),Wo]})}}return e})();function Vie(e){return"number"==typeof e?e:parseFloat(e)}let Gv=(()=>{class e{constructor(){this._validator=XE}ngOnChanges(i){if(this.inputName in i){const r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):XE,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return null!=i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Lr({type:e,features:[Il]})}}return e})();const _Oe={provide:Uc,useExisting:En(()=>YN),multi:!0};let YN=(()=>{class e extends Gv{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=i=>Vie(i),this.createValidator=i=>function Jne(e){return t=>{if(km(t.value)||km(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}(i)}static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})()}static{this.\u0275dir=Lr({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ci("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[ra([_Oe]),Wo]})}}return e})();const wOe={provide:Uc,useExisting:En(()=>ZN),multi:!0};let ZN=(()=>{class e extends Gv{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=i=>Vie(i),this.createValidator=i=>function Zne(e){return t=>{if(km(t.value)||km(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}(i)}static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})()}static{this.\u0275dir=Lr({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ci("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[ra([wOe]),Wo]})}}return e})(),MOe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Yo({type:e})}static{this.\u0275inj=nr({})}}return e})(),Kie=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:W5,useValue:i.callSetDisabledState??tx}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Yo({type:e})}static{this.\u0275inj=nr({imports:[MOe]})}}return e})();function eL(e){return e&&"function"==typeof e.schedule}function Wie(e,t){return t?IN(e,t):new ni(jne(e))}function uo(...e){let t=e[e.length-1];return eL(t)?(e.pop(),IN(e,t)):Wie(e)}class ux extends mt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class cx extends mt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function fx(e,t){if(t.closed)return;if(e instanceof ni)return e.subscribe(t);let i;try{i=MN(e)(t)}catch(r){t.error(r)}return i}function If(e,t,i=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(If((o,s)=>Cu(e(o,s)).pipe(j((a,l)=>t(o,a,s,l))),i)):("number"==typeof t&&(i=t),r=>r.lift(new DOe(e,i)))}class DOe{constructor(t,i=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=i}call(t,i){return i.subscribe(new TOe(t,this.project,this.concurrent))}}class TOe extends cx{constructor(t,i,r=Number.POSITIVE_INFINITY){super(t),this.project=i,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let i;const r=this.index++;try{i=this.project(t,r)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(i)}_innerSub(t){const i=new ux(this),r=this.destination;r.add(i);const o=fx(t,i);o!==i&&r.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function X5(e,t){return If(e,t,1)}function n0(e,t){return function(r){return r.lift(new FOe(e,t))}}class FOe{constructor(t,i){this.predicate=t,this.thisArg=i}call(t,i){return i.subscribe(new OOe(t,this.predicate,this.thisArg))}}class OOe extends mt{constructor(t,i,r){super(t),this.predicate=i,this.thisArg=r,this.count=0}_next(t){let i;try{i=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}i&&this.destination.next(t)}}function r7(e){return t=>t.lift(new kOe(e))}class kOe{constructor(t){this.callback=t}call(t,i){return i.subscribe(new NOe(t,this.callback))}}class NOe extends mt{constructor(t,i){super(t),this.add(new yt(i))}}function eh(e,t){return"function"==typeof t?i=>i.pipe(eh((r,o)=>Cu(e(r,o)).pipe(j((s,a)=>t(r,s,o,a))))):i=>i.lift(new LOe(e))}class LOe{constructor(t){this.project=t}call(t,i){return i.subscribe(new ROe(t,this.project))}}class ROe extends cx{constructor(t,i){super(t),this.project=i,this.index=0}_next(t){let i;const r=this.index++;try{i=this.project(t,r)}catch(o){return void this.destination.error(o)}this._innerSub(i)}_innerSub(t){const i=this.innerSubscription;i&&i.unsubscribe();const r=new ux(this),o=this.destination;o.add(r),this.innerSubscription=fx(t,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}class dx{}class Ax{}class th{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(i=>{const r=i.indexOf(":");if(r>0){const o=i.slice(0,r),s=o.toLowerCase(),a=i.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,r)=>{this.setHeaderEntries(r,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,r])=>{this.setHeaderEntries(i,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof th?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){const i=new th;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof th?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){const i=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,i);const o=("a"===t.op?this.headers.get(i):void 0)||[];o.push(...r),this.headers.set(i,o);break;case"d":const s=t.value;if(s){let a=this.headers.get(i);if(!a)return;a=a.filter(l=>-1===s.indexOf(l)),0===a.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,a)}else this.headers.delete(i),this.normalizedNames.delete(i)}}setHeaderEntries(t,i){const r=(Array.isArray(i)?i:[i]).map(s=>s.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}}class UOe{encodeKey(t){return Xie(t)}encodeValue(t){return Xie(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const HOe=/%(\d[a-f0-9])/gi,QOe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xie(e){return encodeURIComponent(e).replace(HOe,(t,i)=>QOe[i]??t)}function hx(e){return`${e}`}class Rm{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new UOe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function POe(e,t){const i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[a,l]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],u=i.get(a)||[];u.push(l),i.set(a,u)}),i}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{const r=t.fromObject[i],o=Array.isArray(r)?r.map(hx):[hx(r)];this.map.set(i,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){const i=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{i.push({param:r,value:s,op:"a"})}):i.push({param:r,value:o,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const i=this.encoder.encodeKey(t);return this.map.get(t).map(r=>i+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const i=new Rm({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const i=("a"===t.op?this.map.get(t.param):void 0)||[];i.push(hx(t.value)),this.map.set(t.param,i);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(hx(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class VOe{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Yie(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Zie(e){return typeof Blob<"u"&&e instanceof Blob}function Jie(e){return typeof FormData<"u"&&e instanceof FormData}class o7{constructor(t,i,r,o){let s;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function zOe(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new th,this.context??=new VOe,this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=i;else{const l=i.indexOf("?");this.urlWithParams=i+(-1===l?"?":l<i.length-1?"&":"")+a}}else this.params=new Rm,this.urlWithParams=i}serializeBody(){return null===this.body?null:"string"==typeof this.body||Yie(this.body)||Zie(this.body)||Jie(this.body)||function $Oe(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Rm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jie(this.body)?null:Zie(this.body)?this.body.type||null:Yie(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=t.transferCache??this.transferCache,a=void 0!==t.body?t.body:this.body,l=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress;let c=t.headers||this.headers,f=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((h,g)=>h.set(g,t.setHeaders[g]),c)),t.setParams&&(f=Object.keys(t.setParams).reduce((h,g)=>h.set(g,t.setParams[g]),f)),new o7(i,r,a,{params:f,headers:c,context:d,reportProgress:u,responseType:o,withCredentials:l,transferCache:s})}}var Um=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Um||{});class tL{constructor(t,i=s7.Ok,r="OK"){this.headers=t.headers||new th,this.status=void 0!==t.status?t.status:i,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class px extends tL{constructor(t={}){super(t),this.type=Um.ResponseHeader}clone(t={}){return new px({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class qv extends tL{constructor(t={}){super(t),this.type=Um.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new qv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Y5 extends tL{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var s7=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(s7||{});function nL(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let GOe=(()=>{class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof o7)s=i;else{let u,c;u=o.headers instanceof th?o.headers:new th(o.headers),o.params&&(c=o.params instanceof Rm?o.params:new Rm({fromObject:o.params})),s=new o7(i,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const a=uo(s).pipe(X5(u=>this.handler.handle(u)));if(i instanceof o7||"events"===o.observe)return a;const l=a.pipe(n0(u=>u instanceof qv));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(j(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(j(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(j(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return l.pipe(j(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:(new Rm).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,nL(o,r))}post(i,r,o={}){return this.request("POST",i,nL(o,r))}put(i,r,o={}){return this.request("PUT",i,nL(o,r))}static{this.\u0275fac=function(r){return new(r||e)(Ar(dx))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();function tre(e,t){return t(e)}function XOe(e,t){return(i,r)=>t.intercept(i,{handle:o=>e(o,r)})}const ZOe=new ai(""),a7=new ai(""),nre=new ai(""),ire=new ai("");function JOe(){let e=null;return(t,i)=>{null===e&&(e=(Kn(ZOe,{optional:!0})??[]).reduceRight(XOe,tre));const r=Kn(Bm),o=r.add();return e(t,i).pipe(r7(()=>r.remove(o)))}}let rre=(()=>{class e extends dx{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=Kn(Bm);const o=Kn(ire,{optional:!0});this.backend=o??i}handle(i){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(a7),...this.injector.get(nre,[])]));this.chain=o.reduceRight((s,a)=>function YOe(e,t,i){return(r,o)=>nc(i,()=>t(r,s=>e(s,o)))}(s,a,this.injector),tre)}const r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(r7(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(Ar(Ax),Ar(su))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();const rke=/^\)\]\}',?\n/;let sre=(()=>{class e{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new ee(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Cu(r.\u0275loadImpl()):uo(null)).pipe(eh(()=>new ni(s=>{const a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((y,b)=>a.setRequestHeader(y,b.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const y=i.detectContentTypeHeader();null!==y&&a.setRequestHeader("Content-Type",y)}if(i.responseType){const y=i.responseType.toLowerCase();a.responseType="json"!==y?y:"text"}const l=i.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const y=a.statusText||"OK",b=new th(a.getAllResponseHeaders()),E=function oke(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||i.url;return u=new px({headers:b,status:a.status,statusText:y,url:E}),u},f=()=>{let{headers:y,status:b,statusText:E,url:M}=c(),k=null;b!==s7.NoContent&&(k=typeof a.response>"u"?a.responseText:a.response),0===b&&(b=k?s7.Ok:0);let P=b>=200&&b<300;if("json"===i.responseType&&"string"==typeof k){const H=k;k=k.replace(rke,"");try{k=""!==k?JSON.parse(k):null}catch(X){k=H,P&&(P=!1,k={error:X,text:k})}}P?(s.next(new qv({body:k,headers:y,status:b,statusText:E,url:M||void 0})),s.complete()):s.error(new Y5({error:k,headers:y,status:b,statusText:E,url:M||void 0}))},d=y=>{const{url:b}=c(),E=new Y5({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:b||void 0});s.error(E)};let h=!1;const g=y=>{h||(s.next(c()),h=!0);let b={type:Um.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),"text"===i.responseType&&a.responseText&&(b.partialText=a.responseText),s.next(b)},v=y=>{let b={type:Um.UploadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),s.next(b)};return a.addEventListener("load",f),a.addEventListener("error",d),a.addEventListener("timeout",d),a.addEventListener("abort",d),i.reportProgress&&(a.addEventListener("progress",g),null!==l&&a.upload&&a.upload.addEventListener("progress",v)),a.send(l),s.next({type:Um.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",f),a.removeEventListener("timeout",d),i.reportProgress&&(a.removeEventListener("progress",g),null!==l&&a.upload&&a.upload.removeEventListener("progress",v)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(Ar(zte))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();const oL=new ai(""),are=new ai("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),lre=new ai("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ure{}let lke=(()=>{class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fte(i,this.cookieName),this.lastCookieString=i),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(Ar(Al),Ar(dc),Ar(are))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();function uke(e,t){const i=e.url.toLowerCase();if(!Kn(oL)||"GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return t(e);const r=Kn(ure).getToken(),o=Kn(lre);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var Pm=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Pm||{});function jv(e,t){return{\u0275kind:e,\u0275providers:t}}function cke(...e){const t=[GOe,sre,rre,{provide:dx,useExisting:rre},{provide:Ax,useExisting:sre},{provide:a7,useValue:uke,multi:!0},{provide:oL,useValue:!0},{provide:ure,useClass:lke}];for(const i of e)t.push(...i.\u0275providers);return function kg(e){return{\u0275providers:e}}(t)}const cre=new ai("");let dke=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Yo({type:e})}static{this.\u0275inj=nr({providers:[cke(jv(Pm.LegacyInterceptors,[{provide:cre,useFactory:JOe},{provide:a7,useExisting:cre,multi:!0}]))]})}}return e})();class yke extends mt{notifyNext(t,i,r,o,s){this.destination.next(i)}notifyError(t,i){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class _ke extends mt{constructor(t,i,r){super(),this.parent=t,this.outerValue=i,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function wke(e,t,i,r,o=new _ke(e,i,r)){if(!o.closed)return t instanceof ni?t.subscribe(o):MN(t)(o)}const vre={};function sL(...e){let t,i;return eL(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Nt(e[0])&&(e=e[0]),Wie(e,i).lift(new bke(t))}class bke{constructor(t){this.resultSelector=t}call(t,i){return i.subscribe(new Cke(t,this.resultSelector))}}class Cke extends yke{constructor(t,i){super(t),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(vre),this.observables.push(t)}_complete(){const t=this.observables,i=t.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let r=0;r<i;r++)this.add(wke(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,i,r){const o=this.values,a=this.toRespond?o[r]===vre?--this.toRespond:this.toRespond:0;o[r]=i,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let i;try{i=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(i)}}const mx=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function l7(e=Number.POSITIVE_INFINITY){return If(ti,e)}function aL(...e){return function Eke(){return l7(1)}()(uo(...e))}const Hm=new ni(e=>e.complete());function lL(e){return e?function xke(e){return new ni(t=>e.schedule(()=>t.complete()))}(e):Hm}function yre(e){return new ni(t=>{let i;try{i=e()}catch(o){return void t.error(o)}return(i?Cu(i):lL()).subscribe(t)})}function vx(e,t){return new ni(t?i=>t.schedule(Ske,0,{error:e,subscriber:i}):i=>i.error(e))}function Ske({error:e,subscriber:t}){t.error(e)}function uL(){return function(t){return t.lift(new Bke(t))}}class Bke{constructor(t){this.connectable=t}call(t,i){const{connectable:r}=this;r._refCount++;const o=new Mke(t,r),s=i.subscribe(o);return o.closed||(o.connection=r.connect()),s}}class Mke extends mt{constructor(t,i){super(t),this.connectable=i}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const i=t._refCount;if(i<=0)return void(this.connection=null);if(t._refCount=i-1,i>1)return void(this.connection=null);const{connection:r}=this,o=t._connection;this.connection=null,o&&(!r||o===r)&&o.unsubscribe()}}class cL extends ni{constructor(t,i){super(),this.source=t,this.subjectFactory=i,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new yt,t.add(this.source.subscribe(new Ike(this.getSubject(),this))),t.closed&&(this._connection=null,t=yt.EMPTY)),t}refCount(){return uL()(this)}}class Ike extends ui{constructor(t,i){super(t),this.connectable=i}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const i=t._connection;t._refCount=0,t._subject=null,t._connection=null,i&&i.unsubscribe()}}}const _re=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Z5(e){return t=>0===e?lL():t.lift(new Tke(e))}class Tke{constructor(t){if(this.total=t,this.total<0)throw new _re}call(t,i){return i.subscribe(new Fke(t,this.total))}}class Fke extends mt{constructor(t,i){super(t),this.total=i,this.count=0}_next(t){const i=this.total,r=++this.count;r<=i&&(this.destination.next(t),r===i&&(this.destination.complete(),this.unsubscribe()))}}function yx(e=null){return t=>t.lift(new kke(e))}class kke{constructor(t){this.defaultValue=t}call(t,i){return i.subscribe(new Nke(t,this.defaultValue))}}class Nke extends mt{constructor(t,i){super(t),this.defaultValue=i,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function wre(e=Uke){return t=>t.lift(new Lke(e))}class Lke{constructor(t){this.errorFactory=t}call(t,i){return i.subscribe(new Rke(t,this.errorFactory))}}class Rke extends mt{constructor(t,i){super(t),this.errorFactory=i,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(i){t=i}this.destination.error(t)}}}function Uke(){return new mx}function Kv(e,t){const i=arguments.length>=2;return r=>r.pipe(e?n0((o,s)=>e(o,s,r)):ti,Z5(1),i?yx(t):wre(()=>new mx))}function Qm(){}function Df(e,t,i){return function(o){return o.lift(new Pke(e,t,i))}}class Pke{constructor(t,i,r){this.nextOrObserver=t,this.error=i,this.complete=r}call(t,i){return i.subscribe(new Hke(t,this.nextOrObserver,this.error,this.complete))}}class Hke extends mt{constructor(t,i,r,o){super(t),this._tapNext=Qm,this._tapError=Qm,this._tapComplete=Qm,this._tapError=r||Qm,this._tapComplete=o||Qm,_e(i)?(this._context=this,this._tapNext=i):i&&(this._context=i,this._tapNext=i.next||Qm,this._tapError=i.error||Qm,this._tapComplete=i.complete||Qm)}_next(t){try{this._tapNext.call(this._context,t)}catch(i){return void this.destination.error(i)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(i){return void this.destination.error(i)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function u7(e){return function(i){const r=new Qke(e),o=i.lift(r);return r.caught=o}}class Qke{constructor(t){this.selector=t}call(t,i){return i.subscribe(new Vke(t,this.selector,this.caught))}}class Vke extends cx{constructor(t,i,r){super(t),this.selector=i,this.caught=r}error(t){if(!this.isStopped){let i;try{i=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new ux(this);this.add(r);const o=fx(i,r);o!==r&&this.add(o)}}}class $ke{constructor(t,i,r=!1){this.accumulator=t,this.seed=i,this.hasSeed=r}call(t,i){return i.subscribe(new Gke(t,this.accumulator,this.seed,this.hasSeed))}}class Gke extends mt{constructor(t,i,r,o){super(t),this.accumulator=i,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const i=this.index++;let r;try{r=this.accumulator(this.seed,t,i)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function fL(e){return function(i){return 0===e?lL():i.lift(new qke(e))}}class qke{constructor(t){if(this.total=t,this.total<0)throw new _re}call(t,i){return i.subscribe(new jke(t,this.total))}}class jke extends mt{constructor(t,i){super(t),this.total=i,this.ring=new Array,this.count=0}_next(t){const i=this.ring,r=this.total,o=this.count++;i.length<r?i.push(t):i[o%r]=t}_complete(){const t=this.destination;let i=this.count;if(i>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let s=0;s<r;s++){const a=i++%r;t.next(o[a])}}t.complete()}}class Xke{constructor(t){this.value=t}call(t,i){return i.subscribe(new Yke(t,this.value))}}class Yke extends mt{constructor(t,i){super(t),this.value=i}_next(t){this.destination.next(this.value)}}class Jke{constructor(t){this.notifier=t}call(t,i){const r=new eNe(t),o=fx(this.notifier,new ux(r));return o&&!r.seenValue?(r.add(o),i.subscribe(r)):r}}class eNe extends cx{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const zo="primary",c7=Symbol("RouteTitle");class tNe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function J5(e){return new tNe(e)}function nNe(e,t,i){const r=i.path.split("/");if(r.length>e.length||"full"===i.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let s=0;s<r.length;s++){const a=r[s],l=e[s];if(a.startsWith(":"))o[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Op(e,t){const i=e?dL(e):void 0,r=t?dL(t):void 0;if(!i||!r||i.length!=r.length)return!1;let o;for(let s=0;s<i.length;s++)if(o=i[s],!bre(e[o],t[o]))return!1;return!0}function dL(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function bre(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const i=[...e].sort(),r=[...t].sort();return i.every((o,s)=>r[s]===o)}return e===t}function Cre(e){return e.length>0?e[e.length-1]:null}function Vm(e){return function vke(e){return!!e&&(e instanceof ni||"function"==typeof e.lift&&"function"==typeof e.subscribe)}(e)?e:Ny(e)?Cu(Promise.resolve(e)):uo(e)}const rNe={exact:function Sre(e,t,i){if(!Wv(e.segments,t.segments)||!_x(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!Sre(e.children[r],t.children[r],i))return!1;return!0},subset:Bre},Ere={exact:function oNe(e,t){return Op(e,t)},subset:function sNe(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>bre(e[i],t[i]))},ignored:()=>!0};function xre(e,t,i){return rNe[i.paths](e.root,t.root,i.matrixParams)&&Ere[i.queryParams](e.queryParams,t.queryParams)&&!("exact"===i.fragment&&e.fragment!==t.fragment)}function Bre(e,t,i){return Mre(e,t,t.segments,i)}function Mre(e,t,i,r){if(e.segments.length>i.length){const o=e.segments.slice(0,i.length);return!(!Wv(o,i)||t.hasChildren()||!_x(o,i,r))}if(e.segments.length===i.length){if(!Wv(e.segments,i)||!_x(e.segments,i,r))return!1;for(const o in t.children)if(!e.children[o]||!Bre(e.children[o],t.children[o],r))return!1;return!0}{const o=i.slice(0,e.segments.length),s=i.slice(e.segments.length);return!!(Wv(e.segments,o)&&_x(e.segments,o,r)&&e.children[zo])&&Mre(e.children[zo],t,s,r)}}function _x(e,t,i){return t.every((r,o)=>Ere[i](e[o].parameters,r.parameters))}class e6{constructor(t=new ma([],{}),i={},r=null){this.root=t,this.queryParams=i,this.fragment=r}get queryParamMap(){return this._queryParamMap??=J5(this.queryParams),this._queryParamMap}toString(){return uNe.serialize(this)}}class ma{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wx(this)}}class f7{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=J5(this.parameters),this._parameterMap}toString(){return Tre(this)}}function Wv(e,t){return e.length===t.length&&e.every((i,r)=>i.path===t[r].path)}let t6=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:()=>new AL,providedIn:"root"})}}return e})();class AL{parse(t){const i=new _Ne(t);return new e6(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){const i=`/${d7(t.root,!0)}`,r=function dNe(e){const t=Object.entries(e).map(([i,r])=>Array.isArray(r)?r.map(o=>`${bx(i)}=${bx(o)}`).join("&"):`${bx(i)}=${bx(r)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}(t.queryParams),o="string"==typeof t.fragment?`#${function cNe(e){return encodeURI(e)}(t.fragment)}`:"";return`${i}${r}${o}`}}const uNe=new AL;function wx(e){return e.segments.map(t=>Tre(t)).join("/")}function d7(e,t){if(!e.hasChildren())return wx(e);if(t){const i=e.children[zo]?d7(e.children[zo],!1):"",r=[];return Object.entries(e.children).forEach(([o,s])=>{o!==zo&&r.push(`${o}:${d7(s,!1)}`)}),r.length>0?`${i}(${r.join("//")})`:i}{const i=function lNe(e,t){let i=[];return Object.entries(e.children).forEach(([r,o])=>{r===zo&&(i=i.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==zo&&(i=i.concat(t(o,r)))}),i}(e,(r,o)=>o===zo?[d7(e.children[zo],!1)]:[`${o}:${d7(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[zo]?`${wx(e)}/${i[0]}`:`${wx(e)}/(${i.join("//")})`}}function Ire(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bx(e){return Ire(e).replace(/%3B/gi,";")}function hL(e){return Ire(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cx(e){return decodeURIComponent(e)}function Dre(e){return Cx(e.replace(/\+/g,"%20"))}function Tre(e){return`${hL(e.path)}${function fNe(e){return Object.entries(e).map(([t,i])=>`;${hL(t)}=${hL(i)}`).join("")}(e.parameters)}`}const ANe=/^[^\/()?;#]+/;function pL(e){const t=e.match(ANe);return t?t[0]:""}const hNe=/^[^\/()?;=#]+/,gNe=/^[^=?&#]+/,vNe=/^[^&#]+/;class _Ne{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ma([],{}):new ma([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(r[zo]=new ma(t,i)),r}parseSegment(){const t=pL(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(t),new f7(Cx(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const i=function pNe(e){const t=e.match(hNe);return t?t[0]:""}(this.remaining);if(!i)return;this.capture(i);let r="";if(this.consumeOptional("=")){const o=pL(this.remaining);o&&(r=o,this.capture(r))}t[Cx(i)]=Cx(r)}parseQueryParam(t){const i=function mNe(e){const t=e.match(gNe);return t?t[0]:""}(this.remaining);if(!i)return;this.capture(i);let r="";if(this.consumeOptional("=")){const a=function yNe(e){const t=e.match(vNe);return t?t[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const o=Dre(i),s=Dre(r);if(t.hasOwnProperty(o)){let a=t[o];Array.isArray(a)||(a=[a],t[o]=a),a.push(s)}else t[o]=s}parseParens(t){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=pL(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=zo);const a=this.parseChildren();i[s]=1===Object.keys(a).length?a[zo]:new ma([],a),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ee(4011,!1)}}function Fre(e){return e.segments.length>0?new ma([],{[zo]:e}):e}function Ore(e){const t={};for(const[r,o]of Object.entries(e.children)){const s=Ore(o);if(r===zo&&0===s.segments.length&&s.hasChildren())for(const[a,l]of Object.entries(s.children))t[a]=l;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function wNe(e){if(1===e.numberOfChildren&&e.children[zo]){const t=e.children[zo];return new ma(e.segments.concat(t.segments),t.children)}return e}(new ma(e.segments,t))}function n6(e){return e instanceof e6}function kre(e){let t;const o=Fre(function i(s){const a={};for(const u of s.children){const c=i(u);a[u.outlet]=c}const l=new ma(s.url,a);return s===e&&(t=l),l}(e.root));return t??o}function Nre(e,t,i,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return gL(o,o,o,i,r);const s=function CNe(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Rre(!0,0,e);let t=0,i=!1;const r=e.reduce((o,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Object.entries(s.outlets).forEach(([u,c])=>{l[u]="string"==typeof c?c.split("/"):c}),[...o,{outlets:l}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===a?(s.split("/").forEach((l,u)=>{0==u&&"."===l||(0==u&&""===l?i=!0:".."===l?t++:""!=l&&o.push(l))}),o):[...o,s]},[]);return new Rre(i,t,r)}(t);if(s.toRoot())return gL(o,o,new ma([],{}),i,r);const a=function ENe(e,t,i){if(e.isAbsolute)return new xx(t,!0,0);if(!i)return new xx(t,!1,NaN);if(null===i.parent)return new xx(i,!0,0);const r=Ex(e.commands[0])?0:1;return function xNe(e,t,i){let r=e,o=t,s=i;for(;s>o;){if(s-=o,r=r.parent,!r)throw new ee(4005,!1);o=r.segments.length}return new xx(r,!1,o-s)}(i,i.segments.length-1+r,e.numberOfDoubleDots)}(s,o,e),l=a.processChildren?h7(a.segmentGroup,a.index,s.commands):Ure(a.segmentGroup,a.index,s.commands);return gL(o,a.segmentGroup,l,i,r)}function Ex(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function A7(e){return"object"==typeof e&&null!=e&&e.outlets}function gL(e,t,i,r,o){let a,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),a=e===t?i:Lre(e,t,i);const l=Fre(Ore(a));return new e6(l,s,o)}function Lre(e,t,i){const r={};return Object.entries(e.children).forEach(([o,s])=>{r[o]=s===t?i:Lre(s,t,i)}),new ma(e.segments,r)}class Rre{constructor(t,i,r){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=r,t&&r.length>0&&Ex(r[0]))throw new ee(4003,!1);const o=r.find(A7);if(o&&o!==Cre(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xx{constructor(t,i,r){this.segmentGroup=t,this.processChildren=i,this.index=r}}function Ure(e,t,i){if(e??=new ma([],{}),0===e.segments.length&&e.hasChildren())return h7(e,t,i);const r=function BNe(e,t,i){let r=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=i.length)return s;const a=e.segments[o],l=i[r];if(A7(l))break;const u=`${l}`,c=r<i.length-1?i[r+1]:null;if(o>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Hre(u,c,a))return s;r+=2}else{if(!Hre(u,{},a))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,i),o=i.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new ma(e.segments.slice(0,r.pathIndex),{});return s.children[zo]=new ma(e.segments.slice(r.pathIndex),e.children),h7(s,0,o)}return r.match&&0===o.length?new ma(e.segments,{}):r.match&&!e.hasChildren()?mL(e,t,i):r.match?h7(e,0,o):mL(e,t,i)}function h7(e,t,i){if(0===i.length)return new ma(e.segments,{});{const r=function SNe(e){return A7(e[0])?e[0].outlets:{[zo]:e}}(i),o={};if(Object.keys(r).some(s=>s!==zo)&&e.children[zo]&&1===e.numberOfChildren&&0===e.children[zo].segments.length){const s=h7(e.children[zo],t,i);return new ma(e.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(o[s]=Ure(e.children[s],t,a))}),Object.entries(e.children).forEach(([s,a])=>{void 0===r[s]&&(o[s]=a)}),new ma(e.segments,o)}}function mL(e,t,i){const r=e.segments.slice(0,t);let o=0;for(;o<i.length;){const s=i[o];if(A7(s)){const u=MNe(s.outlets);return new ma(r,u)}if(0===o&&Ex(i[0])){r.push(new f7(e.segments[t].path,Pre(i[0]))),o++;continue}const a=A7(s)?s.outlets[zo]:`${s}`,l=o<i.length-1?i[o+1]:null;a&&l&&Ex(l)?(r.push(new f7(a,Pre(l))),o+=2):(r.push(new f7(a,{})),o++)}return new ma(r,{})}function MNe(e){const t={};return Object.entries(e).forEach(([i,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[i]=mL(new ma([],{}),0,r))}),t}function Pre(e){const t={};return Object.entries(e).forEach(([i,r])=>t[i]=`${r}`),t}function Hre(e,t,i){return e==i.path&&Op(t,i.parameters)}const p7="imperative";var cs=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(cs||{});class kp{constructor(t,i){this.id=t,this.url=i}}class Sx extends kp{constructor(t,i,r="imperative",o=null){super(t,i),this.type=cs.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class a1 extends kp{constructor(t,i,r){super(t,i),this.urlAfterRedirects=r,this.type=cs.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var sA=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(sA||{}),Bx=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Bx||{});class i6 extends kp{constructor(t,i,r,o){super(t,i),this.reason=r,this.code=o,this.type=cs.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class r6 extends kp{constructor(t,i,r,o){super(t,i),this.reason=r,this.code=o,this.type=cs.NavigationSkipped}}class Mx extends kp{constructor(t,i,r,o){super(t,i),this.error=r,this.target=o,this.type=cs.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qre extends kp{constructor(t,i,r,o){super(t,i),this.urlAfterRedirects=r,this.state=o,this.type=cs.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class INe extends kp{constructor(t,i,r,o){super(t,i),this.urlAfterRedirects=r,this.state=o,this.type=cs.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DNe extends kp{constructor(t,i,r,o,s){super(t,i),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=cs.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TNe extends kp{constructor(t,i,r,o){super(t,i),this.urlAfterRedirects=r,this.state=o,this.type=cs.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FNe extends kp{constructor(t,i,r,o){super(t,i),this.urlAfterRedirects=r,this.state=o,this.type=cs.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ONe{constructor(t){this.route=t,this.type=cs.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kNe{constructor(t){this.route=t,this.type=cs.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NNe{constructor(t){this.snapshot=t,this.type=cs.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LNe{constructor(t){this.snapshot=t,this.type=cs.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RNe{constructor(t){this.snapshot=t,this.type=cs.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UNe{constructor(t){this.snapshot=t,this.type=cs.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vre{constructor(t,i,r){this.routerEvent=t,this.position=i,this.anchor=r,this.type=cs.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vL{}class yL{constructor(t){this.url=t}}class PNe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new g7,this.attachRef=null}}let g7=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new PNe,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class zre{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){const i=_L(t,this._root);return i?i.children.map(r=>r.value):[]}firstChild(t){const i=_L(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){const i=wL(t,this._root);return i.length<2?[]:i[i.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return wL(t,this._root).map(i=>i.value)}}function _L(e,t){if(e===t.value)return t;for(const i of t.children){const r=_L(e,i);if(r)return r}return null}function wL(e,t){if(e===t.value)return[t];for(const i of t.children){const r=wL(e,i);if(r.length)return r.unshift(t),r}return[]}class r0{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}}function o6(e){const t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}class $re extends zre{constructor(t,i){super(t),this.snapshot=i,EL(this,t)}toString(){return this.snapshot.toString()}}function Gre(e){const t=function HNe(e){const s=new CL([],{},{},"",{},zo,e,null,{});return new qre("",new r0(s,[]))}(e),i=new Pr([new f7("",{})]),r=new Pr({}),o=new Pr({}),s=new Pr({}),a=new Pr(""),l=new s6(i,r,s,a,o,zo,e,t.root);return l.snapshot=t.root,new $re(new r0(l,[]),t)}class s6{constructor(t,i,r,o,s,a,l,u){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=a,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(j(c=>c[c7]))??uo(void 0),this.url=t,this.params=i,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(t=>J5(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(t=>J5(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bL(e,t,i="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==i&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&Kre(o)&&(r.resolve[c7]=o.title),r}class CL{get title(){return this.data?.[c7]}constructor(t,i,r,o,s,a,l,u,c){this.url=t,this.params=i,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=a,this.component=l,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=J5(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=J5(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qre extends zre{constructor(t,i){super(i),this.url=t,EL(this,i)}toString(){return jre(this._root)}}function EL(e,t){t.value._routerState=e,t.children.forEach(i=>EL(e,i))}function jre(e){const t=e.children.length>0?` { ${e.children.map(jre).join(", ")} } `:"";return`${e.value}${t}`}function xL(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Op(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),Op(t.params,i.params)||e.paramsSubject.next(i.params),function iNe(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Op(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.urlSubject.next(i.url),Op(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function SL(e,t){const i=Op(e.params,t.params)&&function aNe(e,t){return Wv(e,t)&&e.every((i,r)=>Op(i.parameters,t[r].parameters))}(e.url,t.url);return i&&!(!e.parent!=!t.parent)&&(!e.parent||SL(e.parent,t.parent))}function Kre(e){return"string"==typeof e.title||null===e.title}let BL=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=zo,this.activateEvents=new Xi,this.deactivateEvents=new Xi,this.attachEvents=new Xi,this.detachEvents=new Xi,this.parentContexts=Kn(g7),this.location=Kn(tA),this.changeDetector=Kn(ld),this.environmentInjector=Kn(su),this.inputBinder=Kn(Ix,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=i;const o=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new ML(i,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Lr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Il]})}}return e})();class ML{__ngOutletInjector(t){return new ML(this.route,this.childContexts,t)}constructor(t,i,r){this.route=t,this.childContexts=i,this.parent=r}get(t,i){return t===s6?this.route:t===g7?this.childContexts:this.parent.get(t,i)}}const Ix=new ai("");let Wre=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:r}=i,o=sL([r.queryParams,r.params,r.data]).pipe(eh(([s,a,l],u)=>(l={...s,...a,...l},0===u?uo(l):Promise.resolve(l)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(i);const a=function oMe(e){const t=wo(e);if(!t)return null;const i=new gy(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(a)for(const{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,o)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();function m7(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=t.value;const o=function VNe(e,t,i){return t.children.map(r=>{for(const o of i.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return m7(e,r,o);return m7(e,r)})}(e,t,i);return new r0(r,o)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>m7(e,l)),a}}const r=function zNe(e){return new s6(new Pr(e.url),new Pr(e.params),new Pr(e.queryParams),new Pr(e.fragment),new Pr(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(s=>m7(e,s));return new r0(r,o)}}const Xre="ngNavigationCancelingError";function Yre(e,t){const{redirectTo:i,navigationBehaviorOptions:r}=n6(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Zre(!1,sA.Redirect);return o.url=i,o.navigationBehaviorOptions=r,o}function Zre(e,t){const i=new Error(`NavigationCancelingError: ${e||""}`);return i[Xre]=!0,i.cancellationCode=t,i}function Jre(e){return!!e&&e[Xre]}let eoe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=mo({type:e,selectors:[["ng-component"]],standalone:!0,features:[Pu],decls:1,vars:0,template:function(r,o){1&r&&yi(0,"router-outlet")},dependencies:[BL],encapsulation:2})}}return e})();function IL(e){const t=e.children&&e.children.map(IL),i=t?{...e,children:t}:{...e};return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==zo&&(i.component=eoe),i}function Np(e){return e.outlet||zo}function v7(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class YNe{constructor(t,i,r,o,s){this.routeReuseStrategy=t,this.futureState=i,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=s}activate(t){const i=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,r,t),xL(this.futureState.root),this.activateChildRoutes(i,r,t)}deactivateChildRoutes(t,i,r){const o=o6(i);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,o[a],r),delete o[a]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,i,r){const o=t.value,s=i?i.value:null;if(o===s)if(o.component){const a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(t,i,a.children)}else this.deactivateChildRoutes(t,i,r);else s&&this.deactivateRouteAndItsChildren(i,r)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){const r=i.getContext(t.value.outlet),o=r&&t.value.component?r.children:i,s=o6(t);for(const a of Object.values(s))this.deactivateRouteAndItsChildren(a,o);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,i){const r=i.getContext(t.value.outlet),o=r&&t.value.component?r.children:i,s=o6(t);for(const a of Object.values(s))this.deactivateRouteAndItsChildren(a,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,i,r){const o=o6(i);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new UNe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new LNe(t.value.snapshot))}activateRoutes(t,i,r){const o=t.value,s=i?i.value:null;if(xL(o),o===s)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,i,a.children)}else this.activateChildRoutes(t,i,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),xL(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=v7(o.snapshot);a.attachRef=null,a.route=o,a.injector=l,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,r)}}class toe{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Dx{constructor(t,i){this.component=t,this.route=i}}function ZNe(e,t,i){const r=e._root;return y7(r,t?t._root:null,i,[r.value])}function a6(e,t){const i=Symbol(),r=t.get(e,i);return r===i?"function"!=typeof e||function No(e){return null!==Cr(e)}(e)?t.get(e):e:r}function y7(e,t,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=o6(t);return e.children.forEach(a=>{(function eLe(e,t,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=t?t.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function tLe(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!Wv(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Wv(e.url,t.url)||!Op(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SL(e,t)||!Op(e.queryParams,t.queryParams);default:return!SL(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new toe(r)):(s.data=a.data,s._resolvedData=a._resolvedData),y7(e,t,s.component?l?l.children:null:i,r,o),u&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new Dx(l.outlet.component,a))}else a&&_7(t,l,o),o.canActivateChecks.push(new toe(r)),y7(e,null,s.component?l?l.children:null:i,r,o)})(a,s[a.value.outlet],i,r.concat([a.value]),o),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,l])=>_7(l,i.getContext(a),o)),o}function _7(e,t,i){const r=o6(e),o=e.value;Object.entries(r).forEach(([s,a])=>{_7(a,o.component?t?t.children.getContext(s):null:t,i)}),i.canDeactivateChecks.push(new Dx(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function w7(e){return"function"==typeof e}function noe(e){return e instanceof mx||"EmptyError"===e?.name}const Tx=Symbol("INITIAL_VALUE");function l6(){return eh(e=>sL(e.map(t=>t.pipe(Z5(1),function Oke(...e){const t=e[e.length-1];return eL(t)?(e.pop(),i=>aL(e,i,t)):i=>aL(e,i)}(Tx)))).pipe(j(t=>{for(const i of t)if(!0!==i){if(i===Tx)return Tx;if(!1===i||i instanceof e6)return i}return!0}),n0(t=>t!==Tx),Z5(1)))}function ioe(e){return function Br(...e){return mi(e)}(Df(t=>{if(n6(t))throw Yre(0,t)}),j(t=>!0===t))}class DL{constructor(t){this.segmentGroup=t||null}}class TL extends Error{constructor(t){super(),this.urlTree=t}}function u6(e){return vx(new DL(e))}class _Le{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let r=[],o=i.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return uo(r);if(o.numberOfChildren>1||!o.children[zo])return vx(new ee(4e3,!1));o=o.children[zo]}}applyRedirectCommands(t,i,r){const o=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,r);if(i.startsWith("/"))throw new TL(o);return o}applyRedirectCreateUrlTree(t,i,r,o){const s=this.createSegmentGroup(t,i.root,r,o);return new e6(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){const r={};return Object.entries(t).forEach(([o,s])=>{if("string"==typeof s&&s.startsWith(":")){const l=s.substring(1);r[o]=i[l]}else r[o]=s}),r}createSegmentGroup(t,i,r,o){const s=this.createSegments(t,i.segments,r,o);let a={};return Object.entries(i.children).forEach(([l,u])=>{a[l]=this.createSegmentGroup(t,u,r,o)}),new ma(s,a)}createSegments(t,i,r,o){return i.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,i,r){const o=r[i.path.substring(1)];if(!o)throw new ee(4001,!1);return o}findOrReturn(t,i){let r=0;for(const o of i){if(o.path===t.path)return i.splice(r),o;r++}return t}}const FL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wLe(e,t,i,r,o){const s=OL(e,t,i);return s.matched?(r=function GNe(e,t){return e.providers&&!e._injector&&(e._injector=GC(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function mLe(e,t,i,r){const o=t.canMatch;return o&&0!==o.length?uo(o.map(a=>{const l=a6(a,e);return Vm(function aLe(e){return e&&w7(e.canMatch)}(l)?l.canMatch(t,i):nc(e,()=>l(t,i)))})).pipe(l6(),ioe()):uo(!0)}(r,t,i).pipe(j(a=>!0===a?s:{...FL}))):uo(s)}function OL(e,t,i){if("**"===t.path)return function bLe(e){return{matched:!0,parameters:e.length>0?Cre(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(i);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?{...FL}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const o=(t.matcher||nNe)(i,e,t);if(!o)return{...FL};const s={};Object.entries(o.posParams??{}).forEach(([l,u])=>{s[l]=u.path});const a=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:i.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function roe(e,t,i,r){return i.length>0&&function xLe(e,t,i){return i.some(r=>Fx(e,t,r)&&Np(r)!==zo)}(e,i,r)?{segmentGroup:new ma(t,ELe(r,new ma(i,e.children))),slicedSegments:[]}:0===i.length&&function SLe(e,t,i){return i.some(r=>Fx(e,t,r))}(e,i,r)?{segmentGroup:new ma(e.segments,CLe(e,i,r,e.children)),slicedSegments:i}:{segmentGroup:new ma(e.segments,e.children),slicedSegments:i}}function CLe(e,t,i,r){const o={};for(const s of i)if(Fx(e,t,s)&&!r[Np(s)]){const a=new ma([],{});o[Np(s)]=a}return{...r,...o}}function ELe(e,t){const i={};i[zo]=t;for(const r of e)if(""===r.path&&Np(r)!==zo){const o=new ma([],{});i[Np(r)]=o}return i}function Fx(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path}class ILe{}class FLe{constructor(t,i,r,o,s,a,l){this.injector=t,this.configLoader=i,this.rootComponentType=r,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new _Le(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ee(4002,`'${t.segmentGroup}'`)}recognize(){const t=roe(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(j(i=>{const r=new CL([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zo,this.rootComponentType,null,{}),o=new r0(r,i),s=new qre("",o),a=function bNe(e,t,i=null,r=null){return Nre(kre(e),t,i,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root,null),{state:s,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,zo).pipe(u7(r=>{if(r instanceof TL)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof DL?this.noMatchError(r):r}))}inheritParamsAndData(t,i){const r=t.value,o=bL(r,i,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),t.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(t,i,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,i,r):this.processSegment(t,i,r,r.segments,o,!0).pipe(j(s=>s instanceof r0?[s]:[]))}processChildren(t,i,r){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return Cu(o).pipe(X5(s=>{const a=r.children[s],l=function WNe(e,t){const i=e.filter(r=>Np(r)===t);return i.push(...e.filter(r=>Np(r)!==t)),i}(i,s);return this.processSegmentGroup(t,l,a,s)}),function zke(e,t){let i=!1;return arguments.length>=2&&(i=!0),function(o){return o.lift(new $ke(e,t,i))}}((s,a)=>(s.push(...a),s)),yx(null),function Kke(e,t){const i=arguments.length>=2;return r=>r.pipe(e?n0((o,s)=>e(o,s,r)):ti,fL(1),i?yx(t):wre(()=>new mx))}(),If(s=>{if(null===s)return u6(r);const a=ooe(s);return function OLe(e){e.sort((t,i)=>t.value.outlet===zo?-1:i.value.outlet===zo?1:t.value.outlet.localeCompare(i.value.outlet))}(a),uo(a)}))}processSegment(t,i,r,o,s,a){return Cu(i).pipe(X5(l=>this.processSegmentAgainstRoute(l._injector??t,i,l,r,o,s,a).pipe(u7(u=>{if(u instanceof DL)return uo(null);throw u}))),Kv(l=>!!l),u7(l=>{if(noe(l))return function MLe(e,t,i){return 0===t.length&&!e.children[i]}(r,o,s)?uo(new ILe):u6(r);throw l}))}processSegmentAgainstRoute(t,i,r,o,s,a,l){return function BLe(e,t,i,r){return!!(Np(e)===r||r!==zo&&Fx(t,i,e))&&OL(t,e,i).matched}(r,o,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,s,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,o,i,r,s,a):u6(o):u6(o)}expandSegmentAgainstRouteUsingRedirect(t,i,r,o,s,a){const{matched:l,consumedSegments:u,positionalParamSegments:c,remainingSegments:f}=OL(i,o,s);if(!l)return u6(i);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,d).pipe(If(h=>this.processSegment(t,r,i,h.concat(f),a,!1)))}matchSegmentAgainstRoute(t,i,r,o,s){const a=wLe(i,r,o,t);return"**"===r.path&&(i.children={}),a.pipe(eh(l=>l.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(eh(({routes:u})=>{const c=r._loadedInjector??t,{consumedSegments:f,remainingSegments:d,parameters:h}=l,g=new CL(f,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function NLe(e){return e.data||{}}(r),Np(r),r.component??r._loadedComponent??null,r,function LLe(e){return e.resolve||{}}(r)),{segmentGroup:v,slicedSegments:y}=roe(i,f,d,u);if(0===y.length&&v.hasChildren())return this.processChildren(c,u,v).pipe(j(E=>null===E?null:new r0(g,E)));if(0===u.length&&0===y.length)return uo(new r0(g,[]));const b=Np(r)===s;return this.processSegment(c,u,v,y,b?zo:s,!0).pipe(j(E=>new r0(g,E instanceof r0?[E]:[])))})):u6(i)))}getChildConfig(t,i,r){return i.children?uo({routes:i.children,injector:t}):i.loadChildren?void 0!==i._loadedRoutes?uo({routes:i._loadedRoutes,injector:i._loadedInjector}):function gLe(e,t,i,r){const o=t.canLoad;return void 0===o||0===o.length?uo(!0):uo(o.map(a=>{const l=a6(a,e);return Vm(function iLe(e){return e&&w7(e.canLoad)}(l)?l.canLoad(t,i):nc(e,()=>l(t,i)))})).pipe(l6(),ioe())}(t,i,r).pipe(If(o=>o?this.configLoader.loadChildren(t,i).pipe(Df(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):function yLe(e){return vx(Zre(!1,sA.GuardRejected))}())):uo({routes:[],injector:t})}}function kLe(e){const t=e.value.routeConfig;return t&&""===t.path}function ooe(e){const t=[],i=new Set;for(const r of e){if(!kLe(r)){t.push(r);continue}const o=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),i.add(o)):t.push(r)}for(const r of i){const o=ooe(r.children);t.push(new r0(r.value,o))}return t.filter(r=>!i.has(r))}function soe(e){const t=e.children.map(i=>soe(i)).flat();return[e,...t]}function kL(e){return eh(t=>{const i=e(t);return i?Cu(i).pipe(j(()=>t)):uo(t)})}let aoe=(()=>{class e{buildTitle(i){let r,o=i.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===zo);return r}getResolvedTitleForRoute(i){return i.data[c7]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:()=>Kn(VLe),providedIn:"root"})}}return e})(),VLe=(()=>{class e extends aoe{constructor(i){super(),this.title=i}updateTitle(i){const r=this.buildTitle(i);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(Ar(SDe))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const c6=new ai("",{providedIn:"root",factory:()=>({})}),f6=new ai("");let NL=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Kn(Fee)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return uo(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const r=Vm(i.loadComponent()).pipe(j(loe),Df(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),r7(()=>{this.componentLoaders.delete(i)})),o=new cL(r,()=>new Yn).pipe(uL());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return uo({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function zLe(e,t,i,r){return Vm(e.loadChildren()).pipe(j(loe),If(o=>o instanceof jY||Array.isArray(o)?uo(o):Cu(t.compileModuleAsync(o))),j(o=>{r&&r(e);let s,a,l=!1;return Array.isArray(o)?(a=o,!0):(s=o.create(i).injector,a=s.get(f6,[],{optional:!0,self:!0}).flat()),{routes:a.map(IL),injector:s}}))}(r,this.compiler,i,this.onLoadEndListener).pipe(r7(()=>{this.childrenLoaders.delete(r)})),a=new cL(s,()=>new Yn).pipe(uL());return this.childrenLoaders.set(r,a),a}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function loe(e){return function $Le(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let LL=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:()=>Kn(GLe),providedIn:"root"})}}return e})(),GLe=(()=>{class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const uoe=new ai(""),coe=new ai("");function qLe(e,t,i){const r=e.get(coe),o=e.get(Al);return e.get(Zo).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const a=new Promise(c=>{s=c}),l=o.startViewTransition(()=>(s(),function jLe(e){return new Promise(t=>{yO(t,{injector:e})})}(e))),{onViewTransitionCreated:u}=r;return u&&nc(e,()=>u({transition:l,from:t,to:i})),a})}let Ox=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Yn,this.transitionAbortSubject=new Yn,this.configLoader=Kn(NL),this.environmentInjector=Kn(su),this.urlSerializer=Kn(t6),this.rootContexts=Kn(g7),this.location=Kn(Qy),this.inputBindingEnabled=null!==Kn(Ix,{optional:!0}),this.titleStrategy=Kn(aoe),this.options=Kn(c6,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Kn(LL),this.createViewTransition=Kn(uoe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>uo(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new kNe(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new ONe(o))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:r})}setupNavigations(i,r,o){return this.transitions=new Pr({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:p7,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(n0(s=>0!==s.id),j(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),eh(s=>{let a=!1,l=!1;return uo(s).pipe(eh(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",sA.SupersededByNewNavigation),Hm;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(u.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const d="";return this.events.next(new r6(u.id,this.urlSerializer.serialize(u.rawUrl),d,Bx.IgnoredSameUrlNavigation)),u.resolve(null),Hm}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return uo(u).pipe(eh(d=>{const h=this.transitions?.getValue();return this.events.next(new Sx(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Hm:Promise.resolve(d)}),function RLe(e,t,i,r,o,s){return If(a=>function DLe(e,t,i,r,o,s,a="emptyOnly"){return new FLe(e,t,i,r,o,a,s).recognize()}(e,t,i,r,a.extractedUrl,o,s).pipe(j(({state:l,tree:u})=>({...a,targetSnapshot:l,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Df(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new Qre(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:d,extractedUrl:h,source:g,restoredState:v,extras:y}=u,b=new Sx(d,this.urlSerializer.serialize(h),g,v);this.events.next(b);const E=Gre(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:E,urlAfterRedirects:h,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,uo(s)}{const d="";return this.events.next(new r6(u.id,this.urlSerializer.serialize(u.extractedUrl),d,Bx.IgnoredByUrlHandlingStrategy)),u.resolve(null),Hm}}),Df(u=>{const c=new INe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),j(u=>(this.currentTransition=s={...u,guards:ZNe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function lLe(e,t){return If(i=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:a}}=i;return 0===a.length&&0===s.length?uo({...i,guardsResult:!0}):function uLe(e,t,i,r){return Cu(e).pipe(If(o=>function pLe(e,t,i,r,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?uo(s.map(l=>{const u=v7(t)??o,c=a6(l,u);return Vm(function sLe(e){return e&&w7(e.canDeactivate)}(c)?c.canDeactivate(e,t,i,r):nc(u,()=>c(e,t,i,r))).pipe(Kv())})).pipe(l6()):uo(!0)}(o.component,o.route,i,t,r)),Kv(o=>!0!==o,!0))}(a,r,o,e).pipe(If(l=>l&&function nLe(e){return"boolean"==typeof e}(l)?function cLe(e,t,i,r){return Cu(t).pipe(X5(o=>aL(function dLe(e,t){return null!==e&&t&&t(new NNe(e)),uo(!0)}(o.route.parent,r),function fLe(e,t){return null!==e&&t&&t(new RNe(e)),uo(!0)}(o.route,r),function hLe(e,t,i){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function JNe(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>yre(()=>uo(a.guards.map(u=>{const c=v7(a.node)??i,f=a6(u,c);return Vm(function oLe(e){return e&&w7(e.canActivateChild)}(f)?f.canActivateChild(r,e):nc(c,()=>f(r,e))).pipe(Kv())})).pipe(l6())));return uo(s).pipe(l6())}(e,o.path,i),function ALe(e,t,i){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return uo(!0);const o=r.map(s=>yre(()=>{const a=v7(t)??i,l=a6(s,a);return Vm(function rLe(e){return e&&w7(e.canActivate)}(l)?l.canActivate(t,e):nc(a,()=>l(t,e))).pipe(Kv())}));return uo(o).pipe(l6())}(e,o.route,i))),Kv(o=>!0!==o,!0))}(r,s,e,t):uo(l)),j(l=>({...i,guardsResult:l})))})}(this.environmentInjector,u=>this.events.next(u)),Df(u=>{if(s.guardsResult=u.guardsResult,n6(u.guardsResult))throw Yre(0,u.guardsResult);const c=new DNe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),n0(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",sA.GuardRejected),!1)),kL(u=>{if(u.guards.canActivateChecks.length)return uo(u).pipe(Df(c=>{const f=new TNe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),eh(c=>{let f=!1;return uo(c).pipe(function ULe(e,t){return If(i=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=i;if(!o.length)return uo(i);const s=new Set(o.map(u=>u.route)),a=new Set;for(const u of s)if(!a.has(u))for(const c of soe(u))a.add(c);let l=0;return Cu(a).pipe(X5(u=>s.has(u)?function PLe(e,t,i,r){const o=e.routeConfig,s=e._resolve;return void 0!==o?.title&&!Kre(o)&&(s[c7]=o.title),function HLe(e,t,i,r){const o=dL(e);if(0===o.length)return uo({});const s={};return Cu(o).pipe(If(a=>function QLe(e,t,i,r){const o=v7(t)??r,s=a6(e,o);return Vm(s.resolve?s.resolve(t,i):nc(o,()=>s(t,i)))}(e[a],t,i,r).pipe(Kv(),Df(l=>{s[a]=l}))),fL(1),function Wke(e){return t=>t.lift(new Xke(e))}(s),u7(a=>noe(a)?Hm:vx(a)))}(s,e,t,r).pipe(j(a=>(e._resolvedData=a,e.data=bL(e,e.parent,i).resolve,null)))}(u,r,e,t):(u.data=bL(u,u.parent,e).resolve,uo(void 0))),Df(()=>l++),fL(1),If(u=>l===a.size?uo(i):Hm))})}(this.paramsInheritanceStrategy,this.environmentInjector),Df({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(c,"",sA.NoDataFromResolver)}}))}),Df(c=>{const f=new FNe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}))}),kL(u=>{const c=f=>{const d=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(f.routeConfig).pipe(Df(h=>{f.component=h}),j(()=>{})));for(const h of f.children)d.push(...c(h));return d};return sL(c(u.targetSnapshot.root)).pipe(yx(null),Z5(1))}),kL(()=>this.afterPreactivation()),eh(()=>{const{currentSnapshot:u,targetSnapshot:c}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return f?Cu(f).pipe(j(()=>s)):uo(s)}),j(u=>{const c=function QNe(e,t,i){const r=m7(e,t._root,i?i._root:void 0);return new $re(r,t)}(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),Df(()=>{this.events.next(new vL)}),((e,t,i,r)=>j(o=>(new YNe(t,o.targetRouterState,o.currentRouterState,i,r).activate(e),o)))(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Z5(1),Df({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new a1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function Zke(e){return t=>t.lift(new Jke(e))}(this.transitionAbortSubject.pipe(Df(u=>{throw u}))),r7(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",sA.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),u7(u=>{if(l=!0,Jre(u))this.events.next(new i6(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function $Ne(e){return Jre(e)&&n6(e.url)}(u)?this.events.next(new yL(u.url)):s.resolve(!1);else{this.events.next(new Mx(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(u))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return Hm}))}))}cancelNavigationTransition(i,r,o){const s=new i6(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function KLe(e){return e!==p7}let WLe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:()=>Kn(YLe),providedIn:"root"})}}return e})();class XLe{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}}let YLe=(()=>{class e extends XLe{static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})()}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),foe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:()=>Kn(ZLe),providedIn:"root"})}}return e})(),ZLe=(()=>{class e extends foe{constructor(){super(...arguments),this.location=Kn(Qy),this.urlSerializer=Kn(t6),this.options=Kn(c6,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Kn(LL),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new e6,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Gre(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{"popstate"===r.type&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Sx)this.stateMemento=this.createStateMemento();else if(i instanceof r6)this.rawUrlTree=r.initialUrl;else if(i instanceof Qre){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof vL?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof i6&&(i.code===sA.GuardRejected||i.code===sA.NoDataFromResolver)?this.restoreHistory(r):i instanceof Mx?this.restoreHistory(r,!0):i instanceof a1&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){const o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(i,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&0===s&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})()}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var b7=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(b7||{});function doe(e,t){e.events.pipe(n0(i=>i instanceof a1||i instanceof i6||i instanceof Mx||i instanceof r6),j(i=>i instanceof a1||i instanceof r6?b7.COMPLETE:i instanceof i6&&(i.code===sA.Redirect||i.code===sA.SupersededByNewNavigation)?b7.REDIRECTING:b7.FAILED),n0(i=>i!==b7.REDIRECTING),Z5(1)).subscribe(()=>{t()})}function JLe(e){throw e}const eRe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tRe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let o0=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Kn(bee),this.stateManager=Kn(foe),this.options=Kn(c6,{optional:!0})||{},this.pendingTasks=Kn(Bm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Kn(Ox),this.urlSerializer=Kn(t6),this.location=Kn(Qy),this.urlHandlingStrategy=Kn(LL),this._events=new Yn,this.errorHandler=this.options.errorHandler||JLe,this.navigated=!1,this.routeReuseStrategy=Kn(WLe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Kn(f6,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Kn(Ix,{optional:!0}),this.eventsSubscription=new yt,this.isNgZoneEnabled=Kn(Zo)instanceof Zo&&Zo.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof i6&&r.code!==sA.Redirect&&r.code!==sA.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof a1)this.navigated=!0;else if(r instanceof yL){const a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||KLe(o.source)};this.scheduleNavigation(a,p7,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function iRe(e){return!(e instanceof vL||e instanceof yL)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),p7,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const l=this.parseUrl(i);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(IL),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:a;let d,f=null;switch(l){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{d=kre(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),d=this.currentUrlTree.root}return Nre(d,i,f,c??null)}navigateByUrl(i,r={skipLocationChange:!1}){const o=n6(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,p7,null,r)}navigate(i,r={skipLocationChange:!1}){return function nRe(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new ee(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(o=!0===r?{...eRe}:!1===r?{...tRe}:r,n6(i))return xre(this.currentUrlTree,i,o);const s=this.parseUrl(i);return xre(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(null!=s&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,c;a?(l=a.resolve,u=a.reject,c=a.promise):c=new Promise((d,h)=>{l=d,u=h});const f=this.pendingTasks.add();return doe(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),C7=(()=>{class e{constructor(i,r,o,s,a,l){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new Yn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=i.events.subscribe(c=>{c instanceof a1&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,s,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==i||r||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const i=this.urlTree;this.href=null!==i&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;const r=null===this.href?null:function oX(e,t,i){return function s_e(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?rX:Cm}(t,i)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){const o=this.renderer,s=this.el.nativeElement;null!==r?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(Wt(o0),Wt(s6),function wf(e){return function Wa(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const r=i.length;let o=0;for(;o<r;){const s=i[o];if(da(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<r&&"string"==typeof i[o];)o++;else{if(s===t)return i[o+1];o+=2}}}return null}(ls(),e)}("tabindex"),Wt(Ru),Wt(rs),Wt(Pv))}}static{this.\u0275dir=Lr({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){1&r&&ki("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&r&&ci("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[cn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",pr],skipLocationChange:[cn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",pr],replaceUrl:[cn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",pr],routerLink:"routerLink"},standalone:!0,features:[Lc,Il]})}}return e})(),Aoe=(()=>{class e{get isActive(){return this._isActive}constructor(i,r,o,s,a){this.router=i,this.element=r,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Xi,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof a1&&this.update()})}ngAfterContentInit(){uo(this.links.changes,uo(null)).pipe(l7()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Cu(i).pipe(l7()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){const r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){const r=function rRe(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{const s=o.urlTree;return!!s&&i.isActive(s,r)}}hasActiveLinks(){const i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}static{this.\u0275fac=function(r){return new(r||e)(Wt(o0),Wt(rs),Wt(Ru),Wt(ld),Wt(C7,8))}}static{this.\u0275dir=Lr({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,s){if(1&r&&WA(s,C7,5),2&r){let a;ao(a=lo())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Il]})}}return e})();class hoe{}let oRe=(()=>{class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(n0(i=>i instanceof a1),X5(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){const o=[];for(const s of r){s.providers&&!s._injector&&(s._injector=GC(s.providers,i,`Route: ${s.path}`));const a=s._injector??i,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Cu(o).pipe(l7())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(i,r):uo(null);const s=o.pipe(If(a=>null===a?uo(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));return r.loadComponent&&!r._loadedComponent?Cu([s,this.loader.loadComponent(r)]).pipe(l7()):s})}static{this.\u0275fac=function(r){return new(r||e)(Ar(o0),Ar(Fee),Ar(su),Ar(hoe),Ar(NL))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const RL=new ai("");let poe=(()=>{class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Kn(su),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Sx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof a1?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof r6&&i.code===Bx.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Vre&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){var o=this;this.zone.runOutsideAngular(Tt(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),yO(()=>{s()},{injector:o.environmentInjector})}),o.zone.run(()=>{o.transitions.events.next(new Vre(i,"popstate"===o.lastSource?o.store[o.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function DX(){throw new Error("invalid")}()}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac})}}return e})();function Lp(e,t){return{\u0275kind:e,\u0275providers:t}}function moe(){const e=Kn(Dl);return t=>{const i=e.get(Jg);if(t!==i.components[0])return;const r=e.get(o0),o=e.get(voe);1===e.get(UL)&&r.initialNavigation(),e.get(yoe,null,Or.Optional)?.setUpPreloading(),e.get(RL,null,Or.Optional)?.init(),r.resetRootComponentType(i.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const voe=new ai("",{factory:()=>new Yn}),UL=new ai("",{providedIn:"root",factory:()=>1}),yoe=new ai("");function uRe(e){return Lp(0,[{provide:yoe,useExisting:oRe},{provide:hoe,useExisting:e}])}function fRe(e){return Lp(9,[{provide:uoe,useValue:qLe},{provide:coe,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const _oe=new ai("ROUTER_FORROOT_GUARD"),dRe=[Qy,{provide:t6,useClass:AL},o0,g7,{provide:s6,useFactory:function goe(e){return e.routerState.root},deps:[o0]},NL,[]];let kx=(()=>{class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[dRe,[],{provide:f6,multi:!0,useValue:i},{provide:_oe,useFactory:gRe,deps:[[o0,new Cl,new S]]},{provide:c6,useValue:r||{}},r?.useHash?{provide:Pv,useClass:cMe}:{provide:Pv,useClass:bte},{provide:RL,useFactory:()=>{const e=Kn(BIe),t=Kn(Zo),i=Kn(c6),r=Kn(Ox),o=Kn(t6);return i.scrollOffset&&e.setOffset(i.scrollOffset),new poe(o,r,e,t,i)}},r?.preloadingStrategy?uRe(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?mRe(r):[],r?.bindToComponentInputs?Lp(8,[Wre,{provide:Ix,useExisting:Wre}]).\u0275providers:[],r?.enableViewTransitions?fRe().\u0275providers:[],[{provide:woe,useFactory:moe},{provide:yk,multi:!0,useExisting:woe}]]}}static forChild(i){return{ngModule:e,providers:[{provide:f6,multi:!0,useValue:i}]}}static{this.\u0275fac=function(r){return new(r||e)(Ar(_oe,8))}}static{this.\u0275mod=Yo({type:e})}static{this.\u0275inj=nr({})}}return e})();function gRe(e){return"guarded"}function mRe(e){return["disabled"===e.initialNavigation?Lp(3,[{provide:mk,multi:!0,useFactory:()=>{const t=Kn(o0);return()=>{t.setUpLocationChangeListener()}}},{provide:UL,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Lp(2,[{provide:UL,useValue:0},{provide:mk,multi:!0,deps:[Dl],useFactory:t=>{const i=t.get(lMe,Promise.resolve());return()=>i.then(()=>new Promise(r=>{const o=t.get(o0),s=t.get(voe);doe(o,()=>{r(!0)}),t.get(Ox).afterPreactivation=()=>(r(!0),s.closed?uo(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const woe=new ai("");function E7(e,t){let i,r;if(void 0===t)for(const o of e)null!=o&&(void 0===i?o>=o&&(i=r=o):(i>o&&(i=o),r<o&&(r=o)));else{let o=-1;for(let s of e)null!=(s=t(s,++o,e))&&(void 0===i?s>=s&&(i=r=s):(i>s&&(i=s),r<s&&(r=s)))}return[i,r]}var yRe=Array.prototype.slice;function Coe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function PL(e){let t=e,i=e;function r(a,l,u,c){for(null==u&&(u=0),null==c&&(c=a.length);u<c;){const f=u+c>>>1;i(a[f],l)<0?u=f+1:c=f}return u}return 1===e.length&&(t=(a,l)=>e(a)-l,i=function _Re(e){return(t,i)=>Coe(e(t),i)}(e)),{left:r,center:function s(a,l,u,c){null==u&&(u=0),null==c&&(c=a.length);const f=r(a,l,u,c-1);return f>u&&t(a[f-1],l)>-t(a[f],l)?f-1:f},right:function o(a,l,u,c){for(null==u&&(u=0),null==c&&(c=a.length);u<c;){const f=u+c>>>1;i(a[f],l)>0?c=f:u=f+1}return u}}}const bRe=PL(Coe).right,HL=(PL(function wRe(e){return null===e?NaN:+e}),bRe);function Nx(e){return function(){return e}}function CRe(e){return e}var QL=Math.sqrt(50),VL=Math.sqrt(10),zL=Math.sqrt(2);function xoe(e,t,i){var r,s,a,l,o=-1;if(i=+i,(e=+e)==(t=+t)&&i>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),0===(l=Lx(e,t,i))||!isFinite(l))return[];if(l>0){let u=Math.round(e/l),c=Math.round(t/l);for(u*l<e&&++u,c*l>t&&--c,a=new Array(s=c-u+1);++o<s;)a[o]=(u+o)*l}else{l=-l;let u=Math.round(e*l),c=Math.round(t*l);for(u/l<e&&++u,c/l>t&&--c,a=new Array(s=c-u+1);++o<s;)a[o]=(u+o)/l}return r&&a.reverse(),a}function Lx(e,t,i){var r=(t-e)/Math.max(0,i),o=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,o);return o>=0?(s>=QL?10:s>=VL?5:s>=zL?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(s>=QL?10:s>=VL?5:s>=zL?2:1)}function $L(e,t,i){var r=Math.abs(t-e)/Math.max(0,i),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/o;return s>=QL?o*=10:s>=VL?o*=5:s>=zL&&(o*=2),t<e?-o:o}function SRe(e){return Math.ceil(Math.log(function xRe(e,t){let i=0;if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&++i;else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(o=+o)>=o&&++i}return i}(e))/Math.LN2)+1}function Soe(){var e=CRe,t=E7,i=SRe;function r(o){Array.isArray(o)||(o=Array.from(o));var s,l,a=o.length,u=new Array(a);for(s=0;s<a;++s)u[s]=e(o[s],s,o);var c=t(u),f=c[0],d=c[1],h=i(u,f,d);if(!Array.isArray(h)){const b=d,E=+h;if(t===E7&&([f,d]=function ERe(e,t,i){let r;for(;;){const o=Lx(e,t,i);if(o===r||0===o||!isFinite(o))return[e,t];o>0?(e=Math.floor(e/o)*o,t=Math.ceil(t/o)*o):o<0&&(e=Math.ceil(e*o)/o,t=Math.floor(t*o)/o),r=o}}(f,d,E)),(h=xoe(f,d,E))[h.length-1]>=d)if(b>=d&&t===E7){const M=Lx(f,d,E);isFinite(M)&&(M>0?d=(Math.floor(d/M)+1)*M:M<0&&(d=(Math.ceil(d*-M)+1)/-M))}else h.pop()}for(var g=h.length;h[0]<=f;)h.shift(),--g;for(;h[g-1]>d;)h.pop(),--g;var y,v=new Array(g+1);for(s=0;s<=g;++s)(y=v[s]=[]).x0=s>0?h[s-1]:f,y.x1=s<g?h[s]:d;for(s=0;s<a;++s)f<=(l=u[s])&&l<=d&&v[HL(h,l,0,g)].push(o[s]);return v}return r.value=function(o){return arguments.length?(e="function"==typeof o?o:Nx(o),r):e},r.domain=function(o){return arguments.length?(t="function"==typeof o?o:Nx([o[0],o[1]]),r):t},r.thresholds=function(o){return arguments.length?(i="function"==typeof o?o:Array.isArray(o)?Nx(yRe.call(o)):Nx(o),r):i},r}function GL(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i<r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i<o||void 0===i&&o>=o)&&(i=o)}return i}var qL=Array.prototype.slice;function BRe(e){return e}function MRe(e){return"translate("+e+",0)"}function IRe(e){return"translate(0,"+e+")"}function DRe(e){return t=>+e(t)}function TRe(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),i=>+e(i)+t}function FRe(){return!this.__axis}function Px(e,t){var i=[],r=null,o=null,s=6,a=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1===e||4===e?-1:1,f=4===e||2===e?"x":"y",d=1===e||3===e?MRe:IRe;function h(g){var v=r??(t.ticks?t.ticks.apply(t,i):t.domain()),y=o??(t.tickFormat?t.tickFormat.apply(t,i):BRe),b=Math.max(s,0)+l,E=t.range(),M=+E[0]+u,k=+E[E.length-1]+u,P=(t.bandwidth?TRe:DRe)(t.copy(),u),H=g.selection?g.selection():g,X=H.selectAll(".domain").data([null]),z=H.selectAll(".tick").data(v,t).order(),se=z.exit(),ye=z.enter().append("g").attr("class","tick"),Ie=z.select("line"),Ee=z.select("text");X=X.merge(X.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(ye),Ie=Ie.merge(ye.append("line").attr("stroke","currentColor").attr(f+"2",c*s)),Ee=Ee.merge(ye.append("text").attr("fill","currentColor").attr(f,c*b).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),g!==H&&(X=X.transition(g),z=z.transition(g),Ie=Ie.transition(g),Ee=Ee.transition(g),se=se.transition(g).attr("opacity",1e-6).attr("transform",function(Je){return isFinite(Je=P(Je))?d(Je+u):this.getAttribute("transform")}),ye.attr("opacity",1e-6).attr("transform",function(Je){var Ze=this.parentNode.__axis;return d((Ze&&isFinite(Ze=Ze(Je))?Ze:P(Je))+u)})),se.remove(),X.attr("d",4===e||2===e?a?"M"+c*a+","+M+"H"+u+"V"+k+"H"+c*a:"M"+u+","+M+"V"+k:a?"M"+M+","+c*a+"V"+u+"H"+k+"V"+c*a:"M"+M+","+u+"H"+k),z.attr("opacity",1).attr("transform",function(Je){return d(P(Je)+u)}),Ie.attr(f+"2",c*s),Ee.attr(f,c*b).text(y),H.filter(FRe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),H.each(function(){this.__axis=P})}return h.scale=function(g){return arguments.length?(t=g,h):t},h.ticks=function(){return i=qL.call(arguments),h},h.tickArguments=function(g){return arguments.length?(i=null==g?[]:qL.call(g),h):i.slice()},h.tickValues=function(g){return arguments.length?(r=null==g?null:qL.call(g),h):r&&r.slice()},h.tickFormat=function(g){return arguments.length?(o=g,h):o},h.tickSize=function(g){return arguments.length?(s=a=+g,h):s},h.tickSizeInner=function(g){return arguments.length?(s=+g,h):s},h.tickSizeOuter=function(g){return arguments.length?(a=+g,h):a},h.tickPadding=function(g){return arguments.length?(l=+g,h):l},h.offset=function(g){return arguments.length?(u=+g,h):u},h}function NRe(){}function KL(e){return null==e?NRe:function(){return this.querySelector(e)}}function WL(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function RRe(){return[]}function Moe(e){return null==e?RRe:function(){return this.querySelectorAll(e)}}function Ioe(e){return function(){return this.matches(e)}}function Doe(e){return function(t){return t.matches(e)}}var HRe=Array.prototype.find;function VRe(){return this.firstElementChild}var $Re=Array.prototype.filter;function GRe(){return this.children}function Toe(e){return new Array(e.length)}function Hx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function YRe(e,t,i,r,o,s){for(var l,a=0,u=t.length,c=s.length;a<c;++a)(l=t[a])?(l.__data__=s[a],r[a]=l):i[a]=new Hx(e,s[a]);for(;a<u;++a)(l=t[a])&&(o[a]=l)}function ZRe(e,t,i,r,o,s,a){var l,u,g,c=new Map,f=t.length,d=s.length,h=new Array(f);for(l=0;l<f;++l)(u=t[l])&&(h[l]=g=a.call(u,u.__data__,l,t)+"",c.has(g)?o[l]=u:c.set(g,u));for(l=0;l<d;++l)g=a.call(e,s[l],l,s)+"",(u=c.get(g))?(r[l]=u,u.__data__=s[l],c.delete(g)):i[l]=new Hx(e,s[l]);for(l=0;l<f;++l)(u=t[l])&&c.get(h[l])===u&&(o[l]=u)}function JRe(e){return e.__data__}function sUe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Hx.prototype={constructor:Hx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var XL="http://www.w3.org/1999/xhtml";const Foe={svg:"http://www.w3.org/2000/svg",xhtml:XL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qx(e){var t=e+="",i=t.indexOf(":");return i>=0&&"xmlns"!==(t=e.slice(0,i))&&(e=e.slice(i+1)),Foe.hasOwnProperty(t)?{space:Foe[t],local:e}:e}function AUe(e){return function(){this.removeAttribute(e)}}function hUe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pUe(e,t){return function(){this.setAttribute(e,t)}}function gUe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mUe(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}}function vUe(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function Ooe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _Ue(e){return function(){this.style.removeProperty(e)}}function wUe(e,t,i){return function(){this.style.setProperty(e,t,i)}}function bUe(e,t,i){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,i)}}function d6(e,t){return e.style.getPropertyValue(t)||Ooe(e).getComputedStyle(e,null).getPropertyValue(t)}function EUe(e){return function(){delete this[e]}}function xUe(e,t){return function(){this[e]=t}}function SUe(e,t){return function(){var i=t.apply(this,arguments);null==i?delete this[e]:this[e]=i}}function koe(e){return e.trim().split(/^|\s+/)}function YL(e){return e.classList||new Noe(e)}function Noe(e){this._node=e,this._names=koe(e.getAttribute("class")||"")}function Loe(e,t){for(var i=YL(e),r=-1,o=t.length;++r<o;)i.add(t[r])}function Roe(e,t){for(var i=YL(e),r=-1,o=t.length;++r<o;)i.remove(t[r])}function MUe(e){return function(){Loe(this,e)}}function IUe(e){return function(){Roe(this,e)}}function DUe(e,t){return function(){(t.apply(this,arguments)?Loe:Roe)(this,e)}}function FUe(){this.textContent=""}function OUe(e){return function(){this.textContent=e}}function kUe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function LUe(){this.innerHTML=""}function RUe(e){return function(){this.innerHTML=e}}function UUe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function HUe(){this.nextSibling&&this.parentNode.appendChild(this)}function VUe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $Ue(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===XL&&t.documentElement.namespaceURI===XL?t.createElement(e):t.createElementNS(i,e)}}function GUe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Uoe(e){var t=Qx(e);return(t.local?GUe:$Ue)(t)}function jUe(){return null}function WUe(){var e=this.parentNode;e&&e.removeChild(this)}function YUe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZUe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function iPe(e){return function(){var t=this.__on;if(t){for(var s,i=0,r=-1,o=t.length;i<o;++i)s=t[i],e.type&&s.type!==e.type||s.name!==e.name?t[++r]=s:this.removeEventListener(s.type,s.listener,s.options);++r?t.length=r:delete this.__on}}}function rPe(e,t,i){return function(){var o,r=this.__on,s=function tPe(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var a=0,l=r.length;a<l;++a)if((o=r[a]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=i),void(o.value=t);this.addEventListener(e.type,s,i),o={type:e.type,name:e.name,value:t,listener:s,options:i},r?r.push(o):this.__on=[o]}}function Poe(e,t,i){var r=Ooe(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,i):(o=r.document.createEvent("Event"),i?(o.initEvent(t,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function sPe(e,t){return function(){return Poe(this,e,t)}}function aPe(e,t){return function(){return Poe(this,e,t.apply(this,arguments))}}Noe.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ZL=[null];function Pc(e,t){this._groups=e,this._parents=t}function Hoe(){return new Pc([[document.documentElement]],ZL)}Pc.prototype=Hoe.prototype={constructor:Pc,select:function LRe(e){"function"!=typeof e&&(e=KL(e));for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o)for(var u,c,s=t[o],a=s.length,l=r[o]=new Array(a),f=0;f<a;++f)(u=s[f])&&(c=e.call(u,u.__data__,f,s))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new Pc(r,this._parents)},selectAll:function PRe(e){e="function"==typeof e?function URe(e){return function(){var t=e.apply(this,arguments);return null==t?[]:WL(t)}}(e):Moe(e);for(var t=this._groups,i=t.length,r=[],o=[],s=0;s<i;++s)for(var u,a=t[s],l=a.length,c=0;c<l;++c)(u=a[c])&&(r.push(e.call(u,u.__data__,c,a)),o.push(u));return new Pc(r,o)},selectChild:function zRe(e){return this.select(null==e?VRe:function QRe(e){return function(){return HRe.call(this.children,e)}}("function"==typeof e?e:Doe(e)))},selectChildren:function jRe(e){return this.selectAll(null==e?GRe:function qRe(e){return function(){return $Re.call(this.children,e)}}("function"==typeof e?e:Doe(e)))},filter:function KRe(e){"function"!=typeof e&&(e=Ioe(e));for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o)for(var u,s=t[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(u=s[c])&&e.call(u,u.__data__,c,s)&&l.push(u);return new Pc(r,this._parents)},data:function eUe(e,t){if(!arguments.length)return Array.from(this,JRe);var i=t?ZRe:YRe,r=this._parents,o=this._groups;"function"!=typeof e&&(e=function XRe(e){return function(){return e}}(e));for(var s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var f=r[c],d=o[c],h=d.length,g=WL(e.call(f,f&&f.__data__,c,r)),v=g.length,y=l[c]=new Array(v),b=a[c]=new Array(v);i(f,d,y,b,u[c]=new Array(h),g,t);for(var P,H,M=0,k=0;M<v;++M)if(P=y[M]){for(M>=k&&(k=M+1);!(H=b[k])&&++k<v;);P._next=H||null}}return(a=new Pc(a,r))._enter=l,a._exit=u,a},enter:function WRe(){return new Pc(this._enter||this._groups.map(Toe),this._parents)},exit:function tUe(){return new Pc(this._exit||this._groups.map(Toe),this._parents)},join:function nUe(e,t,i){var r=this.enter(),o=this,s=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==i?s.remove():i(s),r&&o?r.merge(o).order():o},merge:function iUe(e){if(!(e instanceof Pc))throw new Error("invalid merge");for(var t=this._groups,i=e._groups,r=t.length,s=Math.min(r,i.length),a=new Array(r),l=0;l<s;++l)for(var h,u=t[l],c=i[l],f=u.length,d=a[l]=new Array(f),g=0;g<f;++g)(h=u[g]||c[g])&&(d[g]=h);for(;l<r;++l)a[l]=t[l];return new Pc(a,this._parents)},selection:function cPe(){return this},order:function rUe(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var a,r=e[t],o=r.length-1,s=r[o];--o>=0;)(a=r[o])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this},sort:function oUe(e){function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}e||(e=sUe);for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s){for(var c,a=i[s],l=a.length,u=o[s]=new Array(l),f=0;f<l;++f)(c=a[f])&&(u[f]=c);u.sort(t)}return new Pc(o,this._parents).order()},call:function aUe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function lUe(){return Array.from(this)},node:function uUe(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var a=r[o];if(a)return a}return null},size:function cUe(){let e=0;for(const t of this)++e;return e},empty:function fUe(){return!this.node()},each:function dUe(e){for(var t=this._groups,i=0,r=t.length;i<r;++i)for(var l,o=t[i],s=0,a=o.length;s<a;++s)(l=o[s])&&e.call(l,l.__data__,s,o);return this},attr:function yUe(e,t){var i=Qx(e);if(arguments.length<2){var r=this.node();return i.local?r.getAttributeNS(i.space,i.local):r.getAttribute(i)}return this.each((null==t?i.local?hUe:AUe:"function"==typeof t?i.local?vUe:mUe:i.local?gUe:pUe)(i,t))},style:function CUe(e,t,i){return arguments.length>1?this.each((null==t?_Ue:"function"==typeof t?bUe:wUe)(e,t,i??"")):d6(this.node(),e)},property:function BUe(e,t){return arguments.length>1?this.each((null==t?EUe:"function"==typeof t?SUe:xUe)(e,t)):this.node()[e]},classed:function TUe(e,t){var i=koe(e+"");if(arguments.length<2){for(var r=YL(this.node()),o=-1,s=i.length;++o<s;)if(!r.contains(i[o]))return!1;return!0}return this.each(("function"==typeof t?DUe:t?MUe:IUe)(i,t))},text:function NUe(e){return arguments.length?this.each(null==e?FUe:("function"==typeof e?kUe:OUe)(e)):this.node().textContent},html:function PUe(e){return arguments.length?this.each(null==e?LUe:("function"==typeof e?UUe:RUe)(e)):this.node().innerHTML},raise:function QUe(){return this.each(HUe)},lower:function zUe(){return this.each(VUe)},append:function qUe(e){var t="function"==typeof e?e:Uoe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function KUe(e,t){var i="function"==typeof e?e:Uoe(e),r=null==t?jUe:"function"==typeof t?t:KL(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function XUe(){return this.each(WUe)},clone:function JUe(e){return this.select(e?ZUe:YUe)},datum:function ePe(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function oPe(e,t,i){var o,a,r=function nPe(e){return e.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");return r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),{type:t,name:i}})}(e+""),s=r.length;if(!(arguments.length<2)){for(l=t?rPe:iPe,o=0;o<s;++o)this.each(l(r[o],t,i));return this}var l=this.node().__on;if(l)for(var f,u=0,c=l.length;u<c;++u)for(o=0,f=l[u];o<s;++o)if((a=r[o]).type===f.type&&a.name===f.name)return f.value},dispatch:function lPe(e,t){return this.each(("function"==typeof t?aPe:sPe)(e,t))},[Symbol.iterator]:function*uPe(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var a,r=e[t],o=0,s=r.length;o<s;++o)(a=r[o])&&(yield a)}};const S7=Hoe;var fPe={value:()=>{}};function Qoe(){for(var r,e=0,t=arguments.length,i={};e<t;++e){if(!(r=arguments[e]+"")||r in i||/[\s.]/.test(r))throw new Error("illegal type: "+r);i[r]=[]}return new Vx(i)}function Vx(e){this._=e}function APe(e,t){for(var o,i=0,r=e.length;i<r;++i)if((o=e[i]).name===t)return o.value}function Voe(e,t,i){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=fPe,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=i&&e.push({name:t,value:i}),e}Vx.prototype=Qoe.prototype={constructor:Vx,on:function(e,t){var o,i=this._,r=function dPe(e,t){return e.trim().split(/^|\s+/).map(function(i){var r="",o=i.indexOf(".");if(o>=0&&(r=i.slice(o+1),i=i.slice(0,o)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:r}})}(e+"",i),s=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<a;)if(o=(e=r[s]).type)i[o]=Voe(i[o],e.name,t);else if(null==t)for(o in i)i[o]=Voe(i[o],e.name,null);return this}for(;++s<a;)if((o=(e=r[s]).type)&&(o=APe(i[o],e.name)))return o},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new Vx(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var o,s,i=new Array(o),r=0;r<o;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,o=(s=this._[e]).length;r<o;++r)s[r].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,i)}};const JL=Qoe;var zx,I7,A6=0,B7=0,M7=0,zoe=1e3,$x=0,Xv=0,Gx=0,D7="object"==typeof performance&&performance.now?performance:Date,$oe="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function eR(){return Xv||($oe(hPe),Xv=D7.now()+Gx)}function hPe(){Xv=0}function qx(){this._call=this._time=this._next=null}function tR(e,t,i){var r=new qx;return r.restart(e,t,i),r}function Goe(){Xv=($x=D7.now())+Gx,A6=B7=0;try{!function pPe(){eR(),++A6;for(var t,e=zx;e;)(t=Xv-e._time)>=0&&e._call.call(null,t),e=e._next;--A6}()}finally{A6=0,function mPe(){for(var e,i,t=zx,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:zx=i);I7=e,nR(r)}(),Xv=0}}function gPe(){var e=D7.now(),t=e-$x;t>zoe&&(Gx-=t,$x=e)}function nR(e){A6||(B7&&(B7=clearTimeout(B7)),e-Xv>24?(e<1/0&&(B7=setTimeout(Goe,e-D7.now()-Gx)),M7&&(M7=clearInterval(M7))):(M7||($x=D7.now(),M7=setInterval(gPe,zoe)),A6=1,$oe(Goe)))}function qoe(e,t,i){var r=new qx;return r.restart(o=>{r.stop(),e(o+t)},t=null==t?0:+t,i),r}qx.prototype=tR.prototype={constructor:qx,restart:function(e,t,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?eR():+i)+(null==t?0:+t),!this._next&&I7!==this&&(I7?I7._next=this:zx=this,I7=this),this._call=e,this._time=i,nR()},stop:function(){this._call&&(this._call=null,this._time=1/0,nR())}};var vPe=JL("start","end","cancel","interrupt"),yPe=[],joe=0,iR=2,jx=3,rR=5,Kx=6;function Wx(e,t,i,r,o,s){var a=e.__transition;if(a){if(i in a)return}else e.__transition={};!function _Pe(e,t,i){var o,r=e.__transition;function a(c){var f,d,h,g;if(1!==i.state)return u();for(f in r)if((g=r[f]).name===i.name){if(g.state===jx)return qoe(a);4===g.state?(g.state=Kx,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[f]):+f<t&&(g.state=Kx,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[f])}if(qoe(function(){i.state===jx&&(i.state=4,i.timer.restart(l,i.delay,i.time),l(c))}),i.state=iR,i.on.call("start",e,e.__data__,i.index,i.group),i.state===iR){for(i.state=jx,o=new Array(h=i.tween.length),f=0,d=-1;f<h;++f)(g=i.tween[f].value.call(e,e.__data__,i.index,i.group))&&(o[++d]=g);o.length=d+1}}function l(c){for(var f=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(u),i.state=rR,1),d=-1,h=o.length;++d<h;)o[d].call(e,f);i.state===rR&&(i.on.call("end",e,e.__data__,i.index,i.group),u())}function u(){for(var c in i.state=Kx,i.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=i,i.timer=tR(function s(c){i.state=1,i.timer.restart(a,i.delay,i.time),i.delay<=c&&a(c-i.delay)},0,i.time)}(e,i,{name:t,index:r,group:o,on:vPe,tween:yPe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:joe})}function oR(e,t){var i=s0(e,t);if(i.state>joe)throw new Error("too late; already scheduled");return i}function Rp(e,t){var i=s0(e,t);if(i.state>jx)throw new Error("too late; already running");return i}function s0(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function Xx(e,t){var r,o,a,i=e.__transition,s=!0;if(i){for(a in t=null==t?null:t+"",i)(r=i[a]).name===t?(o=r.state>iR&&r.state<rR,r.state=Kx,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete i[a]):s=!1;s&&delete e.__transition}}function a0(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}var Yx,Xoe=180/Math.PI,sR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yoe(e,t,i,r,o,s){var a,l,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*i+t*r)&&(i-=e*u,r-=t*u),(l=Math.sqrt(i*i+r*r))&&(i/=l,r/=l,u/=l),e*r<t*i&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*Xoe,skewX:Math.atan(u)*Xoe,scaleX:a,scaleY:l}}function Zoe(e,t,i,r){function o(c){return c.length?c.pop()+" ":""}return function(c,f){var d=[],h=[];return c=e(c),f=e(f),function s(c,f,d,h,g,v){if(c!==d||f!==h){var y=g.push("translate(",null,t,null,i);v.push({i:y-4,x:a0(c,d)},{i:y-2,x:a0(f,h)})}else(d||h)&&g.push("translate("+d+t+h+i)}(c.translateX,c.translateY,f.translateX,f.translateY,d,h),function a(c,f,d,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:d.push(o(d)+"rotate(",null,r)-2,x:a0(c,f)})):f&&d.push(o(d)+"rotate("+f+r)}(c.rotate,f.rotate,d,h),function l(c,f,d,h){c!==f?h.push({i:d.push(o(d)+"skewX(",null,r)-2,x:a0(c,f)}):f&&d.push(o(d)+"skewX("+f+r)}(c.skewX,f.skewX,d,h),function u(c,f,d,h,g,v){if(c!==d||f!==h){var y=g.push(o(g)+"scale(",null,",",null,")");v.push({i:y-4,x:a0(c,d)},{i:y-2,x:a0(f,h)})}else(1!==d||1!==h)&&g.push(o(g)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,h),c=f=null,function(g){for(var b,v=-1,y=h.length;++v<y;)d[(b=h[v]).i]=b.x(g);return d.join("")}}}var EPe=Zoe(function bPe(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?sR:Yoe(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),xPe=Zoe(function CPe(e){return null!=e&&(Yx||(Yx=document.createElementNS("http://www.w3.org/2000/svg","g")),Yx.setAttribute("transform",e),e=Yx.transform.baseVal.consolidate())?Yoe((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):sR},", ",")",")");function SPe(e,t){var i,r;return function(){var o=Rp(this,e),s=o.tween;if(s!==i)for(var a=0,l=(r=i=s).length;a<l;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function BPe(e,t,i){var r,o;if("function"!=typeof i)throw new Error;return function(){var s=Rp(this,e),a=s.tween;if(a!==r){o=(r=a).slice();for(var l={name:t,value:i},u=0,c=o.length;u<c;++u)if(o[u].name===t){o[u]=l;break}u===c&&o.push(l)}s.tween=o}}function aR(e,t,i){var r=e._id;return e.each(function(){var o=Rp(this,r);(o.value||(o.value={}))[t]=i.apply(this,arguments)}),function(o){return s0(o,r).value[t]}}function h6(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function T7(e,t){var i=Object.create(e.prototype);for(var r in t)i[r]=t[r];return i}function zm(){}var p6=1/.7,g6="\\s*([+-]?\\d+)\\s*",F7="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Up="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IPe=/^#([0-9a-f]{3,8})$/,DPe=new RegExp("^rgb\\("+[g6,g6,g6]+"\\)$"),TPe=new RegExp("^rgb\\("+[Up,Up,Up]+"\\)$"),FPe=new RegExp("^rgba\\("+[g6,g6,g6,F7]+"\\)$"),OPe=new RegExp("^rgba\\("+[Up,Up,Up,F7]+"\\)$"),kPe=new RegExp("^hsl\\("+[F7,Up,Up]+"\\)$"),NPe=new RegExp("^hsla\\("+[F7,Up,Up,F7]+"\\)$"),Joe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ese(){return this.rgb().formatHex()}function tse(){return this.rgb().formatRgb()}function l0(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=IPe.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?nse(t):3===i?new pc(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?Zx(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?Zx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=DPe.exec(e))?new pc(t[1],t[2],t[3],1):(t=TPe.exec(e))?new pc(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=FPe.exec(e))?Zx(t[1],t[2],t[3],t[4]):(t=OPe.exec(e))?Zx(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=kPe.exec(e))?ose(t[1],t[2]/100,t[3]/100,1):(t=NPe.exec(e))?ose(t[1],t[2]/100,t[3]/100,t[4]):Joe.hasOwnProperty(e)?nse(Joe[e]):"transparent"===e?new pc(NaN,NaN,NaN,0):null}function nse(e){return new pc(e>>16&255,e>>8&255,255&e,1)}function Zx(e,t,i,r){return r<=0&&(e=t=i=NaN),new pc(e,t,i,r)}function lR(e){return e instanceof zm||(e=l0(e)),e?new pc((e=e.rgb()).r,e.g,e.b,e.opacity):new pc}function u0(e,t,i,r){return 1===arguments.length?lR(e):new pc(e,t,i,r??1)}function pc(e,t,i,r){this.r=+e,this.g=+t,this.b=+i,this.opacity=+r}function ise(){return"#"+uR(this.r)+uR(this.g)+uR(this.b)}function rse(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function uR(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ose(e,t,i,r){return r<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new Pp(e,t,i,r)}function sse(e){if(e instanceof Pp)return new Pp(e.h,e.s,e.l,e.opacity);if(e instanceof zm||(e=l0(e)),!e)return new Pp;if(e instanceof Pp)return e;var t=(e=e.rgb()).r/255,i=e.g/255,r=e.b/255,o=Math.min(t,i,r),s=Math.max(t,i,r),a=NaN,l=s-o,u=(s+o)/2;return l?(a=t===s?(i-r)/l+6*(i<r):i===s?(r-t)/l+2:(t-i)/l+4,l/=u<.5?s+o:2-s-o,a*=60):l=u>0&&u<1?0:a,new Pp(a,l,u,e.opacity)}function cR(e,t,i,r){return 1===arguments.length?sse(e):new Pp(e,t,i,r??1)}function Pp(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}function fR(e,t,i){return 255*(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)}function ase(e,t,i,r,o){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*i+(1+3*e+3*s-3*a)*r+a*o)/6}h6(zm,l0,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ese,formatHex:ese,formatHsl:function LPe(){return sse(this).formatHsl()},formatRgb:tse,toString:tse}),h6(pc,u0,T7(zm,{brighter:function(e){return e=null==e?p6:Math.pow(p6,e),new pc(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new pc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ise,formatHex:ise,formatRgb:rse,toString:rse})),h6(Pp,cR,T7(zm,{brighter:function(e){return e=null==e?p6:Math.pow(p6,e),new Pp(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Pp(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*t,o=2*i-r;return new pc(fR(e>=240?e-240:e+120,o,r),fR(e,o,r),fR(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Jx=e=>()=>e;function lse(e,t){return function(i){return e+i*t}}function m6(e,t){var i=t-e;return i?lse(e,i):Jx(isNaN(e)?t:e)}const eS=function e(t){var i=function QPe(e){return 1==(e=+e)?m6:function(t,i){return i-t?function PPe(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(r){return Math.pow(e+r*t,i)}}(t,i,e):Jx(isNaN(t)?i:t)}}(t);function r(o,s){var a=i((o=u0(o)).r,(s=u0(s)).r),l=i(o.g,s.g),u=i(o.b,s.b),c=m6(o.opacity,s.opacity);return function(f){return o.r=a(f),o.g=l(f),o.b=u(f),o.opacity=c(f),o+""}}return r.gamma=e,r}(1);function use(e){return function(t){var a,l,i=t.length,r=new Array(i),o=new Array(i),s=new Array(i);for(a=0;a<i;++a)l=u0(t[a]),r[a]=l.r||0,o[a]=l.g||0,s[a]=l.b||0;return r=e(r),o=e(o),s=e(s),l.opacity=1,function(u){return l.r=r(u),l.g=o(u),l.b=s(u),l+""}}}var VPe=use(function RPe(e){var t=e.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),o=e[r],s=e[r+1];return ase((i-r/t)*t,r>0?e[r-1]:2*o-s,o,s,r<t-1?e[r+2]:2*s-o)}}),dR=(use(function UPe(e){var t=e.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*t);return ase((i-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}}),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),AR=new RegExp(dR.source,"g");function cse(e,t){var r,o,s,i=dR.lastIndex=AR.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(r=dR.exec(e))&&(o=AR.exec(t));)(s=o.index)>i&&(s=t.slice(i,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:a0(r,o)})),i=AR.lastIndex;return i<t.length&&(s=t.slice(i),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?function $Pe(e){return function(t){return e(t)+""}}(u[0].x):function zPe(e){return function(){return e}}(t):(t=u.length,function(c){for(var d,f=0;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function fse(e,t){var i;return("number"==typeof t?a0:t instanceof l0?eS:(i=l0(t))?(t=i,eS):cse)(e,t)}function GPe(e){return function(){this.removeAttribute(e)}}function qPe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jPe(e,t,i){var r,s,o=i+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?s:s=t(r=a,i)}}function KPe(e,t,i){var r,s,o=i+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?s:s=t(r=a,i)}}function WPe(e,t,i){var r,o,s;return function(){var a,u,l=i(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e))===(u=l+"")?null:a===r&&u===o?s:(o=u,s=t(r=a,l))}}function XPe(e,t,i){var r,o,s;return function(){var a,u,l=i(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(u=l+"")?null:a===r&&u===o?s:(o=u,s=t(r=a,l))}}function eHe(e,t){var i,r;function o(){var s=t.apply(this,arguments);return s!==r&&(i=(r=s)&&function JPe(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}(e,s)),i}return o._value=t,o}function tHe(e,t){var i,r;function o(){var s=t.apply(this,arguments);return s!==r&&(i=(r=s)&&function ZPe(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}(e,s)),i}return o._value=t,o}function iHe(e,t){return function(){oR(this,e).delay=+t.apply(this,arguments)}}function rHe(e,t){return t=+t,function(){oR(this,e).delay=t}}function sHe(e,t){return function(){Rp(this,e).duration=+t.apply(this,arguments)}}function aHe(e,t){return t=+t,function(){Rp(this,e).duration=t}}var bHe=S7.prototype.constructor;function dse(e){return function(){this.style.removeProperty(e)}}var HHe=0;function l1(e,t,i,r){this._groups=e,this._parents=t,this._name=i,this._id=r}function Ase(){return++HHe}var Zv=S7.prototype;l1.prototype=function QHe(e){return S7().transition(e)}.prototype={constructor:l1,select:function _He(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=KL(e));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var f,d,l=r[a],u=l.length,c=s[a]=new Array(u),h=0;h<u;++h)(f=l[h])&&(d=e.call(f,f.__data__,h,l))&&("__data__"in f&&(d.__data__=f.__data__),c[h]=d,Wx(c[h],t,i,h,c,s0(f,i)));return new l1(s,this._parents,t,i)},selectAll:function wHe(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=Moe(e));for(var r=this._groups,o=r.length,s=[],a=[],l=0;l<o;++l)for(var f,u=r[l],c=u.length,d=0;d<c;++d)if(f=u[d]){for(var g,h=e.call(f,f.__data__,d,u),v=s0(f,i),y=0,b=h.length;y<b;++y)(g=h[y])&&Wx(g,t,i,y,h,v);s.push(h),a.push(f)}return new l1(s,a,t,i)},filter:function AHe(e){"function"!=typeof e&&(e=Ioe(e));for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o)for(var u,s=t[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(u=s[c])&&e.call(u,u.__data__,c,s)&&l.push(u);return new l1(r,this._parents,this._name,this._id)},merge:function hHe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,r=t.length,s=Math.min(r,i.length),a=new Array(r),l=0;l<s;++l)for(var h,u=t[l],c=i[l],f=u.length,d=a[l]=new Array(f),g=0;g<f;++g)(h=u[g]||c[g])&&(d[g]=h);for(;l<r;++l)a[l]=t[l];return new l1(a,this._parents,this._name,this._id)},selection:function CHe(){return new bHe(this._groups,this._parents)},transition:function UHe(){for(var e=this._name,t=this._id,i=Ase(),r=this._groups,o=r.length,s=0;s<o;++s)for(var u,a=r[s],l=a.length,c=0;c<l;++c)if(u=a[c]){var f=s0(u,t);Wx(u,e,i,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new l1(r,this._parents,e,i)},call:Zv.call,nodes:Zv.nodes,node:Zv.node,size:Zv.size,empty:Zv.empty,each:Zv.each,on:function mHe(e,t){var i=this._id;return arguments.length<2?s0(this.node(),i).on.on(e):this.each(function gHe(e,t,i){var r,o,s=function pHe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t})}(t)?oR:Rp;return function(){var a=s(this,e),l=a.on;l!==r&&(o=(r=l).copy()).on(t,i),a.on=o}}(i,e,t))},attr:function YPe(e,t){var i=Qx(e),r="transform"===i?xPe:fse;return this.attrTween(e,"function"==typeof t?(i.local?XPe:WPe)(i,r,aR(this,"attr."+e,t)):null==t?(i.local?qPe:GPe)(i):(i.local?KPe:jPe)(i,r,t))},attrTween:function nHe(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;var r=Qx(e);return this.tween(i,(r.local?eHe:tHe)(r,t))},style:function MHe(e,t,i){var r="transform"==(e+="")?EPe:fse;return null==t?this.styleTween(e,function EHe(e,t){var i,r,o;return function(){var s=d6(this,e),a=(this.style.removeProperty(e),d6(this,e));return s===a?null:s===i&&a===r?o:o=t(i=s,r=a)}}(e,r)).on("end.style."+e,dse(e)):"function"==typeof t?this.styleTween(e,function SHe(e,t,i){var r,o,s;return function(){var a=d6(this,e),l=i(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=d6(this,e)),a===u?null:a===r&&u===o?s:(o=u,s=t(r=a,l))}}(e,r,aR(this,"style."+e,t))).each(function BHe(e,t){var i,r,o,l,s="style."+t,a="end."+s;return function(){var u=Rp(this,e),c=u.on,f=null==u.value[s]?l||(l=dse(t)):void 0;(c!==i||o!==f)&&(r=(i=c).copy()).on(a,o=f),u.on=r}}(this._id,e)):this.styleTween(e,function xHe(e,t,i){var r,s,o=i+"";return function(){var a=d6(this,e);return a===o?null:a===r?s:s=t(r=a,i)}}(e,r,t),i).on("end.style."+e,null)},styleTween:function THe(e,t,i){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function DHe(e,t,i){var r,o;function s(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&function IHe(e,t,i){return function(r){this.style.setProperty(e,t.call(this,r),i)}}(e,a,i)),r}return s._value=t,s}(e,t,i??""))},text:function kHe(e){return this.tween("text","function"==typeof e?function OHe(e){return function(){var t=e(this);this.textContent=t??""}}(aR(this,"text",e)):function FHe(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function RHe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function LHe(e){var t,i;function r(){var o=e.apply(this,arguments);return o!==i&&(t=(i=o)&&function NHe(e){return function(t){this.textContent=e.call(this,t)}}(o)),t}return r._value=e,r}(e))},remove:function yHe(){return this.on("end.remove",function vHe(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function MPe(e,t){var i=this._id;if(e+="",arguments.length<2){for(var a,r=s0(this.node(),i).tween,o=0,s=r.length;o<s;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((null==t?SPe:BPe)(i,e,t))},delay:function oHe(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?iHe:rHe)(t,e)):s0(this.node(),t).delay},duration:function lHe(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?sHe:aHe)(t,e)):s0(this.node(),t).duration},ease:function cHe(e){var t=this._id;return arguments.length?this.each(function uHe(e,t){if("function"!=typeof t)throw new Error;return function(){Rp(this,e).ease=t}}(t,e)):s0(this.node(),t).ease},easeVarying:function dHe(e){if("function"!=typeof e)throw new Error;return this.each(function fHe(e,t){return function(){var i=t.apply(this,arguments);if("function"!=typeof i)throw new Error;Rp(this,e).ease=i}}(this._id,e))},end:function PHe(){var e,t,i=this,r=i._id,o=i.size();return new Promise(function(s,a){var l={value:a},u={value:function(){0==--o&&s()}};i.each(function(){var c=Rp(this,r),f=c.on;f!==e&&((t=(e=f).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),c.on=t}),0===o&&s()})},[Symbol.iterator]:Zv[Symbol.iterator]};var zHe={time:null,delay:0,duration:250,ease:function VHe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function $He(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}S7.prototype.interrupt=function wPe(e){return this.each(function(){Xx(this,e)})},S7.prototype.transition=function GHe(e){var t,i;e instanceof l1?(t=e._id,e=e._name):(t=Ase(),(i=zHe).time=eR(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var u,a=r[s],l=a.length,c=0;c<l;++c)(u=a[c])&&Wx(u,e,t,c,a,i||$He(u,t));return new l1(r,this._parents,e,t)};Math;function O7(e){return{type:e}}["w","e"].map(O7),["n","s"].map(O7),["n","w","e","s","nw","ne","sw","se"].map(O7);var yse={},vR={};function _se(e){return new Function("d","return {"+e.map(function(t,i){return JSON.stringify(t)+": d["+i+'] || ""'}).join(",")+"}")}function wse(e){var t=Object.create(null),i=[];return e.forEach(function(r){for(var o in r)o in t||i.push(t[o]=o)}),i}function dd(e,t){var i=e+"",r=i.length;return r<t?new Array(t-r+1).join(0)+i:i}function bse(e){var t=new RegExp('["'+e+"\n\r]"),i=e.charCodeAt(0);function o(d,h){var E,g=[],v=d.length,y=0,b=0,M=v<=0,k=!1;function P(){if(M)return vR;if(k)return k=!1,yse;var X,se,z=y;if(34===d.charCodeAt(z)){for(;y++<v&&34!==d.charCodeAt(y)||34===d.charCodeAt(++y););return(X=y)>=v?M=!0:10===(se=d.charCodeAt(y++))?k=!0:13===se&&(k=!0,10===d.charCodeAt(y)&&++y),d.slice(z+1,X-1).replace(/""/g,'"')}for(;y<v;){if(10===(se=d.charCodeAt(X=y++)))k=!0;else if(13===se)k=!0,10===d.charCodeAt(y)&&++y;else if(se!==i)continue;return d.slice(z,X)}return M=!0,d.slice(z,v)}for(10===d.charCodeAt(v-1)&&--v,13===d.charCodeAt(v-1)&&--v;(E=P())!==vR;){for(var H=[];E!==yse&&E!==vR;)H.push(E),E=P();h&&null==(H=h(H,b++))||g.push(H)}return g}function s(d,h){return d.map(function(g){return h.map(function(v){return f(g[v])}).join(e)})}function c(d){return d.map(f).join(e)}function f(d){return null==d?"":d instanceof Date?function nQe(e){var t=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function tQe(e){return e<0?"-"+dd(-e,6):e>9999?"+"+dd(e,6):dd(e,4)}(e.getUTCFullYear())+"-"+dd(e.getUTCMonth()+1,2)+"-"+dd(e.getUTCDate(),2)+(o?"T"+dd(t,2)+":"+dd(i,2)+":"+dd(r,2)+"."+dd(o,3)+"Z":r?"T"+dd(t,2)+":"+dd(i,2)+":"+dd(r,2)+"Z":i||t?"T"+dd(t,2)+":"+dd(i,2)+"Z":"")}(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:function r(d,h){var g,v,y=o(d,function(b,E){if(g)return g(b,E-1);v=b,g=h?function eQe(e,t){var i=_se(e);return function(r,o){return t(i(r),o,e)}}(b,h):_se(b)});return y.columns=v||[],y},parseRows:o,format:function a(d,h){return null==h&&(h=wse(d)),[h.map(f).join(e)].concat(s(d,h)).join("\n")},formatBody:function l(d,h){return null==h&&(h=wse(d)),s(d,h).join("\n")},formatRows:function u(d){return d.map(c).join("\n")},formatRow:c,formatValue:f}}var iQe=bse(",").parse,rQe=bse("\t").parse;function oQe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Cse(e){return function(t,i,r){return 2===arguments.length&&"function"==typeof i&&(r=i,i=void 0),function sQe(e,t){return fetch(e,t).then(oQe)}(t,i).then(function(o){return e(o,r)})}}var aQe=Cse(iQe);function lQe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function uQe(e,t){return fetch(e,t).then(lQe)}function iS(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,r=e.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+e.slice(i+1)]}function _6(e){return(e=iS(Math.abs(e)))?e[1]:NaN}Cse(rQe);var Ese,AQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function w6(e){if(!(t=AQe.exec(e)))throw new Error("invalid format: "+e);var t;return new wR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function wR(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function xse(e,t){var i=iS(e,t);if(!i)return e+"";var r=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}w6.prototype=wR.prototype,wR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Sse={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function cQe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xse(100*e,t),r:xse,s:function pQe(e,t){var i=iS(e,t);if(!i)return e+"";var r=i[0],o=i[1],s=o-(Ese=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+iS(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Bse(e){return e}var rS,b6,bR,Mse=Array.prototype.map,Ise=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];!function mQe(e){rS=function gQe(e){var t=void 0===e.grouping||void 0===e.thousands?Bse:function fQe(e,t){return function(i,r){for(var o=i.length,s=[],a=0,l=e[0],u=0;o>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(i.substring(o-=l,o+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}(Mse.call(e.grouping,Number),e.thousands+""),i=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Bse:function dQe(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}(Mse.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function c(d){var h=(d=w6(d)).fill,g=d.align,v=d.sign,y=d.symbol,b=d.zero,E=d.width,M=d.comma,k=d.precision,P=d.trim,H=d.type;"n"===H?(M=!0,H="g"):Sse[H]||(void 0===k&&(k=12),P=!0,H="g"),(b||"0"===h&&"="===g)&&(b=!0,h="0",g="=");var X="$"===y?i:"#"===y&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",z="$"===y?r:/[%p]/.test(H)?a:"",se=Sse[H],ye=/[defgprs%]/.test(H);function Ie(Ee){var W,Z,te,Je=X,Ze=z;if("c"===H)Ze=se(Ee)+Ze,Ee="";else{var Ce=(Ee=+Ee)<0||1/Ee<0;if(Ee=isNaN(Ee)?u:se(Math.abs(Ee),k),P&&(Ee=function hQe(e){e:for(var o,t=e.length,i=1,r=-1;i<t;++i)switch(e[i]){case".":r=o=i;break;case"0":0===r&&(r=i),o=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(o+1):e}(Ee)),Ce&&0==+Ee&&"+"!==v&&(Ce=!1),Je=(Ce?"("===v?v:l:"-"===v||"("===v?"":v)+Je,Ze=("s"===H?Ise[8+Ese/3]:"")+Ze+(Ce&&"("===v?")":""),ye)for(W=-1,Z=Ee.length;++W<Z;)if(48>(te=Ee.charCodeAt(W))||te>57){Ze=(46===te?o+Ee.slice(W+1):Ee.slice(W))+Ze,Ee=Ee.slice(0,W);break}}M&&!b&&(Ee=t(Ee,1/0));var ce=Je.length+Ee.length+Ze.length,we=ce<E?new Array(E-ce+1).join(h):"";switch(M&&b&&(Ee=t(we+Ee,we.length?E-Ze.length:1/0),we=""),g){case"<":Ee=Je+Ee+Ze+we;break;case"=":Ee=Je+we+Ee+Ze;break;case"^":Ee=we.slice(0,ce=we.length>>1)+Je+Ee+Ze+we.slice(ce);break;default:Ee=we+Je+Ee+Ze}return s(Ee)}return k=void 0===k?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k)),Ie.toString=function(){return d+""},Ie}return{format:c,formatPrefix:function f(d,h){var g=c(((d=w6(d)).type="f",d)),v=3*Math.max(-8,Math.min(8,Math.floor(_6(h)/3))),y=Math.pow(10,-v),b=Ise[8+v/3];return function(E){return g(y*E)+b}}}}(e),b6=rS.format,bR=rS.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const CR=e=>e;function oS(e,t){e&&Tse.hasOwnProperty(e.type)&&Tse[e.type](e,t)}var Dse={Feature:function(e,t){oS(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,r=-1,o=i.length;++r<o;)oS(i[r].geometry,t)}},Tse={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)t.point((e=i[r])[0],e[1],e[2])},LineString:function(e,t){ER(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)ER(i[r],t,0)},Polygon:function(e,t){Fse(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)Fse(i[r],t)},GeometryCollection:function(e,t){for(var i=e.geometries,r=-1,o=i.length;++r<o;)oS(i[r],t)}};function ER(e,t,i){var s,r=-1,o=e.length-i;for(t.lineStart();++r<o;)t.point((s=e[r])[0],s[1],s[2]);t.lineEnd()}function Fse(e,t){var i=-1,r=e.length;for(t.polygonStart();++i<r;)ER(e[i],t,1);t.polygonEnd()}function C6(e,t){e&&Dse.hasOwnProperty(e.type)?Dse[e.type](e,t):oS(e,t)}class Vc{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let r=0;for(let o=0;o<this._n&&o<32;o++){const s=i[o],a=t+s,l=Math.abs(t)<Math.abs(s)?t-(a-s):s-(a-t);l&&(i[r++]=l),t=a}return i[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let r,o,s,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(r=a,o=t[--i],a=r+o,s=o-(a-r),!s););i>0&&(s<0&&t[i-1]<0||s>0&&t[i-1]>0)&&(o=2*s,r=a+o,o==r-a&&(a=r))}return a}}var fs=1e-6,vQe=1e-12,ns=Math.PI,Ad=ns/2,Ose=ns/4,aA=2*ns,Tf=180/ns,Ql=ns/180,hl=Math.abs,kse=Math.atan,E6=Math.atan2,Fl=Math.cos,yQe=(Math,Math.exp),_Qe=(Math,Math,Math.log),Sa=(Math,Math.sin),sS=Math.sign||function(e){return e>0?1:e<0?-1:0},c1=Math.sqrt,wQe=Math.tan;function t3(e){return e>1?Ad:e<-1?-Ad:Math.asin(e)}function nh(){}var Nse,Lse,BR,MR,xR=new Vc,SR=new Vc,$m={point:nh,lineStart:nh,lineEnd:nh,polygonStart:function(){$m.lineStart=CQe,$m.lineEnd=xQe},polygonEnd:function(){$m.lineStart=$m.lineEnd=$m.point=nh,xR.add(hl(SR)),SR=new Vc},result:function(){var e=xR/2;return xR=new Vc,e}};function CQe(){$m.point=EQe}function EQe(e,t){$m.point=Rse,Nse=BR=e,Lse=MR=t}function Rse(e,t){SR.add(MR*e-BR*t),BR=e,MR=t}function xQe(){Rse(Nse,Lse)}const Use=$m;var x6=1/0,aS=x6,N7=-x6,lS=N7,SQe={point:function BQe(e,t){e<x6&&(x6=e),e>N7&&(N7=e),t<aS&&(aS=t),t>lS&&(lS=t)},lineStart:nh,lineEnd:nh,polygonStart:nh,polygonEnd:nh,result:function(){var e=[[x6,aS],[N7,lS]];return N7=lS=-(aS=x6=1/0),e}};const uS=SQe;var Pse,Hse,Hp,Qp,IR=0,DR=0,L7=0,cS=0,fS=0,S6=0,TR=0,FR=0,R7=0,c0={point:n3,lineStart:Qse,lineEnd:Vse,polygonStart:function(){c0.lineStart=DQe,c0.lineEnd=TQe},polygonEnd:function(){c0.point=n3,c0.lineStart=Qse,c0.lineEnd=Vse},result:function(){var e=R7?[TR/R7,FR/R7]:S6?[cS/S6,fS/S6]:L7?[IR/L7,DR/L7]:[NaN,NaN];return IR=DR=L7=cS=fS=S6=TR=FR=R7=0,e}};function n3(e,t){IR+=e,DR+=t,++L7}function Qse(){c0.point=MQe}function MQe(e,t){c0.point=IQe,n3(Hp=e,Qp=t)}function IQe(e,t){var i=e-Hp,r=t-Qp,o=c1(i*i+r*r);cS+=o*(Hp+e)/2,fS+=o*(Qp+t)/2,S6+=o,n3(Hp=e,Qp=t)}function Vse(){c0.point=n3}function DQe(){c0.point=FQe}function TQe(){zse(Pse,Hse)}function FQe(e,t){c0.point=zse,n3(Pse=Hp=e,Hse=Qp=t)}function zse(e,t){var i=e-Hp,r=t-Qp,o=c1(i*i+r*r);cS+=o*(Hp+e)/2,fS+=o*(Qp+t)/2,S6+=o,TR+=(o=Qp*e-Hp*t)*(Hp+e),FR+=o*(Qp+t),R7+=3*o,n3(Hp=e,Qp=t)}const $se=c0;function Gse(e){this._context=e}Gse.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,aA)}},result:nh};var kR,qse,jse,U7,P7,OR=new Vc,dS={point:nh,lineStart:function(){dS.point=OQe},lineEnd:function(){kR&&Kse(qse,jse),dS.point=nh},polygonStart:function(){kR=!0},polygonEnd:function(){kR=null},result:function(){var e=+OR;return OR=new Vc,e}};function OQe(e,t){dS.point=Kse,qse=U7=e,jse=P7=t}function Kse(e,t){OR.add(c1((U7-=e)*U7+(P7-=t)*P7)),U7=e,P7=t}const Wse=dS;function Xse(){this._string=[]}function Yse(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Zse(){var t,e=[];return{point:function(i,r,o){t.push([i,r,o])},lineStart:function(){e.push(t=[])},lineEnd:nh,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function AS(e,t){return hl(e[0]-t[0])<fs&&hl(e[1]-t[1])<fs}function hS(e,t,i,r){this.x=e,this.z=t,this.o=i,this.e=r,this.v=!1,this.n=this.p=null}function Jse(e,t,i,r,o){var l,u,s=[],a=[];if(e.forEach(function(v){if(!((y=v.length-1)<=0)){var y,M,b=v[0],E=v[y];if(AS(b,E)){if(!b[2]&&!E[2]){for(o.lineStart(),l=0;l<y;++l)o.point((b=v[l])[0],b[1]);return void o.lineEnd()}E[0]+=2*fs}s.push(M=new hS(b,v,null,!0)),a.push(M.o=new hS(b,null,M,!1)),s.push(M=new hS(E,v,null,!1)),a.push(M.o=new hS(E,null,M,!0))}}),s.length){for(a.sort(t),eae(s),eae(a),l=0,u=a.length;l<u;++l)a[l].e=i=!i;for(var f,d,c=s[0];;){for(var h=c,g=!0;h.v;)if((h=h.n)===c)return;f=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(l=0,u=f.length;l<u;++l)o.point((d=f[l])[0],d[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(g)for(l=(f=h.p.z).length-1;l>=0;--l)o.point((d=f[l])[0],d[1]);else r(h.x,h.p.x,-1,o);h=h.p}f=(h=h.o).z,g=!g}while(!h.v);o.lineEnd()}}}function eae(e){if(t=e.length){for(var t,o,i=0,r=e[0];++i<t;)r.n=o=e[i],o.p=r,r=o;r.n=o=e[0],o.p=r}}function NR(e){return[E6(e[1],e[0]),t3(e[2])]}function B6(e){var t=e[0],i=e[1],r=Fl(i);return[r*Fl(t),r*Sa(t),Sa(i)]}function pS(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gS(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function LR(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function mS(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function RR(e){var t=c1(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function UR(e){return hl(e[0])<=ns?e[0]:sS(e[0])*((hl(e[0])+ns)%aA-ns)}function vS(e){return Array.from(function*LQe(e){for(const t of e)yield*t}(e))}function tae(e,t,i,r){return function(o){var c,f,d,s=t(o),a=Zse(),l=t(a),u=!1,h={point:g,lineStart:y,lineEnd:b,polygonStart:function(){h.point=E,h.lineStart=M,h.lineEnd=k,f=[],c=[]},polygonEnd:function(){h.point=g,h.lineStart=y,h.lineEnd=b,f=vS(f);var P=function NQe(e,t){var i=UR(t),r=t[1],o=Sa(r),s=[Sa(i),-Fl(i),0],a=0,l=0,u=new Vc;1===o?r=Ad+fs:-1===o&&(r=-Ad-fs);for(var c=0,f=e.length;c<f;++c)if(h=(d=e[c]).length)for(var d,h,g=d[h-1],v=UR(g),y=g[1]/2+Ose,b=Sa(y),E=Fl(y),M=0;M<h;++M,v=P,b=X,E=z,g=k){var k=d[M],P=UR(k),H=k[1]/2+Ose,X=Sa(H),z=Fl(H),se=P-v,ye=se>=0?1:-1,Ie=ye*se,Ee=Ie>ns,Je=b*X;if(u.add(E6(Je*ye*Sa(Ie),E*z+Je*Fl(Ie))),a+=Ee?se+ye*aA:se,Ee^v>=i^P>=i){var Ze=gS(B6(g),B6(k));RR(Ze);var W=gS(s,Ze);RR(W);var Z=(Ee^se>=0?-1:1)*t3(W[2]);(r>Z||r===Z&&(Ze[0]||Ze[1]))&&(l+=Ee^se>=0?1:-1)}}return(a<-fs||a<fs&&u<-vQe)^1&l}(c,r);f.length?(u||(o.polygonStart(),u=!0),Jse(f,UQe,P,i,o)):P&&(u||(o.polygonStart(),u=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),f=c=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(P,H){e(P,H)&&o.point(P,H)}function v(P,H){s.point(P,H)}function y(){h.point=v,s.lineStart()}function b(){h.point=g,s.lineEnd()}function E(P,H){d.push([P,H]),l.point(P,H)}function M(){l.lineStart(),d=[]}function k(){E(d[0][0],d[0][1]),l.lineEnd();var X,se,ye,Ie,P=l.clean(),H=a.result(),z=H.length;if(d.pop(),c.push(d),d=null,z){if(1&P){if((se=(ye=H[0]).length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),X=0;X<se;++X)o.point((Ie=ye[X])[0],Ie[1]);o.lineEnd()}return}z>1&&2&P&&H.push(H.pop().concat(H.shift())),f.push(H.filter(RQe))}}return h}}function RQe(e){return e.length>1}function UQe(e,t){return((e=e.x)[0]<0?e[1]-Ad-fs:Ad-e[1])-((t=t.x)[0]<0?t[1]-Ad-fs:Ad-t[1])}Xse.prototype={_radius:4.5,_circle:Yse(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Yse(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};const nae=tae(function(){return!0},function PQe(e){var o,t=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),o=1},point:function(s,a){var l=s>0?ns:-ns,u=hl(s-t);hl(u-ns)<fs?(e.point(t,i=(i+a)/2>0?Ad:-Ad),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),e.point(s,i),o=0):r!==l&&u>=ns&&(hl(t-r)<fs&&(t-=r*fs),hl(s-l)<fs&&(s-=l*fs),i=function HQe(e,t,i,r){var o,s,a=Sa(e-i);return hl(a)>fs?kse((Sa(t)*(s=Fl(r))*Sa(i)-Sa(r)*(o=Fl(t))*Sa(e))/(o*s*a)):(t+r)/2}(t,i,s,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),o=0),e.point(t=s,i=a),r=l},lineEnd:function(){e.lineEnd(),t=i=NaN},clean:function(){return 2-o}}},function QQe(e,t,i,r){var o;if(null==e)r.point(-ns,o=i*Ad),r.point(0,o),r.point(ns,o),r.point(ns,0),r.point(ns,-o),r.point(0,-o),r.point(-ns,-o),r.point(-ns,0),r.point(-ns,o);else if(hl(e[0]-t[0])>fs){var s=e[0]<t[0]?ns:-ns;r.point(-s,o=i*s/2),r.point(0,o),r.point(s,o)}else r.point(t[0],t[1])},[-ns,-Ad]);function rae(e,t){(t=B6(t))[0]-=e,RR(t);var i=function bQe(e){return e>1?0:e<-1?ns:Math.acos(e)}(-t[1]);return((-t[2]<0?-i:i)+aA-fs)%aA}var H7=1e9,yS=-H7;function PR(e,t){function i(r,o){return r=e(r,o),t(r[0],r[1])}return e.invert&&t.invert&&(i.invert=function(r,o){return(r=t.invert(r,o))&&e.invert(r[0],r[1])}),i}function HR(e,t){return[hl(e)>ns?e+Math.round(-e/aA)*aA:e,t]}function oae(e,t,i){return(e%=aA)?t||i?PR(aae(e),lae(t,i)):aae(e):t||i?lae(t,i):HR}function sae(e){return function(t,i){return[(t+=e)>ns?t-aA:t<-ns?t+aA:t,i]}}function aae(e){var t=sae(e);return t.invert=sae(-e),t}function lae(e,t){var i=Fl(e),r=Sa(e),o=Fl(t),s=Sa(t);function a(l,u){var c=Fl(u),f=Fl(l)*c,d=Sa(l)*c,h=Sa(u),g=h*i+f*r;return[E6(d*o-g*s,f*i-h*r),t3(g*o+d*s)]}return a.invert=function(l,u){var c=Fl(u),f=Fl(l)*c,d=Sa(l)*c,h=Sa(u),g=h*o-d*s;return[E6(d*o+h*s,f*i+g*r),t3(g*i-f*r)]},a}function _S(e){return function(t){var i=new QR;for(var r in e)i[r]=e[r];return i.stream=t,i}}function QR(){}function VR(e,t,i){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),C6(i,e.stream(uS)),t(uS.result()),null!=r&&e.clipExtent(r),e}function zR(e,t,i){return VR(e,function(r){var o=t[1][0]-t[0][0],s=t[1][1]-t[0][1],a=Math.min(o/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),l=+t[0][0]+(o-a*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(s-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([l,u])},i)}function uae(e,t,i){return zR(e,[[0,0],t],i)}function cae(e,t,i){return VR(e,function(r){var o=+t,s=o/(r[1][0]-r[0][0]),a=(o-s*(r[1][0]+r[0][0]))/2,l=-s*r[0][1];e.scale(150*s).translate([a,l])},i)}function fae(e,t,i){return VR(e,function(r){var o=+t,s=o/(r[1][1]-r[0][1]),a=-s*r[0][0],l=(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},i)}HR.invert=HR,QR.prototype={constructor:QR,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dae=16,qQe=Fl(30*Ql);function Aae(e,t){return+t?function KQe(e,t){function i(r,o,s,a,l,u,c,f,d,h,g,v,y,b){var E=c-r,M=f-o,k=E*E+M*M;if(k>4*t&&y--){var P=a+h,H=l+g,X=u+v,z=c1(P*P+H*H+X*X),se=t3(X/=z),ye=hl(hl(X)-1)<fs||hl(s-d)<fs?(s+d)/2:E6(H,P),Ie=e(ye,se),Ee=Ie[0],Je=Ie[1],Ze=Ee-r,W=Je-o,Z=M*Ze-E*W;(Z*Z/k>t||hl((E*Ze+M*W)/k-.5)>.3||a*h+l*g+u*v<qQe)&&(i(r,o,s,a,l,u,Ee,Je,ye,P/=z,H/=z,X,y,b),b.point(Ee,Je),i(Ee,Je,ye,P,H,X,c,f,d,h,g,v,y,b))}}return function(r){var o,s,a,l,u,c,f,d,h,g,v,y,b={point:E,lineStart:M,lineEnd:P,polygonStart:function(){r.polygonStart(),b.lineStart=H},polygonEnd:function(){r.polygonEnd(),b.lineStart=M}};function E(se,ye){se=e(se,ye),r.point(se[0],se[1])}function M(){d=NaN,b.point=k,r.lineStart()}function k(se,ye){var Ie=B6([se,ye]),Ee=e(se,ye);i(d,h,f,g,v,y,d=Ee[0],h=Ee[1],f=se,g=Ie[0],v=Ie[1],y=Ie[2],dae,r),r.point(d,h)}function P(){b.point=E,r.lineEnd()}function H(){M(),b.point=X,b.lineEnd=z}function X(se,ye){k(o=se,ye),s=d,a=h,l=g,u=v,c=y,b.point=k}function z(){i(d,h,f,g,v,y,s,a,o,l,u,c,dae,r),b.lineEnd=P,P()}return b}}(e,t):function jQe(e){return _S({point:function(t,i){t=e(t,i),this.stream.point(t[0],t[1])}})}(e)}var WQe=_S({point:function(e,t){this.stream.point(e*Ql,t*Ql)}});function hae(e,t,i,r,o,s){if(!s)return function YQe(e,t,i,r,o){function s(a,l){return[t+e*(a*=r),i-e*(l*=o)]}return s.invert=function(a,l){return[(a-t)/e*r,(i-l)/e*o]},s}(e,t,i,r,o);var a=Fl(s),l=Sa(s),u=a*e,c=l*e,f=a/e,d=l/e,h=(l*i-a*t)/e,g=(l*t+a*i)/e;function v(y,b){return[u*(y*=r)-c*(b*=o)+t,i-c*y-u*b]}return v.invert=function(y,b){return[r*(f*y-d*b+h),o*(g-d*y-f*b)]},v}function pae(e){return gae(function(){return e})()}function gae(e){var t,f,E,M,k,X,z,se,ye,Ie,i=150,r=480,o=250,s=0,a=0,l=0,u=0,c=0,d=0,h=1,g=1,v=null,y=nae,b=null,P=CR,H=.5;function Ee(Z){return se(Z[0]*Ql,Z[1]*Ql)}function Je(Z){return(Z=se.invert(Z[0],Z[1]))&&[Z[0]*Tf,Z[1]*Tf]}function Ze(){var Z=hae(i,0,0,h,g,d).apply(null,t(s,a)),te=hae(i,r-Z[0],o-Z[1],h,g,d);return f=oae(l,u,c),z=PR(t,te),se=PR(f,z),X=Aae(z,H),W()}function W(){return ye=Ie=null,Ee}return Ee.stream=function(Z){return ye&&Ie===Z?ye:ye=WQe(function XQe(e){return _S({point:function(t,i){var r=e(t,i);return this.stream.point(r[0],r[1])}})}(f)(y(X(P(Ie=Z)))))},Ee.preclip=function(Z){return arguments.length?(y=Z,v=void 0,W()):y},Ee.postclip=function(Z){return arguments.length?(P=Z,b=E=M=k=null,W()):P},Ee.clipAngle=function(Z){return arguments.length?(y=+Z?function VQe(e){var t=Fl(e),i=6*Ql,r=t>0,o=hl(t)>fs;function a(f,d){return Fl(f)*Fl(d)>t}function u(f,d,h){var y=[1,0,0],b=gS(B6(f),B6(d)),E=pS(b,b),M=b[0],k=E-M*M;if(!k)return!h&&f;var P=t*E/k,H=-t*M/k,X=gS(y,b),z=mS(y,P);LR(z,mS(b,H));var ye=X,Ie=pS(z,ye),Ee=pS(ye,ye),Je=Ie*Ie-Ee*(pS(z,z)-1);if(!(Je<0)){var Ze=c1(Je),W=mS(ye,(-Ie-Ze)/Ee);if(LR(W,z),W=NR(W),!h)return W;var we,Z=f[0],te=d[0],Ce=f[1],ce=d[1];te<Z&&(we=Z,Z=te,te=we);var Be=te-Z,tt=hl(Be-ns)<fs;if(!tt&&ce<Ce&&(we=Ce,Ce=ce,ce=we),tt||Be<fs?tt?Ce+ce>0^W[1]<(hl(W[0]-Z)<fs?Ce:ce):Ce<=W[1]&&W[1]<=ce:Be>ns^(Z<=W[0]&&W[0]<=te)){var Mt=mS(ye,(-Ie+Ze)/Ee);return LR(Mt,z),[W,NR(Mt)]}}}function c(f,d){var h=r?e:ns-e,g=0;return f<-h?g|=1:f>h&&(g|=2),d<-h?g|=4:d>h&&(g|=8),g}return tae(a,function l(f){var d,h,g,v,y;return{lineStart:function(){v=g=!1,y=1},point:function(b,E){var k,M=[b,E],P=a(b,E),H=r?P?0:c(b,E):P?c(b+(b<0?ns:-ns),E):0;if(!d&&(v=g=P)&&f.lineStart(),P!==g&&(!(k=u(d,M))||AS(d,k)||AS(M,k))&&(M[2]=1),P!==g)y=0,P?(f.lineStart(),k=u(M,d),f.point(k[0],k[1])):(k=u(d,M),f.point(k[0],k[1],2),f.lineEnd()),d=k;else if(o&&d&&r^P){var X;!(H&h)&&(X=u(M,d,!0))&&(y=0,r?(f.lineStart(),f.point(X[0][0],X[0][1]),f.point(X[1][0],X[1][1]),f.lineEnd()):(f.point(X[1][0],X[1][1]),f.lineEnd(),f.lineStart(),f.point(X[0][0],X[0][1],3)))}P&&(!d||!AS(d,M))&&f.point(M[0],M[1]),d=M,g=P,h=H},lineEnd:function(){g&&f.lineEnd(),d=null},clean:function(){return y|(v&&g)<<1}}},function s(f,d,h,g){!function iae(e,t,i,r,o,s){if(i){var a=Fl(t),l=Sa(t),u=r*i;null==o?(o=t+r*aA,s=t-u/2):(o=rae(a,o),s=rae(a,s),(r>0?o<s:o>s)&&(o+=r*aA));for(var c,f=o;r>0?f>s:f<s;f-=u)c=NR([a,-l*Fl(f),-l*Sa(f)]),e.point(c[0],c[1])}}(g,e,i,h,f,d)},r?[0,-e]:[-ns,e-ns])}(v=Z*Ql):(v=null,nae),W()):v*Tf},Ee.clipExtent=function(Z){return arguments.length?(P=null==Z?(b=E=M=k=null,CR):function $Qe(e,t,i,r){function o(c,f){return e<=c&&c<=i&&t<=f&&f<=r}function s(c,f,d,h){var g=0,v=0;if(null==c||(g=a(c,d))!==(v=a(f,d))||u(c,f)<0^d>0)do{h.point(0===g||3===g?e:i,g>1?r:t)}while((g=(g+d+4)%4)!==v);else h.point(f[0],f[1])}function a(c,f){return hl(c[0]-e)<fs?f>0?0:3:hl(c[0]-i)<fs?f>0?2:1:hl(c[1]-t)<fs?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var d=a(c,1),h=a(f,1);return d!==h?d-h:0===d?f[1]-c[1]:1===d?c[0]-f[0]:2===d?c[1]-f[1]:f[0]-c[0]}return function(c){var h,g,v,y,b,E,M,k,P,H,X,f=c,d=Zse(),z={point:se,lineStart:function Je(){z.point=W,g&&g.push(v=[]),H=!0,P=!1,M=k=NaN},lineEnd:function Ze(){h&&(W(y,b),E&&P&&d.rejoin(),h.push(d.result())),z.point=se,P&&f.lineEnd()},polygonStart:function Ie(){f=d,h=[],g=[],X=!0},polygonEnd:function Ee(){var Z=function ye(){for(var Z=0,te=0,Ce=g.length;te<Ce;++te)for(var lt,Mt,ce=g[te],we=1,Be=ce.length,tt=ce[0],bt=tt[0],Vt=tt[1];we<Be;++we)lt=bt,Mt=Vt,bt=(tt=ce[we])[0],Vt=tt[1],Mt<=r?Vt>r&&(bt-lt)*(r-Mt)>(Vt-Mt)*(e-lt)&&++Z:Vt<=r&&(bt-lt)*(r-Mt)<(Vt-Mt)*(e-lt)&&--Z;return Z}(),te=X&&Z,Ce=(h=vS(h)).length;(te||Ce)&&(c.polygonStart(),te&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),Ce&&Jse(h,l,Z,s,c),c.polygonEnd()),f=c,h=g=v=null}};function se(Z,te){o(Z,te)&&f.point(Z,te)}function W(Z,te){var Ce=o(Z,te);if(g&&v.push([Z,te]),H)y=Z,b=te,E=Ce,H=!1,Ce&&(f.lineStart(),f.point(Z,te));else if(Ce&&P)f.point(Z,te);else{var ce=[M=Math.max(yS,Math.min(H7,M)),k=Math.max(yS,Math.min(H7,k))],we=[Z=Math.max(yS,Math.min(H7,Z)),te=Math.max(yS,Math.min(H7,te))];!function zQe(e,t,i,r,o,s){var v,a=e[0],l=e[1],f=0,d=1,h=t[0]-a,g=t[1]-l;if(v=i-a,h||!(v>0)){if(v/=h,h<0){if(v<f)return;v<d&&(d=v)}else if(h>0){if(v>d)return;v>f&&(f=v)}if(v=o-a,h||!(v<0)){if(v/=h,h<0){if(v>d)return;v>f&&(f=v)}else if(h>0){if(v<f)return;v<d&&(d=v)}if(v=r-l,g||!(v>0)){if(v/=g,g<0){if(v<f)return;v<d&&(d=v)}else if(g>0){if(v>d)return;v>f&&(f=v)}if(v=s-l,g||!(v<0)){if(v/=g,g<0){if(v>d)return;v>f&&(f=v)}else if(g>0){if(v<f)return;v<d&&(d=v)}return f>0&&(e[0]=a+f*h,e[1]=l+f*g),d<1&&(t[0]=a+d*h,t[1]=l+d*g),!0}}}}}(ce,we,e,t,i,r)?Ce&&(f.lineStart(),f.point(Z,te),X=!1):(P||(f.lineStart(),f.point(ce[0],ce[1])),f.point(we[0],we[1]),Ce||f.lineEnd(),X=!1)}M=Z,k=te,P=Ce}return z}}(b=+Z[0][0],E=+Z[0][1],M=+Z[1][0],k=+Z[1][1]),W()):null==b?null:[[b,E],[M,k]]},Ee.scale=function(Z){return arguments.length?(i=+Z,Ze()):i},Ee.translate=function(Z){return arguments.length?(r=+Z[0],o=+Z[1],Ze()):[r,o]},Ee.center=function(Z){return arguments.length?(s=Z[0]%360*Ql,a=Z[1]%360*Ql,Ze()):[s*Tf,a*Tf]},Ee.rotate=function(Z){return arguments.length?(l=Z[0]%360*Ql,u=Z[1]%360*Ql,c=Z.length>2?Z[2]%360*Ql:0,Ze()):[l*Tf,u*Tf,c*Tf]},Ee.angle=function(Z){return arguments.length?(d=Z%360*Ql,Ze()):d*Tf},Ee.reflectX=function(Z){return arguments.length?(h=Z?-1:1,Ze()):h<0},Ee.reflectY=function(Z){return arguments.length?(g=Z?-1:1,Ze()):g<0},Ee.precision=function(Z){return arguments.length?(X=Aae(z,H=Z*Z),W()):c1(H)},Ee.fitExtent=function(Z,te){return zR(Ee,Z,te)},Ee.fitSize=function(Z,te){return uae(Ee,Z,te)},Ee.fitWidth=function(Z,te){return cae(Ee,Z,te)},Ee.fitHeight=function(Z,te){return fae(Ee,Z,te)},function(){return t=e.apply(this,arguments),Ee.invert=t.invert&&Je,Ze()}}function eVe(e,t){var i=Sa(e),r=(i+Sa(t))/2;if(hl(r)<fs)return function JQe(e){var t=Fl(e);function i(r,o){return[r*t,Sa(o)/t]}return i.invert=function(r,o){return[r/t,t3(o*t)]},i}(e);var o=1+i*(2*r-i),s=c1(o)/r;function a(l,u){var c=c1(o-2*r*Sa(u))/r;return[c*Sa(l*=r),s-c*Fl(l)]}return a.invert=function(l,u){var c=s-u,f=E6(l,hl(c))*sS(c);return c*r<0&&(f-=ns*sS(l)*sS(c)),[f/r,t3((o-(l*l+c*c)*r*r)/(2*r))]},a}function $R(){return function ZQe(e){var t=0,i=ns/3,r=gae(e),o=r(t,i);return o.parallels=function(s){return arguments.length?r(t=s[0]*Ql,i=s[1]*Ql):[t*Tf,i*Tf]},o}(eVe).scale(155.424).center([0,33.6442])}function GR(e,t){return[e,_Qe(wQe((Ad+t)/2))]}function vae(e,t){var a,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),s=new Array(i);for(a=0;a<r;++a)o[a]=qR(e[a],t[a]);for(;a<i;++a)s[a]=t[a];return function(l){for(a=0;a<r;++a)s[a]=o[a](l);return s}}function oVe(e,t){var i=new Date;return e=+e,t=+t,function(r){return i.setTime(e*(1-r)+t*r),i}}function sVe(e,t){var o,i={},r={};for(o in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)o in e?i[o]=qR(e[o],t[o]):r[o]=t[o];return function(s){for(o in i)r[o]=i[o](s);return r}}function aVe(e,t){t||(t=[]);var o,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(s){for(o=0;o<i;++o)r[o]=e[o]*(1-s)+t[o]*s;return r}}function qR(e,t){var r,i=typeof t;return null==t||"boolean"===i?Jx(t):("number"===i?a0:"string"===i?(r=l0(t))?(t=r,eS):cse:t instanceof l0?eS:t instanceof Date?oVe:function lVe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?aVe:Array.isArray(t)?vae:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?sVe:a0)(e,t)}function uVe(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}function fVe(e){return+e}GR.invert=function(e,t){return[e,2*kse(yQe(t))-Ad]};var yae=[0,1];function M6(e){return e}function jR(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:function cVe(e){return function(){return e}}(isNaN(t)?NaN:.5)}function AVe(e,t,i){var r=e[0],o=e[1],s=t[0],a=t[1];return o<r?(r=jR(o,r),s=i(a,s)):(r=jR(r,o),s=i(s,a)),function(l){return s(r(l))}}function hVe(e,t,i){var r=Math.min(e.length,t.length)-1,o=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=jR(e[a],e[a+1]),s[a]=i(t[a],t[a+1]);return function(l){var u=HL(e,l,1,r)-1;return s[u](o[u](l))}}function _ae(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function wae(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(_6(t)/3)))-_6(Math.abs(e)))}function bae(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_6(t)-_6(e))+1}function Cae(e){return Math.max(0,-_6(Math.abs(e)))}function wS(){var e=function mVe(){return function gVe(){var r,o,s,l,u,c,e=yae,t=yae,i=qR,a=M6;function f(){var h=Math.min(e.length,t.length);return a!==M6&&(a=function dVe(e,t){var i;return e>t&&(i=e,e=t,t=i),function(r){return Math.max(e,Math.min(t,r))}}(e[0],e[h-1])),l=h>2?hVe:AVe,u=c=null,d}function d(h){return null==h||isNaN(h=+h)?s:(u||(u=l(e.map(r),t,i)))(r(a(h)))}return d.invert=function(h){return a(o((c||(c=l(t,e.map(r),a0)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,fVe),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),i=uVe,f()},d.clamp=function(h){return arguments.length?(a=!!h||M6,f()):a!==M6},d.interpolate=function(h){return arguments.length?(i=h,f()):i},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,g){return r=h,o=g,f()}}()(M6,M6)}();return e.copy=function(){return function pVe(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}(e,wS())},_ae.apply(e,arguments),function yVe(e){var t=e.domain;return e.ticks=function(i){var r=t();return xoe(r[0],r[r.length-1],i??10)},e.tickFormat=function(i,r){var o=t();return function vVe(e,t,i,r){var s,o=$L(e,t,i);switch((r=w6(r??",f")).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null==r.precision&&!isNaN(s=wae(o,a))&&(r.precision=s),bR(r,a);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(s=bae(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(s=Cae(o))&&(r.precision=s-2*("%"===r.type))}return b6(r)}(o[0],o[o.length-1],i??10,r)},e.nice=function(i){null==i&&(i=10);var u,c,r=t(),o=0,s=r.length-1,a=r[o],l=r[s],f=10;for(l<a&&(c=a,a=l,l=c,c=o,o=s,s=c);f-- >0;){if((c=Lx(a,l,i))===u)return r[o]=a,r[s]=l,t(r);if(c>0)a=Math.floor(a/c)*c,l=Math.ceil(l/c)*c;else{if(!(c<0))break;a=Math.ceil(a*c)/c,l=Math.floor(l*c)/c}u=c}return e},e}(e)}function Eae(){var i,e=[.5],t=[0,1],r=1;function o(s){return null!=s&&s<=s?t[HL(e,s,0,r)]:i}return o.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},o.unknown=function(s){return arguments.length?(i=s,o):i},o.copy=function(){return Eae().domain(e).range(t).unknown(i)},_ae.apply(o,arguments)}function jo(e){for(var t=e.length/6|0,i=new Array(t),r=0;r<t;)i[r]="#"+e.slice(6*r,6*++r);return i}const _Ve=jo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),wVe=jo("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),bVe=jo("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),CVe=jo("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),EVe=jo("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),xVe=jo("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),SVe=jo("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),BVe=jo("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),MVe=jo("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),IVe=jo("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ha=e=>VPe(e[e.length-1]);var xae=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(jo);const DVe=Ha(xae);var Sae=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(jo);const TVe=Ha(Sae);var Bae=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(jo);const FVe=Ha(Bae);var Mae=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(jo);const OVe=Ha(Mae);var Iae=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(jo);const kVe=Ha(Iae);var Dae=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(jo);const NVe=Ha(Dae);var Tae=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(jo);const LVe=Ha(Tae);var Fae=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(jo);const RVe=Ha(Fae);var Oae=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(jo);const UVe=Ha(Oae);var kae=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(jo);const PVe=Ha(kae);var Nae=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(jo);const HVe=Ha(Nae);var Lae=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(jo);const QVe=Ha(Lae);var Rae=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(jo);const VVe=Ha(Rae);var Uae=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(jo);const zVe=Ha(Uae);var Pae=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(jo);const $Ve=Ha(Pae);var Hae=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(jo);const GVe=Ha(Hae);var Qae=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(jo);const qVe=Ha(Qae);var Vae=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(jo);const jVe=Ha(Vae);var zae=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(jo);const KVe=Ha(zae);var $ae=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(jo);const WVe=Ha($ae);var Gae=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(jo);const XVe=Ha(Gae);var qae=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(jo);const YVe=Ha(qae);var jae=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(jo);const ZVe=Ha(jae);var Kae=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(jo);const JVe=Ha(Kae);var Wae=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(jo);const eze=Ha(Wae);var Xae=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(jo);const tze=Ha(Xae),Yae=Math.PI/180,Zae=180/Math.PI;var KR=1.78277,WR=-.29227,bS=-.90649,Q7=1.97294,ele=Q7*bS,tle=Q7*KR,nle=KR*WR- -.14861*bS;function Vp(e,t,i,r){return 1===arguments.length?function ize(e){if(e instanceof i3)return new i3(e.h,e.s,e.l,e.opacity);e instanceof pc||(e=lR(e));var i=e.g/255,r=e.b/255,o=(nle*r+ele*(e.r/255)-tle*i)/(nle+ele-tle),s=r-o,a=(Q7*(i-o)-WR*s)/bS,l=Math.sqrt(a*a+s*s)/(Q7*o*(1-o)),u=l?Math.atan2(a,s)*Zae-120:NaN;return new i3(u<0?u+360:u,l,o,e.opacity)}(e):new i3(e,t,i,r??1)}function i3(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}function ile(e){return function t(i){function r(o,s){var a=e((o=Vp(o)).h,(s=Vp(s)).h),l=m6(o.s,s.s),u=m6(o.l,s.l),c=m6(o.opacity,s.opacity);return function(f){return o.h=a(f),o.s=l(f),o.l=u(Math.pow(f,i)),o.opacity=c(f),o+""}}return i=+i,r.gamma=t,r}(1)}h6(i3,Vp,T7(zm,{brighter:function(e){return e=null==e?p6:Math.pow(p6,e),new i3(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new i3(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Yae,t=+this.l,i=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new pc(255*(t+i*(-.14861*r+KR*o)),255*(t+i*(WR*r+bS*o)),255*(t+i*(Q7*r)),this.opacity)}})),ile(function HPe(e,t){var i=t-e;return i?lse(e,i>180||i<-180?i-360*Math.round(i/360):i):Jx(isNaN(e)?t:e)});var rle=ile(m6),CS=(rle(Vp(-100,.75,.35),Vp(80,1.5,.8)),rle(Vp(260,.75,.35),Vp(80,1.5,.8)),Vp()),ES=u0(),oze=Math.PI/3,sze=2*Math.PI/3;function xS(e){var t=e.length;return function(i){return e[Math.max(0,Math.min(t-1,Math.floor(i*t)))]}}const uze=xS(jo("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var cze=xS(jo("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),fze=xS(jo("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));function zc(e){return"string"==typeof e?new Pc([[document.querySelector(e)]],[document.documentElement]):new Pc([[e]],ZL)}function XR(e){return"string"==typeof e?new Pc([document.querySelectorAll(e)],[document.documentElement]):new Pc([null==e?[]:WL(e)],ZL)}function YR(e){e.preventDefault(),e.stopImmediatePropagation()}function ole(e){return((e=Math.exp(e))+1/e)/2}xS(jo("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const mze=function e(t,i,r){function o(s,a){var b,E,l=s[0],u=s[1],c=s[2],h=a[2],g=a[0]-l,v=a[1]-u,y=g*g+v*v;if(y<1e-12)E=Math.log(h/c)/t,b=function(z){return[l+z*g,u+z*v,c*Math.exp(t*z*E)]};else{var M=Math.sqrt(y),k=(h*h-c*c+r*y)/(2*c*i*M),P=(h*h-c*c-r*y)/(2*h*i*M),H=Math.log(Math.sqrt(k*k+1)-k),X=Math.log(Math.sqrt(P*P+1)-P);E=(X-H)/t,b=function(z){var se=z*E,ye=ole(H),Ie=c/(i*M)*(ye*function gze(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*se+H)-function pze(e){return((e=Math.exp(e))-1/e)/2}(H));return[l+Ie*g,u+Ie*v,c*ye/ole(t*se+H)]}}return b.duration=1e3*E*t/Math.SQRT2,b}return o.rho=function(s){var a=Math.max(.001,+s),l=a*a;return e(a,l,l*l)},o}(Math.SQRT2,2,4);function r3(e,t){if(e=function vze(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const SS=e=>()=>e;function yze(e,{sourceEvent:t,target:i,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function f1(e,t,i){this.k=e,this.x=t,this.y=i}f1.prototype={constructor:f1,scale:function(e){return 1===e?this:new f1(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new f1(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ZR=new f1(1,0,0);function JR(e){e.stopImmediatePropagation()}function V7(e){e.preventDefault(),e.stopImmediatePropagation()}function wze(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function bze(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function sle(){return this.__zoom||ZR}function Cze(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Eze(){return navigator.maxTouchPoints||"ontouchstart"in this}function xze(e,t,i){var r=e.invertX(t[0][0])-i[0][0],o=e.invertX(t[1][0])-i[1][0],s=e.invertY(t[0][1])-i[0][1],a=e.invertY(t[1][1])-i[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function Mze(e){return e}function ale(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(i){return lle(e,i)})}:lle(e,t)}function lle(e,t){var i=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,s=ule(e,t);return null==i&&null==r?{type:"Feature",properties:o,geometry:s}:null==r?{type:"Feature",id:i,properties:o,geometry:s}:{type:"Feature",id:i,bbox:r,properties:o,geometry:s}}function ule(e,t){var i=function Ize(e){if(null==e)return Mze;var t,i,r=e.scale[0],o=e.scale[1],s=e.translate[0],a=e.translate[1];return function(l,u){u||(t=i=0);var c=2,f=l.length,d=new Array(f);for(d[0]=(t+=l[0])*r+s,d[1]=(i+=l[1])*o+a;c<f;)d[c]=l[c],++c;return d}}(e.transform),r=e.arcs;function o(f,d){d.length&&d.pop();for(var h=r[f<0?~f:f],g=0,v=h.length;g<v;++g)d.push(i(h[g],g));f<0&&function Bze(e,t){for(var i,r=e.length,o=r-t;o<--r;)i=e[o],e[o++]=e[r],e[r]=i}(d,v)}function s(f){return i(f)}function a(f){for(var d=[],h=0,g=f.length;h<g;++h)o(f[h],d);return d.length<2&&d.push(d[0]),d}function l(f){for(var d=a(f);d.length<4;)d.push(d[0]);return d}function u(f){return f.map(l)}return function c(f){var h,d=f.type;switch(d){case"GeometryCollection":return{type:d,geometries:f.geometries.map(c)};case"Point":h=s(f.coordinates);break;case"MultiPoint":h=f.coordinates.map(s);break;case"LineString":h=a(f.arcs);break;case"MultiLineString":h=f.arcs.map(a);break;case"Polygon":h=u(f.arcs);break;case"MultiPolygon":h=f.arcs.map(u);break;default:return null}return{type:d,coordinates:h}}(t)}const d1=Object.freeze({dataPath:"assets/data/",vegaLiteOptions:Object.freeze({renderer:"svg",actions:!1,hover:!0,tooltip:!0})});let Gm=(()=>{class e{static getMostFrequentElement(i){const r={};return i.forEach(o=>r[o]?r[o]+=1:r[o]=1),parseInt(Object.keys(r).sort((o,s)=>r[s]-r[o])[0])}static getFrequencyOfMostFrequentElement(i){for(var r=new Map,o=i.length,s=0;s<o;s++)r.has(i[s])?r.set(i[s],r.get(i[s])+1):r.set(i[s],1);var a=[];r.forEach((u,c)=>{a.push(c)}),a.sort((u,c)=>u-c);let l=-1/0;return a.forEach(u=>{let c=r.get(u);c>l&&(l=c)}),l}static getRandomUniqueNumbers(i,r,o){if("number"!=typeof i||"number"!=typeof r||o<1||i>=r)return[];const s=[];for(let a=0;a<o;a++)s.push(Math.random()*(r-i)+i);return s}static validateColor(i){if(!i||null==i)return"#000000";const r=String(i).trim();if(/^#[0-9A-F]{6}$/i.test(r)||["black","white","red","green","blue","yellow","cyan","magenta","gray","grey"].includes(r.toLowerCase()))return r;if("object"==typeof i&&void 0!==i.r&&void 0!==i.g&&void 0!==i.b){const s=Math.round(i.r),a=Math.round(i.g),l=Math.round(i.b);return`#${s.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${l.toString(16).padStart(2,"0")}`}if(/^rgb\(|^rgba\(/.test(r)){const s=r.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(s){const a=parseInt(s[1]),l=parseInt(s[2]),u=parseInt(s[3]);return`#${a.toString(16).padStart(2,"0")}${l.toString(16).padStart(2,"0")}${u.toString(16).padStart(2,"0")}`}}if(/^hsl\(|^hsla\(/.test(r)){const s=r.match(/hsla?\((\d+),\s*(\d+)%,\s*(\d+)%(?:,\s*[\d.]+)?\)/);if(s){const a=parseInt(s[1]),l=parseInt(s[2]),u=parseInt(s[3]),c=(1-Math.abs(2*u/100-1))*l/100,f=c*(1-Math.abs(a/60%2-1)),d=u/100-c/2;let h,g,v;return a<60?(h=c,g=f,v=0):a<120?(h=f,g=c,v=0):a<180?(h=0,g=c,v=f):a<240?(h=0,g=f,v=c):a<300?(h=f,g=0,v=c):(h=c,g=0,v=f),h=Math.round(255*(h+d)),g=Math.round(255*(g+d)),v=Math.round(255*(v+d)),`#${h.toString(16).padStart(2,"0")}${g.toString(16).padStart(2,"0")}${v.toString(16).padStart(2,"0")}`}}return"#000000"}static generateColor(i,r,o){try{const s=i.function;let a;if("function"==typeof s)a=s(r);else if(s&&"object"==typeof s&&Array.isArray(s[o])){const l=s[o];a=l[Math.floor(r*(l.length-1))]}else a=Array.isArray(s)?s[Math.floor(r*(s.length-1))]:"function"==typeof i.interpolator?i.interpolator(r):r<.5?"#0000ff":"#ff0000";return e.validateColor(a)}catch{return r<.5?"#0000ff":"#ff0000"}}static generateGradientStops(i,r=11,o){const s=[];for(let a=0;a<r;a++){const l=a/(r-1);s.push({offset:l,color:e.generateColor(i,l,o)})}return s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Mn({token:e,factory:e.\u0275fac})}return e})();const cle=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","config":{"concat":{"spacing":30},"background":null},"resolve":{"scale":{"color":"independent","opacity":"independent"},"legend":{"color":"independent","opacity":"independent"}},"data":{"url":"","format":{"type":"topojson","feature":""}},"transform":[{"lookup":"","from":{"data":{"url":""},"key":"","fields":[]}}],"columns":1,"concat":[]}'),fle=[{name:"Categorical",examples:[{sname:"Accent",file:"Accent",code:"accent",function:wVe},{sname:"Category 10",file:"Category10",code:"category10",function:_Ve},{sname:"Dark 2",file:"Dark2",code:"dark2",function:bVe},{sname:"Paired",file:"Paired",code:"paired",function:CVe},{sname:"Pastel 1",file:"Pastel1",code:"pastel1",function:EVe},{sname:"Pastel 2",file:"Pastel2",code:"pastel2",function:xVe},{sname:"Set 1",file:"Set1",code:"set1",function:SVe},{sname:"Set 2",file:"Set2",code:"set2",function:BVe},{sname:"Set 3",file:"Set3",code:"set3",function:MVe},{sname:"Tableau 10",file:"Tableau10",code:"tableau10",function:IVe}]},{name:"Sequential Single-Hue",examples:[{sname:"Blues",file:"Blues",code:"blues",function:Gae,interpolator:XVe},{sname:"Greens",file:"Greens",code:"greens",function:qae,interpolator:YVe},{sname:"Oranges",file:"Oranges",code:"oranges",function:Xae,interpolator:tze},{sname:"Reds",file:"Reds",code:"reds",function:Wae,interpolator:eze},{sname:"Purples",file:"Purples",code:"purples",function:Kae,interpolator:JVe},{sname:"Greys",file:"Greys",code:"greys",function:jae,interpolator:ZVe}]},{name:"Sequential Multi-Hue",examples:[{sname:"Turbo",file:"Turbo",code:"turbo",interpolator:function lze(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}},{sname:"Magma",file:"Magma",code:"magma",interpolator:cze},{sname:"Viridis",file:"Viridis",code:"viridis",interpolator:uze},{sname:"Inferno",file:"Inferno",code:"inferno",interpolator:fze},{sname:"Cividis",file:"Cividis",code:"cividis",interpolator:function nze(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}},{sname:"Blue-Green",file:"BuGn",code:"bluegreen",function:Oae,interpolator:UVe},{sname:"Blue-Purple",file:"BuPu",code:"bluepurple",function:kae,interpolator:PVe},{sname:"Green-Blue",file:"GnBu",code:"greenblue",function:Nae,interpolator:HVe},{sname:"Orange-Red",file:"OrRd",code:"orangered",function:Lae,interpolator:QVe},{sname:"Purple-Blue-Green",file:"PuBuGn",code:"purplebluegreen",function:Rae,interpolator:VVe},{sname:"Purple-Blue",file:"PuBu",code:"purpleblue",function:Uae,interpolator:zVe},{sname:"Purple-Red",file:"PuRd",code:"purplered",function:Pae,interpolator:$Ve},{sname:"Red-Purple",file:"RdPu",code:"redpurple",function:Hae,interpolator:GVe},{sname:"Yellow-Green-Blue",file:"YlGnBu",code:"yellowgreenblue",function:Qae,interpolator:qVe},{sname:"Yellow-Green",file:"YlGn",code:"yellowgreen",function:Vae,interpolator:jVe},{sname:"Yellow-Orange-Brown",file:"YlOrBr",code:"yelloworangebrown",function:zae,interpolator:KVe},{sname:"Yellow-Orange-Red",file:"YlOrRd",code:"yelloworangered",function:$ae,interpolator:WVe}]},{name:"Diverging",examples:[{sname:"Brown-Blue-Green",file:"BrBG",code:"brownbluegreen",function:xae,interpolator:DVe},{sname:"Pink-Yellow-Green",file:"PiYG",code:"pinkyellowgreen",function:Sae,interpolator:TVe},{sname:"Purple-Orange",file:"PuOr",code:"purpleorange",function:Bae,interpolator:FVe},{sname:"Red-Blue",file:"RdBu",code:"redblue",function:Mae,interpolator:OVe},{sname:"Red-Grey",file:"RdGy",code:"redgrey",function:Iae,interpolator:kVe},{sname:"Red-Yellow-Blue",file:"RdYlBu",code:"redyellowblue",function:Dae,interpolator:NVe},{sname:"Red-Yellow-Green",file:"RdYlGn",code:"redyellowgreen",function:Tae,interpolator:LVe},{sname:"Spectral",file:"Spectral",code:"spectral",function:Fae,interpolator:RVe}]},{name:"Cyclical",examples:[{sname:"Rainbow",file:"Rainbow",code:"rainbow",interpolator:function rze(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return CS.h=360*e-100,CS.s=1.5-1.5*t,CS.l=.8-.9*t,CS+""}},{sname:"Sinebow",file:"Sinebow",code:"sinebow",interpolator:function aze(e){var t;return e=(.5-e)*Math.PI,ES.r=255*(t=Math.sin(e))*t,ES.g=255*(t=Math.sin(e+oze))*t,ES.b=255*(t=Math.sin(e+sze))*t,ES+""}}]}];let Dze={usa:{county:{featureFile:"us-county-indicators.csv",features:["Life Expectancy","Adult Obesity Percentage","Infant Mortality Rate","Incarceration Rate","Incarceration_Rate_1k","HIV_Prevalence","Motor Vehicle Death Rate","Secondary Educational Attainment","GINI Index (Income Inequality)","Population Density"],labelFeatures:["State","County"],primaryKey:"FIPS_Code"},state:{featureFile:"us-state-indicators.csv",features:["population","sq_miles","pop_density"],labelFeatures:["state_code"],primaryKey:"state"}},india:{state:{featureFile:"india-state-ut-indicators.csv",features:["Infant Mortality Rate","Total Fertility Rate (Children per women)","Population Density","Death Rate","Birth Rate"],labelFeatures:["Category"],primaryKey:"State/UT"}}},Tze={usa:{county:{geoFile:"us-counties.json",mapProjection:"albersUsa",mapCenter:[98.5795,39.8283],topoFeatureRootKey:"counties",topoPrimaryKey:"id"},state:{geoFile:"us-states.json",mapProjection:"albersUsa",mapCenter:[98.5795,39.8283],topoFeatureRootKey:"states",topoPrimaryKey:"id"}},india:{state:{geoFile:"india-states-uts.json",mapProjection:"mercator",mapCenter:[78.9629,20.5937],topoFeatureRootKey:"india-states-uts",topoPrimaryKey:"id"}}},dle=[{name:"India",code:"india",geographies:[{name:"State",code:"state",features:[]}]},{name:"United States",code:"usa",geographies:[{name:"County",code:"county",features:[]},{name:"State",code:"state",features:[]}]}];dle.forEach(function(e){e.geographies.forEach(function(t){let r=Dze[e.code][t.code],o={...Tze[e.code][t.code],...r};r.features.forEach(function(s){let a={...o,feature:s};t.features.push(a)})})});let Ale=dle;const eU="equalInterval",hle="percentile",ple="definedInterval",tU="quantile",mle="standardDeviation",nU="maximumBreaks",iU="prettyBreaks",rU="ckMeans",vle="headTailBreaks",BS="fisherJenks",yle="exponentialBinSize",oU="geometricInterval",sU="unclassed",_le="manualInterval",A1="resiliency",MS="Human-Centered",o3="Interval",I6="Statistical",z7="Iterative",IS="Other",aU="User Defined",wle="specialFrequencyMostFrequentBin",ble="specialMostFrequentBin";let Oze={[sU]:{name:"Unclassed",description:["No discrete bins; a continuous color ramp spans the range of data values."],longDescription:["This method divides data into a continuous range of values, rather than into a set number of discrete bins; it uses a color ramp, typically progressing from low to high values, to represent the data, with each color in the ramp representing a different range of values."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:IS,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L867"},[ple]:{name:"Defined Interval",description:["Number of bins are determined by manually specifying a desired bin interval."],longDescription:["This method defines a series of bins with the same value range. By specifying the interval size and maximum sample size, the number of bins is determined automatically. For example, if the interval size is 75, each bin will span 75 units."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:o3,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L509",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#di"},[eU]:{name:"Equal Interval",description:["Each bin has the same interval size based on the manually specified number of bins."],longDescription:["This method divides the range of attribute values into equal-sized subranges (intervals). By specifying the number of bins (or intervals), the bin breaks are automatically determined based on the value range. For example, if we specify three bins for an attribute whose values range from 0 to 300, three bins with ranges of 0-100, 101-200, and 201-300 are created. Equal interval is best applied to familiar data ranges, such as percentages and temperature."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:o3,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L268",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#ei"},[iU]:{name:"Pretty Breaks",description:["Each bin break is rounded to pretty values (e.g., to two signficant digits) by the user."],longDescription:["This method rounds each bin break up or down into pretty values that are easier to read, understand, and explain, e.g., [0-10] instead of [0-9.364]. These bin intervals are defined based on the data values, user preferences, desired number of bins, and rounding factor."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:MS,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L434",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#pb"},[oU]:{name:"Geometric",description:["Bin intervals follow a geometric progression: a + ar + ar^2 + ... a = constant, r = coefficient."],longDescription:["Originally called 'Smart Quantiles', this method defines bin breaks based on bin intervals that have a geometric series (a + ar + ar^2 + ar^3 + ...) where a is a constant and r is the geometric coefficient. This r can change once (to its inverse) to optimize the bin ranges. This technique is useful for visualizing continuous data that is not distributed normally, or when the distribution is extremely skewed, creating a balance between highlighting changes in the middle values and the extreme values, thereby producing a result that is visually appealing and cartographically comprehensive."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:o3,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L547",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#gi"},[yle]:{name:"Exponential",description:["Number of data records in each successive bin increase (or decrease) exponentially."],longDescription:["This method utilizes an exponential series (a^n) for classification. There are two commonly used variants of this strategy: (1) bin intervals are defined such that the number of observations in each successive interval increases (or decreases) exponentially; (2) bin intervals are defined such that the size of the intervals increases by an exponential factor between each successive interval, e.g., 1-2, 2-4, 4-8, 8-16, 16-32."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:o3,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L587",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#ebs"},[_le]:{name:"Manual Interval",description:["Number of bins and corresponding bin breaks are manually specified as per user needs."],longDescription:["This method organizes data into bins based on predetermined criteria or when automated methods are inappropriate or unavailable. Note that this strategy is less explainable and can be time-consuming and error-prone to execute, especially when the dataset is large or complex."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:MS,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L408",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#mi"},[tU]:{name:"Quantile",description:["Each bin consists of approximately the same number of data observations."],longDescription:["This method defines bin intervals such that the number of observations in each interval is (approximately) the same. For example, if there are 100 data points and one needs 5 equal-sized bins (or quantiles), each bin would then contain 100/5=20 data points. The term quartiles is used when the attribute values are divided into four bins, quintiles for five, sextiles for six, etc. With this strategy, bins are not left empty nor do they have limited or excessive number of values. However, because of the way the bins are grouped, the maps can sometimes be confusing or misleading because the values that are put into the bins can be similar to or very different from one another."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:I6,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L332",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#qa"},[hle]:{name:"Percentile",description:["6 Bins: [0,1)%, [1-10)%, [10-50)%, [50%-90)%, [90%-99)%, [99,100]%."],longDescription:["This method, a custom variant of the quantile strategy, defines six unequal bin intervals based on percentiles (%): [0,1), [1,10), [10,50), [50,90), [90,99), [99,100]."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:I6,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L299",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#pe"},boxPlot:{name:"Box Plot",description:["6 bins: [UQ+1.5*IQR, UQ, M, LQ, LQ-1.5*IQR]. M=median, Q=quartile, IQR=inter-Q range."],longDescription:["This method typically defines six bins: four quartiles plus two classifications for data items that are more than 1.5 times the inter-quartile range (IQR) from the median, enabling quick visualization of the distribution of the data across the region being mapped, as well as identifying any outliers or areas with unusual values."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:I6,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L474",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#bp"},[mle]:{name:"Standard Deviation",description:["2n Bins: [\u03bc - n * \u03c3, ..., \u03bc - \u03c3, \u03bc, \u03bc + \u03c3, ..., \u03bc + n * \u03c3]. \u03bc = mean, \u03c3 = standard deviation."],longDescription:["This method is a way to measure how spread out a dataset is compared to its mean divides. It divides the data into a set of bins such that each bin contains data points that are within a certain number of standard deviations (\u03c3) from the mean (\u03bc) of the data, usually at intervals of 1.0\u03c3 or 0.5\u03c3. There are two commonly used variants of this strategy: (1) bins are defined on either side of the mean and hence there is no central bin and the number of bins is even; (2) one central bin (\u03bc+-0.5\u03c3) and additional bins at \u03bc+-1.0\u03c3 intervals beyond this central bin, for a total odd number of bins."],notes:"If number of bins is odd, then we add another bin so that the mean can stay as the central value. If number of bins is even, we are all set.",vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:I6,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L364",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#sd1"},[nU]:{name:"Maximum Breaks",description:["Bins are placed where differences between sorted, successive values are the largest."],longDescription:["Based on the manually specified number of bins, this method defines bin breaks based on the maximum gradients of sorted data values, where a gradient is the difference between successive data values. For each desired bin, this strategy looks at how apart each data value is from the next one in the sorted sequence and accordingly places a break point in between the pairs of values that are most stretched apart from each other."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:o3,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L149",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#mb"},[BS]:{name:"Natural Breaks",description:["Sum of the absolute deviations around the medians of the resultant bins is minimum."],longDescription:["This method defines bins such that they are as homogenous as possible within themselves and as heterogeneous as possible between themselves, by minimizing the within-bin variance and maximizing the between-bin variance, thereby creating bins that are more meaningful and interpretable. There are two commonly used variants of this strategy: (1) Jenks-Caspall minimizes the sum of absolute deviations around bin means; (2) Fisher-Jenks minimizes the sum of the absolute deviations around bin medians. Note that (2) uses a dynamic programming approach as opposed to (1)'s heuristic approach and is hence guaranteed to produce an optimal classification for a prespecified number of bins."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:z7,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L660",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#fj"},[rU]:{name:"CK-Means",description:["Standard deviation (sum of squared Euclidean distances to) of each bin is minimized."],longDescription:["This method heuristically partitions data into k bins such that the sum of squared Euclidean distances to each bin mean is minimized, computing new bin centers until local convergence is achieved. It is slow, not repeatable, and unoptimal; CK-Means is one dynamic programming algorithm for optimal one-dimensional classification."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:z7,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L236",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#ckm"},[vle]:{name:"Head Tail Breaks",description:["Recursive binning to balance the number of smaller and larger values in each bin."],longDescription:["This method defines bins by recursively splitting data around the iterative means until the distributions within each of the bins no longer displays a heavy-tailed distribution, i.e., there is a balance between the number of smaller and larger values assigned to each bin. This method is particularly effective for data with a heavy-tailed distribution, such as power law and log normal distributions, as it recognizes that there may be far more objects of smaller (than larger) magnitudes."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:z7,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L196",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#ht"},[A1]:{name:"Resiliency",description:["Geographies are placed in their most agreed-upon bin across multiple binning methods."],longDescription:["This is an ensemble technique that considers how frequently a geographic entity (e.g., county) falls in a particular bin across multiple comparable data binning strategies. By adjusting the number of bins as well as bin intervals, this scheme strives to force-fit maximum geographic entities fall in the bin that is most frequently assigned to it; in this way, this scheme rewards consistency and is called resiliency."],vlSpec:null,binBreaks:[],binSizes:{},colorScale:{},isCardHovered:!1,isRendered:!1,category:IS,isUserCreated:!1,tsCode:"https://github.com/exploropleth/binguru/blob/534fa7411d4bb9cf2f23023110e493cbd55b7c49/src/index.ts#L894",implementationLink:"https://observablehq.com/@arpitnarechania/binguru-demo#res"}};function Cle(e,t=!1){const i=t?"p-badge":"badge-outlined badge",r="text-uppercase";switch(e){case MS:return`${i}-secondary ${r}`;case o3:return`${i}-primary ${r}`;case z7:return`${i}-warning ${r}`;case I6:return`${i}-danger ${r}`;case IS:return`${i}-success ${r}`;case aU:return`${i}-info ${r}`;default:return`${i}-secondary ${r}`}}ei(471),ei(167);let jt=(()=>{class e{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(i,r){i&&r&&(i.classList?i.classList.add(r):i.className+=" "+r)}static addMultipleClasses(i,r){if(i&&r)if(i.classList){let o=r.trim().split(" ");for(let s=0;s<o.length;s++)i.classList.add(o[s])}else{let o=r.split(" ");for(let s=0;s<o.length;s++)i.className+=" "+o[s]}}static removeClass(i,r){i&&r&&(i.classList?i.classList.remove(r):i.className=i.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(i,r){i&&r&&[r].flat().filter(Boolean).forEach(o=>o.split(" ").forEach(s=>this.removeClass(i,s)))}static hasClass(i,r){return!(!i||!r)&&(i.classList?i.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(i.className))}static siblings(i){return Array.prototype.filter.call(i.parentNode.children,function(r){return r!==i})}static find(i,r){return Array.from(i.querySelectorAll(r))}static findSingle(i,r){return this.isElement(i)?i.querySelector(r):null}static index(i){let r=i.parentNode.childNodes,o=0;for(var s=0;s<r.length;s++){if(r[s]==i)return o;1==r[s].nodeType&&o++}return-1}static indexWithinGroup(i,r){let o=i.parentNode?i.parentNode.childNodes:[],s=0;for(var a=0;a<o.length;a++){if(o[a]==i)return s;o[a].attributes&&o[a].attributes[r]&&1==o[a].nodeType&&s++}return-1}static appendOverlay(i,r,o="self"){"self"!==o&&i&&r&&this.appendChild(i,r)}static alignOverlay(i,r,o="self",s=!0){i&&r&&(s&&(i.style.minWidth=`${e.getOuterWidth(r)}px`),"self"===o?this.relativePosition(i,r):this.absolutePosition(i,r))}static relativePosition(i,r,o=!0){const s=M=>{if(M)return"relative"===getComputedStyle(M).getPropertyValue("position")?M:s(M.parentElement)},a=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:this.getHiddenElementDimensions(i),l=r.offsetHeight??r.getBoundingClientRect().height,u=r.getBoundingClientRect(),c=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),d=this.getViewport(),g=s(i)?.getBoundingClientRect()||{top:-1*c,left:-1*f};let v,y;u.top+l+a.height>d.height?(v=u.top-g.top-a.height,i.style.transformOrigin="bottom",u.top+v<0&&(v=-1*u.top)):(v=l+u.top-g.top,i.style.transformOrigin="top");const b=u.left+a.width-d.width;y=a.width>d.width?-1*(u.left-g.left):b>0?u.left-g.left-b:u.left-g.left,i.style.top=v+"px",i.style.left=y+"px",o&&(i.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(i,r,o=!0){const s=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:this.getHiddenElementDimensions(i),a=s.height,l=s.width,u=r.offsetHeight??r.getBoundingClientRect().height,c=r.offsetWidth??r.getBoundingClientRect().width,f=r.getBoundingClientRect(),d=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),g=this.getViewport();let v,y;f.top+u+a>g.height?(v=f.top+d-a,i.style.transformOrigin="bottom",v<0&&(v=d)):(v=u+f.top+d,i.style.transformOrigin="top"),y=f.left+l>g.width?Math.max(0,f.left+h+c-l):f.left+h,i.style.top=v+"px",i.style.left=y+"px",o&&(i.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(i,r=[]){return null===i.parentNode?r:this.getParents(i.parentNode,r.concat([i.parentNode]))}static getScrollableParents(i){let r=[];if(i){let o=this.getParents(i);const s=/(auto|scroll)/,a=l=>{let u=window.getComputedStyle(l,null);return s.test(u.getPropertyValue("overflow"))||s.test(u.getPropertyValue("overflowX"))||s.test(u.getPropertyValue("overflowY"))};for(let l of o){let u=1===l.nodeType&&l.dataset.scrollselectors;if(u){let c=u.split(",");for(let f of c){let d=this.findSingle(l,f);d&&a(d)&&r.push(d)}}9!==l.nodeType&&a(l)&&r.push(l)}}return r}static getHiddenElementOuterHeight(i){i.style.visibility="hidden",i.style.display="block";let r=i.offsetHeight;return i.style.display="none",i.style.visibility="visible",r}static getHiddenElementOuterWidth(i){i.style.visibility="hidden",i.style.display="block";let r=i.offsetWidth;return i.style.display="none",i.style.visibility="visible",r}static getHiddenElementDimensions(i){let r={};return i.style.visibility="hidden",i.style.display="block",r.width=i.offsetWidth,r.height=i.offsetHeight,i.style.display="none",i.style.visibility="visible",r}static scrollInView(i,r){let o=getComputedStyle(i).getPropertyValue("borderTopWidth"),s=o?parseFloat(o):0,a=getComputedStyle(i).getPropertyValue("paddingTop"),l=a?parseFloat(a):0,u=i.getBoundingClientRect(),f=r.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-s-l,d=i.scrollTop,h=i.clientHeight,g=this.getOuterHeight(r);f<0?i.scrollTop=d+f:f+g>h&&(i.scrollTop=d+f-h+g)}static fadeIn(i,r){i.style.opacity=0;let o=+new Date,s=0,a=function(){s=+i.style.opacity.replace(",",".")+((new Date).getTime()-o)/r,i.style.opacity=s,o=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}static fadeOut(i,r){var o=1,l=50/r;let u=setInterval(()=>{(o-=l)<=0&&(o=0,clearInterval(u)),i.style.opacity=o},50)}static getWindowScrollTop(){let i=document.documentElement;return(window.pageYOffset||i.scrollTop)-(i.clientTop||0)}static getWindowScrollLeft(){let i=document.documentElement;return(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}static matches(i,r){var o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(a){return-1!==[].indexOf.call(document.querySelectorAll(a),this)}).call(i,r)}static getOuterWidth(i,r){let o=i.offsetWidth;if(r){let s=getComputedStyle(i);o+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return o}static getHorizontalPadding(i){let r=getComputedStyle(i);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(i){let r=getComputedStyle(i);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(i){let r=i.offsetWidth,o=getComputedStyle(i);return r+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static width(i){let r=i.offsetWidth,o=getComputedStyle(i);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static getInnerHeight(i){let r=i.offsetHeight,o=getComputedStyle(i);return r+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),r}static getOuterHeight(i,r){let o=i.offsetHeight;if(r){let s=getComputedStyle(i);o+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return o}static getHeight(i){let r=i.offsetHeight,o=getComputedStyle(i);return r-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),r}static getWidth(i){let r=i.offsetWidth,o=getComputedStyle(i);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),r}static getViewport(){let i=window,r=document,o=r.documentElement,s=r.getElementsByTagName("body")[0];return{width:i.innerWidth||o.clientWidth||s.clientWidth,height:i.innerHeight||o.clientHeight||s.clientHeight}}static getOffset(i){var r=i.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(i,r){let o=i.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(r,i)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var i=window.navigator.userAgent;return i.indexOf("MSIE ")>0||(i.indexOf("Trident/")>0?(i.indexOf("rv:"),!0):i.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(i,r){if(this.isElement(r))r.appendChild(i);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+i;r.el.nativeElement.appendChild(i)}}static removeChild(i,r){if(this.isElement(r))r.removeChild(i);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+i+" from "+r;r.el.nativeElement.removeChild(i)}}static removeElement(i){"remove"in Element.prototype?i.remove():i.parentNode.removeChild(i)}static isElement(i){return"object"==typeof HTMLElement?i instanceof HTMLElement:i&&"object"==typeof i&&null!==i&&1===i.nodeType&&"string"==typeof i.nodeName}static calculateScrollbarWidth(i){if(i){let r=getComputedStyle(i);return i.offsetWidth-i.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let o=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetHeight-i.clientHeight;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(i,r,o){i[r].apply(i,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let i=this.resolveUserAgent();this.browser={},i.browser&&(this.browser[i.browser]=!0,this.browser.version=i.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let i=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(i)||/(webkit)[ \/]([\w.]+)/.exec(i)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i)||/(msie) ([\w.]+)/.exec(i)||i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(i){return Number.isInteger?Number.isInteger(i):"number"==typeof i&&isFinite(i)&&Math.floor(i)===i}static isHidden(i){return!i||null===i.offsetParent}static isVisible(i){return i&&null!=i.offsetParent}static isExist(i){return null!==i&&typeof i<"u"&&i.nodeName&&i.parentNode}static focus(i,r){i&&document.activeElement!==i&&i.focus(r)}static getFocusableSelectorString(i=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`}static getFocusableElements(i,r=""){let o=this.find(i,this.getFocusableSelectorString(r)),s=[];for(let a of o){const l=getComputedStyle(a);this.isVisible(a)&&"none"!=l.display&&"hidden"!=l.visibility&&s.push(a)}return s}static getFocusableElement(i,r=""){let o=this.findSingle(i,this.getFocusableSelectorString(r));if(o){const s=getComputedStyle(o);if(this.isVisible(o)&&"none"!=s.display&&"hidden"!=s.visibility)return o}return null}static getFirstFocusableElement(i,r=""){const o=this.getFocusableElements(i,r);return o.length>0?o[0]:null}static getLastFocusableElement(i,r){const o=this.getFocusableElements(i,r);return o.length>0?o[o.length-1]:null}static getNextFocusableElement(i,r=!1){const o=e.getFocusableElements(i);let s=0;if(o&&o.length>0){const a=o.indexOf(o[0].ownerDocument.activeElement);r?s=-1==a||0===a?o.length-1:a-1:-1!=a&&a!==o.length-1&&(s=a+1)}return o[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(i,r){if(!i)return null;switch(i){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const o=typeof i;if("string"===o)return document.querySelector(i);if("object"===o&&i.hasOwnProperty("nativeElement"))return this.isExist(i.nativeElement)?i.nativeElement:void 0;const a=(l=i)&&l.constructor&&l.call&&l.apply?i():i;return a&&9===a.nodeType||this.isExist(a)?a:null}var l}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(i,r){if(i){const o=i.getAttribute(r);return isNaN(o)?"true"===o||"false"===o?"true"===o:o:+o}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(i="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,i)}static unblockBodyScroll(i="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,i)}static createElement(i,r={},...o){if(i){const s=document.createElement(i);return this.setAttributes(s,r),s.append(...o),s}}static setAttribute(i,r="",o){this.isElement(i)&&null!=o&&i.setAttribute(r,o)}static setAttributes(i,r={}){if(this.isElement(i)){const o=(s,a)=>{const l=i?.$attrs?.[s]?[i?.$attrs?.[s]]:[];return[a].flat().reduce((u,c)=>{if(null!=c){const f=typeof c;if("string"===f||"number"===f)u.push(c);else if("object"===f){const d=Array.isArray(c)?o(s,c):Object.entries(c).map(([h,g])=>"style"!==s||!g&&0!==g?g?h:void 0:`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${g}`);u=d.length?u.concat(d.filter(h=>!!h)):u}}return u},l)};Object.entries(r).forEach(([s,a])=>{if(null!=a){const l=s.match(/^on(.+)/);l?i.addEventListener(l[1].toLowerCase(),a):"pBind"===s?this.setAttributes(i,a):(a="class"===s?[...new Set(o("class",a))].join(" ").trim():"style"===s?o("style",a).join(";").trim():a,(i.$attrs=i.$attrs||{})&&(i.$attrs[s]=a),i.setAttribute(s,a))}})}}static isFocusableElement(i,r=""){return!!this.isElement(i)&&i.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`)}}return e})();class lU{element;listener;scrollableParents;constructor(t,i=(()=>{})){this.element=t,this.listener=i}bindScrollListener(){this.scrollableParents=jt.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class Ci{static isArray(t,i=!0){return Array.isArray(t)&&(i||0!==t.length)}static isObject(t,i=!0){return"object"==typeof t&&!Array.isArray(t)&&null!=t&&(i||0!==Object.keys(t).length)}static equals(t,i,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(i,r):this.equalsByValue(t,i)}static equalsByValue(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){var s,a,l,r=Array.isArray(t),o=Array.isArray(i);if(r&&o){if((a=t.length)!=i.length)return!1;for(s=a;0!=s--;)if(!this.equalsByValue(t[s],i[s]))return!1;return!0}if(r!=o)return!1;var u=this.isDate(t),c=this.isDate(i);if(u!=c)return!1;if(u&&c)return t.getTime()==i.getTime();var f=t instanceof RegExp,d=i instanceof RegExp;if(f!=d)return!1;if(f&&d)return t.toString()==i.toString();var h=Object.keys(t);if((a=h.length)!==Object.keys(i).length)return!1;for(s=a;0!=s--;)if(!Object.prototype.hasOwnProperty.call(i,h[s]))return!1;for(s=a;0!=s--;)if(!this.equalsByValue(t[l=h[s]],i[l]))return!1;return!0}return t!=t&&i!=i}static resolveFieldData(t,i){if(t&&i){if(this.isFunction(i))return i(t);if(-1==i.indexOf("."))return t[i];{let r=i.split("."),o=t;for(let s=0,a=r.length;s<a;++s){if(null==o)return null;o=o[r[s]]}return o}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,i,r){t&&i!==r&&(r>=t.length&&(r%=t.length,i%=t.length),t.splice(r,0,t.splice(i,1)[0]))}static insertIntoOrderedArray(t,i,r,o){if(r.length>0){let s=!1;for(let a=0;a<r.length;a++)if(this.findIndexInList(r[a],o)>i){r.splice(a,0,t),s=!0;break}s||r.push(t)}else r.push(t)}static findIndexInList(t,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(i[o]==t){r=o;break}return r}static contains(t,i){if(null!=t&&i&&i.length)for(let r of i)if(this.equals(t,r))return!0;return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,i,r,o=1){let s=-1;const a=this.isEmpty(t),l=this.isEmpty(i);return s=a&&l?0:a?o:l?-o:"string"==typeof t&&"string"==typeof i?t.localeCompare(i,r,{numeric:!0}):t<i?-1:t>i?1:0,s}static sort(t,i,r=1,o,s=1){const a=Ci.compare(t,i,o,r);let l=r;return(Ci.isEmpty(t)||Ci.isEmpty(i))&&(l=1===s?r:s),l*a}static merge(t,i){if(null!=t||null!=i)return null!=t&&"object"!=typeof t||null!=i&&"object"!=typeof i?null!=t&&"string"!=typeof t||null!=i&&"string"!=typeof i?i||t:[t||"",i||""].join(" "):{...t||{},...i||{}}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&1===t.length&&t.match(/\S| /)}static getItemValue(t,...i){return this.isFunction(t)?t(...i):t}static findLastIndex(t,i){let r=-1;if(this.isNotEmpty(t))try{r=t.findLastIndex(i)}catch{r=t.lastIndexOf([...t].reverse().find(i))}return r}static findLast(t,i){let r;if(this.isNotEmpty(t))try{r=t.findLast(i)}catch{r=[...t].reverse().find(i)}return r}static deepEquals(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){var s,a,l,r=Array.isArray(t),o=Array.isArray(i);if(r&&o){if((a=t.length)!=i.length)return!1;for(s=a;0!=s--;)if(!this.deepEquals(t[s],i[s]))return!1;return!0}if(r!=o)return!1;var u=t instanceof Date,c=i instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==i.getTime();var f=t instanceof RegExp,d=i instanceof RegExp;if(f!=d)return!1;if(f&&d)return t.toString()==i.toString();var h=Object.keys(t);if((a=h.length)!==Object.keys(i).length)return!1;for(s=a;0!=s--;)if(!Object.prototype.hasOwnProperty.call(i,h[s]))return!1;for(s=a;0!=s--;)if(!this.deepEquals(t[l=h[s]],i[l]))return!1;return!0}return t!=t&&i!=i}}var Ele=0;function ih(e="pn_id_"){return`${e}${++Ele}`}var rh=function kze(){let e=[];const o=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:o,set:(s,a,l)=>{a&&(a.style.zIndex=String(((s,a)=>{let l=e.length>0?e[e.length-1]:{key:s,value:a},u=l.value+(l.key===s?0:a)+2;return e.push({key:s,value:u}),u})(s,l)))},clear:s=>{s&&((s=>{e=e.filter(a=>a.value!==s)})(o(s)),s.style.zIndex="")},getCurrent:()=>e.length>0?e[e.length-1].value:0}}();const xle=["*"];let $c=(()=>class e{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),Lze=(()=>{class e{filter(i,r,o,s,a){let l=[];if(i)for(let u of i)for(let c of r){let f=Ci.resolveFieldData(u,c);if(this.filters[s](f,o,a)){l.push(u);break}}return l}filters={startsWith:(i,r,o)=>{if(null==r||""===r.trim())return!0;if(null==i)return!1;let s=Ci.removeAccents(r.toString()).toLocaleLowerCase(o);return Ci.removeAccents(i.toString()).toLocaleLowerCase(o).slice(0,s.length)===s},contains:(i,r,o)=>{if(null==r||"string"==typeof r&&""===r.trim())return!0;if(null==i)return!1;let s=Ci.removeAccents(r.toString()).toLocaleLowerCase(o);return-1!==Ci.removeAccents(i.toString()).toLocaleLowerCase(o).indexOf(s)},notContains:(i,r,o)=>{if(null==r||"string"==typeof r&&""===r.trim())return!0;if(null==i)return!1;let s=Ci.removeAccents(r.toString()).toLocaleLowerCase(o);return-1===Ci.removeAccents(i.toString()).toLocaleLowerCase(o).indexOf(s)},endsWith:(i,r,o)=>{if(null==r||""===r.trim())return!0;if(null==i)return!1;let s=Ci.removeAccents(r.toString()).toLocaleLowerCase(o),a=Ci.removeAccents(i.toString()).toLocaleLowerCase(o);return-1!==a.indexOf(s,a.length-s.length)},equals:(i,r,o)=>null==r||"string"==typeof r&&""===r.trim()||null!=i&&(i.getTime&&r.getTime?i.getTime()===r.getTime():i==r||Ci.removeAccents(i.toString()).toLocaleLowerCase(o)==Ci.removeAccents(r.toString()).toLocaleLowerCase(o)),notEquals:(i,r,o)=>!(null==r||"string"==typeof r&&""===r.trim()||null!=i&&(i.getTime&&r.getTime?i.getTime()===r.getTime():i==r||Ci.removeAccents(i.toString()).toLocaleLowerCase(o)==Ci.removeAccents(r.toString()).toLocaleLowerCase(o))),in:(i,r)=>{if(null==r||0===r.length)return!0;for(let o=0;o<r.length;o++)if(Ci.equals(i,r[o]))return!0;return!1},between:(i,r)=>null==r||null==r[0]||null==r[1]||null!=i&&(i.getTime?r[0].getTime()<=i.getTime()&&i.getTime()<=r[1].getTime():r[0]<=i&&i<=r[1]),lt:(i,r,o)=>null==r||null!=i&&(i.getTime&&r.getTime?i.getTime()<r.getTime():i<r),lte:(i,r,o)=>null==r||null!=i&&(i.getTime&&r.getTime?i.getTime()<=r.getTime():i<=r),gt:(i,r,o)=>null==r||null!=i&&(i.getTime&&r.getTime?i.getTime()>r.getTime():i>r),gte:(i,r,o)=>null==r||null!=i&&(i.getTime&&r.getTime?i.getTime()>=r.getTime():i>=r),is:(i,r,o)=>this.filters.equals(i,r,o),isNot:(i,r,o)=>this.filters.notEquals(i,r,o),before:(i,r,o)=>this.filters.lt(i,r,o),after:(i,r,o)=>this.filters.gt(i,r,o),dateIs:(i,r)=>null==r||null!=i&&i.toDateString()===r.toDateString(),dateIsNot:(i,r)=>null==r||null!=i&&i.toDateString()!==r.toDateString(),dateBefore:(i,r)=>null==r||null!=i&&i.getTime()<r.getTime(),dateAfter:(i,r)=>{if(null==r)return!0;if(null==i)return!1;const o=new Date(i);return o.setHours(0,0,0,0),o.getTime()>r.getTime()}};register(i,r){this.filters[i]=r}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DS=(()=>{class e{clickSource=new Yn;clickObservable=this.clickSource.asObservable();add(i){i&&this.clickSource.next(i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),h1=(()=>{class e{ripple=!1;inputStyle=Nc("outlined");overlayOptions={};csp=Nc({nonce:void 0});filterMatchModeOptions={text:[$c.STARTS_WITH,$c.CONTAINS,$c.NOT_CONTAINS,$c.ENDS_WITH,$c.EQUALS,$c.NOT_EQUALS],numeric:[$c.EQUALS,$c.NOT_EQUALS,$c.LESS_THAN,$c.LESS_THAN_OR_EQUAL_TO,$c.GREATER_THAN,$c.GREATER_THAN_OR_EQUAL_TO],date:[$c.DATE_IS,$c.DATE_IS_NOT,$c.DATE_BEFORE,$c.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Yn;translationObserver=this.translationSource.asObservable();getTranslation(i){return this.translation[i]}setTranslation(i){this.translation={...this.translation,...i},this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rze=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=mo({type:e,selectors:[["p-header"]],standalone:!0,features:[Pu],ngContentSelectors:xle,decls:1,vars:0,template:function(r,o){1&r&&(Dm(),Zg(0))},encapsulation:2})}return e})(),Uze=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=mo({type:e,selectors:[["p-footer"]],standalone:!0,features:[Pu],ngContentSelectors:xle,decls:1,vars:0,template:function(r,o){1&r&&(Dm(),Zg(0))},encapsulation:2})}return e})(),f0=(()=>{class e{template;type;name;constructor(i){this.template=i}getType(){return this.name}static \u0275fac=function(r){return new(r||e)(Wt(Kh))};static \u0275dir=Lr({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[cn.None,"pTemplate","name"]},standalone:!0})}return e})(),hd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({})}return e})(),D6=(()=>class e{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"})(),Pze=(()=>{class e{pFocusTrapDisabled=!1;platformId=Kn(dc);host=Kn(rs);document=Kn(Al);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){Hu(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(i){i.pFocusTrapDisabled&&Hu(this.platformId)&&(i.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(i){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${i??""}`}createHiddenFocusableElements(){const r=o=>jt.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:"0",role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:o?.bind(this)});this.firstHiddenFocusableElement=r(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=r(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(i){const{currentTarget:r,relatedTarget:o}=i,s=o!==this.lastHiddenFocusableElement&&this.host.nativeElement?.contains(o)?this.lastHiddenFocusableElement:jt.getFirstFocusableElement(r.parentElement,":not(.p-hidden-focusable)");jt.focus(s)}onLastHiddenElementFocus(i){const{currentTarget:r,relatedTarget:o}=i,s=o!==this.firstHiddenFocusableElement&&this.host.nativeElement?.contains(o)?this.firstHiddenFocusableElement:jt.getLastFocusableElement(r.parentElement,":not(.p-hidden-focusable)");jt.focus(s)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Lr({type:e,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[cn.HasDecoratorInputTransform,"pFocusTrapDisabled","pFocusTrapDisabled",pr]},features:[Lc,Il]})}return e})(),Hze=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[cd]})}return e})();const Qze=["*"];let zp=(()=>{class e{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const i=Ci.isEmpty(this.label);this.role=i?void 0:"img",this.ariaLabel=i?void 0:this.label,this.ariaHidden=i}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=mo({type:e,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[cn.HasDecoratorInputTransform,"spin","spin",pr],styleClass:"styleClass"},standalone:!0,features:[Lc,Pu],ngContentSelectors:Qze,decls:1,vars:0,template:function(r,o){1&r&&(Dm(),Zg(0))},encapsulation:2,changeDetection:0})}return e})(),T6=(()=>{class e extends zp{static \u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})();static \u0275cmp=mo({type:e,selectors:[["TimesIcon"]],standalone:!0,features:[Wo,Pu],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,o){1&r&&(lc(),st(0,"svg",0),yi(1,"path",1),dt()),2&r&&(ga(o.getClassNames()),ci("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})(),Sle=(()=>{class e extends zp{pathId;ngOnInit(){this.pathId="url(#"+ih()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})();static \u0275cmp=mo({type:e,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[Wo,Pu],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(lc(),st(0,"svg",0)(1,"g"),yi(2,"path",1),dt(),st(3,"defs")(4,"clipPath",2),yi(5,"rect",3),dt()()()),2&r&&(ga(o.getClassNames()),ci("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),Ke(),ci("clip-path",o.pathId),Ke(3),Le("id",o.pathId))},encapsulation:2})}return e})(),Ble=(()=>{class e extends zp{pathId;ngOnInit(){this.pathId="url(#"+ih()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})();static \u0275cmp=mo({type:e,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[Wo,Pu],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(lc(),st(0,"svg",0)(1,"g"),yi(2,"path",1),dt(),st(3,"defs")(4,"clipPath",2),yi(5,"rect",3),dt()()()),2&r&&(ga(o.getClassNames()),ci("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),Ke(),ci("clip-path",o.pathId),Ke(3),Le("id",o.pathId))},encapsulation:2})}return e})();const Vze=["mask"],zze=["content"],$ze=["footer"],Gze=["titlebar"],qze=(e,t,i,r,o,s,a,l,u)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-bottom":o,"p-dialog-top-left":s,"p-dialog-top-right":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":u}),jze=(e,t,i,r)=>({"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":e,"p-dialog-resizable":t,"p-dialog-draggable":i,"p-dialog-maximized":r}),Kze=(e,t)=>({transform:e,transition:t}),Wze=e=>({value:"visible",params:e}),Xze=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0});function Yze(e,t){if(1&e){const i=To();st(0,"div",14),ki("mousedown",function(o){return Tn(i),Dn(je(2).initResize(o))}),dt()}}function Zze(e,t){1&e&&ws(0)}function Jze(e,t){if(1&e&&yi(0,"span",23),2&e){const i=je(5);Le("ngClass",i.maximized?i.minimizeIcon:i.maximizeIcon)}}function e$e(e,t){1&e&&yi(0,"WindowMaximizeIcon",24),2&e&&Le("styleClass","p-dialog-header-maximize-icon")}function t$e(e,t){1&e&&yi(0,"WindowMinimizeIcon",24),2&e&&Le("styleClass","p-dialog-header-maximize-icon")}function n$e(e,t){1&e&&ws(0)}function i$e(e,t){1&e&&ws(0)}function r$e(e,t){if(1&e){const i=To();st(0,"button",20),ki("click",function(){return Tn(i),Dn(je(4).maximize())})("keydown.enter",function(){return Tn(i),Dn(je(4).maximize())}),pn(1,Jze,1,1,"span",21)(2,e$e,1,1,"WindowMaximizeIcon",22)(3,t$e,1,1,"WindowMinimizeIcon",22)(4,n$e,1,0,"ng-container",12)(5,i$e,1,0,"ng-container",12),dt()}if(2&e){const i=je(4);Le("ngClass",$s(6,Xze)),Ke(),Le("ngIf",!i.maximizeIconTemplate||!i.minimizeIconTemplate),Ke(),Le("ngIf",!i.maximized&&!i.maximizeIcon&&!i.maximizeIconTemplate),Ke(),Le("ngIf",i.maximized&&!i.minimizeIcon&&!i.minimizeIconTemplate),Ke(),Le("ngComponentOutlet",i.maximizeIconTemplate),Ke(),Le("ngComponentOutlet",i.minimizeIconTemplate)}}function o$e(e,t){1&e&&yi(0,"TimesIcon",24),2&e&&Le("styleClass","p-dialog-header-close-icon")}function s$e(e,t){1&e&&ws(0)}function a$e(e,t){if(1&e){const i=To();st(0,"button",25),ki("click",function(){return Tn(i),Dn(je(4).hide())})("keydown.enter",function(){return Tn(i),Dn(je(4).hide())}),pn(1,o$e,1,1,"TimesIcon",22)(2,s$e,1,0,"ng-container",12),dt()}if(2&e){const i=je(4);Le("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link"),ci("aria-label",i.closeAriaLabel),Ke(),Le("ngIf",!i.closeIconTemplate),Ke(),Le("ngComponentOutlet",i.closeIconTemplate)}}function l$e(e,t){if(1&e&&(to(0),st(1,"span",16),Jn(2),dt(),st(3,"div",17),pn(4,r$e,6,7,"button",18)(5,a$e,3,4,"button",19),dt(),no()),2&e){const i=je(3);Ke(),Le("id",i.ariaLabelledBy),Ke(),Hl(i.config.header),Ke(2),Le("ngIf",i.config.maximizable),Ke(),Le("ngIf",!1!==i.config.closable)}}function u$e(e,t){if(1&e){const i=To();st(0,"div",15,3),ki("mousedown",function(o){return Tn(i),Dn(je(2).initDrag(o))}),pn(2,Zze,1,0,"ng-container",12)(3,l$e,6,4,"ng-container",11),dt()}if(2&e){const i=je(2);Ke(2),Le("ngComponentOutlet",i.headerTemplate),Ke(),Le("ngIf",!i.headerTemplate)}}function c$e(e,t){}function f$e(e,t){1&e&&pn(0,c$e,0,0,"ng-template",26)}function d$e(e,t){1&e&&ws(0)}function A$e(e,t){if(1&e&&(to(0),Jn(1),no()),2&e){const i=je(3);Ke(),Rc(" ",i.config.footer," ")}}function h$e(e,t){1&e&&ws(0)}function p$e(e,t){if(1&e&&(st(0,"div",27,4),pn(2,A$e,2,1,"ng-container",11)(3,h$e,1,0,"ng-container",12),dt()),2&e){const i=je(2);Ke(2),Le("ngIf",!i.footerTemplate),Ke(),Le("ngComponentOutlet",i.footerTemplate)}}function g$e(e,t){if(1&e){const i=To();st(0,"div",7,1),ki("@animation.start",function(o){return Tn(i),Dn(je().onAnimationStart(o))})("@animation.done",function(o){return Tn(i),Dn(je().onAnimationEnd(o))}),pn(2,Yze,1,0,"div",8)(3,u$e,4,2,"div",9),st(4,"div",10,2),pn(6,f$e,1,0,null,11)(7,d$e,1,0,"ng-container",12),dt(),pn(8,p$e,4,2,"div",13),dt()}if(2&e){const i=je();ga(i.config.styleClass),Le("ngClass",JJ(14,jze,i.config.rtl,i.config.resizable,i.config.draggable,i.maximized))("ngStyle",i.containerStyle)("@animation",us(22,Wze,Ac(19,Kze,i.transformOptions,i.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)")))("pFocusTrapDisabled",!1===i.config.focusTrap),ci("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),Ke(2),Le("ngIf",i.config.resizable),Ke(),Le("ngIf",!1!==i.config.showHeader),Ke(),Le("ngStyle",i.config.contentStyle),Ke(2),Le("ngIf",!i.contentTemplate),Ke(),Le("ngComponentOutlet",i.contentTemplate),Ke(),Le("ngIf",i.config.footer||i.footerTemplate)}}let Mle=(()=>{class e{viewContainerRef;constructor(i){this.viewContainerRef=i}static \u0275fac=function(r){return new(r||e)(Wt(tA))};static \u0275dir=Lr({type:e,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]})}return e})();class TS{data;header;ariaLabelledBy;footer;width;height;closeOnEscape;focusOnShow=!0;focusOnClose=!0;focusTrap=!0;baseZIndex;autoZIndex;dismissableMask;rtl;style;contentStyle;styleClass;transitionOptions;closable;showHeader;modal;maskStyleClass;resizable;draggable;keepInViewport;minX;minY;maximizable;maximizeIcon;minimizeIcon;position;closeAriaLabel;appendTo;duplicate;breakpoints;templates}class $7{constructor(){}close(t){this._onClose.next(t),setTimeout(()=>{this._onClose.complete()},1e3)}destroy(){this._onDestroy.next(null)}dragStart(t){this._onDragStart.next(t)}dragEnd(t){this._onDragEnd.next(t)}resizeInit(t){this._onResizeInit.next(t)}resizeEnd(t){this._onResizeEnd.next(t)}maximize(t){this._onMaximize.next(t)}_onClose=new Yn;onClose=this._onClose.asObservable();_onDestroy=new Yn;onDestroy=this._onDestroy.asObservable();_onDragStart=new Yn;onDragStart=this._onDragStart.asObservable();_onDragEnd=new Yn;onDragEnd=this._onDragEnd.asObservable();_onResizeInit=new Yn;onResizeInit=this._onResizeInit.asObservable();_onResizeEnd=new Yn;onResizeEnd=this._onResizeEnd.asObservable();_onMaximize=new Yn;onMaximize=this._onMaximize.asObservable();onChildComponentLoaded=new Yn}const m$e=kE([o1({transform:"{{transform}}",opacity:0}),G5("{{transition}}",o1({transform:"none",opacity:1}))]),v$e=kE([G5("{{transition}}",o1({transform:"{{transform}}",opacity:0}))]);let y$e=(()=>{class e{document;platformId;cd;renderer;config;dialogRef;zone;primeNGConfig;parentDialog;visible=!0;componentRef;mask;resizing;dragging;maximized;_style={};originalStyle;lastPageX;lastPageY;ariaLabelledBy;id=ih();styleElement;insertionPoint;maskViewChild;contentViewChild;footerViewChild;headerViewChild;childComponentType;container;wrapper;documentKeydownListener;documentEscapeListener;maskClickListener;transformOptions="scale(0.7)";documentResizeListener;documentResizeEndListener;documentDragListener;documentDragEndListener;get minX(){return this.config.minX?this.config.minX:0}get minY(){return this.config.minY?this.config.minY:0}get keepInViewport(){return this.config.keepInViewport}get maximizable(){return this.config.maximizable}get maximizeIcon(){return this.config.maximizeIcon}get minimizeIcon(){return this.config.minimizeIcon}get style(){return this._style}get position(){return this.config.position}get closeAriaLabel(){return this.primeNGConfig.getTranslation(D6.ARIA).close}set style(i){i&&(this._style={...i},this.originalStyle=i)}get parent(){const i=Array.from(this.document.getElementsByClassName("p-dialog"));if(i.length>1)return i.pop()}get parentContent(){const i=Array.from(this.document.getElementsByClassName("p-dialog"));if(i.length>0){const r=i[i.length-1].querySelector(".p-dialog-content");if(r)return Array.isArray(r)?r[0]:r}}get header(){return this.config.header}get data(){return this.config.data}get breakpoints(){return this.config.breakpoints}get footerTemplate(){return this.config?.templates?.footer}get headerTemplate(){return this.config?.templates?.header}get contentTemplate(){return this.config?.templates?.content}get minimizeIconTemplate(){return this.config?.templates?.minimizeicon}get maximizeIconTemplate(){return this.config?.templates?.maximizeicon}get closeIconTemplate(){return this.config?.templates?.closeicon}get dynamicDialogCount(){return this.document.querySelectorAll("p-dynamicdialog")?.length}get containerStyle(){return{...this.config.style,width:this.config.width,height:this.config.height}}constructor(i,r,o,s,a,l,u,c,f){this.document=i,this.platformId=r,this.cd=o,this.renderer=s,this.config=a,this.dialogRef=l,this.zone=u,this.primeNGConfig=c,this.parentDialog=f}ngOnInit(){this.breakpoints&&this.createStyle()}createStyle(){if(Hu(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",jt.setAttribute(this.styleElement,"nonce",this.primeNGConfig?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let i="";for(let r in this.breakpoints)i+=`\n                        @media screen and (max-width: ${r}) {\n                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {\n                                width: ${this.breakpoints[r]} !important;\n                            }\n                        }\n                    `;this.renderer.setProperty(this.styleElement,"innerHTML",i)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.ariaLabelledBy=this.getAriaLabelledBy(),this.cd.detectChanges()}getAriaLabelledBy(){return null!==this.header?ih()+"_header":null}loadChildComponent(i){let r=this.insertionPoint?.viewContainerRef;r?.clear(),this.componentRef=r?.createComponent(i),this.dialogRef.onChildComponentLoaded.next(this.componentRef.instance)}moveOnTop(){!1!==this.config.autoZIndex&&(rh.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(i){switch(i.toState){case"visible":this.container=i.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.parent&&this.unbindGlobalListeners(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),!1!==this.config.modal&&this.enableModality(),!1!==this.config.focusOnShow&&this.focus();break;case"void":this.wrapper&&!1!==this.config.modal&&jt.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(i){"void"===i.toState&&(this.parentContent&&!1!==this.config.focusOnClose&&this.focus(this.parentContent),this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&rh.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",i=>{this.wrapper&&this.wrapper.isSameNode(i.target)&&this.hide()})),1===this.dynamicDialogCount&&jt.addClass(this.document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),1===this.dynamicDialogCount&&jt.removeClass(this.document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}focus(i=this.contentViewChild.nativeElement){if(!jt.getFocusableElements(i).length)return;let o=jt.getFocusableElement(i,"[autofocus]");if(o)return void this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),5)});const s=jt.getFocusableElement(i);s?this.zone.runOutsideAngular(()=>{setTimeout(()=>s.focus(),5)}):this.footerViewChild?this.focus(this.footerViewChild.nativeElement):!s&&this.headerViewChild&&this.focus(this.headerViewChild.nativeElement)}maximize(){this.maximized=!this.maximized,this.maximized?jt.addClass(this.document.body,"p-overflow-hidden"):jt.removeClass(this.document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(i){this.config.resizable&&(this.documentResizeListener||this.bindDocumentResizeListeners(),this.resizing=!0,this.lastPageX=i.pageX,this.lastPageY=i.pageY,jt.addClass(this.document.body,"p-unselectable-text"),this.dialogRef.resizeInit(i))}onResize(i){if(this.resizing){let r=i.pageX-this.lastPageX,o=i.pageY-this.lastPageY,s=jt.getOuterWidth(this.container),a=jt.getOuterHeight(this.container),l=jt.getOuterHeight(this.contentViewChild.nativeElement),u=s+r,c=a+o,f=this.container.style.minWidth,d=this.container.style.minHeight,h=this.container.getBoundingClientRect(),g=jt.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(u+=r,c+=o),(!f||u>parseInt(f))&&h.left+u<g.width&&(this._style.width=u+"px",this.container.style.width=this._style.width),(!d||c>parseInt(d))&&h.top+c<g.height&&(this.contentViewChild.nativeElement.style.height=l+c-a+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=i.pageX,this.lastPageY=i.pageY}}resizeEnd(i){this.resizing&&(this.resizing=!1,jt.removeClass(this.document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(i))}initDrag(i){jt.hasClass(i.target,"p-dialog-header-icon")||jt.hasClass(i.target.parentElement,"p-dialog-header-icon")||this.config.draggable&&(this.dragging=!0,this.lastPageX=i.pageX,this.lastPageY=i.pageY,this.container.style.margin="0",jt.addClass(this.document.body,"p-unselectable-text"),this.dialogRef.dragStart(i))}onDrag(i){if(this.dragging){let r=jt.getOuterWidth(this.container),o=jt.getOuterHeight(this.container),s=i.pageX-this.lastPageX,a=i.pageY-this.lastPageY,l=this.container.getBoundingClientRect(),u=l.left+s,c=l.top+a,f=jt.getViewport();this.container.style.position="fixed",this.keepInViewport?(u>=this.minX&&u+r<f.width&&(this._style.left=u+"px",this.lastPageX=i.pageX,this.container.style.left=u+"px"),c>=this.minY&&c+o<f.height&&(this._style.top=c+"px",this.lastPageY=i.pageY,this.container.style.top=c+"px")):(this.lastPageX=i.pageX,this.container.style.left=u+"px",this.lastPageY=i.pageY,this.container.style.top=c+"px")}}endDrag(i){this.dragging&&(this.dragging=!1,jt.removeClass(this.document.body,"p-unselectable-text"),this.dialogRef.dragEnd(i),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){Hu(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document,"mousemove",this.onDrag.bind(this))})}bindDocumentDragEndListener(){Hu(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentResizeListeners(){Hu(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){!1!==this.config.closeOnEscape&&this.bindDocumentEscapeListener(),this.config.resizable&&this.bindDocumentResizeListeners(),this.config.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",r=>{27==r.which&&parseInt(this.container.style.zIndex)==rh.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy(),this.destroyStyle()}static \u0275fac=function(r){return new(r||e)(Wt(Al),Wt(dc),Wt(ld),Wt(Ru),Wt(TS),Wt($7),Wt(Zo),Wt(h1),Wt(e,12))};static \u0275cmp=mo({type:e,selectors:[["p-dynamicDialog"]],viewQuery:function(r,o){if(1&r&&(Xo(Mle,5),Xo(Vze,5),Xo(zze,5),Xo($ze,5),Xo(Gze,5)),2&r){let s;ao(s=lo())&&(o.insertionPoint=s.first),ao(s=lo())&&(o.maskViewChild=s.first),ao(s=lo())&&(o.contentViewChild=s.first),ao(s=lo())&&(o.footerViewChild=s.first),ao(s=lo())&&(o.headerViewChild=s.first)}},hostAttrs:[1,"p-element"],decls:3,vars:14,consts:[["mask",""],["container",""],["content",""],["titlebar",""],["footer",""],[3,"ngClass"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","pFocusTrapDisabled"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],[4,"ngIf"],[4,"ngComponentOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],[1,"p-dialog-title",3,"id"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","tabindex","-1","pRipple","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass"],["type","button","role","button",3,"click","keydown.enter","ngClass"],["pDynamicDialogContent",""],[1,"p-dialog-footer"]],template:function(r,o){1&r&&(st(0,"div",5,0),pn(2,g$e,9,24,"div",6),dt()),2&r&&(ga(o.config.maskStyleClass),Le("ngClass",lk(4,qze,[!1!==o.config.modal,"left"===o.position,"right"===o.position,"top"===o.position,"bottom"===o.position,"topleft"===o.position||"top-left"===o.position,"topright"===o.position||"top-right"===o.position,"bottomleft"===o.position||"bottom-left"===o.position,"bottomright"===o.position||"bottom-right"===o.position])),Ke(2),Le("ngIf",o.visible))},dependencies:()=>[Bf,kte,ud,ZA,Sle,Ble,T6,Pze,Mle],styles:["@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}\n"],encapsulation:2,data:{animation:[tN("animation",[q5("void => visible",[NE(m$e)]),q5("visible => void",[NE(v$e)])])]}})}return e})(),_$e=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[cd,Sle,Ble,T6,hd,Hze,hd]})}return e})();class w$e{_parentInjector;_additionalTokens;constructor(t,i){this._parentInjector=t,this._additionalTokens=i}get(t,i,r){return this._additionalTokens.get(t)||this._parentInjector.get(t,i)}}let Ile=(()=>{class e{appRef;injector;document;dialogComponentRefMap=new Map;constructor(i,r,o){this.appRef=i,this.injector=r,this.document=o}open(i,r){if(!this.duplicationPermission(i,r))return null;const o=this.appendDialogComponentToBody(r,i);return this.dialogComponentRefMap.get(o).instance.childComponentType=i,o}getInstance(i){return this.dialogComponentRefMap.get(i).instance}appendDialogComponentToBody(i,r){const o=new WeakMap;o.set(TS,i);const s=new $7;o.set($7,s);const a=s.onClose.subscribe(()=>{this.dialogComponentRefMap.get(s).instance.close()}),l=s.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(s),l.unsubscribe(),a.unsubscribe()}),u=function rMe(e,t){const i=wo(e),r=t.elementInjector||im();return new gy(i).create(r,t.projectableNodes,t.hostElement,t.environmentInjector)}(y$e,{environmentInjector:this.appRef.injector,elementInjector:new w$e(this.injector,o)});this.appRef.attachView(u.hostView);const c=u.hostView.rootNodes[0];return i.appendTo&&"body"!==i.appendTo?jt.appendChild(c,i.appendTo):this.document.body.appendChild(c),this.dialogComponentRefMap.set(s,u),s}removeDialogComponentFromBody(i){if(!i||!this.dialogComponentRefMap.has(i))return;const r=this.dialogComponentRefMap.get(i);this.appRef.detachView(r.hostView),r.destroy(),this.dialogComponentRefMap.delete(i)}duplicationPermission(i,r){if(r.duplicate)return!0;let o=!0;for(const[s,a]of this.dialogComponentRefMap)if(a.instance.childComponentType===i){o=!1;break}return o}static \u0275fac=function(r){return new(r||e)(Ar(Jg),Ar(Dl),Ar(Al))};static \u0275prov=Mn({token:e,factory:e.\u0275fac})}return e})();const b$e=["detailViewMapContainer"];let C$e=(()=>{class e{ref;config;detailViewMapContainer;binningMethodObj;objectValues;constructor(i,r){this.ref=i,this.config=r,this.binningMethodObj={name:null,description:null,longDescription:null,category:null,binBreaks:null,binSizes:{}},this.objectValues=Object.values}ngOnInit(){this.config.data&&(this.binningMethodObj=this.config.data.binningMethodObj||this.binningMethodObj)}getBinningMethodCategoryStyleClass(i){return Cle(i,!0)}static \u0275fac=function(r){return new(r||e)(Wt($7),Wt(TS))};static \u0275cmp=mo({type:e,selectors:[["modal-component"]],viewQuery:function(r,o){if(1&r&&Xo(b$e,5),2&r){let s;ao(s=lo())&&(o.detailViewMapContainer=s.first)}},standalone:!0,features:[Pu],decls:32,vars:7,consts:[["detailViewMapContainer",""],[1,"p-fluid"],[1,"text-center","w-100"],[1,"mt-md"],[1,"p-datatable","p-datatable-xs"],[1,"text-muted","text-right","mw-lg",2,"width","20%"],[1,"p-badge",3,"ngClass"],[1,"text-muted","text-right","mw-lg"]],template:function(r,o){1&r&&(st(0,"div",1),yi(1,"div",2,0),st(3,"div",3)(4,"table",4)(5,"tbody")(6,"tr")(7,"td",5),Jn(8,"Category"),dt(),st(9,"td")(10,"span",6),Jn(11),dt()()(),st(12,"tr")(13,"td",7),Jn(14,"Short Description"),dt(),st(15,"td"),Jn(16),dt()(),st(17,"tr")(18,"td",7),Jn(19,"Long Description"),dt(),st(20,"td"),Jn(21),dt()(),st(22,"tr")(23,"td",7),Jn(24,"Bin Breaks"),dt(),st(25,"td"),Jn(26),dt()(),st(27,"tr")(28,"td",7),Jn(29,"Bin Sizes"),dt(),st(30,"td"),Jn(31),dt()()()()()()),2&r&&(Ke(),ci("id","detailViewMapContainer"),Ke(9),Le("ngClass",o.getBinningMethodCategoryStyleClass(o.binningMethodObj.category)),Ke(),Hl(o.binningMethodObj.category),Ke(5),Hl(o.binningMethodObj.description),Ke(5),Hl(o.binningMethodObj.longDescription),Ke(5),Rc("[",o.binningMethodObj.binBreaks,"]"),Ke(5),Rc("[",o.objectValues(o.binningMethodObj.binSizes),"]"))},dependencies:[cd,Bf],encapsulation:2})}return e})();function Ff(e){if(0===e.length)throw new Error("mean requires at least one data point");return function E$e(e){if(0===e.length)return 0;var r,t=e[0],i=0;if("number"!=typeof t)return Number.NaN;for(var o=1;o<e.length;o++){if("number"!=typeof e[o])return Number.NaN;r=t+e[o],Math.abs(t)>=Math.abs(e[o])?i+=t-r+e[o]:i+=e[o]-r+t,t=r}return t+i}(e)/e.length}function Tle(e){if(1===e.length)return 0;var t=function x$e(e){if(0===e.length)throw new Error("variance requires at least one data point");return function Dle(e,t){var o,s,i=Ff(e),r=0;if(2===t)for(s=0;s<e.length;s++)r+=(o=e[s]-i)*o;else for(s=0;s<e.length;s++)r+=Math.pow(e[s]-i,t);return r}(e,2)/e.length}(e);return Math.sqrt(t)}function fU(e,t){var i=e.length*t;if(0===e.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?e[e.length-1]:0===t?e[0]:i%1!=0?e[Math.ceil(i)-1]:e.length%2==0?(e[i-1]+e[i])/2:e[i]}function FS(e,t,i,r){for(i=i||0,r=r||e.length-1;r>i;){if(r-i>600){var o=r-i+1,s=t-i+1,a=Math.log(o),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(o-l)/o);s-o/2<0&&(u*=-1),FS(e,t,Math.max(i,Math.floor(t-s*l/o+u)),Math.min(r,Math.floor(t+(o-s)*l/o+u)))}var d=e[t],h=i,g=r;for(G7(e,i,t),e[r]>d&&G7(e,i,r);h<g;){for(G7(e,h,g),h++,g--;e[h]<d;)h++;for(;e[g]>d;)g--}e[i]===d?G7(e,i,g):G7(e,++g,r),g<=t&&(i=g+1),t<=g&&(r=g-1)}}function G7(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function p1(e,t){var i=e.slice();if(Array.isArray(t)){!function D$e(e,t){for(var i=[0],r=0;r<t.length;r++)i.push(Ole(e.length,t[r]));i.push(e.length-1),i.sort(T$e);for(var o=[0,i.length-1];o.length;){var s=Math.ceil(o.pop()),a=Math.floor(o.pop());if(!(s-a<=1)){var l=Math.floor((a+s)/2);Fle(e,i[l],Math.floor(i[a]),Math.ceil(i[s])),o.push(a,l,l,s)}}}(i,t);for(var r=[],o=0;o<t.length;o++)r[o]=fU(i,t[o]);return r}return Fle(i,Ole(i.length,t),0,i.length-1),fU(i,t)}function Fle(e,t,i,r){t%1==0?FS(e,t,i,r):(FS(e,t=Math.floor(t),i,r),FS(e,t+1,t+1,r))}function T$e(e,t){return e-t}function Ole(e,t){var i=e*t;return 1===t?e-1:0===t?0:i%1!=0?Math.ceil(i)-1:e%2==0?i-.5:i}function OS(e,t){for(var i=[],r=0;r<e;r++){for(var o=[],s=0;s<t;s++)o.push(0);i.push(o)}return i}function AU(e,t,i,r){var o;if(e>0){var s=(i[t]-i[e-1])/(t-e+1);o=r[t]-r[e-1]-(t-e+1)*s*s}else o=r[t]-i[t]*i[t]/(t+1);return o<0?0:o}function hU(e,t,i,r,o,s,a){if(!(e>t)){var l=Math.floor((e+t)/2);r[i][l]=r[i-1][l-1],o[i][l]=l;var u=i;e>i&&(u=Math.max(u,o[i][e-1]||0)),u=Math.max(u,o[i-1][l]||0);var c=l-1;t<r[0].length-1&&(c=Math.min(c,o[i][t+1]||0));for(var f,h,g,v=c;v>=u&&!((f=AU(v,l,s,a))+r[i-1][u-1]>=r[i][l]);--v)(h=AU(u,l,s,a)+r[i-1][u-1])<r[i][l]&&(r[i][l]=h,o[i][l]=u),u++,(g=f+r[i-1][v-1])<r[i][l]&&(r[i][l]=g,o[i][l]=v);hU(e,l-1,i,r,o,s,a),hU(l+1,t,i,r,o,s,a)}}var Lle=function(){this.totalCount=0,this.data={}};Lle.prototype.train=function(t,i){for(var r in this.data[i]||(this.data[i]={}),t){var o=t[r];void 0===this.data[i][r]&&(this.data[i][r]={}),void 0===this.data[i][r][o]&&(this.data[i][r][o]=0),this.data[i][r][o]++}this.totalCount++},Lle.prototype.score=function(t){var r,i={};for(var o in t){var s=t[o];for(r in this.data)i[r]={},i[r][o+"_"+s]=this.data[r][o]?(this.data[r][o][s]||0)/this.totalCount:0}var a={};for(r in i)for(var l in a[r]=0,i[r])a[r]+=i[r][l];return a};var Rle=function(){this.weights=[],this.bias=0};Rle.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var i=0,r=0;r<this.weights.length;r++)i+=this.weights[r]*t[r];return(i+=this.bias)>0?1:0},Rle.prototype.train=function(t,i){if(0!==i&&1!==i)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var r=this.predict(t);if("number"==typeof r&&r!==i){for(var o=i-r,s=0;s<this.weights.length;s++)this.weights[s]+=o*t[s];this.bias+=o}return this},Math.log(Math.sqrt(2*Math.PI)),Math.sqrt(2*Math.PI);var J$e=Math.sqrt(2*Math.PI);function eGe(e){for(var t=e,i=e,r=1;r<15;r++)t+=i*=e*e/(2*r+1);return Math.round(1e4*(.5+t/J$e*Math.exp(-e*e/2)))/1e4}for(var NS=[],vU=0;vU<=3.09;vU+=.01)NS.push(eGe(vU));var Qle=ei(745);ei(130),ei(540),ei(797);const Vle="equalInterval",zle="percentile",$le="definedInterval",jle="standardDeviation",Kle="maximumBreaks",Wle="prettyBreaks",Yle="headTailBreaks",Zle="fisherJenks",Jle="exponentialBinSizes",eue="geometricInterval",_U="unclassed",tue="manualInterval";class cGe{constructor(t=[],i=5,r=10,o=2){this.visModel={},this.rawData=t,this.binCount=i,this.binExtent=r,this.precision=o,this.data=this.rawData.filter(s=>this.isValid(s)),this.minSortedData=JSON.parse(JSON.stringify(this.data)).sort((s,a)=>s-a),this.maxSortedData=JSON.parse(JSON.stringify(this.data)).sort((s,a)=>a-s),this.median=function dU(e){return+p1(e,.5)}(this.data),this.mean=Ff(this.data),this.sd=Tle(this.data),this.iqr=function kle(e){var t=p1(e,.75),i=p1(e,.25);if("number"==typeof t&&"number"==typeof i)return t-i}(this.data),this.lq1=p1(this.data,.01),this.lq10=p1(this.data,.1),this.lq25=p1(this.data,.25),this.uq75=p1(this.data,.75),this.uq90=p1(this.data,.9),this.uq99=p1(this.data,.99),[this.min,this.max]=function M$e(e){if(0===e.length)throw new Error("extent requires at least one data point");for(var t=e[0],i=e[0],r=1;r<e.length;r++)e[r]>i&&(i=e[r]),e[r]<t&&(t=e[r]);return[t,i]}(this.data),this.nonZeroMin=Math.min.apply(null,this.data.filter(Boolean)),this.median=parseFloat(this.median.toFixed(2)),this.mean=parseFloat(this.mean.toFixed(2)),this.sd=parseFloat(this.sd.toFixed(2)),this.iqr=parseFloat(this.iqr.toFixed(2)),this.lq1=parseFloat(this.lq1.toFixed(2)),this.lq10=parseFloat(this.lq10.toFixed(2)),this.lq25=parseFloat(this.lq25.toFixed(2)),this.uq75=parseFloat(this.uq75.toFixed(2)),this.uq90=parseFloat(this.uq90.toFixed(2)),this.uq99=parseFloat(this.uq99.toFixed(2)),[this.min,this.max]=[this.min,this.max].map(s=>parseFloat(s.toFixed(2))),this.nonZeroMin=parseFloat(this.nonZeroMin.toFixed(2))}getMostFrequentElement(t){const i={};return t.forEach(r=>i[r]?i[r]+=1:i[r]=1),parseInt(Object.keys(i).sort((r,o)=>i[o]-i[r])[0])}getFrequencyOfMostFrequentElement(t){for(var i=new Map,r=t.length,o=0;o<r;o++)i.has(t[o])?i.set(t[o],i.get(t[o])+1):i.set(t[o],1);var s=[];i.forEach((l,u)=>{s.push(u)}),s.sort((l,u)=>l-u);let a=-1/0;return s.forEach(l=>{let u=i.get(l);u>a&&(a=u)}),a}maximumBreaks(){let t=this,i=[],r=[];for(var o=0;o<t.minSortedData.length-1;o++)r.push(t.minSortedData[o+1]-t.minSortedData[o]);var s=r.length,a=new Array(s);for(o=0;o<s;++o)a[o]=o;a.sort(function(c,f){return r[c]<r[f]?1:r[c]>r[f]?-1:0});for(let c=0;c<t.binCount-1;c++)i.push(t.minSortedData[a[c]+1]);i=i.sort(function(c,f){return c-f});let l=t.computeBinSizes(i),u=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:t.binCount,binBreaks:t.roundToPrecision(i,t.precision),binSizes:l,dataBinAssignments:u}}headTailBreaks(){let t=this,i=[];!function r(a){let l=a.reduce(function(c,f){return c+f})/a.length,u=a.filter(function(c){return c>l});for(i.push(l);u.length>1&&u.length/a.length<.4;)return r(u)}(t.maxSortedData);let o=t.computeBinSizes(i),s=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:o,dataBinAssignments:s}}ckMeans(){let t=this,i=[];i=function P$e(e,t){if(t>e.length)throw new Error("cannot generate more classes than there are data values");var i=function uU(e){return e.slice().sort(function(t,i){return t-i})}(e),r=function R$e(e){for(var i,t=0,r=0;r<e.length;r++)(0===r||e[r]!==i)&&(i=e[r],t++);return t}(i);if(1===r)return[i];var o=OS(t,i.length),s=OS(t,i.length);!function U$e(e,t,i){for(var r=t[0].length,o=e[Math.floor(r/2)],s=[],a=[],l=0,u=void 0;l<r;++l)u=e[l]-o,0===l?(s.push(u),a.push(u*u)):(s.push(s[l-1]+u),a.push(a[l-1]+u*u)),t[0][l]=AU(0,l,s,a),i[0][l]=0;for(var f=1;f<t.length;++f)hU(f<t.length-1?f:r-1,r-1,f,t,i,s,a)}(i,o,s);for(var a=[],l=s[0].length-1,u=s.length-1;u>=0;u--){var c=s[u][l];a[u]=i.slice(c,l+1),u>0&&(l=c-1)}return a}(t.data,t.binCount).map(function(a){return a[a.length-1]}),i=i.slice(0,-1);let o=t.computeBinSizes(i),s=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:o,dataBinAssignments:s}}equalInterval(){let t=this,i=[],r=(t.max-t.min)/t.binCount;for(let a=0;a<t.binCount-1;a++)i.push(t.min+r*(a+1));let o=t.computeBinSizes(i),s=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:t.binCount,binBreaks:t.roundToPrecision(i,t.precision),binSizes:o,dataBinAssignments:s}}percentile(){let t=this,i=[t.lq1+Number.EPSILON,t.lq10,t.median,t.uq90,t.uq99],r=t.computeBinSizes(i),o=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:r,dataBinAssignments:o}}quantile(){let t=this,i=[];const r=Math.floor(t.minSortedData.length/t.binCount);for(let a=1;a<t.binCount;a++)i.push(t.minSortedData[r*a]);let o=t.computeBinSizes(i),s=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:o,dataBinAssignments:s}}standardDeviation(t=!1,i=1){let r=this,o=[],s=r.binCount;if(t){let u=r.mean-r.sd*i*(Math.ceil(s/2)-1),c=r.sd*i;for(let f=0;f<s-1;f++)o.push(u+c*f)}else{let u=r.mean-r.sd*i*(Math.ceil(s/2)-1)-r.sd*i/2,c=r.sd*i;for(let f=0;f<s-1;f++)o.push(u+c*f)}let a=r.computeBinSizes(o),l=r.computeDataBinAssignments(o);return{rawData:r.rawData,data:r.data,dataRange:[r.min,r.max],binCount:o.length+1,binBreaks:r.roundToPrecision(o,r.precision),binSizes:a,dataBinAssignments:l}}manualInterval(t=[1,2,3]){let i=this,r=i.computeBinSizes(t),o=i.computeDataBinAssignments(t);return{rawData:i.rawData,data:i.data,dataRange:[i.min,i.max],binCount:t.length+1,binBreaks:i.roundToPrecision(t,i.precision),binSizes:r,dataBinAssignments:o}}prettyBreaks(){let t=this,i=[];if(1==t.binCount)i=[];else if(2==t.binCount)i=[parseFloat(t.mean.toPrecision(2))];else{let s=(t.max-t.min)/t.binCount;for(let a=0;a<t.binCount-1;a++){let l=parseFloat((t.min+s*(a+1)).toPrecision(2));i.push(l)}}i=[...new Set(i)];let r=t.computeBinSizes(i),o=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,0),binSizes:r,dataBinAssignments:o}}boxPlot(){let t=this,r=[t.lq25-1.5*t.iqr,t.lq25,t.median,t.uq75,t.uq75+1.5*t.iqr],o=t.computeBinSizes(r),s=t.computeDataBinAssignments(r);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:r.length+1,binBreaks:t.roundToPrecision(r,t.precision),binSizes:o,dataBinAssignments:s}}definedInterval(t=null){let i=this,r=[],o=1;for(null==t&&(t=this.binExtent);i.min+t*o<i.max;)r.push(i.min+t*o),o++;let s=i.computeBinSizes(r),a=i.computeDataBinAssignments(r);return{rawData:i.rawData,data:i.data,dataRange:[i.min,i.max],binCount:r.length+1,binBreaks:i.roundToPrecision(r,i.precision),binSizes:s,dataBinAssignments:a}}geometricInterval(){let t=this,i=[],r=0==t.min?t.nonZeroMin:t.min,o=Math.pow(t.max/r,1/t.binCount);for(let l=0;l<t.binCount-1;l++){let u=r*Math.pow(o,l+1);i.push(u)}let s=t.computeBinSizes(i),a=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:s,dataBinAssignments:a}}exponentialBinSizes(){let t=this,i=[];const o=t.minSortedData.length,s=1..toString()+" * (1 - x^"+t.binCount.toString()+") = "+o.toString()+" * (1 - x)",a=Qle.solveEquations(s,"x").map(f=>Qle(f).evaluate().text());let l=1;for(let f=0;f<a.length;f++)try{let d=parseFloat(a[f]);if(1!=d){l=d;break}}catch{continue}if(1==l)return[];{let f=0;for(let d=0;d<t.binCount-1;d++){f+=1*Math.pow(l,d);const g=Math.floor(f);i.push(t.minSortedData[g-1])}}let u=t.computeBinSizes(i),c=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:u,dataBinAssignments:c}}fisherJenks(){let t=this;if(t.binCount>t.data.length)return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:null,binBreaks:[],binSizes:{valids:null,invalids:null},dataBinAssignments:{}};t.data=t.data.slice().sort(function(f,d){return f-d});var o=function i(f,d){var v,y,h=[],g=[],b=0;for(v=0;v<f.length+1;v++){var E=[],M=[];for(y=0;y<d+1;y++)E.push(0),M.push(0);h.push(E),g.push(M)}for(v=1;v<d+1;v++)for(h[1][v]=1,g[1][v]=0,y=2;y<f.length+1;y++)g[y][v]=1/0;for(var k=2;k<f.length+1;k++){for(var P=0,H=0,X=0,z=0,se=1;se<k+1;se++){var ye=k-se+1,Ie=f[ye-1];if(b=(H+=Ie*Ie)-(P+=Ie)*P/++X,0!=(z=ye-1))for(y=2;y<d+1;y++)g[k][y]>=b+g[z][y-1]&&(h[k][y]=ye,g[k][y]=b+g[z][y-1])}h[k][1]=1,g[k][1]=b}return{lower_bin_limits:h,variance_combinations:g}}(t.data,t.binCount);let l=function r(f,d,h){var g=f.length-1,v=[],y=h;for(v[h]=f[f.length-1],v[0]=f[0];y>1;)v[y-1]=f[d[g][y]-2],g=d[g][y]-1,y--;return v}(t.data,o.lower_bin_limits,t.binCount).slice(1).slice(0,-1),u=t.computeBinSizes(l),c=t.computeDataBinAssignments(l);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:l.length+1,binBreaks:t.roundToPrecision(l,t.precision),binSizes:u,dataBinAssignments:c}}unique(){let t=this;const i=Array.from(new Set(t.minSortedData)),r=t.computeBinSizes(i),o=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:i.length+1,binBreaks:t.roundToPrecision(i,t.precision),binSizes:r,dataBinAssignments:o}}unclassed(){let t=this;const i=[t.min,t.max],r=t.computeBinSizes(i),o=t.computeDataBinAssignments(i);return{rawData:t.rawData,data:t.data,dataRange:[t.min,t.max],binCount:null,binBreaks:[],binSizes:r,dataBinAssignments:o}}resiliency(t=[],i={}){let r=this,o=[];t.length>0&&t.forEach(function(v){let y={};switch(v){case Vle:y=r.equalInterval(),i[Vle]=JSON.parse(JSON.stringify(y));break;case zle:y=r.percentile(),i[zle]=JSON.parse(JSON.stringify(y));break;case"quantile":y=r.quantile(),i.quantile=JSON.parse(JSON.stringify(y));break;case jle:y=r.standardDeviation(),i[jle]=JSON.parse(JSON.stringify(y));break;case tue:y=r.manualInterval(),i[tue]=JSON.parse(JSON.stringify(y));break;case Wle:y=r.prettyBreaks(),i[Wle]=JSON.parse(JSON.stringify(y));break;case Kle:y=r.maximumBreaks(),i[Kle]=JSON.parse(JSON.stringify(y));break;case Yle:y=r.headTailBreaks(),i[Yle]=JSON.parse(JSON.stringify(y));break;case"ckMeans":y=r.ckMeans(),i.ckMeans=JSON.parse(JSON.stringify(y));break;case"boxPlot":y=r.boxPlot(),i.boxPlot=JSON.parse(JSON.stringify(y));break;case $le:y=r.definedInterval(),i[$le]=JSON.parse(JSON.stringify(y));break;case Jle:y=r.exponentialBinSizes(),i[Jle]=JSON.parse(JSON.stringify(y));break;case eue:y=r.geometricInterval(),i[eue]=JSON.parse(JSON.stringify(y));break;case Zle:y=r.fisherJenks(),i[Zle]=JSON.parse(JSON.stringify(y))}});let s={},a={};r.rawData.forEach(function(v,y){let b=y.toString();if(r.isValid(v)){let E=Array.from(Object.values(i)).map(M=>M.dataBinAssignments[b]);b in s||(s[b]=0),s[b]=r.getFrequencyOfMostFrequentElement(E),b in a||(a[b]=0),a[b]=r.getMostFrequentElement(E)}else a[b]=null,s[b]=null});let l=[];Object.keys(s).forEach(function(v,y){let b={};r.isValid(r.rawData[y])&&(b.primaryKey=v,b.value=r.rawData[y],b.binCandidates=[],Object.keys(i).forEach(function(E){b.binCandidates.push(JSON.parse(JSON.stringify(i[E].dataBinAssignments[v])))}),l.push(b))});let u={},c={};l.forEach(function(v){u[v.primaryKey]=[],c[v.primaryKey]=[];let y=[...v.binCandidates];for(;y.length>0;){const b=r.getMostFrequentElement(y),E=r.getFrequencyOfMostFrequentElement(y);y=y.filter(function(M){return M!==b}),u[v.primaryKey].push(b),c[v.primaryKey].push(E)}});let f={},d=[];l.forEach(function(v){let y=u[v.primaryKey][0];y in f||(f[y]=[],d.push(y)),f[y].push(v.value)}),d=d.sort((v,y)=>v-y),d.forEach(function(v,y){f[v]=f[v].sort((b,E)=>b-E),y>0&&o.push(f[v][0])}),o=o.map(v=>parseFloat(v.toFixed(2))),o=o.sort((v,y)=>v-y);let h=r.computeBinSizes(o),g=r.computeDataBinAssignments(o);return{rawData:r.rawData,data:r.data,dataRange:[r.min,r.max],binCount:o.length+1,binBreaks:r.roundToPrecision(o,r.precision),binSizes:h,dataBinAssignments:g,binObjs:i,mostFrequentBins:a,frequencyOfMostFrequentBins:s}}computeBinSizes(t){let i=this,r={},o=0;return i.rawData.forEach(function(s,a){if(i.isValid(s)){let l=1;l in r||(r[l]=0);for(let u=l;u<t.length+1;u++)t[u-1]<=s&&(l=u+1,l in r||(r[l]=0));r[l]+=1}else o++}),{valids:r,invalids:o}}computeDataBinAssignments(t){let i=this,r={};return i.rawData.forEach(function(o,s){let a=s.toString();if(i.isValid(o)){let l=1;for(let u=l;u<t.length+1;u++)t[u-1]<o&&(l=u+1);r[a]=l}else r[a]=null}),r}isValid(t){return null!=t&&null!=t&&t.toString().length>0&&null==t.toString().match(/[^0-9\.\-]/g)&&!Number.isNaN(Number(t))}roundToPrecision(t,i=2){return t.map(r=>parseFloat(r.toFixed(i)))}visualize(t,i,r="viridis"){let o=this,s=o.min,a=o.max,l=i==_U?t.dataRange:t.binBreaks,[u,c]=[Math.min(s,l[0]),Math.max(a,l[l.length-1])];i!=_U&&([u,c]=[parseFloat((.9*u).toFixed(o.precision)),parseFloat((1.1*c).toFixed(o.precision))]);let f=[],d=[],g=o.computeBinSizes(l).valids;for(var v=0;v<=l.length;v++){let E={},M=(v+1).toString();0==v?(E.binMin=u,E.binMax=l[v],isNaN(E.binMin)||d.push(E.binMin)):v<=l.length-1?(E.binMin=l[v-1],E.binMax=l[v]):(E.binMin=l[v-1],E.binMax=c),E.binningMethod=i,E.binID=M.toString(),E.binSize=g[M],isNaN(E.binMax)||d.push(E.binMax),f.push(E)}let b={$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:700,height:50,background:null,config:{tick:{bandSize:20},view:{stroke:null},axis:{domain:!1,grid:!1,ticks:!1}},layer:[{title:null,data:{values:f},mark:{type:"bar",tooltip:{content:"data"}},transform:[{filter:"datum.binSize != 0"}],encoding:{x:{field:"binMin",type:"quantitative",axis:{title:null,values:l,format:`.${o.precision}f`,labelFontSize:16},scale:{domain:[u,c]}},y:{field:"binningMethod",type:"ordinal",axis:{title:null,labels:!1}},x2:{field:"binMax",scale:{domain:[u,c]},axis:{format:`.${o.precision}f`,labelFontSize:16}},size:{field:"binSize",legend:null,scale:{type:"linear",range:[5,25]}},color:{field:"binID",type:"quantitative",scale:{domain:f.map(E=>E.binID),scheme:r,type:"threshold"},legend:null}}},{title:null,data:{values:f},mark:{type:"rule",tooltip:{content:"data"}},transform:[{filter:"datum.binSize == 0"}],encoding:{x:{field:"binMin",type:"quantitative",axis:{title:null,values:l,format:`.${o.precision}f`},scale:{domain:[u,c]}},y:{field:"binningMethod",type:"ordinal",axis:{title:null,labelFontSize:16,labelLimit:250,labelPadding:10}},x2:{field:"binMax",scale:{domain:[u,c]},axis:{format:`.${o.precision}f`}},size:{value:2},strokeDash:{value:[8,8]}}},{title:null,data:{values:d},mark:{type:"tick",tooltip:{content:"data"},fill:"black",orient:"vertical",thickness:3,height:25},encoding:{x:{field:"data",type:"quantitative",scale:{domain:[u,c]}}}}]};return i==_U&&(delete b.layer[0].encoding.color,b.layer[0].mark.color={x1:0,y1:0,x2:1,y2:0,gradient:"linear",stops:[{offset:0,color:"#440154"},{offset:.1,color:"#48186a"},{offset:.2,color:"#472d7b"},{offset:.3,color:"#424086"},{offset:.4,color:"#3b528b"},{offset:.5,color:"#33638d"},{offset:.6,color:"#2c728e"},{offset:.7,color:"#26828e"},{offset:.8,color:"#21918c"},{offset:.9,color:"#21a784"},{offset:1,color:"#29b872"}]}),b}map(t,i,r,o,s,a="id",l="id",u="viridis"){return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:500,height:300,data:{values:r,format:{type:"topojson",feature:s}},transform:[{lookup:a,from:{data:{values:i},key:l,fields:[o]}}],projection:{type:"albersUsa"},mark:{type:"geoshape",tooltip:{content:"data"},invalid:null},encoding:{color:{field:o,type:"quantitative",condition:{test:"!isValid(datum['"+o+"'])",value:null},scale:{domain:t.binBreaks,type:"threshold",scheme:u}}}}}}const fGe=/("(?:[^\\"]|\\.)*")|[:,]/g;function wU(e,t={}){const i=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),r=""===i?1/0:void 0===t.maxLength?80:t.maxLength;let{replacer:o}=t;return function s(a,l,u){a&&"function"==typeof a.toJSON&&(a=a.toJSON());const c=JSON.stringify(a,o);if(void 0===c)return c;const f=r-l.length-u;if(c.length<=f){const d=c.replace(fGe,(h,g)=>g||`${h} `);if(d.length<=f)return d}if(null!=o&&(a=JSON.parse(c),o=void 0),"object"==typeof a&&null!==a){const d=l+i,h=[];let v,y,g=0;if(Array.isArray(a)){v="[",y="]";const{length:b}=a;for(;g<b;g++)h.push(s(a[g],d,g===b-1?0:1)||"null")}else{v="{",y="}";const b=Object.keys(a),{length:E}=b;for(;g<E;g++){const M=b[g],k=`${JSON.stringify(M)}: `,P=s(a[M],d,k.length+(g===E-1?0:1));void 0!==P&&h.push(k+P)}}if(h.length>0)return[v,i+h.join(`,\n${d}`),y].join(`\n${l}`)}return c}(e,"",0)}function pd(e,t,i){return e.fields=t||[],e.fname=i,e}function Vl(e){return null==e?null:e.fname}function Gc(e){return null==e?null:e.fields}function nue(e){return 1===e.length?dGe(e[0]):AGe(e)}const dGe=e=>function(t){return t[e]},AGe=e=>{const t=e.length;return function(i){for(let r=0;r<t;++r)i=i[e[r]];return i}};function Gn(e){throw Error(e)}function $p(e){const t=[],i=e.length;let a,l,u,r=null,o=0,s="";function c(){t.push(s+e.substring(a,l)),s="",a=l+1}for(e+="",a=l=0;l<i;++l)if(u=e[l],"\\"===u)s+=e.substring(a,l++),a=l;else if(u===r)c(),r=null,o=-1;else{if(r)continue;a===o&&'"'===u||a===o&&"'"===u?(a=l+1,r=u):"."!==u||o?"["===u?(l>a&&c(),o=a=l+1):"]"===u&&(o||Gn("Access path missing open bracket: "+e),o>0&&c(),o=0,a=l+1):l>a?c():a=l+1}return o&&Gn("Access path missing closing bracket: "+e),r&&Gn("Access path missing closing quote: "+e),l>a&&(l++,c()),t}function oh(e,t,i){const r=$p(e);return e=1===r.length?r[0]:e,pd((i&&i.get||nue)(r),[e],t||e)}const j7=oh("id"),qc=pd(e=>e,[],"identity"),qm=pd(()=>0,[],"zero"),F6=pd(()=>1,[],"one"),sh=pd(()=>!0,[],"true"),jm=pd(()=>!1,[],"false");function hGe(e,t,i){const r=[t].concat([].slice.call(i));console[e].apply(console,r)}const iue=0,bU=1,CU=2,rue=3,oue=4;function EU(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hGe,r=e||iue;return{level(o){return arguments.length?(r=+o,this):r},error(){return r>=bU&&i(t||"error","ERROR",arguments),this},warn(){return r>=CU&&i(t||"warn","WARN",arguments),this},info(){return r>=rue&&i(t||"log","INFO",arguments),this},debug(){return r>=oue&&i(t||"log","DEBUG",arguments),this}}}var Xn=Array.isArray;function Zi(e){return e===Object(e)}const sue=e=>"__proto__"!==e;function O6(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((r,o)=>{for(const s in o)"signals"===s?r.signals=pGe(r.signals,o.signals):k6(r,s,o[s],"legend"===s?{layout:1}:"style"===s||null);return r},{})}function k6(e,t,i,r){if(!sue(t))return;let o,s;if(Zi(i)&&!Xn(i))for(o in s=Zi(e[t])?e[t]:e[t]={},i)r&&(!0===r||r[o])?k6(s,o,i[o]):sue(o)&&(s[o]=i[o]);else e[t]=i}function pGe(e,t){if(null==e)return t;const i={},r=[];function o(s){i[s.name]||(i[s.name]=1,r.push(s))}return t.forEach(o),e.forEach(o),r}function ds(e){return e[e.length-1]}function jc(e){return null==e||""===e?null:+e}const aue=e=>t=>e*Math.exp(t),lue=e=>t=>Math.log(e*t),uue=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),cue=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,LS=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function RS(e,t,i,r){const o=i(e[0]),s=i(ds(e)),a=(s-o)*t;return[r(o-a),r(s-a)]}function fue(e,t){return RS(e,t,jc,qc)}function due(e,t){var i=Math.sign(e[0]);return RS(e,t,lue(i),aue(i))}function Aue(e,t,i){return RS(e,t,LS(i),LS(1/i))}function hue(e,t,i){return RS(e,t,uue(i),cue(i))}function US(e,t,i,r,o){const s=r(e[0]),a=r(ds(e)),l=null!=t?r(t):(s+a)/2;return[o(l+(s-l)*i),o(l+(a-l)*i)]}function xU(e,t,i){return US(e,t,i,jc,qc)}function SU(e,t,i){const r=Math.sign(e[0]);return US(e,t,i,lue(r),aue(r))}function PS(e,t,i,r){return US(e,t,i,LS(r),LS(1/r))}function BU(e,t,i,r){return US(e,t,i,uue(r),cue(r))}function pue(e){return 1+~~(new Date(e).getMonth()/3)}function gue(e){return 1+~~(new Date(e).getUTCMonth()/3)}function er(e){return null!=e?Xn(e)?e:[e]:[]}function mue(e,t,i){let s,r=e[0],o=e[1];return o<r&&(s=o,o=r,r=s),s=o-r,s>=i-t?[t,i]:[r=Math.min(Math.max(r,t),i-s),r+s]}function Uo(e){return"function"==typeof e}const gGe="descending";function MU(e,t,i){i=i||{},t=er(t)||[];const r=[],o=[],s={},a=i.comparator||mGe;return er(e).forEach((l,u)=>{null!=l&&(r.push(t[u]===gGe?-1:1),o.push(l=Uo(l)?l:oh(l,null,i)),(Gc(l)||[]).forEach(c=>s[c]=1))}),0===o.length?null:pd(a(o,r),Object.keys(s))}const N6=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),mGe=(e,t)=>1===e.length?vGe(e[0],t[0]):yGe(e,t,e.length),vGe=(e,t)=>function(i,r){return N6(e(i),e(r))*t},yGe=(e,t,i)=>(t.push(0),function(r,o){let s,a=0,l=-1;for(;0===a&&++l<i;)s=e[l],a=N6(s(r),s(o));return a*t[l]});function Kc(e){return Uo(e)?e:()=>e}function IU(e,t){let i;return r=>{i&&clearTimeout(i),i=setTimeout(()=>(t(r),i=null),e)}}function Po(e){for(let t,i,r=1,o=arguments.length;r<o;++r)for(i in t=arguments[r],t)e[i]=t[i];return e}function Gp(e,t){let r,o,s,a,i=0;if(e&&(r=e.length))if(null==t){for(o=e[i];i<r&&(null==o||o!=o);o=e[++i]);for(s=a=o;i<r;++i)o=e[i],null!=o&&(o<s&&(s=o),o>a&&(a=o))}else{for(o=t(e[i]);i<r&&(null==o||o!=o);o=t(e[++i]));for(s=a=o;i<r;++i)o=t(e[i]),null!=o&&(o<s&&(s=o),o>a&&(a=o))}return[s,a]}function vue(e,t){const i=e.length;let o,s,a,l,u,r=-1;if(null==t){for(;++r<i;)if(s=e[r],null!=s&&s>=s){o=a=s;break}if(r===i)return[-1,-1];for(l=u=r;++r<i;)s=e[r],null!=s&&(o>s&&(o=s,l=r),a<s&&(a=s,u=r))}else{for(;++r<i;)if(s=t(e[r],r,e),null!=s&&s>=s){o=a=s;break}if(r===i)return[-1,-1];for(l=u=r;++r<i;)s=t(e[r],r,e),null!=s&&(o>s&&(o=s,l=r),a<s&&(a=s,u=r))}return[l,u]}function fr(e,t){return Object.hasOwn(e,t)}const HS={};function L6(e){let i,t={};function r(s){return fr(t,s)&&t[s]!==HS}const o={size:0,empty:0,object:t,has:r,get:s=>r(s)?t[s]:void 0,set(s,a){return r(s)||(++o.size,t[s]===HS&&--o.empty),t[s]=a,this},delete(s){return r(s)&&(--o.size,++o.empty,t[s]=HS),this},clear(){o.size=o.empty=0,o.object=t={}},test(s){return arguments.length?(i=s,o):i},clean(){const s={};let a=0;for(const l in t){const u=t[l];u!==HS&&(!i||!i(u))&&(s[l]=u,++a)}o.size=a,o.empty=0,o.object=t=s}};return e&&Object.keys(e).forEach(s=>{o.set(s,e[s])}),o}function yue(e,t,i,r,o,s){if(!i&&0!==i)return s;const a=+i;let c,l=e[0],u=ds(e);u<l&&(c=l,l=u,u=c),c=Math.abs(t-l);const f=Math.abs(u-t);return c<f&&c<=a?r:f<=a?o:s}function $i(e,t,i){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Po(r,i)}function R6(e,t,i,r){let a,o=t[0],s=t[t.length-1];return o>s&&(a=o,o=s,s=a),r=void 0===r||r,((i=void 0===i||i)?o<=e:o<e)&&(r?e<=s:e<s)}function Km(e){return"boolean"==typeof e}function Wm(e){return"[object Date]"===Object.prototype.toString.call(e)}function _ue(e){return e&&Uo(e[Symbol.iterator])}function Es(e){return"number"==typeof e}function DU(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function Ji(e){return"string"==typeof e}function TU(e,t,i){e&&(e=t?er(e).map(l=>l.replace(/\\(.)/g,"$1")):er(e));const r=e&&e.length,o=i&&i.get||nue,s=l=>o(t?[l]:$p(l));let a;if(r)if(1===r){const l=s(e[0]);a=function(u){return""+l(u)}}else{const l=e.map(s);a=function(u){let c=""+l[0](u),f=0;for(;++f<r;)c+="|"+l[f](u);return c}}else a=function(){return""};return pd(a,e,"key")}function wue(e,t){const i=e[0],r=ds(e),o=+t;return o?1===o?r:i+o*(r-i):i}const _Ge=1e4;function bue(e){let t,i,r;e=+e||_Ge;const o=()=>{t={},i={},r=0},s=(a,l)=>(++r>e&&(i=t,t={},r=1),t[a]=l);return o(),{clear:o,has:a=>fr(t,a)||fr(i,a),get:a=>fr(t,a)?t[a]:fr(i,a)?s(a,i[a]):void 0,set:(a,l)=>fr(t,a)?t[a]=l:s(a,l)}}function Cue(e,t,i,r){const o=t.length,s=i.length;if(!s)return t;if(!o)return i;const a=r||new t.constructor(o+s);let l=0,u=0,c=0;for(;l<o&&u<s;++c)a[c]=e(t[l],i[u])>0?i[u++]:t[l++];for(;l<o;++l,++c)a[c]=t[l];for(;u<s;++u,++c)a[c]=i[u];return a}function K7(e,t){let i="";for(;--t>=0;)i+=e;return i}function Eue(e,t,i,r){const o=i||" ",s=e+"",a=t-s.length;return a<=0?s:"left"===r?K7(o,a)+s:"center"===r?K7(o,~~(a/2))+s+K7(o,Math.ceil(a/2)):s+K7(o,a)}function W7(e){return e&&ds(e)-e[0]||0}function Li(e){return Xn(e)?"["+e.map(Li)+"]":Zi(e)||Ji(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function FU(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e||!e)}const wGe=e=>Es(e)||Wm(e)?e:Date.parse(e);function OU(e,t){return t=t||wGe,null==e||""===e?null:t(e)}function kU(e){return null==e||""===e?null:e+""}function d0(e){const t={},i=e.length;for(let r=0;r<i;++r)t[e[r]]=!0;return t}function xue(e,t,i,r){const o=r??"\u2026",s=e+"",a=s.length,l=Math.max(0,t-o.length);return a<=t?s:"left"===i?o+s.slice(a-l):"center"===i?s.slice(0,Math.ceil(l/2))+o+s.slice(a-~~(l/2)):s.slice(0,l)+o}function Xm(e,t,i){if(e)if(t){const r=e.length;for(let o=0;o<r;++o){const s=t(e[o]);s&&i(s,o,e)}}else e.forEach(i)}var Sue={},NU={},LU=34,X7=10,RU=13;function Bue(e){return new Function("d","return {"+e.map(function(t,i){return JSON.stringify(t)+": d["+i+'] || ""'}).join(",")+"}")}function Mue(e){var t=Object.create(null),i=[];return e.forEach(function(r){for(var o in r)o in t||i.push(t[o]=o)}),i}function gd(e,t){var i=e+"",r=i.length;return r<t?new Array(t-r+1).join(0)+i:i}function xGe(e){var t=new RegExp('["'+e+"\n\r]"),i=e.charCodeAt(0);function o(d,h){var E,g=[],v=d.length,y=0,b=0,M=v<=0,k=!1;function P(){if(M)return NU;if(k)return k=!1,Sue;var X,se,z=y;if(d.charCodeAt(z)===LU){for(;y++<v&&d.charCodeAt(y)!==LU||d.charCodeAt(++y)===LU;);return(X=y)>=v?M=!0:(se=d.charCodeAt(y++))===X7?k=!0:se===RU&&(k=!0,d.charCodeAt(y)===X7&&++y),d.slice(z+1,X-1).replace(/""/g,'"')}for(;y<v;){if((se=d.charCodeAt(X=y++))===X7)k=!0;else if(se===RU)k=!0,d.charCodeAt(y)===X7&&++y;else if(se!==i)continue;return d.slice(z,X)}return M=!0,d.slice(z,v)}for(d.charCodeAt(v-1)===X7&&--v,d.charCodeAt(v-1)===RU&&--v;(E=P())!==NU;){for(var H=[];E!==Sue&&E!==NU;)H.push(E),E=P();h&&null==(H=h(H,b++))||g.push(H)}return g}function s(d,h){return d.map(function(g){return h.map(function(v){return f(g[v])}).join(e)})}function c(d){return d.map(f).join(e)}function f(d){return null==d?"":d instanceof Date?function EGe(e){var t=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function CGe(e){return e<0?"-"+gd(-e,6):e>9999?"+"+gd(e,6):gd(e,4)}(e.getUTCFullYear())+"-"+gd(e.getUTCMonth()+1,2)+"-"+gd(e.getUTCDate(),2)+(o?"T"+gd(t,2)+":"+gd(i,2)+":"+gd(r,2)+"."+gd(o,3)+"Z":r?"T"+gd(t,2)+":"+gd(i,2)+":"+gd(r,2)+"Z":i||t?"T"+gd(t,2)+":"+gd(i,2)+"Z":"")}(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:function r(d,h){var g,v,y=o(d,function(b,E){if(g)return g(b,E-1);v=b,g=h?function bGe(e,t){var i=Bue(e);return function(r,o){return t(i(r),o,e)}}(b,h):Bue(b)});return y.columns=v||[],y},parseRows:o,format:function a(d,h){return null==h&&(h=Mue(d)),[h.map(f).join(e)].concat(s(d,h)).join("\n")},formatBody:function l(d,h){return null==h&&(h=Mue(d)),s(d,h).join("\n")},formatRows:function u(d){return d.map(c).join("\n")},formatRow:c,formatValue:f}}function SGe(e,t){var i={},r={},o={},s=[],a=-1;function u(c,f){for(var d in c){var h=c[d];delete f[h.start],delete h.start,delete h.end,h.forEach(function(g){i[g<0?~g:g]=1}),s.push(h)}}return t.forEach(function(c,f){var h,d=e.arcs[c<0?~c:c];d.length<3&&!d[1][0]&&!d[1][1]&&(h=t[++a],t[a]=c,t[f]=h)}),t.forEach(function(c){var g,v,f=function l(c){var h,f=e.arcs[c<0?~c:c],d=f[0];return e.transform?(h=[0,0],f.forEach(function(g){h[0]+=g[0],h[1]+=g[1]})):h=f[f.length-1],c<0?[h,d]:[d,h]}(c),d=f[0],h=f[1];if(g=o[d])if(delete o[g.end],g.push(c),g.end=h,v=r[h]){delete r[v.start];var y=v===g?g:g.concat(v);r[y.start=g.start]=o[y.end=v.end]=y}else r[g.start]=o[g.end]=g;else if(g=r[h])if(delete r[g.start],g.unshift(c),g.start=d,v=o[d]){delete o[v.end];var b=v===g?g:v.concat(g);r[b.start=v.start]=o[b.end=g.end]=b}else r[g.start]=o[g.end]=g;else r[(g=[c]).start=d]=o[g.end=h]=g}),u(o,r),u(r,o),t.forEach(function(c){i[c<0?~c:c]||s.push([c])}),s}function BGe(e){return ule(e,MGe.apply(this,arguments))}function MGe(e,t,i){var r,o,s;if(arguments.length>1)r=function IGe(e,t,i){var s,r=[],o=[];function a(d){var h=d<0?~d:d;(o[h]||(o[h]=[])).push({i:d,g:s})}function l(d){d.forEach(a)}function u(d){d.forEach(l)}return function f(d){switch(s=d,d.type){case"GeometryCollection":d.geometries.forEach(f);break;case"LineString":l(d.arcs);break;case"MultiLineString":case"Polygon":u(d.arcs);break;case"MultiPolygon":!function c(d){d.forEach(u)}(d.arcs)}}(t),o.forEach(null==i?function(d){r.push(d[0].i)}:function(d){i(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}(0,t,i);else for(o=0,r=new Array(s=e.arcs.length);o<s;++o)r[o]=o;return{type:"MultiLineString",arcs:SGe(e,r)}}const DGe=Math.sqrt(50),TGe=Math.sqrt(10),FGe=Math.sqrt(2);function QS(e,t,i){const r=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),a=s>=DGe?10:s>=TGe?5:s>=FGe?2:1;let l,u,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?QS(e,t,2*i):[l,u,c]}function Iue(e,t,i){return QS(e=+e,t=+t,i=+i)[2]}var Due,kGe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Y7(e){if(!(t=kGe.exec(e)))throw new Error("invalid format: "+e);var t;return new UU({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function UU(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function VS(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,r=e.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+e.slice(i+1)]}function U6(e){return(e=VS(Math.abs(e)))?e[1]:NaN}function Tue(e,t){var i=VS(e,t);if(!i)return e+"";var r=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}Y7.prototype=UU.prototype,UU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Fue={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function NGe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Tue(100*e,t),r:Tue,s:function VGe(e,t){var i=VS(e,t);if(!i)return e+"";var r=i[0],o=i[1],s=o-(Due=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+VS(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Oue(e){return e}var zS,Rue,Uue,kue=Array.prototype.map,Nue=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Lue(e){var t=void 0===e.grouping||void 0===e.thousands?Oue:function PGe(e,t){return function(i,r){for(var o=i.length,s=[],a=0,l=e[0],u=0;o>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(i.substring(o-=l,o+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}(kue.call(e.grouping,Number),e.thousands+""),i=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Oue:function HGe(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}(kue.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function c(d){var h=(d=Y7(d)).fill,g=d.align,v=d.sign,y=d.symbol,b=d.zero,E=d.width,M=d.comma,k=d.precision,P=d.trim,H=d.type;"n"===H?(M=!0,H="g"):Fue[H]||(void 0===k&&(k=12),P=!0,H="g"),(b||"0"===h&&"="===g)&&(b=!0,h="0",g="=");var X="$"===y?i:"#"===y&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",z="$"===y?r:/[%p]/.test(H)?a:"",se=Fue[H],ye=/[defgprs%]/.test(H);function Ie(Ee){var W,Z,te,Je=X,Ze=z;if("c"===H)Ze=se(Ee)+Ze,Ee="";else{var Ce=(Ee=+Ee)<0||1/Ee<0;if(Ee=isNaN(Ee)?u:se(Math.abs(Ee),k),P&&(Ee=function QGe(e){e:for(var o,t=e.length,i=1,r=-1;i<t;++i)switch(e[i]){case".":r=o=i;break;case"0":0===r&&(r=i),o=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(o+1):e}(Ee)),Ce&&0==+Ee&&"+"!==v&&(Ce=!1),Je=(Ce?"("===v?v:l:"-"===v||"("===v?"":v)+Je,Ze=("s"===H?Nue[8+Due/3]:"")+Ze+(Ce&&"("===v?")":""),ye)for(W=-1,Z=Ee.length;++W<Z;)if(48>(te=Ee.charCodeAt(W))||te>57){Ze=(46===te?o+Ee.slice(W+1):Ee.slice(W))+Ze,Ee=Ee.slice(0,W);break}}M&&!b&&(Ee=t(Ee,1/0));var ce=Je.length+Ee.length+Ze.length,we=ce<E?new Array(E-ce+1).join(h):"";switch(M&&b&&(Ee=t(we+Ee,we.length?E-Ze.length:1/0),we=""),g){case"<":Ee=Je+Ee+Ze+we;break;case"=":Ee=Je+we+Ee+Ze;break;case"^":Ee=we.slice(0,ce=we.length>>1)+Je+Ee+Ze+we.slice(ce);break;default:Ee=we+Je+Ee+Ze}return s(Ee)}return k=void 0===k?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k)),Ie.toString=function(){return d+""},Ie}return{format:c,formatPrefix:function f(d,h){var g=c(((d=Y7(d)).type="f",d)),v=3*Math.max(-8,Math.min(8,Math.floor(U6(h)/3))),y=Math.pow(10,-v),b=Nue[8+v/3];return function(E){return g(y*E)+b}}}}!function zGe(e){zS=Lue(e),Rue=zS.format,Uue=zS.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const PU=new Date,HU=new Date;function Eu(e,t,i,r){function o(s){return e(s=0===arguments.length?new Date:new Date(+s)),s}return o.floor=s=>(e(s=new Date(+s)),s),o.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),o.round=s=>{const a=o(s),l=o.ceil(s);return s-a<l-s?a:l},o.offset=(s,a)=>(t(s=new Date(+s),null==a?1:Math.floor(a)),s),o.range=(s,a,l)=>{const u=[];if(s=o.ceil(s),l=null==l?1:Math.floor(l),!(s<a&&l>0))return u;let c;do{u.push(c=new Date(+s)),t(s,l),e(s)}while(c<s&&s<a);return u},o.filter=s=>Eu(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),i&&(o.count=(s,a)=>(PU.setTime(+s),HU.setTime(+a),e(PU),e(HU),Math.floor(i(PU,HU))),o.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?o.filter(r?a=>r(a)%s==0:a=>o.count(0,a)%s==0):o:null)),o}const Ym=6e4,J7=60*Ym,s3=24*J7,e_=Eu(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ym)/s3,e=>e.getDate()-1),t_=Eu(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/s3,e=>e.getUTCDate()-1);function a3(e){return Eu(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,i)=>{t.setDate(t.getDate()+7*i)},(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*Ym)/6048e5)}Eu(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/s3,e=>Math.floor(e/s3));const QU=a3(0);function l3(e){return Eu(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+7*i)},(t,i)=>(i-t)/6048e5)}a3(1),a3(2),a3(3),a3(4),a3(5),a3(6);const VU=l3(0),zU=(l3(1),l3(2),l3(3),l3(4),l3(5),l3(6),Eu(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));zU.every=e=>isFinite(e=Math.floor(e))&&e>0?Eu(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i*e)}):null;const $U=Eu(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$U.every=e=>isFinite(e=Math.floor(e))&&e>0?Eu(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i*e)}):null;const GU=Eu(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth()),qU=Eu(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),Hue=Eu(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*Ym)},(e,t)=>{e.setTime(+e+t*J7)},(e,t)=>(t-e)/J7,e=>e.getHours()),Que=Eu(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*J7)},(e,t)=>(t-e)/J7,e=>e.getUTCHours()),Vue=Eu(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+t*Ym)},(e,t)=>(t-e)/Ym,e=>e.getMinutes()),zue=Eu(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ym)},(e,t)=>(t-e)/Ym,e=>e.getUTCMinutes()),jU=Eu(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),n_=Eu(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);function KU(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nqe(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rqe(){return 0}n_.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Eu(t=>{t.setTime(Math.floor(t/e)*e)},(t,i)=>{t.setTime(+t+i*e)},(t,i)=>(i-t)/e):n_:null);const oqe=Math.sqrt(50),sqe=Math.sqrt(10),aqe=Math.sqrt(2);function $S(e,t,i){const r=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),a=s>=oqe?10:s>=sqe?5:s>=aqe?2:1;let l,u,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?$S(e,t,2*i):[l,u,c]}function $ue(e,t,i){return $S(e=+e,t=+t,i=+i)[2]}function Gue(e,t,i){i=+i;const r=(t=+t)<(e=+e),o=r?$ue(t,e,i):$ue(e,t,i);return(r?-1:1)*(o<0?1/-o:o)}const gc="year",md="quarter",Wc="month",xu="week",vd="date",Xc="day",qp="dayofyear",lA="hours",uA="minutes",ah="seconds",A0="milliseconds",WU=[gc,md,Wc,xu,vd,Xc,qp,lA,uA,ah,A0],XU=WU.reduce((e,t,i)=>(e[t]=1+i,e),{});function YU(e){const t=er(e).slice(),i={};return t.length||Gn("Missing time unit."),t.forEach(o=>{fr(XU,o)?i[o]=1:Gn(`Invalid time unit: ${o}.`)}),(i[xu]||i[Xc]?1:0)+(i[md]||i[Wc]||i[vd]?1:0)+(i[qp]?1:0)>1&&Gn(`Incompatible time units: ${e}`),t.sort((o,s)=>XU[o]-XU[s]),t}const lqe={[gc]:"%Y ",[md]:"Q%q ",[Wc]:"%b ",[vd]:"%d ",[xu]:"W%U ",[Xc]:"%a ",[qp]:"%j ",[lA]:"%H:00",[uA]:"00:%M",[ah]:":%S",[A0]:".%L",[`${gc}-${Wc}`]:"%Y-%m ",[`${gc}-${Wc}-${vd}`]:"%Y-%m-%d ",[`${lA}-${uA}`]:"%H:%M"};function que(e,t){const i=Po({},lqe,t),r=YU(e),o=r.length;let l,u,s="",a=0;for(a=0;a<o;)for(l=r.length;l>a;--l)if(u=r.slice(a,l).join("-"),null!=i[u]){s+=i[u],a=l;break}return s.trim()}const u3=new Date;function ZU(e){return u3.setFullYear(e),u3.setMonth(0),u3.setDate(1),u3.setHours(0,0,0,0),u3}function jue(e){return Wue(new Date(e))}function Kue(e){return JU(new Date(e))}function Wue(e){return e_.count(ZU(e.getFullYear())-1,e)}function JU(e){return QU.count(ZU(e.getFullYear())-1,e)}function eP(e){return ZU(e).getDay()}function uqe(e,t,i,r,o,s,a){if(0<=e&&e<100){const l=new Date(-1,t,i,r,o,s,a);return l.setFullYear(e),l}return new Date(e,t,i,r,o,s,a)}function Xue(e){return Zue(new Date(e))}function Yue(e){return tP(new Date(e))}function Zue(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return t_.count(t-1,e)}function tP(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return VU.count(t-1,e)}function nP(e){return u3.setTime(Date.UTC(e,0,1)),u3.getUTCDay()}function cqe(e,t,i,r,o,s,a){if(0<=e&&e<100){const l=new Date(Date.UTC(-1,t,i,r,o,s,a));return l.setUTCFullYear(i.y),l}return new Date(Date.UTC(e,t,i,r,o,s,a))}function Jue(e,t,i,r,o){const s=t||1,a=ds(e),l=(E,M,k)=>function fqe(e,t,i,r){const o=i<=1?e:r?(s,a)=>r+i*Math.floor((e(s,a)-r)/i):(s,a)=>i*Math.floor(e(s,a)/i);return t?(s,a)=>t(o(s,a),a):o}(i[k=k||E],r[k],E===a&&s,M),u=new Date,c=d0(e),f=c[gc]?l(gc):Kc(2012),d=c[Wc]?l(Wc):c[md]?l(md):qm,h=c[xu]&&c[Xc]?l(Xc,1,xu+Xc):c[xu]?l(xu,1):c[Xc]?l(Xc,1):c[vd]?l(vd,1):c[qp]?l(qp,1):F6,g=c[lA]?l(lA):qm,v=c[uA]?l(uA):qm,y=c[ah]?l(ah):qm,b=c[A0]?l(A0):qm;return function(E){u.setTime(+E);const M=f(u);return o(M,d(u),h(u,M),g(u),v(u),y(u),b(u))}}function P6(e,t,i){return t+7*e-(i+6)%7}const dqe={[gc]:e=>e.getFullYear(),[md]:e=>Math.floor(e.getMonth()/3),[Wc]:e=>e.getMonth(),[vd]:e=>e.getDate(),[lA]:e=>e.getHours(),[uA]:e=>e.getMinutes(),[ah]:e=>e.getSeconds(),[A0]:e=>e.getMilliseconds(),[qp]:e=>Wue(e),[xu]:e=>JU(e),[xu+Xc]:(e,t)=>P6(JU(e),e.getDay(),eP(t)),[Xc]:(e,t)=>P6(1,e.getDay(),eP(t))},Aqe={[md]:e=>3*e,[xu]:(e,t)=>P6(e,0,eP(t))};function ece(e,t){return Jue(e,t||1,dqe,Aqe,uqe)}const hqe={[gc]:e=>e.getUTCFullYear(),[md]:e=>Math.floor(e.getUTCMonth()/3),[Wc]:e=>e.getUTCMonth(),[vd]:e=>e.getUTCDate(),[lA]:e=>e.getUTCHours(),[uA]:e=>e.getUTCMinutes(),[ah]:e=>e.getUTCSeconds(),[A0]:e=>e.getUTCMilliseconds(),[qp]:e=>Zue(e),[xu]:e=>tP(e),[Xc]:(e,t)=>P6(1,e.getUTCDay(),nP(t)),[xu+Xc]:(e,t)=>P6(tP(e),e.getUTCDay(),nP(t))},pqe={[md]:e=>3*e,[xu]:(e,t)=>P6(e,0,nP(t))};function tce(e,t){return Jue(e,t||1,hqe,pqe,cqe)}const gqe={[gc]:zU,[md]:GU.every(3),[Wc]:GU,[xu]:QU,[vd]:e_,[Xc]:e_,[qp]:e_,[lA]:Hue,[uA]:Vue,[ah]:jU,[A0]:n_},mqe={[gc]:$U,[md]:qU.every(3),[Wc]:qU,[xu]:VU,[vd]:t_,[Xc]:t_,[qp]:t_,[lA]:Que,[uA]:zue,[ah]:jU,[A0]:n_};function H6(e){return gqe[e]}function Q6(e){return mqe[e]}function nce(e,t,i){return e?e.offset(t,i):void 0}function ice(e,t,i){return nce(H6(e),t,i)}function rce(e,t,i){return nce(Q6(e),t,i)}function oce(e,t,i,r){return e?e.range(t,i,r):void 0}function sce(e,t,i,r){return oce(H6(e),t,i,r)}function ace(e,t,i,r){return oce(Q6(e),t,i,r)}const r_=6e4,o_=60*r_,iP=31536e6,uce=[gc,Wc,vd,lA,uA,ah,A0],s_=uce.slice(0,-1),a_=s_.slice(0,-1),l_=a_.slice(0,-1),yqe=l_.slice(0,-1),cce=[gc,Wc],fce=[gc],u_=[[s_,1,1e3],[s_,5,5e3],[s_,15,15e3],[s_,30,3e4],[a_,1,r_],[a_,5,5*r_],[a_,15,15*r_],[a_,30,30*r_],[l_,1,o_],[l_,3,3*o_],[l_,6,6*o_],[l_,12,12*o_],[yqe,1,864e5],[[gc,xu],1,6048e5],[cce,1,2592e6],[cce,3,7776e6],[fce,1,iP]];function dce(e){const t=e.extent,i=e.maxbins||40,r=Math.abs(W7(t))/i;let s,a,o=function iqe(e){let t,i,r;function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}return 2!==e.length?(t=KU,i=(l,u)=>KU(e(l),u),r=(l,u)=>e(l)-u):(t=e===KU||e===nqe?e:rqe,i=e,r=e),{left:o,center:function a(l,u,c=0,f=l.length){const d=o(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d},right:function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}}}(l=>l[2]).right(u_,r);return o===u_.length?(s=fce,a=Gue(t[0]/iP,t[1]/iP,i)):o?(o=u_[r/u_[o-1][2]<u_[o][2]/r?o-1:o],s=o[0],a=o[1]):(s=uce,a=Math.max(Gue(t[0],t[1],i),1)),{units:s,step:a}}var rP=new Date,oP=new Date;function Qu(e,t,i,r){function o(s){return e(s=0===arguments.length?new Date:new Date(+s)),s}return o.floor=function(s){return e(s=new Date(+s)),s},o.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},o.round=function(s){var a=o(s),l=o.ceil(s);return s-a<l-s?a:l},o.offset=function(s,a){return t(s=new Date(+s),null==a?1:Math.floor(a)),s},o.range=function(s,a,l){var c,u=[];if(s=o.ceil(s),l=null==l?1:Math.floor(l),!(s<a&&l>0))return u;do{u.push(c=new Date(+s)),t(s,l),e(s)}while(c<s&&s<a);return u},o.filter=function(s){return Qu(function(a){if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},function(a,l){if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););})},i&&(o.count=function(s,a){return rP.setTime(+s),oP.setTime(+a),e(rP),e(oP),Math.floor(i(rP,oP))},o.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?o.filter(r?function(a){return r(a)%s==0}:function(a){return o.count(0,a)%s==0}):o:null}),o}const g1=1e3,lh=6e4,m1=60*lh,c3=24*m1,sP=7*c3,aP=365*c3;function f3(e){return Qu(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCDate(t.getUTCDate()+7*i)},function(t,i){return(i-t)/sP})}var c_=f3(0),d3=f3(1),h0=(f3(2),f3(3),f3(4)),hce=(f3(5),f3(6),Qu(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/c3},function(e){return e.getUTCDate()-1}));const V6=hce;function A3(e){return Qu(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,i){t.setDate(t.getDate()+7*i)},function(t,i){return(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*lh)/sP})}var f_=A3(0),h3=A3(1),p0=(A3(2),A3(3),A3(4)),pce=(A3(5),A3(6),Qu(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lh)/c3,e=>e.getDate()-1));const z6=pce;var lP=Qu(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});lP.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Qu(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,i){t.setFullYear(t.getFullYear()+i*e)}):null};const uh=lP;var uP=Qu(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});uP.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Qu(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i*e)}):null};const ch=uP;function cP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function d_(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}function gce(e){var t=e.dateTime,i=e.date,r=e.time,o=e.periods,s=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,c=A_(o),f=h_(o),d=A_(s),h=h_(s),g=A_(a),v=h_(a),y=A_(l),b=h_(l),E=A_(u),M=h_(u),k={a:function Ce(wt){return a[wt.getDay()]},A:function ce(wt){return s[wt.getDay()]},b:function we(wt){return u[wt.getMonth()]},B:function Be(wt){return l[wt.getMonth()]},c:null,d:bce,e:bce,f:Yqe,g:aje,G:uje,H:Kqe,I:Wqe,j:Xqe,L:Cce,m:Zqe,M:Jqe,p:function tt(wt){return o[+(wt.getHours()>=12)]},q:function lt(wt){return 1+~~(wt.getMonth()/3)},Q:Ice,s:Dce,S:eje,u:tje,U:nje,V:ije,w:rje,W:oje,x:null,X:null,y:sje,Y:lje,Z:cje,"%":Mce},P={a:function Mt(wt){return a[wt.getUTCDay()]},A:function bt(wt){return s[wt.getUTCDay()]},b:function Vt(wt){return u[wt.getUTCMonth()]},B:function Vn(wt){return l[wt.getUTCMonth()]},c:null,d:xce,e:xce,f:hje,g:Eje,G:Sje,H:fje,I:dje,j:Aje,L:Sce,m:pje,M:gje,p:function sn(wt){return o[+(wt.getUTCHours()>=12)]},q:function fi(wt){return 1+~~(wt.getUTCMonth()/3)},Q:Ice,s:Dce,S:mje,u:vje,U:yje,V:_je,w:wje,W:bje,x:null,X:null,y:Cje,Y:xje,Z:Bje,"%":Mce},H={a:function Ie(wt,ln,wn){var ut=g.exec(ln.slice(wn));return ut?(wt.w=v.get(ut[0].toLowerCase()),wn+ut[0].length):-1},A:function Ee(wt,ln,wn){var ut=d.exec(ln.slice(wn));return ut?(wt.w=h.get(ut[0].toLowerCase()),wn+ut[0].length):-1},b:function Je(wt,ln,wn){var ut=E.exec(ln.slice(wn));return ut?(wt.m=M.get(ut[0].toLowerCase()),wn+ut[0].length):-1},B:function Ze(wt,ln,wn){var ut=y.exec(ln.slice(wn));return ut?(wt.m=b.get(ut[0].toLowerCase()),wn+ut[0].length):-1},c:function W(wt,ln,wn){return se(wt,t,ln,wn)},d:_ce,e:_ce,f:$qe,g:yce,G:vce,H:wce,I:wce,j:Hqe,L:zqe,m:Pqe,M:Qqe,p:function ye(wt,ln,wn){var ut=c.exec(ln.slice(wn));return ut?(wt.p=f.get(ut[0].toLowerCase()),wn+ut[0].length):-1},q:Uqe,Q:qqe,s:jqe,S:Vqe,u:Oqe,U:kqe,V:Nqe,w:Fqe,W:Lqe,x:function Z(wt,ln,wn){return se(wt,i,ln,wn)},X:function te(wt,ln,wn){return se(wt,r,ln,wn)},y:yce,Y:vce,Z:Rqe,"%":Gqe};function X(wt,ln){return function(wn){var ji,pi,qr,ut=[],di=-1,xi=0,yr=wt.length;for(wn instanceof Date||(wn=new Date(+wn));++di<yr;)37===wt.charCodeAt(di)&&(ut.push(wt.slice(xi,di)),null!=(pi=mce[ji=wt.charAt(++di)])?ji=wt.charAt(++di):pi="e"===ji?" ":"0",(qr=ln[ji])&&(ji=qr(wn,pi)),ut.push(ji),xi=di+1);return ut.push(wt.slice(xi,di)),ut.join("")}}function z(wt,ln){return function(wn){var xi,yr,ut=d_(1900,void 0,1);if(se(ut,wt,wn+="",0)!=wn.length)return null;if("Q"in ut)return new Date(ut.Q);if("s"in ut)return new Date(1e3*ut.s+("L"in ut?ut.L:0));if(ln&&!("Z"in ut)&&(ut.Z=0),"p"in ut&&(ut.H=ut.H%12+12*ut.p),void 0===ut.m&&(ut.m="q"in ut?ut.q:0),"V"in ut){if(ut.V<1||ut.V>53)return null;"w"in ut||(ut.w=1),"Z"in ut?(yr=(xi=fP(d_(ut.y,0,1))).getUTCDay(),xi=yr>4||0===yr?d3.ceil(xi):d3(xi),xi=V6.offset(xi,7*(ut.V-1)),ut.y=xi.getUTCFullYear(),ut.m=xi.getUTCMonth(),ut.d=xi.getUTCDate()+(ut.w+6)%7):(yr=(xi=cP(d_(ut.y,0,1))).getDay(),xi=yr>4||0===yr?h3.ceil(xi):h3(xi),xi=z6.offset(xi,7*(ut.V-1)),ut.y=xi.getFullYear(),ut.m=xi.getMonth(),ut.d=xi.getDate()+(ut.w+6)%7)}else("W"in ut||"U"in ut)&&("w"in ut||(ut.w="u"in ut?ut.u%7:"W"in ut?1:0),yr="Z"in ut?fP(d_(ut.y,0,1)).getUTCDay():cP(d_(ut.y,0,1)).getDay(),ut.m=0,ut.d="W"in ut?(ut.w+6)%7+7*ut.W-(yr+5)%7:ut.w+7*ut.U-(yr+6)%7);return"Z"in ut?(ut.H+=ut.Z/100|0,ut.M+=ut.Z%100,fP(ut)):cP(ut)}}function se(wt,ln,wn,ut){for(var ji,pi,di=0,xi=ln.length,yr=wn.length;di<xi;){if(ut>=yr)return-1;if(37===(ji=ln.charCodeAt(di++))){if(ji=ln.charAt(di++),!(pi=H[ji in mce?ln.charAt(di++):ji])||(ut=pi(wt,wn,ut))<0)return-1}else if(ji!=wn.charCodeAt(ut++))return-1}return ut}return k.x=X(i,k),k.X=X(r,k),k.c=X(t,k),P.x=X(i,P),P.X=X(r,P),P.c=X(t,P),{format:function(wt){var ln=X(wt+="",k);return ln.toString=function(){return wt},ln},parse:function(wt){var ln=z(wt+="",!1);return ln.toString=function(){return wt},ln},utcFormat:function(wt){var ln=X(wt+="",P);return ln.toString=function(){return wt},ln},utcParse:function(wt){var ln=z(wt+="",!0);return ln.toString=function(){return wt},ln}}}var $6,Tce,Fce,Oce,kce,mce={"-":"",_:" ",0:"0"},Vu=/^\s*\d+/,Iqe=/^%/,Dqe=/[\\^$*+?|[\]().{}]/g;function xs(e,t,i){var r=e<0?"-":"",o=(r?-e:e)+"",s=o.length;return r+(s<i?new Array(i-s+1).join(t)+o:o)}function Tqe(e){return e.replace(Dqe,"\\$&")}function A_(e){return new RegExp("^(?:"+e.map(Tqe).join("|")+")","i")}function h_(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function Fqe(e,t,i){var r=Vu.exec(t.slice(i,i+1));return r?(e.w=+r[0],i+r[0].length):-1}function Oqe(e,t,i){var r=Vu.exec(t.slice(i,i+1));return r?(e.u=+r[0],i+r[0].length):-1}function kqe(e,t,i){var r=Vu.exec(t.slice(i,i+2));return r?(e.U=+r[0],i+r[0].length):-1}function Nqe(e,t,i){var r=Vu.exec(t.slice(i,i+2));return r?(e.V=+r[0],i+r[0].length):-1}function Lqe(e,t,i){var r=Vu.exec(t.slice(i,i+2));return r?(e.W=+r[0],i+r[0].length):-1}function vce(e,t,i){var r=Vu.exec(t.slice(i,i+4));return r?(e.y=+r[0],i+r[0].length):-1}function yce(e,t,i){var r=Vu.exec(t.slice(i,i+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function Rqe(e,t,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function Uqe(e,t,i){var r=Vu.exec(t.slice(i,i+1));return r?(e.q=3*r[0]-3,i+r[0].length):-1}function Pqe(e,t,i){var r=Vu.exec(t.slice(i,i+2));return r?(e.m=r[0]-1,i+r[0].length):-1}function _ce(e,t,i){var r=Vu.exec(t.slice(i,i+2));return r?(e.d=+r[0],i+r[0].length):-1}function Hqe(e,t,i){var r=Vu.exec(t.slice(i,i+3));return r?(e.m=0,e.d=+r[0],i+r[0].length):-1}function wce(e,t,i){var r=Vu.exec(t.slice(i,i+2));return r?(e.H=+r[0],i+r[0].length):-1}function Qqe(e,t,i){var r=Vu.exec(t.slice(i,i+2));return r?(e.M=+r[0],i+r[0].length):-1}function Vqe(e,t,i){var r=Vu.exec(t.slice(i,i+2));return r?(e.S=+r[0],i+r[0].length):-1}function zqe(e,t,i){var r=Vu.exec(t.slice(i,i+3));return r?(e.L=+r[0],i+r[0].length):-1}function $qe(e,t,i){var r=Vu.exec(t.slice(i,i+6));return r?(e.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function Gqe(e,t,i){var r=Iqe.exec(t.slice(i,i+1));return r?i+r[0].length:-1}function qqe(e,t,i){var r=Vu.exec(t.slice(i));return r?(e.Q=+r[0],i+r[0].length):-1}function jqe(e,t,i){var r=Vu.exec(t.slice(i));return r?(e.s=+r[0],i+r[0].length):-1}function bce(e,t){return xs(e.getDate(),t,2)}function Kqe(e,t){return xs(e.getHours(),t,2)}function Wqe(e,t){return xs(e.getHours()%12||12,t,2)}function Xqe(e,t){return xs(1+z6.count(uh(e),e),t,3)}function Cce(e,t){return xs(e.getMilliseconds(),t,3)}function Yqe(e,t){return Cce(e,t)+"000"}function Zqe(e,t){return xs(e.getMonth()+1,t,2)}function Jqe(e,t){return xs(e.getMinutes(),t,2)}function eje(e,t){return xs(e.getSeconds(),t,2)}function tje(e){var t=e.getDay();return 0===t?7:t}function nje(e,t){return xs(f_.count(uh(e)-1,e),t,2)}function Ece(e){var t=e.getDay();return t>=4||0===t?p0(e):p0.ceil(e)}function ije(e,t){return e=Ece(e),xs(p0.count(uh(e),e)+(4===uh(e).getDay()),t,2)}function rje(e){return e.getDay()}function oje(e,t){return xs(h3.count(uh(e)-1,e),t,2)}function sje(e,t){return xs(e.getFullYear()%100,t,2)}function aje(e,t){return xs((e=Ece(e)).getFullYear()%100,t,2)}function lje(e,t){return xs(e.getFullYear()%1e4,t,4)}function uje(e,t){var i=e.getDay();return xs((e=i>=4||0===i?p0(e):p0.ceil(e)).getFullYear()%1e4,t,4)}function cje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xs(t/60|0,"0",2)+xs(t%60,"0",2)}function xce(e,t){return xs(e.getUTCDate(),t,2)}function fje(e,t){return xs(e.getUTCHours(),t,2)}function dje(e,t){return xs(e.getUTCHours()%12||12,t,2)}function Aje(e,t){return xs(1+V6.count(ch(e),e),t,3)}function Sce(e,t){return xs(e.getUTCMilliseconds(),t,3)}function hje(e,t){return Sce(e,t)+"000"}function pje(e,t){return xs(e.getUTCMonth()+1,t,2)}function gje(e,t){return xs(e.getUTCMinutes(),t,2)}function mje(e,t){return xs(e.getUTCSeconds(),t,2)}function vje(e){var t=e.getUTCDay();return 0===t?7:t}function yje(e,t){return xs(c_.count(ch(e)-1,e),t,2)}function Bce(e){var t=e.getUTCDay();return t>=4||0===t?h0(e):h0.ceil(e)}function _je(e,t){return e=Bce(e),xs(h0.count(ch(e),e)+(4===ch(e).getUTCDay()),t,2)}function wje(e){return e.getUTCDay()}function bje(e,t){return xs(d3.count(ch(e)-1,e),t,2)}function Cje(e,t){return xs(e.getUTCFullYear()%100,t,2)}function Eje(e,t){return xs((e=Bce(e)).getUTCFullYear()%100,t,2)}function xje(e,t){return xs(e.getUTCFullYear()%1e4,t,4)}function Sje(e,t){var i=e.getUTCDay();return xs((e=i>=4||0===i?h0(e):h0.ceil(e)).getUTCFullYear()%1e4,t,4)}function Bje(){return"+0000"}function Mce(){return"%"}function Ice(e){return+e}function Dce(e){return Math.floor(+e/1e3)}function p_(e){const t={};return i=>t[i]||(t[i]=e(i))}function Nce(e){const t=p_(e.format),i=e.formatPrefix;return{format:t,formatPrefix:i,formatFloat(r){const o=Y7(r||",");if(null==o.precision){switch(o.precision=12,o.type){case"%":o.precision-=2;break;case"e":o.precision-=1}return function Ije(e,t){return i=>{const r=e(i),o=r.indexOf(t);if(o<0)return r;let s=function Dje(e,t){let r,i=e.lastIndexOf("e");if(i>0)return i;for(i=e.length;--i>t;)if(r=e.charCodeAt(i),r>=48&&r<=57)return i+1}(r,o);const a=s<r.length?r.slice(s):"";for(;--s>o;)if("0"!==r[s]){++s;break}return r.slice(0,s)+a}}(t(o),t(".1f")(1)[1])}return t(o)},formatSpan(r,o,s,a){a=Y7(a??",f");const l=function OGe(e,t,i){i=+i;const r=(t=+t)<(e=+e),o=r?Iue(t,e,i):Iue(e,t,i);return(r?-1:1)*(o<0?1/-o:o)}(r,o,s),u=Math.max(Math.abs(r),Math.abs(o));let c;if(null==a.precision)switch(a.type){case"s":return isNaN(c=function LGe(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(U6(t)/3)))-U6(Math.abs(e)))}(l,u))||(a.precision=c),i(a,u);case"":case"e":case"g":case"p":case"r":isNaN(c=function RGe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,U6(t)-U6(e))+1}(l,u))||(a.precision=c-("e"===a.type));break;case"f":case"%":isNaN(c=function UGe(e){return Math.max(0,-U6(Math.abs(e)))}(l))||(a.precision=c-2*("%"===a.type))}return t(a)}}}let dP,AP;function Lce(){return dP=Nce({format:Rue,formatPrefix:Uue})}function Rce(e){return Nce(Lue(e))}function qS(e){return arguments.length?dP=Rce(e):dP}function Uce(e,t,i){Zi(i=i||{})||Gn(`Invalid time multi-format specifier: ${i}`);const r=t(ah),o=t(uA),s=t(lA),a=t(vd),l=t(xu),u=t(Wc),c=t(md),f=t(gc),d=e(i[A0]||".%L"),h=e(i[ah]||":%S"),g=e(i[uA]||"%I:%M"),v=e(i[lA]||"%I %p"),y=e(i[vd]||i[Xc]||"%a %d"),b=e(i[xu]||"%b %d"),E=e(i[Wc]||"%B"),M=e(i[md]||"%B"),k=e(i[gc]||"%Y");return P=>(r(P)<P?d:o(P)<P?h:s(P)<P?g:a(P)<P?v:u(P)<P?l(P)<P?y:b:f(P)<P?c(P)<P?E:M:k)(P)}function Pce(e){const t=p_(e.format),i=p_(e.utcFormat);return{timeFormat:r=>Ji(r)?t(r):Uce(t,H6,r),utcFormat:r=>Ji(r)?i(r):Uce(i,Q6,r),timeParse:p_(e.parse),utcParse:p_(e.utcParse)}}function Hce(){return AP=Pce({format:Tce,parse:Fce,utcFormat:Oce,utcParse:kce})}function Qce(e){return Pce(gce(e))}function g_(e){return arguments.length?AP=Qce(e):AP}!function Mje(e){$6=gce(e),Tce=$6.format,Fce=$6.parse,Oce=$6.utcFormat,kce=$6.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Lce(),Hce();const hP=(e,t)=>Po({},e,t);function Vce(e,t){const i=e?Rce(e):qS(),r=t?Qce(t):g_();return hP(i,r)}function pP(e,t){const i=arguments.length;return i&&2!==i&&Gn("defaultLocale expects either zero or two arguments."),i?hP(qS(e),g_(t)):hP(qS(),g_())}function Tje(){return Lce(),Hce(),pP()}const Fje=/^(data:|([A-Za-z]+:)?\/\/)/,Oje=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,kje=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,zce="file://";function Lje(e,t){return gP.apply(this,arguments)}function gP(){return gP=Tt(function*(e,t){const i=yield this.sanitize(e,t),r=i.href;return i.localFile?this.file(r):this.http(r,t)}),gP.apply(this,arguments)}function Rje(e,t){return mP.apply(this,arguments)}function mP(){return mP=Tt(function*(e,t){t=Po({},this.options,t);const i=this.fileAccess,r={href:null};let o,s,a;const l=Oje.test(e.replace(kje,""));(null==e||"string"!=typeof e||!l)&&Gn("Sanitize failure, invalid URI: "+Li(e));const u=Fje.test(e);return(a=t.baseURL)&&!u&&(!e.startsWith("/")&&!a.endsWith("/")&&(e="/"+e),e=a+e),s=(o=e.startsWith(zce))||"file"===t.mode||"http"!==t.mode&&!u&&i,o?e=e.slice(zce.length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!s}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}),mP.apply(this,arguments)}function Uje(e){return e?t=>new Promise((i,r)=>{e.readFile(t,(o,s)=>{o?r(o):i(s)})}):Pje}function Pje(){return vP.apply(this,arguments)}function vP(){return(vP=Tt(function*(){Gn("No file system access.")})).apply(this,arguments)}function Hje(e){return e?function(){var t=Tt(function*(i,r){const o=Po({},this.options.http,r),s=r&&r.response,a=yield e(i,o);return a.ok?Uo(a[s])?a[s]():a.text():Gn(a.status+""+a.statusText)});return function(i,r){return t.apply(this,arguments)}}():Qje}function Qje(){return yP.apply(this,arguments)}function yP(){return(yP=Tt(function*(){Gn("No HTTP fetch method available.")})).apply(this,arguments)}const Vje=e=>null!=e&&e==e,$ce=e=>!(Number.isNaN(+e)||e instanceof Date),_P={boolean:FU,integer:jc,number:jc,date:OU,string:kU,unknown:qc},jS=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>$ce(e)&&Number.isInteger(+e),$ce,e=>!Number.isNaN(Date.parse(e))],qje=["boolean","integer","number","date"];function Gce(e,t){if(!e||!e.length)return"unknown";const i=e.length,r=jS.length,o=jS.map((s,a)=>a+1);for(let l,u,s=0,a=0;s<i;++s)for(u=t?e[s][t]:e[s],l=0;l<r;++l)if(o[l]&&Vje(u)&&!jS[l](u)&&(o[l]=0,++a,a===jS.length))return"string";return qje[o.reduce((s,a)=>0===s?a:s,0)-1]}function qce(e,t){return t.reduce((i,r)=>(i[r]=Gce(e,r),i),{})}function jce(e){const t=function(i,r){const o={delimiter:e};return wP(i,r?Po(r,o):o)};return t.responseType="text",t}function wP(e,t){return t.header&&(e=t.header.map(Li).join(t.delimiter)+"\n"+e),xGe(t.delimiter).parse(e+"")}function bP(e,t){const i=t&&t.property?oh(t.property):qc;return Zi(e)&&!function jje(e){return!("function"!=typeof Buffer||!Uo(Buffer.isBuffer))&&Buffer.isBuffer(e)}(e)?function Kje(e,t){return!Xn(e)&&_ue(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}(i(e),t):i(JSON.parse(e))}wP.responseType="text",bP.responseType="json";const Wje={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function Kce(e,t){let i,r,o,s;return e=bP(e,t),t&&t.feature?(i=ale,o=t.feature):t&&t.mesh?(i=BGe,o=t.mesh,s=Wje[t.filter]):Gn("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[o])?i(e,r,s):Gn("Invalid TopoJSON object: "+o),r&&r.features||[r]}Kce.responseType="json";const KS={dsv:wP,csv:jce(","),tsv:jce("\t"),json:bP,topojson:Kce};function CP(e,t){return arguments.length>1?(KS[e]=t,this):fr(KS,e)?KS[e]:null}function Wce(e){const t=CP(e);return t&&t.responseType||"text"}function Xce(e,t,i,r){const o=CP((t=t||{}).type||"json");return o||Gn("Unknown data format type: "+t.type),e=o(e,t),t.parse&&function Xje(e,t,i,r){if(!e.length)return;const o=g_();i=i||o.timeParse,r=r||o.utcParse;let a,l,u,c,f,d,s=e.columns||Object.keys(e[0]);"auto"===t&&(t=qce(e,s)),s=Object.keys(t);const h=s.map(g=>{const v=t[g];let y,b;if(v&&(v.startsWith("date:")||v.startsWith("utc:")))return y=v.split(/:(.+)?/,2),b=y[1],("'"===b[0]&&"'"===b[b.length-1]||'"'===b[0]&&'"'===b[b.length-1])&&(b=b.slice(1,-1)),("utc"===y[0]?r:i)(b);if(!_P[v])throw Error("Illegal format pattern: "+g+":"+v);return _P[v]});for(u=0,f=e.length,d=s.length;u<f;++u)for(a=e[u],c=0;c<d;++c)l=s[c],a[l]=h[c](a[l])}(e,t.parse,i,r),fr(e,"columns")&&delete e.columns,e}const WS=function Nje(e,t){return i=>({options:i||{},sanitize:Rje,load:Lje,fileAccess:!1,file:Uje(t),http:Hje(e)})}(typeof fetch<"u"&&fetch,null);function XS(e){const t=e||qc,i=[],r={};return i.add=o=>{const s=t(o);return r[s]||(r[s]=1,i.push(o)),i},i.remove=o=>{const s=t(o);if(r[s]){r[s]=0;const a=i.indexOf(o);a>=0&&i.splice(a,1)}return i},i}function YS(e,t){return EP.apply(this,arguments)}function EP(){return EP=Tt(function*(e,t){try{yield t(e)}catch(i){e.error(i)}}),EP.apply(this,arguments)}const Yce=Symbol("vega_id");let Yje=1;function ZS(e){return!(!e||!zr(e))}function zr(e){return e[Yce]}function Zce(e,t){return e[Yce]=t,e}function Ls(e){const t=e===Object(e)?e:{data:e};return zr(t)?t:Zce(t,Yje++)}function xP(e){return JS(e,Ls({}))}function JS(e,t){for(const i in e)t[i]=e[i];return t}function Jce(e,t){return Zce(t,zr(e))}function p3(e,t){return e?t?(i,r)=>e(i,r)||zr(t(i))-zr(t(r)):(i,r)=>e(i,r)||zr(i)-zr(r):null}function efe(e){return e&&e.constructor===g3}function g3(){const e=[],t=[],i=[],r=[],o=[];let s=null,a=!1;return{constructor:g3,insert(l){const u=er(l),c=u.length;for(let f=0;f<c;++f)e.push(u[f]);return this},remove(l){const u=Uo(l)?r:t,c=er(l),f=c.length;for(let d=0;d<f;++d)u.push(c[d]);return this},modify(l,u,c){const f={field:u,value:Kc(c)};return Uo(l)?(f.filter=l,o.push(f)):(f.tuple=l,i.push(f)),this},encode(l,u){return Uo(l)?o.push({filter:l,field:u}):i.push({tuple:l,field:u}),this},clean(l){return s=l,this},reflow(){return a=!0,this},pulse(l,u){const c={},f={};let d,h,g,v,y,b;for(d=0,h=u.length;d<h;++d)c[zr(u[d])]=1;for(d=0,h=t.length;d<h;++d)y=t[d],c[zr(y)]=-1;for(d=0,h=r.length;d<h;++d)v=r[d],u.forEach(M=>{v(M)&&(c[zr(M)]=-1)});for(d=0,h=e.length;d<h;++d)y=e[d],b=zr(y),c[b]?c[b]=1:l.add.push(Ls(e[d]));for(d=0,h=u.length;d<h;++d)y=u[d],c[zr(y)]<0&&l.rem.push(y);function E(M,k,P){P?M[k]=P(M):l.encode=k,a||(f[zr(M)]=M)}for(d=0,h=i.length;d<h;++d)g=i[d],y=g.tuple,v=g.field,b=c[zr(y)],b>0&&(E(y,v,g.value),l.modifies(v));for(d=0,h=o.length;d<h;++d)g=o[d],v=g.filter,u.forEach(M=>{v(M)&&c[zr(M)]>0&&E(M,g.field,g.value)}),l.modifies(g.field);if(a)l.mod=t.length||r.length?u.filter(M=>c[zr(M)]>0):u.slice();else for(b in f)l.mod.push(f[b]);return(s||null==s&&(t.length||r.length))&&l.clean(!0),l}}}const eB="_:mod:_";function tB(){Object.defineProperty(this,eB,{writable:!0,value:{}})}tB.prototype={set(e,t,i,r){const o=this,s=o[e],a=o[eB];return null!=t&&t>=0?(s[t]!==i||r)&&(s[t]=i,a[t+":"+e]=-1,a[e]=-1):(s!==i||r)&&(o[e]=i,a[e]=Xn(i)?1+i.length:-1),o},modified(e,t){const i=this[eB];if(!arguments.length){for(const r in i)if(i[r])return!0;return!1}if(Xn(e)){for(let r=0;r<e.length;++r)if(i[e[r]])return!0;return!1}return null!=t&&t>=0?t+1<i[e]||!!i[t+":"+e]:!!i[e]},clear(){return this[eB]={},this}};let Zje=0;const eKe=new tB;function Ba(e,t,i,r){this.id=++Zje,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),i&&this.parameters(i,r)}function tfe(e){return function(t){const i=this.flags;return 0===arguments.length?!!(i&e):(this.flags=t?i|e:i&~e,this)}}Ba.prototype={targets(){return this._targets||(this._targets=XS(j7))},set(e){return this.value!==e?(this.value=e,1):0},skip:tfe(1),modified:tfe(2),parameters(e,t,i){t=!1!==t;const r=this._argval=this._argval||new tB,o=this._argops=this._argops||[],s=[];let a,l,u,c;const f=(d,h,g)=>{g instanceof Ba?(g!==this&&(t&&g.targets().add(this),s.push(g)),o.push({op:g,name:d,index:h})):r.set(d,h,g)};for(a in e)if(l=e[a],"pulse"===a)er(l).forEach(d=>{d instanceof Ba?d!==this&&(d.targets().add(this),s.push(d)):Gn("Pulse parameters must be operator instances.")}),this.source=l;else if(Xn(l))for(r.set(a,-1,Array(u=l.length)),c=0;c<u;++c)f(a,c,l[c]);else f(a,-1,l);return this.marshall().clear(),i&&(o.initonly=!0),s},marshall(e){const t=this._argval||eKe,i=this._argops;let r,o,s,a;if(i){const l=i.length;for(o=0;o<l;++o)r=i[o],s=r.op,a=s.modified()&&s.stamp===e,t.set(r.name,r.index,s.value,a);if(i.initonly){for(o=0;o<l;++o)r=i[o],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,i,r,o;if(e)for(t=0,i=e.length;t<i;++t)r=e[t],o=r.op,o._targets&&o._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const i=this.marshall(e.stamp),r=t.call(this,i,e);if(i.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let oKe=0;function nB(e,t,i){this.id=++oKe,this.value=null,i&&(this.receive=i),e&&(this._filter=e),t&&(this._apply=t)}function Zm(e,t,i){return new nB(e,t,i)}function SP(){return SP=Tt(function*(e,t){const i=this;let o,r=0;try{o=yield i.loader().load(e,{context:"dataflow",response:Wce(t&&t.type)});try{o=i.parse(o,t)}catch(s){r=-2,i.warn("Data ingestion failed",e,s)}}catch(s){r=-1,i.warn("Loading failed",e,s)}return{data:o,status:r}}),SP.apply(this,arguments)}function BP(){return BP=Tt(function*(e,t,i){const r=this,o=r._pending||function fKe(e){let t;const i=new Promise(r=>t=r);return i.requests=0,i.done=()=>{0==--i.requests&&(e._pending=null,t(e))},e._pending=i}(r);o.requests+=1;const s=yield r.request(t,i);return r.pulse(e,r.changeset().remove(sh).insert(s.data||[])),o.done(),s}),BP.apply(this,arguments)}nB.prototype={_filter:sh,_apply:qc,targets(){return this._targets||(this._targets=XS(j7))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),i=this._targets,r=i?i.length:0;for(let o=0;o<r;++o)i[o].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Zm(e);return this.targets().add(t),t},apply(e){const t=Zm(null,e);return this.targets().add(t),t},merge(){const e=Zm();this.targets().add(e);for(let t=0,i=arguments.length;t<i;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const i=Date.now();return i-t>e?(t=i,1):0})},debounce(e){const t=Zm();return this.targets().add(Zm(null,null,IU(e,i=>{const r=i.dataflow;t.receive(i),r&&r.run&&r.run()}))),t},between(e,t){let i=!1;return e.targets().add(Zm(null,null,()=>i=!0)),t.targets().add(Zm(null,null,()=>i=!1)),this.filter(()=>i)},detach(){this._filter=sh,this._targets=null}};const dKe={skip:!0};function hKe(e,t,i,r,o,s){const a=Po({},s,dKe);let l,u;Uo(i)||(i=Kc(i)),void 0===r?l=c=>e.touch(i(c)):Uo(r)?(u=new Ba(null,r,o,!1),l=c=>{u.evaluate(c);const f=i(c),d=u.value;efe(d)?e.pulse(f,d,s):e.update(f,d,a)}):l=c=>e.update(i(c),r,a),t.apply(l)}function pKe(e,t,i,r,o,s){if(void 0===r)t.targets().add(i);else{const a=s||{},l=new Ba(null,function gKe(e,t){return t=Uo(t)?t:Kc(t),e?function(i,r){const o=t(i,r);return e.skip()||(e.skip(o!==this.value).value=o),o}:t}(i,r),o,!1);l.modified(a.force),l.rank=t.rank,t.targets().add(l),i&&(l.skip(!0),l.value=i.value,l.targets().add(i),e.connect(i,[l]))}}const iB={};function e2(e,t,i){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=i||null}function MP(e,t){const i=[];return Xm(e,t,r=>i.push(r)),i}function sfe(e,t){const i={};return e.visit(t,r=>{i[zr(r)]=1}),r=>i[zr(r)]?null:r}function rB(e,t){return e?(i,r)=>e(i,r)&&t(i,r):t}function IP(e,t,i,r){const o=this;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=i;for(const a of i)if(a.stamp===t){if(a.fields){const l=o.fields||(o.fields={});for(const u in a.fields)l[u]=1}a.changed(o.ADD)&&(s|=o.ADD),a.changed(o.REM)&&(s|=o.REM),a.changed(o.MOD)&&(s|=o.MOD)}this.changes=s}function DP(){return DP=Tt(function*(e,t,i){const r=this,o=[];if(r._pulse)return afe(r);if(r._pending&&(yield r._pending),t&&(yield YS(r,t)),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const s=++r._clock;r._pulse=new e2(r,s,e),r._touched.forEach(f=>r._enqueue(f,!0)),r._touched=XS(j7);let l,u,c,a=0;try{for(;r._heap.size()>0;)l=r._heap.pop(),l.rank===l.qrank?(u=l.run(r._getPulse(l,e)),u.then?u=yield u:u.async&&(o.push(u.async),u=iB),u!==iB&&l._targets&&l._targets.forEach(f=>r._enqueue(f)),++a):r._enqueue(l,!0)}catch(f){r._heap.clear(),c=f}if(r._input={},r._pulse=null,r.debug(`Pulse ${s}: ${a} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const f=r._postrun.sort((d,h)=>h.priority-d.priority);r._postrun=[];for(let d=0;d<f.length;++d)yield YS(r,f[d].callback)}return i&&(yield YS(r,i)),o.length&&Promise.all(o).then(f=>r.runAsync(null,()=>{f.forEach(d=>{try{d(r)}catch(h){r.error(h)}})})),r}),DP.apply(this,arguments)}function TP(){return TP=Tt(function*(e,t,i){for(;this._running;)yield this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,i)).then(r,r),this._running}),TP.apply(this,arguments)}function afe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}e2.prototype={StopPropagation:iB,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new e2(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new e2(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const i=this;return i.stamp=e.stamp,i.encode=e.encode,e.fields&&!(64&t)&&(i.fields=e.fields),1&t?(i.addF=e.addF,i.add=e.add):(i.addF=null,i.add=[]),2&t?(i.remF=e.remF,i.rem=e.rem):(i.remF=null,i.rem=[]),4&t?(i.modF=e.modF,i.mod=e.mod):(i.modF=null,i.mod=[]),32&t?(i.srcF=null,i.source=null):(i.srcF=e.srcF,i.source=e.source,e.cleans&&(i.cleans=e.cleans)),i},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,i=this.source&&this.source.length;return i&&i!==t&&(this.mod=this.source,t&&this.filter(4,sfe(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Xn(e)?e.forEach(i=>t[i]=!0):t[e]=!0,this},modified(e,t){const i=this.fields;return!(!t&&!this.mod.length||!i)&&(arguments.length?Xn(e)?e.some(r=>i[r]):i[e]:!!i)},filter(e,t){const i=this;return 1&e&&(i.addF=rB(i.addF,t)),2&e&&(i.remF=rB(i.remF,t)),4&e&&(i.modF=rB(i.modF,t)),16&e&&(i.srcF=rB(i.srcF,t)),i},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=MP(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=MP(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=MP(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const i=this,r=t;if(16&e)return Xm(i.source,i.srcF,r),i;1&e&&Xm(i.add,i.addF,r),2&e&&Xm(i.rem,i.remF,r),4&e&&Xm(i.mod,i.modF,r);const o=i.source;if(8&e&&o){const s=i.add.length+i.mod.length;s===o.length||Xm(o,s?sfe(i,5):i.srcF,r)}return i}},$i(IP,e2,{fork(e){const t=new e2(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,i=>t.add.push(i)),e&t.REM&&this.visit(t.REM,i=>t.rem.push(i)),e&t.MOD&&this.visit(t.MOD,i=>t.mod.push(i))),t},changed(e){return this.changes&e},modified(e){const t=this,i=t.fields;return i&&t.changes&t.MOD?Xn(e)?e.some(r=>i[r]):i[e]:0},filter(){Gn("MultiPulse does not support filtering.")},materialize(){Gn("MultiPulse does not support materialization.")},visit(e,t){const i=this,r=i.pulses,o=r.length;let s=0;if(e&i.SOURCE)for(;s<o;++s)r[s].visit(e,t);else for(;s<o;++s)r[s].stamp===i.stamp&&r[s].visit(e,t);return i}});const FP={skip:!1,force:!1};function lfe(e,t,i,r){let o,s;const a=e[i];for(;i>t&&(s=i-1>>1,o=e[s],r(a,o)<0);)e[i]=o,i=s;return e[i]=a}function q6(){this.logger(EU()),this.logLevel(bU),this._clock=0,this._rank=0,this._locale=pP();try{this._loader=WS()}catch{}this._touched=XS(j7),this._input={},this._pulse=null,this._heap=function DKe(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:i=>(t.push(i),lfe(t,0,t.length-1,e)),pop:()=>{const i=t.pop();let r;return t.length?(r=t[0],t[0]=i,function TKe(e,t,i){const r=t,o=e.length,s=e[t];let l,a=1+(t<<1);for(;a<o;)l=a+1,l<o&&i(e[a],e[l])>=0&&(a=l),e[t]=e[a],a=1+((t=a)<<1);e[t]=s,lfe(e,r,t,i)}(t,0,e)):r=i,r}}}((e,t)=>e.qrank-t.qrank),this._postrun=[]}function v_(e){return function(){return this._log[e].apply(this,arguments)}}function On(e,t){Ba.call(this,e,null,t)}q6.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:v_("error"),warn:v_("warn"),info:v_("info"),debug:v_("debug"),logLevel:v_("level"),cleanThreshold:1e4,add:function iKe(e,t,i,r){let s,o=1;return e instanceof Ba?s=e:e&&e.prototype instanceof Ba?s=new e:Uo(e)?s=new Ba(null,e):(o=0,s=new Ba(e,t)),this.rank(s),o&&(r=i,i=t),i&&this.connect(s,s.parameters(i,r)),this.touch(s),s},connect:function rKe(e,t){const i=e.rank,r=t.length;for(let o=0;o<r;++o)if(i<t[o].rank)return void this.rerank(e)},rank:function mKe(e){e.rank=++this._rank},rerank:function vKe(e){const t=[e];let i,r,o;for(;t.length;)if(this.rank(i=t.pop()),r=i._targets)for(o=r.length;--o>=0;)t.push(i=r[o]),i===e&&Gn("Cycle detected in dataflow graph.")},pulse:function IKe(e,t,i){this.touch(e,i||FP);const r=new e2(this,this._clock+(this._pulse?0:1)),o=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,o),this},touch:function BKe(e,t){const i=t||FP;return this._pulse?this._enqueue(e):this._touched.add(e),i.skip&&e.skip(!0),this},update:function MKe(e,t,i){const r=i||FP;return(e.set(t)||r.force)&&this.touch(e,r),this},changeset:g3,ingest:function lKe(e,t,i){return t=this.parse(t,i),this.pulse(e,this.changeset().insert(t))},parse:function aKe(e,t){const i=this.locale();return Xce(e,t,i.timeParse,i.utcParse)},preload:function cKe(e,t,i){return BP.apply(this,arguments)},request:function uKe(e,t){return SP.apply(this,arguments)},events:function sKe(e,t,i,r){const o=this,s=Zm(i,r),a=function(c){c.dataflow=o;try{s.receive(c)}catch(f){o.error(f)}finally{o.run()}};let l;l="string"==typeof e&&typeof document<"u"?document.querySelectorAll(e):er(e);const u=l.length;for(let c=0;c<u;++c)l[c].addEventListener(t,a);return s},on:function AKe(e,t,i,r,o){return(e instanceof Ba?pKe:hKe)(this,e,t,i,r,o),this},evaluate:function _Ke(e,t,i){return DP.apply(this,arguments)},run:function bKe(e,t,i){return this._pulse?afe(this):(this.evaluate(e,t,i),this)},runAsync:function wKe(e,t,i){return TP.apply(this,arguments)},runAfter:function CKe(e,t,i){if(this._pulse||t)this._postrun.push({priority:i||0,callback:e});else try{e(this)}catch(r){this.error(r)}},_enqueue:function EKe(e,t){const i=e.stamp<this._clock;i&&(e.stamp=this._clock),(i||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function xKe(e,t){const i=e.source,r=this._clock;return i&&Xn(i)?new IP(this,r,i.map(o=>o.pulse),t):this._input[e.id]||function SKe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==iB&&(e.source=t.source),e)}(this._pulse,i&&i.pulse)}},$i(On,Ba,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(i=>this.pulse=i):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),i=this.transform(t,e);return t.clear(),i},transform(){}});const j6={};function ufe(e){const t=cfe(e);return t&&t.Definition||null}function cfe(e){return e=e&&e.toLowerCase(),fr(j6,e)?j6[e]:null}function oB(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ffe(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i<r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i<o||void 0===i&&o>=o)&&(i=o)}return i}function dfe(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i>r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i>o||void 0===i&&o>=o)&&(i=o)}return i}function sB(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function hfe(e,t,i=0,r=1/0,o){if(t=Math.floor(t),i=Math.floor(Math.max(0,i)),r=Math.floor(Math.min(e.length-1,r)),!(i<=t&&t<=r))return e;for(o=void 0===o?sB:function Afe(e=oB){if(e===oB)return sB;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,i)=>{const r=e(t,i);return r||0===r?r:(0===e(i,i))-(0===e(t,t))}}(o);r>i;){if(r-i>600){const u=r-i+1,c=t-i+1,f=Math.log(u),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(u-d)/u)*(c-u/2<0?-1:1);hfe(e,t,Math.max(i,Math.floor(t-c*d/u+h)),Math.min(r,Math.floor(t+(u-c)*d/u+h)),o)}const s=e[t];let a=i,l=r;for(y_(e,i,t),o(e[r],s)>0&&y_(e,i,r);a<l;){for(y_(e,a,l),++a,--l;o(e[a],s)<0;)++a;for(;o(e[l],s)>0;)--l}0===o(e[i],s)?y_(e,i,l):(++l,y_(e,l,r)),l<=t&&(i=l+1),t<=l&&(r=l-1)}return e}function y_(e,t,i){const r=e[t];e[t]=e[i],e[i]=r}function FKe(e){return null===e?NaN:+e}function OP(e,t,i){if(e=Float64Array.from(function*OKe(e,t){if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(yield i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(r=+r)>=r&&(yield r)}}(e,i)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return dfe(e);if(t>=1)return ffe(e);var r,o=(r-1)*t,s=Math.floor(o),a=ffe(hfe(e,s).subarray(0,s+1));return a+(dfe(e.subarray(s+1))-a)*(o-s)}}function RKe(e,t){return OP(e,.5,t)}function*pfe(e,t){if(null==t)for(let i of e)null!=i&&""!==i&&(i=+i)>=i&&(yield i);else{let i=-1;for(let r of e)r=t(r,++i,e),null!=r&&""!==r&&(r=+r)>=r&&(yield r)}}function kP(e,t,i){const r=Float64Array.from(pfe(e,i));return r.sort(oB),t.map(o=>function kKe(e,t,i=FKe){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+i(e[0],0,e);if(t>=1)return+i(e[r-1],r-1,e);var r,o=(r-1)*t,s=Math.floor(o),a=+i(e[s],s,e);return a+(+i(e[s+1],s+1,e)-a)*(o-s)}}(r,o))}function NP(e,t){return kP(e,[.25,.5,.75],t)}function LP(e,t){const i=e.length,r=function LKe(e,t){const i=function NKe(e,t){let r,i=0,o=0,s=0;if(void 0===t)for(let a of e)null!=a&&(a=+a)>=a&&(r=a-o,o+=r/++i,s+=r*(a-o));else{let a=-1;for(let l of e)null!=(l=t(l,++a,e))&&(l=+l)>=l&&(r=l-o,o+=r/++i,s+=r*(l-o))}if(i>1)return s/(i-1)}(e,t);return i&&Math.sqrt(i)}(e,t),o=NP(e,t);return 1.06*(Math.min(r,(o[2]-o[0])/1.34)||r||Math.abs(o[0])||1)*Math.pow(i,-.2)}function gfe(e){const t=e.maxbins||20,i=e.base||10,r=Math.log(i),o=e.divide||[5,2];let l,u,c,f,d,h,s=e.extent[0],a=e.extent[1];const g=e.span||a-s||Math.abs(s)||1;if(e.step)l=e.step;else if(e.steps){for(f=g/t,d=0,h=e.steps.length;d<h&&e.steps[d]<f;++d);l=e.steps[Math.max(0,d-1)]}else{for(u=Math.ceil(Math.log(t)/r),c=e.minstep||0,l=Math.max(c,Math.pow(i,Math.round(Math.log(g)/r)-u));Math.ceil(g/l)>t;)l*=i;for(d=0,h=o.length;d<h;++d)f=l/o[d],f>=c&&g/f<=t&&(l=f)}f=Math.log(l);const y=Math.pow(i,-(f>=0?0:1+~~(-f/r))-1);return(e.nice||void 0===e.nice)&&(f=Math.floor(s/l+y)*l,s=s<f?f-l:f,a=Math.ceil(a/l)*l),{start:s,stop:a===s?s+l:a,step:l}}var fh=Math.random;function UKe(e){fh=e}function mfe(e,t,i,r){if(!e.length)return[void 0,void 0];const o=Float64Array.from(pfe(e,r)),s=o.length,a=t;let l,u,c,f;for(c=0,f=Array(a);c<a;++c){for(l=0,u=0;u<s;++u)l+=o[~~(fh()*s)];f[c]=l/s}return f.sort(oB),[OP(f,i/2),OP(f,1-i/2)]}function vfe(e,t,i,r){r=r||(h=>h);const o=e.length,s=new Float64Array(o);let d,a=0,l=1,u=r(e[0]),c=u,f=u+t;for(;l<o;++l){if(d=r(e[l]),d>=f){for(c=(u+c)/2;a<l;++a)s[a]=c;f=d+t,u=d}c=d}for(c=(u+c)/2;a<l;++a)s[a]=c;return i?function PKe(e,t){const i=e.length;let s,a,r=0,o=1;for(;e[r]===e[o];)++o;for(;o<i;){for(s=o+1;e[o]===e[s];)++s;if(e[o]-e[o-1]<t){for(a=o+(r+s-o-o>>1);a<o;)e[a++]=e[o];for(;a>o;)e[a--]=e[r]}r=o,o=s}return e}(s,t+t/4):s}function HKe(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function QKe(e,t){let i,r,o;null==t&&(t=e,e=0);const s={min(a){return arguments.length?(i=a||0,o=r-i,s):i},max(a){return arguments.length?(r=a||0,o=r-i,s):r},sample:()=>i+Math.floor(o*fh()),pdf:a=>a===Math.floor(a)&&a>=i&&a<r?1/o:0,cdf(a){const l=Math.floor(a);return l<i?0:l>=r?1:(l-i+1)/o},icdf:a=>a>=0&&a<=1?i-1+Math.floor(a*o):NaN};return s.min(e).max(t)}const yfe=Math.sqrt(2*Math.PI),VKe=Math.SQRT2;let __=NaN;function aB(e,t){e=e||0,t=t??1;let o,s,i=0,r=0;if(__==__)i=__,__=NaN;else{do{i=2*fh()-1,r=2*fh()-1,o=i*i+r*r}while(0===o||o>1);s=Math.sqrt(-2*Math.log(o)/o),i*=s,__=r*s}return e+i*t}function RP(e,t,i){const r=(e-(t||0))/(i=i??1);return Math.exp(-.5*r*r)/(i*yfe)}function lB(e,t,i){const r=(e-(t=t||0))/(i=i??1),o=Math.abs(r);let s;if(o>37)s=0;else{const a=Math.exp(-o*o/2);let l;o<7.07106781186547?(l=.0352624965998911*o+.700383064443688,l=l*o+6.37396220353165,l=l*o+33.912866078383,l=l*o+112.079291497871,l=l*o+221.213596169931,l=l*o+220.206867912376,s=a*l,l=.0883883476483184*o+1.75566716318264,l=l*o+16.064177579207,l=l*o+86.7807322029461,l=l*o+296.564248779674,l=l*o+637.333633378831,l=l*o+793.826512519948,l=l*o+440.413735824752,s/=l):(l=o+.65,l=o+4/l,l=o+3/l,l=o+2/l,l=o+1/l,s=a/l/2.506628274631)}return r>0?1-s:s}function uB(e,t,i){return e<0||e>1?NaN:(t||0)+(i??1)*VKe*function zKe(e){let i,t=-Math.log((1-e)*(1+e));return t<6.25?(t-=3.125,i=-364441206401782e-35,i=i*t-16850591381820166e-35,i=128584807152564e-32+i*t,i=11157877678025181e-33+i*t,i=i*t-1333171662854621e-31,i=20972767875968562e-33+i*t,i=6637638134358324e-30+i*t,i=i*t-4054566272975207e-29,i=i*t-8151934197605472e-29,i=26335093153082323e-28+i*t,i=i*t-12975133253453532e-27,i=i*t-5415412054294628e-26,i=1.0512122733215323e-9+i*t,i=i*t-4.112633980346984e-9,i=i*t-2.9070369957882005e-8,i=4.2347877827932404e-7+i*t,i=i*t-13654692000834679e-22,i=i*t-13882523362786469e-21,i=.00018673420803405714+i*t,i=i*t-.000740702534166267,i=i*t-.006033670871430149,i=.24015818242558962+i*t,i=1.6536545626831027+i*t):t<16?(t=Math.sqrt(t)-3.25,i=2.2137376921775787e-9,i=9.075656193888539e-8+i*t,i=i*t-2.7517406297064545e-7,i=1.8239629214389228e-8+i*t,i=15027403968909828e-22+i*t,i=i*t-4013867526981546e-21,i=29234449089955446e-22+i*t,i=12475304481671779e-21+i*t,i=i*t-47318229009055734e-21,i=6828485145957318e-20+i*t,i=24031110387097894e-21+i*t,i=i*t-.0003550375203628475,i=.0009532893797373805+i*t,i=i*t-.0016882755560235047,i=.002491442096107851+i*t,i=i*t-.003751208507569241,i=.005370914553590064+i*t,i=1.0052589676941592+i*t,i=3.0838856104922208+i*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,i=-27109920616438573e-27,i=i*t-2.555641816996525e-10,i=1.5076572693500548e-9+i*t,i=i*t-3.789465440126737e-9,i=7.61570120807834e-9+i*t,i=i*t-1.496002662714924e-8,i=2.914795345090108e-8+i*t,i=i*t-6.771199775845234e-8,i=2.2900482228026655e-7+i*t,i=i*t-9.9298272942317e-7,i=4526062597223154e-21+i*t,i=i*t-1968177810553167e-20,i=7599527703001776e-20+i*t,i=i*t-.00021503011930044477,i=i*t-.00013871931833623122,i=1.0103004648645344+i*t,i=4.849906401408584+i*t):i=1/0,i*e}(2*e-1)}function UP(e,t){let i,r;const o={mean(s){return arguments.length?(i=s||0,o):i},stdev(s){return arguments.length?(r=s??1,o):r},sample:()=>aB(i,r),pdf:s=>RP(s,i,r),cdf:s=>lB(s,i,r),icdf:s=>uB(s,i,r)};return o.mean(e).stdev(t)}function PP(e,t){const i=UP();let r=0;const o={data(s){return arguments.length?(e=s,r=s?s.length:0,o.bandwidth(t)):e},bandwidth(s){return arguments.length?(!(t=s)&&e&&(t=LP(e)),o):t},sample:()=>e[~~(fh()*r)]+t*i.sample(),pdf(s){let a=0,l=0;for(;l<r;++l)a+=i.pdf((s-e[l])/t);return a/t/r},cdf(s){let a=0,l=0;for(;l<r;++l)a+=i.cdf((s-e[l])/t);return a/r},icdf(){throw Error("KDE icdf not supported.")}};return o.data(e)}function HP(e,t){return e=e||0,t=t??1,Math.exp(e+aB()*t)}function QP(e,t,i){if(e<=0)return 0;t=t||0,i=i??1;const r=(Math.log(e)-t)/i;return Math.exp(-.5*r*r)/(i*yfe*e)}function VP(e,t,i){return lB(Math.log(e),t,i)}function zP(e,t,i){return Math.exp(uB(e,t,i))}function _fe(e,t){let i,r;const o={mean(s){return arguments.length?(i=s||0,o):i},stdev(s){return arguments.length?(r=s??1,o):r},sample:()=>HP(i,r),pdf:s=>QP(s,i,r),cdf:s=>VP(s,i,r),icdf:s=>zP(s,i,r)};return o.mean(e).stdev(t)}function wfe(e,t){let r,i=0;const s={weights(a){return arguments.length?(r=function o(a){const l=[];let c,u=0;for(c=0;c<i;++c)u+=l[c]=null==a[c]?1:+a[c];for(c=0;c<i;++c)l[c]/=u;return l}(t=a||[]),s):t},distributions(a){return arguments.length?(a?(i=a.length,e=a):(i=0,e=[]),s.weights(t)):e},sample(){const a=fh();let l=e[i-1],u=r[0],c=0;for(;c<i-1;u+=r[++c])if(a<u){l=e[c];break}return l.sample()},pdf(a){let l=0,u=0;for(;u<i;++u)l+=r[u]*e[u].pdf(a);return l},cdf(a){let l=0,u=0;for(;u<i;++u)l+=r[u]*e[u].cdf(a);return l},icdf(){throw Error("Mixture icdf not supported.")}};return s.distributions(e).weights(t)}function $P(e,t){return null==t&&(t=e??1,e=0),e+(t-e)*fh()}function GP(e,t,i){return null==i&&(i=t??1,t=0),e>=t&&e<=i?1/(i-t):0}function qP(e,t,i){return null==i&&(i=t??1,t=0),e<t?0:e>i?1:(e-t)/(i-t)}function jP(e,t,i){return null==i&&(i=t??1,t=0),e>=0&&e<=1?t+e*(i-t):NaN}function bfe(e,t){let i,r;const o={min(s){return arguments.length?(i=s||0,o):i},max(s){return arguments.length?(r=s??1,o):r},sample:()=>$P(i,r),pdf:s=>GP(s,i,r),cdf:s=>qP(s,i,r),icdf:s=>jP(s,i,r)};return null==t&&(t=e??1,e=0),o.min(e).max(t)}function KP(e,t,i){let r=0,o=0;for(const s of e){const a=i(s);null==t(s)||null==a||isNaN(a)||(r+=(a-r)/++o)}return{coef:[r],predict:()=>r,rSquared:0}}function w_(e,t,i,r){const o=r-e*e,s=Math.abs(o)<1e-24?0:(i-e*t)/o;return[t-s*e,s]}function cB(e,t,i,r){e=e.filter(g=>{let v=t(g),y=i(g);return null!=v&&(v=+v)>=v&&null!=y&&(y=+y)>=y}),r&&e.sort((g,v)=>t(g)-t(v));const o=e.length,s=new Float64Array(o),a=new Float64Array(o);let f,d,h,l=0,u=0,c=0;for(h of e)s[l]=f=+t(h),a[l]=d=+i(h),++l,u+=(f-u)/l,c+=(d-c)/l;for(l=0;l<o;++l)s[l]-=u,a[l]-=c;return[s,a,u,c]}function b_(e,t,i,r){let s,a,o=-1;for(const l of e)s=t(l),a=i(l),null!=s&&(s=+s)>=s&&null!=a&&(a=+a)>=a&&r(s,a,++o)}function K6(e,t,i,r,o){let s=0,a=0;return b_(e,t,i,(l,u)=>{const c=u-o(l),f=u-r;s+=c*c,a+=f*f}),1-s/a}function WP(e,t,i){let r=0,o=0,s=0,a=0,l=0;b_(e,t,i,(f,d)=>{++l,r+=(f-r)/l,o+=(d-o)/l,s+=(f*d-s)/l,a+=(f*f-a)/l});const u=w_(r,o,s,a),c=f=>u[0]+u[1]*f;return{coef:u,predict:c,rSquared:K6(e,t,i,o,c)}}function Cfe(e,t,i){let r=0,o=0,s=0,a=0,l=0;b_(e,t,i,(f,d)=>{++l,f=Math.log(f),r+=(f-r)/l,o+=(d-o)/l,s+=(f*d-s)/l,a+=(f*f-a)/l});const u=w_(r,o,s,a),c=f=>u[0]+u[1]*Math.log(f);return{coef:u,predict:c,rSquared:K6(e,t,i,o,c)}}function Efe(e,t,i){const[r,o,s,a]=cB(e,t,i);let h,g,v,l=0,u=0,c=0,f=0,d=0;b_(e,t,i,(M,k)=>{h=r[d++],g=Math.log(k),v=h*k,l+=(k*g-l)/d,u+=(v-u)/d,c+=(v*g-c)/d,f+=(h*v-f)/d});const[y,b]=w_(u/a,l/a,c/a,f/a),E=M=>Math.exp(y+b*(M-s));return{coef:[Math.exp(y-b*s),b],predict:E,rSquared:K6(e,t,i,a,E)}}function xfe(e,t,i){let r=0,o=0,s=0,a=0,l=0,u=0;b_(e,t,i,(d,h)=>{const g=Math.log(d),v=Math.log(h);++u,r+=(g-r)/u,o+=(v-o)/u,s+=(g*v-s)/u,a+=(g*g-a)/u,l+=(h-l)/u});const c=w_(r,o,s,a),f=d=>c[0]*Math.pow(d,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:f,rSquared:K6(e,t,i,l,f)}}function XP(e,t,i){const[r,o,s,a]=cB(e,t,i),l=r.length;let g,v,y,b,u=0,c=0,f=0,d=0,h=0;for(g=0;g<l;)v=r[g],y=o[g++],b=v*v,u+=(b-u)/g,c+=(b*v-c)/g,f+=(b*b-f)/g,d+=(v*y-d)/g,h+=(b*y-h)/g;const E=f-u*u,M=u*E-c*c,k=(h*u-d*c)/M,P=(d*E-h*c)/M,H=-k*u,X=z=>k*(z-=s)*z+P*z+H+a;return{coef:[H-P*s+k*s*s+a,P-2*k*s,k],predict:X,rSquared:K6(e,t,i,a,X)}}function Sfe(e,t,i,r){if(0===r)return KP(e,t,i);if(1===r)return WP(e,t,i);if(2===r)return XP(e,t,i);const[o,s,a,l]=cB(e,t,i),u=o.length,c=[],f=[],d=r+1;let h,g,v,y,b;for(h=0;h<d;++h){for(v=0,y=0;v<u;++v)y+=Math.pow(o[v],h)*s[v];for(c.push(y),b=new Float64Array(d),g=0;g<d;++g){for(v=0,y=0;v<u;++v)y+=Math.pow(o[v],h+g);b[g]=y}f.push(b)}f.push(c);const E=function GKe(e){const t=e.length-1,i=[];let r,o,s,a,l;for(r=0;r<t;++r){for(a=r,o=r+1;o<t;++o)Math.abs(e[r][o])>Math.abs(e[r][a])&&(a=o);for(s=r;s<t+1;++s)l=e[s][r],e[s][r]=e[s][a],e[s][a]=l;for(o=r+1;o<t;++o)for(s=t;s>=r;s--)e[s][o]-=e[s][r]*e[r][o]/e[r][r]}for(o=t-1;o>=0;--o){for(l=0,s=o+1;s<t;++s)l+=e[s][o]*i[s];i[o]=(e[t][o]-l)/e[o][o]}return i}(f),M=k=>{let P=l+E[0]+E[1]*(k-=a)+E[2]*k*k;for(h=3;h<d;++h)P+=E[h]*Math.pow(k,h);return P};return{coef:$Ke(d,E,-a,l),predict:M,rSquared:K6(e,t,i,l,M)}}function $Ke(e,t,i,r){const o=Array(e);let s,a,l,u;for(s=0;s<e;++s)o[s]=0;for(s=e-1;s>=0;--s)for(l=t[s],u=1,o[s]+=l,a=1;a<=s;++a)u*=(s+1-a)/a,o[s-a]+=l*Math.pow(i,a)*u;return o[0]+=r,o}const Bfe=2,Mfe=1e-12;function Ife(e,t,i,r){const[o,s,a,l]=cB(e,t,i,!0),u=o.length,c=Math.max(2,~~(r*u)),f=new Float64Array(u),d=new Float64Array(u),h=new Float64Array(u).fill(1);for(let g=-1;++g<=Bfe;){const v=[0,c-1];for(let b=0;b<u;++b){const E=o[b],M=v[0],k=v[1];let H=0,X=0,z=0,se=0,ye=0;const Ie=1/Math.abs(o[E-o[M]>o[k]-E?M:k]-E||1);for(let Ze=M;Ze<=k;++Ze){const W=o[Ze],Z=s[Ze],te=qKe(Math.abs(E-W)*Ie)*h[Ze],Ce=W*te;H+=te,X+=Ce,z+=Z*te,se+=Z*Ce,ye+=W*Ce}const[Ee,Je]=w_(X/H,z/H,se/H,ye/H);f[b]=Ee+Je*E,d[b]=Math.abs(s[b]-f[b]),jKe(o,b+1,v)}if(g===Bfe)break;const y=RKe(d);if(Math.abs(y)<Mfe)break;for(let E,M,b=0;b<u;++b)E=d[b]/(6*y),h[b]=E>=1?Mfe:(M=1-E*E)*M}return function KKe(e,t,i,r){const o=e.length,s=[];let c,a=0,l=0,u=[];for(;a<o;++a)c=e[a]+i,u[0]===c?u[1]+=(t[a]-u[1])/++l:(l=0,u[1]+=r,u=[c,t[a]],s.push(u));return u[1]+=r,s}(o,f,a,l)}function qKe(e){return(e=1-e*e*e)*e*e}function jKe(e,t,i){const r=e[t];let o=i[0],s=i[1]+1;if(!(s>=e.length))for(;t>o&&e[s]-r<=r-e[o];)i[0]=++o,i[1]=s,++s}const WKe=.5*Math.PI/180;function fB(e,t,i,r){i=i||25,r=Math.max(i,r||200);const o=y=>[y,e(y)],s=t[0],a=t[1],l=a-s,u=l/r,c=[o(s)],f=[];if(i===r){for(let y=1;y<r;++y)c.push(o(s+y/i*l));return c.push(o(a)),c}f.push(o(a));for(let y=i;--y>0;)f.push(o(s+y/i*l));let d=c[0],h=f[f.length-1];const g=1/l,v=function XKe(e,t){let i=e,r=e;const o=t.length;for(let s=0;s<o;++s){const a=t[s][1];a<i&&(i=a),a>r&&(r=a)}return 1/(r-i)}(d[1],f);for(;h;){const y=o((d[0]+h[0])/2);y[0]-d[0]>=u&&YKe(d,y,h,g,v)>WKe?f.push(y):(d=h,c.push(h),f.pop()),h=f[f.length-1]}return c}function YKe(e,t,i,r,o){const s=Math.atan2(o*(i[1]-e[1]),r*(i[0]-e[0])),a=Math.atan2(o*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(s-a)}function YP(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i<r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i<o||void 0===i&&o>=o)&&(i=o)}return i}function ZP(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i>r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i>o||void 0===i&&o>=o)&&(i=o)}return i}function C_(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dB(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Tfe(e,t,i=0,r=1/0,o){if(t=Math.floor(t),i=Math.floor(Math.max(0,i)),r=Math.floor(Math.min(e.length-1,r)),!(i<=t&&t<=r))return e;for(o=void 0===o?dB:function Dfe(e=C_){if(e===C_)return dB;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,i)=>{const r=e(t,i);return r||0===r?r:(0===e(i,i))-(0===e(t,t))}}(o);r>i;){if(r-i>600){const u=r-i+1,c=t-i+1,f=Math.log(u),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(u-d)/u)*(c-u/2<0?-1:1);Tfe(e,t,Math.max(i,Math.floor(t-c*d/u+h)),Math.min(r,Math.floor(t+(u-c)*d/u+h)),o)}const s=e[t];let a=i,l=r;for(E_(e,i,t),o(e[r],s)>0&&E_(e,i,r);a<l;){for(E_(e,a,l),++a,--l;o(e[a],s)<0;)++a;for(;o(e[l],s)>0;)--l}0===o(e[i],s)?E_(e,i,l):(++l,E_(e,l,r)),l<=t&&(i=l+1),t<=l&&(r=l-1)}return e}function E_(e,t,i){const r=e[t];e[t]=e[i],e[i]=r}function Ffe(e,t,i){e=+e,t=+t,i=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+i;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/i)),s=new Array(o);++r<o;)s[r]=e+r*i;return s}function nWe(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rWe(){return 0}function JP(e){return e&&e.length?1===e.length?e[0]:function oWe(e){return t=>{const i=e.length;let r=1,o=String(e[0](t));for(;r<i;++r)o+="|"+e[r](t);return o}}(e):function(){return""}}function Ofe(e,t,i){return i||e+(t?"_"+t:"")}const eH=()=>{},sWe={init:eH,add:eH,rem:eH,idx:0},x_={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,i)=>{t<e.min&&(e.argmin=i)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,i)=>{t>e.max&&(e.argmax=i)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},S_=Object.keys(x_).filter(e=>"__count__"!==e);function kfe(e,t,i){return x_[e](i,t)}function Nfe(e,t){return e.idx-t.idx}function uWe(){this.valid=0,this.missing=0,this._ops.forEach(e=>null==e.aggregate_param?e.init(this):e.init(this,e.aggregate_param))}function cWe(e,t){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach(i=>i.add(this,e,t))):++this.missing}function fWe(e,t){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach(i=>i.rem(this,e,t))):--this.missing}function dWe(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function Lfe(e,t){const i=t||qc,r=function lWe(e){const t={};e.forEach(r=>t[r.name]=r);const i=r=>{r.req&&r.req.forEach(o=>{t[o]||i(t[o]=x_[o]())})};return e.forEach(i),Object.values(t).sort(Nfe)}(e),o=e.slice().sort(Nfe);function s(a){this._ops=r,this._out=o,this.cell=a,this.init()}return s.prototype.init=uWe,s.prototype.add=cWe,s.prototype.rem=fWe,s.prototype.set=dWe,s.prototype.get=i,s.fields=e.map(a=>a.out),s}function tH(e){this._key=e?oh(e):zr,this.reset()}[...S_,"__count__"].forEach(e=>{x_[e]=function aWe(e,t){return(i,r)=>Po({name:e,aggregate_param:r,out:i||e},sWe,t)}(e,x_[e])});const mc=tH.prototype;function t2(e){On.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function nH(e){On.call(this,null,e)}function Rfe(e,t,i){const r=e;let o=t||[],s=i||[],a={},l=0;return{add:u=>s.push(u),remove:u=>a[r(u)]=++l,size:()=>o.length,data:(u,c)=>(l&&(o=o.filter(f=>!a[r(f)]),a={},l=0),c&&u&&o.sort(u),s.length&&(o=u?Cue(u,o,s.sort(u)):o.concat(s),s=[]),o)}}function iH(e){On.call(this,[],e)}function Ufe(e){Ba.call(this,null,hWe,e)}function hWe(e){return this.value&&!e.modified()?this.value:MU(e.fields,e.orders)}function rH(e){On.call(this,null,e)}function oH(e){On.call(this,null,e)}mc.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},mc.add=function(e){this._add.push(e)},mc.rem=function(e){this._rem.push(e)},mc.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,t=this._rem,i=this._key,r=e.length,o=t.length,s=Array(r-o),a={};let l,u,c;for(l=0;l<o;++l)a[i(t[l])]=1;for(l=0,u=0;l<r;++l)a[i(c=e[l])]?a[i(c)]=0:s[u++]=c;return this._rem=[],this._add=s},mc.distinct=function(e){const t=this.values(),i={};let s,r=t.length,o=0;for(;--r>=0;)s=e(t[r])+"",fr(i,s)||(i[s]=1,++o);return o},mc.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),i=vue(t,e);this._ext=[t[i[0]],t[i[1]]],this._get=e}return this._ext},mc.argmin=function(e){return this.extent(e)[0]||{}},mc.argmax=function(e){return this.extent(e)[1]||{}},mc.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},mc.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},mc.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=NP(this.values(),e),this._get=e),this._q},mc.q1=function(e){return this.quartile(e)[0]},mc.q2=function(e){return this.quartile(e)[1]},mc.q3=function(e){return this.quartile(e)[2]},mc.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=mfe(this.values(),1e3,.05,e),this._get=e),this._ci},mc.ci0=function(e){return this.ci(e)[0]},mc.ci1=function(e){return this.ci(e)[1]},t2.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:S_},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},$i(t2,On,{transform(e,t){const i=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.modified();return i.stamp=r.stamp,i.value&&(o||t.modified(i._inputs,!0))?(i._prev=i.value,i.value=o?i.init(e):Object.create(null),t.visit(t.SOURCE,s=>i.add(s))):(i.value=i.value||i.init(e),t.visit(t.REM,s=>i.rem(s)),t.visit(t.ADD,s=>i.add(s))),r.modifies(i._outputs),i._drop=!1!==e.drop,e.cross&&i._dims.length>1&&(i._drop=!1,i.cross()),t.clean()&&i._drop&&r.clean(!0).runAfter(()=>this.clean()),i.changes(r)},cross(){const e=this,t=e.value,i=e._dnames,r=i.map(()=>({})),o=i.length;function s(l){let u,c,f,d;for(u in l)for(f=l[u].tuple,c=0;c<o;++c)r[c][d=f[i[c]]]=d}s(e._prev),s(t),function a(l,u,c){const f=i[c],d=r[c++];for(const h in d){const g=l?l+"|"+h:h;u[f]=d[h],c<o?a(g,u,c):t[g]||e.cell(g,u)}}("",{},0)},init(e){const t=this._inputs=[],i=this._outputs=[],r={};function o(M){const k=er(Gc(M)),P=k.length;let X,H=0;for(;H<P;++H)r[X=k[H]]||(r[X]=1,t.push(X))}this._dims=er(e.groupby),this._dnames=this._dims.map(M=>{const k=Vl(M);return o(M),i.push(k),k}),this.cellkey=e.key?e.key:JP(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=e.fields||[null],a=e.ops||["count"],l=e.aggregate_params||[null],u=e.as||[],c=s.length,f={};let d,h,g,v,y,b,E;for(c!==a.length&&Gn("Unmatched number of fields and aggregate ops."),E=0;E<c;++E)d=s[E],h=a[E],g=l[E]||null,null==d&&"count"!==h&&Gn("Null aggregate field specified."),y=Vl(d),b=Ofe(h,y,u[E]),i.push(b),"count"!==h?(v=f[y],v||(o(d),v=f[y]=[],v.field=d,this._measures.push(v)),"count"!==h&&(this._countOnly=!1),v.push(kfe(h,g,b))):this._counts.push(b);return this._measures=this._measures.map(M=>Lfe(M,M.field)),Object.create(null)},cellkey:JP(),cell(e,t){let i=this.value[e];return i?0===i.num&&this._drop&&i.stamp<this.stamp?(i.stamp=this.stamp,this._adds[this._alen++]=i):i.stamp<this.stamp&&(i.stamp=this.stamp,this._mods[this._mlen++]=i):(i=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=i),i},newcell(e,t){const i={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,o=r.length;i.agg=Array(o);for(let s=0;s<o;++s)i.agg[s]=new r[s](i)}return i.store&&(i.data=new tH),i},newtuple(e,t){const i=this._dnames,r=this._dims,o=r.length,s={};for(let a=0;a<o;++a)s[i[a]]=r[a](e);return t?Jce(t.tuple,s):Ls(s)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),i=this.cell(t,e);if(i.num+=1,this._countOnly)return;i.store&&i.data.add(e);const r=i.agg;for(let o=0,s=r.length;o<s;++o)r[o].add(r[o].get(e),e)},rem(e){const t=this.cellkey(e),i=this.cell(t,e);if(i.num-=1,this._countOnly)return;i.store&&i.data.rem(e);const r=i.agg;for(let o=0,s=r.length;o<s;++o)r[o].rem(r[o].get(e),e)},celltuple(e){const t=e.tuple,i=this._counts;e.store&&e.data.values();for(let r=0,o=i.length;r<o;++r)t[i[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let o=0,s=r.length;o<s;++o)r[o].set(t)}return t},changes(e){const t=this._adds,i=this._mods,r=this._prev,o=this._drop,s=e.add,a=e.rem,l=e.mod;let u,c,f,d;if(r)for(c in r)u=r[c],(!o||u.num)&&a.push(u.tuple);for(f=0,d=this._alen;f<d;++f)s.push(this.celltuple(t[f])),t[f]=null;for(f=0,d=this._mlen;f<d;++f)u=i[f],(0===u.num&&o?a:l).push(this.celltuple(u)),i[f]=null;return this._alen=this._mlen=0,this._prev=null,e}}),nH.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},$i(nH,On,{transform(e,t){const i=!1!==e.interval,r=this._bins(e),o=r.start,s=r.step,a=e.as||["bin0","bin1"],l=a[0],u=a[1];let c;return c=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Gc(e.field))?t.ADD_MOD:t.ADD,t.visit(c,i?f=>{const d=r(f);f[l]=d,f[u]=null==d?null:o+s*(1+(d-o)/s)}:f=>f[l]=r(f)),t.modifies(i?a:l)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,i=gfe(e),r=i.step;let a,l,o=i.start,s=o+Math.ceil((i.stop-o)/r)*r;null!=(a=e.anchor)&&(l=a-(o+r*Math.floor((a-o)/r)),o+=l,s+=l);const u=function(c){let f=jc(t(c));return null==f?null:f<o?-1/0:f>s?1/0:(f=Math.max(o,Math.min(f,s-r)),o+r*Math.floor(1e-14+(f-o)/r))};return u.start=o,u.stop=i.stop,u.step=r,this.value=pd(u,Gc(t),e.name||"bin_"+Vl(t))}}),iH.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},$i(iH,On,{transform(e,t){const i=t.fork(t.ALL),r=Rfe(zr,this.value,i.materialize(i.ADD).add),o=e.sort,s=t.changed()||o&&(e.modified("sort")||t.modified(o.fields));return i.visit(i.REM,r.remove),this.modified(s),this.value=i.source=r.data(p3(o),s),t.source&&t.source.root&&(this.value.root=t.source.root),i}}),$i(Ufe,Ba),rH.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},$i(rH,On,{transform(e,t){const i=d=>h=>{for(var v,g=function pWe(e,t,i){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(i)}(l(h),e.case,s)||[],y=0,b=g.length;y<b;++y)a.test(v=g[y])||d(v)},r=this._parameterCheck(e,t),o=this._counts,s=this._match,a=this._stop,l=e.field,u=e.as||["text","count"],c=i(d=>o[d]=1+(o[d]||0)),f=i(d=>o[d]-=1);return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,f)),this._finish(t,u)},_parameterCheck(e,t){let i=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),i=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),i=!0),(e.modified("field")||t.modified(e.field.fields))&&(i=!0),i&&(this._counts={}),i},_finish(e,t){const i=this._counts,r=this._tuples||(this._tuples={}),o=t[0],s=t[1],a=e.fork(e.NO_SOURCE|e.NO_FIELDS);let l,u,c;for(l in i)u=r[l],c=i[l]||0,!u&&c?(r[l]=u=Ls({}),u[o]=l,u[s]=c,a.add.push(u)):0===c?(u&&a.rem.push(u),i[l]=null,r[l]=null):u[s]!==c&&(u[s]=c,a.mod.push(u));return a.modifies(t)}}),oH.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},$i(oH,On,{transform(e,t){const i=t.fork(t.NO_SOURCE),r=e.as||["a","b"],o=r[0],s=r[1],a=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let l=this.value;return a?(l&&(i.rem=l),l=t.materialize(t.SOURCE).source,i.add=this.value=function gWe(e,t,i,r){for(var u,c,o=[],s={},a=e.length,l=0;l<a;++l)for(s[t]=c=e[l],u=0;u<a;++u)s[i]=e[u],r(s)&&(o.push(Ls(s)),(s={})[t]=c);return o}(l,o,s,e.filter||sh)):i.mod=l,i.source=this.value,i.modifies(r)}});const Pfe={kde:PP,mixture:wfe,normal:UP,lognormal:_fe,uniform:bfe};function Qfe(e,t){const i=e.function;fr(Pfe,i)||Gn("Unknown distribution function: "+i);const r=Pfe[i]();for(const o in e)"field"===o?r.data((e.from||t()).map(e[o])):"distributions"===o?r[o](e[o].map(s=>Qfe(s,t))):"function"==typeof r[o]&&r[o](e[o]);return r}function sH(e){On.call(this,null,e)}const Vfe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}];function zfe(e,t){return e?e.map((i,r)=>t[r]||Vl(i)):null}function aH(e,t,i){const r=[],o=d=>d(u);let s,a,l,u,c,f;if(null==t)r.push(e.map(i));else for(s={},a=0,l=e.length;a<l;++a)u=e[a],c=t.map(o),f=s[c],f||(s[c]=f=[],f.dims=c,r.push(f)),f.push(i(u));return r}function lH(e){On.call(this,null,e)}function Gfe(e){Ba.call(this,null,bWe,e),this.modified(!0)}function bWe(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:pd(i=>t(i,e),Gc(t),Vl(t))}function uH(e){On.call(this,[void 0,void 0],e)}function cH(e,t){Ba.call(this,e),this.parent=t,this.count=0}function AB(e){On.call(this,{},e),this._keys=L6();const t=this._targets=[];t.active=0,t.forEach=i=>{for(let r=0,o=t.active;r<o;++r)i(t[r],r,t)}}function qfe(e){Ba.call(this,null,CWe,e)}function CWe(e){return this.value&&!e.modified()?this.value:Xn(e.name)?er(e.name).map(t=>oh(t)):oh(e.name,e.as)}function fH(e){On.call(this,L6(),e)}function dH(e){On.call(this,[],e)}function AH(e){On.call(this,[],e)}function hH(e){On.call(this,null,e)}function jfe(e){On.call(this,[],e)}sH.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Vfe.concat({key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Vfe},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,default:["value","density"]}]},$i(sH,On,{transform(e,t){const i=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=Qfe(e.distribution,function _We(e){return()=>e.materialize(e.SOURCE).source}(t)),o=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200;let a=e.method||"pdf";"pdf"!==a&&"cdf"!==a&&Gn("Invalid density method: "+a),!e.extent&&!r.data&&Gn("Missing density extent parameter."),a=r[a];const l=e.as||["value","density"],c=fB(a,e.extent||Gp(r.data()),o,s).map(f=>{const d={};return d[l[0]]=f[0],d[l[1]]=f[1],Ls(d)});this.value&&(i.rem=this.value),this.value=i.add=i.source=c}return i}}),lH.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},$i(lH,On,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const i=t.materialize(t.SOURCE).source,r=aH(t.source,e.groupby,qc),o=e.smooth||!1,s=e.field,a=e.step||((e,t)=>W7(Gp(e,t))/30)(i,s),l=p3((v,y)=>s(v)-s(y)),u=e.as||"bin",c=r.length;let g,f=1/0,d=-1/0,h=0;for(;h<c;++h){const v=r[h].sort(l);g=-1;for(const y of vfe(v,a,o,s))y<f&&(f=y),y>d&&(d=y),v[++g][u]=y}return this.value={start:f,stop:d,step:a},t.reflow(!0).modifies(u)}}),$i(Gfe,Ba),uH.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},$i(uH,On,{transform(e,t){const i=this.value,r=e.field,o=t.changed()||t.modified(r.fields)||e.modified("field");let s=i[0],a=i[1];if((o||null==s)&&(s=1/0,a=-1/0),t.visit(o?t.SOURCE:t.ADD,l=>{const u=jc(r(l));null!=u&&(u<s&&(s=u),u>a&&(a=u))}),!Number.isFinite(s)||!Number.isFinite(a)){let l=Vl(r);l&&(l=` for field "${l}"`),t.dataflow.warn(`Infinite extent${l}: [${s}, ${a}]`),s=a=void 0}this.value=[s,a]}}),$i(cH,Ba,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),$i(AB,On,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,i,r){const o=this.value;let a,l,s=fr(o,e)&&o[e];return s?s.value.stamp<i.stamp&&(s.init(i),this.activate(s)):(l=r||(l=this._group[e])&&l.tuple,a=i.dataflow,s=new cH(i.fork(i.NO_SOURCE),this),a.add(s).connect(t(a,e,l)),o[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const i in e)if(0===e[i].count){const r=e[i].detachSubflow;r&&r(),delete e[i],++t}if(t){const i=this._targets.filter(r=>r&&r.count>0);this.initTargets(i)}},initTargets(e){const t=this._targets,i=t.length,r=e?e.length:0;let o=0;for(;o<r;++o)t[o]=e[o];for(;o<i&&null!=t[o];++o)t[o]=null;t.active=r},transform(e,t){const i=t.dataflow,r=e.key,o=e.subflow,s=this._keys,a=e.modified("key"),l=u=>this.subflow(u,o,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,u=>{const c=zr(u),f=s.get(c);void 0!==f&&(s.delete(c),l(f).rem(u))}),t.visit(t.ADD,u=>{const c=r(u);s.set(zr(u),c),l(c).add(u)}),a||t.modified(r.fields)?t.visit(t.MOD,u=>{const c=zr(u),f=s.get(c),d=r(u);f===d?l(d).mod(u):(s.set(c,d),l(f).rem(u),l(d).add(u))}):t.changed(t.MOD)&&t.visit(t.MOD,u=>{l(s.get(zr(u))).mod(u)}),a&&t.visit(t.REFLOW,u=>{const c=zr(u),f=s.get(c),d=r(u);f!==d&&(s.set(c,d),l(f).rem(u),l(d).add(u))}),t.clean()?i.runAfter(()=>{this.clean(),s.clean()}):s.empty>i.cleanThreshold&&i.runAfter(s.clean),t}}),$i(qfe,Ba),fH.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},$i(fH,On,{transform(e,t){const i=t.dataflow,r=this.value,o=t.fork(),s=o.add,a=o.rem,l=o.mod,u=e.expr;let c=!0;function f(d){const h=zr(d),g=u(d,e),v=r.get(h);g&&v?(r.delete(h),s.push(d)):g||v?c&&g&&!v&&l.push(d):(r.set(h,1),a.push(d))}return t.visit(t.REM,d=>{const h=zr(d);r.has(h)?r.delete(h):a.push(d)}),t.visit(t.ADD,d=>{u(d,e)?s.push(d):r.set(zr(d),1)}),t.visit(t.MOD,f),e.modified()&&(c=!1,t.visit(t.REFLOW,f)),r.empty>i.cleanThreshold&&i.runAfter(r.clean),o}}),dH.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},$i(dH,On,{transform(e,t){const i=t.fork(t.NO_SOURCE),r=e.fields,o=zfe(r,e.as||[]),s=e.index||null,a=o.length;return i.rem=this.value,t.visit(t.SOURCE,l=>{const u=r.map(v=>v(l)),c=u.reduce((v,y)=>Math.max(v,y.length),0);let d,h,g,f=0;for(;f<c;++f){for(h=xP(l),d=0;d<a;++d)h[o[d]]=null==(g=u[d][f])?null:g;s&&(h[s]=f),i.add.push(h)}}),this.value=i.source=i.add,s&&i.modifies(s),i.modifies(o)}}),AH.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},$i(AH,On,{transform(e,t){const i=t.fork(t.NO_SOURCE),r=e.fields,o=r.map(Vl),s=e.as||["key","value"],a=s[0],l=s[1],u=r.length;return i.rem=this.value,t.visit(t.SOURCE,c=>{for(let d,f=0;f<u;++f)d=xP(c),d[a]=o[f],d[l]=r[f](c),i.add.push(d)}),this.value=i.source=i.add,i.modifies(s)}}),hH.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},$i(hH,On,{transform(e,t){const i=e.expr,r=e.as,o=e.modified(),s=e.initonly?t.ADD:o?t.SOURCE:t.modified(i.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return o&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(s,a=>a[r]=i(a,e))}}),$i(jfe,On,{transform(e,t){const i=t.fork(t.ALL),r=e.generator;let a,l,u,o=this.value,s=e.size-o.length;if(s>0){for(a=[];--s>=0;)a.push(u=Ls(r(e))),o.push(u);i.add=i.add.length?i.materialize(i.ADD).add.concat(a):a}else l=o.slice(0,-s),i.rem=i.rem.length?i.materialize(i.REM).rem.concat(l):l,o=o.slice(-s);return i.source=this.value=o,i}});const hB={value:"value",median:function eWe(e,t){return function JKe(e,t,i){if(e=Float64Array.from(function*ZKe(e,t){if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(yield i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(r=+r)>=r&&(yield r)}}(e,i)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return ZP(e);if(t>=1)return YP(e);var r,o=(r-1)*t,s=Math.floor(o),a=YP(Tfe(e,s).subarray(0,s+1));return a+(ZP(e.subarray(s+1))-a)*(o-s)}}(e,.5,t)},mean:function tWe(e,t){let i=0,r=0;if(void 0===t)for(let o of e)null!=o&&(o=+o)>=o&&(++i,r+=o);else{let o=-1;for(let s of e)null!=(s=t(s,++o,e))&&(s=+s)>=s&&(++i,r+=s)}if(i)return r/i},min:ZP,max:YP},EWe=[];function pH(e){On.call(this,[],e)}function gH(e){t2.call(this,e)}function mH(e){On.call(this,null,e)}function Kfe(e){Ba.call(this,null,MWe,e)}function MWe(e){return this.value&&!e.modified()?this.value:TU(e.fields,e.flat)}function Wfe(e){On.call(this,[],e),this._pending=null}function vH(e,t,i){i.forEach(Ls);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=i,e._pending=null,r.rem.length&&r.clean(!0),r}function yH(e){On.call(this,{},e)}function Xfe(e){Ba.call(this,null,DWe,e)}function DWe(e){if(this.value&&!e.modified())return this.value;const t=e.extents,i=t.length;let s,a,r=1/0,o=-1/0;for(s=0;s<i;++s)a=t[s],a[0]<r&&(r=a[0]),a[1]>o&&(o=a[1]);return[r,o]}function Yfe(e){Ba.call(this,null,TWe,e)}function TWe(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,i)=>t.concat(i),[])}function Zfe(e){On.call(this,null,e)}function _H(e){t2.call(this,e)}function Jfe(e){AB.call(this,e)}function wH(e){On.call(this,null,e)}function ede(e){On.call(this,null,e)}function bH(e){On.call(this,null,e)}function tde(e){On.call(this,null,e)}function CH(e){On.call(this,[],e),this.count=0}function EH(e){On.call(this,null,e)}function nde(e){On.call(this,null,e),this.modified(!0)}function xH(e){On.call(this,null,e)}pH.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},$i(pH,On,{transform(e,t){var h,g,v,y,b,E,M,k,P,H,i=t.fork(t.ALL),r=function xWe(e){var i,t=e.method||hB.value;if(null!=hB[t])return t===hB.value?(i=void 0!==e.value?e.value:0,()=>i):hB[t];Gn("Unrecognized imputation method: "+t)}(e),o=function SWe(e){const t=e.field;return i=>i?t(i):NaN}(e),s=Vl(e.field),a=Vl(e.key),l=(e.groupby||[]).map(Vl),u=function BWe(e,t,i,r){var c,f,d,h,g,v,y,b,o=E=>E(b),s=[],a=r?r.slice():[],l={},u={};for(a.forEach((E,M)=>l[E]=M+1),h=0,y=e.length;h<y;++h)v=i(b=e[h]),g=l[v]||(l[v]=a.push(v)),(d=u[f=(c=t?t.map(o):EWe)+""])||(d=u[f]=[],s.push(d),d.values=c),d[g-1]=b;return s.domain=a,s}(t.source,e.groupby,e.key,e.keyvals),c=[],f=this.value,d=u.domain.length;for(b=0,k=u.length;b<k;++b)for(v=(h=u[b]).values,g=NaN,M=0;M<d;++M)if(null==h[M]){for(y=u.domain[M],H={_impute:!0},E=0,P=v.length;E<P;++E)H[l[E]]=v[E];H[a]=y,H[s]=Number.isNaN(g)?g=r(h,o):g,c.push(Ls(H))}return c.length&&(i.add=i.materialize(i.ADD).add.concat(c)),f.length&&(i.rem=i.materialize(i.REM).rem.concat(f)),this.value=c,i}}),gH.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:S_},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},$i(gH,t2,{transform(e,t){const i=this,r=e.modified();let o;return i.value&&(r||t.modified(i._inputs,!0))?(o=i.value=r?i.init(e):{},t.visit(t.SOURCE,s=>i.add(s))):(o=i.value=i.value||this.init(e),t.visit(t.REM,s=>i.rem(s)),t.visit(t.ADD,s=>i.add(s))),i.changes(),t.visit(t.SOURCE,s=>{Po(s,o[i.cellkey(s)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let i,r;for(i=0,r=this._alen;i<r;++i)this.celltuple(e[i]),e[i]=null;for(i=0,r=this._mlen;i<r;++i)this.celltuple(t[i]),t[i]=null;this._alen=this._mlen=0}}),mH.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},$i(mH,On,{transform(e,t){const i=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,o=aH(r,e.groupby,e.field),s=(e.groupby||[]).map(Vl),a=e.bandwidth,l=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],c=[];let f=e.extent,d=e.steps||e.minsteps||25,h=e.steps||e.maxsteps||200;"pdf"!==l&&"cdf"!==l&&Gn("Invalid density method: "+l),"shared"===e.resolve&&(f||(f=Gp(r,e.field)),d=h=e.steps||h),o.forEach(g=>{const v=PP(g,a)[l],y=e.counts?g.length:1;fB(v,f||Gp(g),d,h).forEach(E=>{const M={};for(let k=0;k<s.length;++k)M[s[k]]=g.dims[k];M[u[0]]=E[0],M[u[1]]=E[1]*y,c.push(Ls(M))})}),this.value&&(i.rem=this.value),this.value=i.add=i.source=c}return i}}),$i(Kfe,Ba),$i(Wfe,On,{transform(e,t){const i=t.dataflow;return this._pending?vH(this,t,this._pending):function IWe(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?t.StopPropagation:e.values?vH(this,t,i.parse(e.values,e.format)):e.async?{async:i.request(e.url,e.format).then(o=>(this._pending=er(o.data),s=>s.touch(this)))}:i.request(e.url,e.format).then(r=>vH(this,t,er(r.data)))}}),yH.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},$i(yH,On,{transform(e,t){const i=e.fields,r=e.index,o=e.values,s=null==e.default?null:e.default,a=e.modified(),l=i.length;let d,h,g,u=a?t.SOURCE:t.ADD,c=t,f=e.as;return o?(h=o.length,l>1&&!f&&Gn('Multi-field lookup requires explicit "as" parameter.'),f&&f.length!==l*h&&Gn('The "as" parameter has too few output field names.'),f=f||o.map(Vl),d=function(v){for(var E,M,y=0,b=0;y<l;++y)if(null==(M=r.get(i[y](v))))for(E=0;E<h;++E,++b)v[f[b]]=s;else for(E=0;E<h;++E,++b)v[f[b]]=o[E](M)}):(f||Gn("Missing output field names."),d=function(v){for(var b,y=0;y<l;++y)b=r.get(i[y](v)),v[f[y]]=b??s}),a?c=t.reflow(!0):(g=i.some(v=>t.modified(v.fields)),u|=g?t.MOD:0),t.visit(u,d),c.modifies(f)}}),$i(Xfe,Ba),$i(Yfe,Ba),$i(Zfe,On,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),_H.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:S_,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},$i(_H,t2,{_transform:t2.prototype.transform,transform(e,t){return this._transform(function FWe(e,t){const i=e.field,r=e.value,o=("count"===e.op?"__count__":e.op)||"sum",s=Gc(i).concat(Gc(r)),a=function kWe(e,t,i){const r={},o=[];return i.visit(i.SOURCE,s=>{const a=e(s);r[a]||(r[a]=1,o.push(a))}),o.sort(N6),t?o.slice(0,t):o}(i,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:a.map(()=>o),fields:a.map(l=>function OWe(e,t,i,r){return pd(o=>t(o)===e?i(o):NaN,r,e+"")}(l,i,r,s)),as:a.map(l=>l+""),modified:e.modified.bind(e)}}(e,t),t)}}),$i(Jfe,AB,{transform(e,t){const i=e.subflow,r=e.field,o=s=>this.subflow(zr(s),i,t,s);return(e.modified("field")||r&&t.modified(Gc(r)))&&Gn("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,s=>{const a=o(s);r(s).forEach(l=>a.mod(l))}),t.visit(t.ADD,s=>{const a=o(s);r(s).forEach(l=>a.add(Ls(l)))}),t.visit(t.REM,s=>{const a=o(s);r(s).forEach(l=>a.rem(l))})):(t.visit(t.MOD,s=>o(s).mod(s)),t.visit(t.ADD,s=>o(s).add(s)),t.visit(t.REM,s=>o(s).rem(s))),t.clean()&&t.runAfter(()=>this.clean()),t}}),wH.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},$i(wH,On,{transform(e,t){const i=t.fork(t.NO_SOURCE),r=e.fields,o=zfe(e.fields,e.as||[]),s=r?(l,u)=>function NWe(e,t,i,r){for(let o=0,s=i.length;o<s;++o)t[r[o]]=i[o](e);return t}(l,u,r,o):JS;let a;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),t.visit(t.REM,l=>{const u=zr(l);i.rem.push(a[u]),a[u]=null}),t.visit(t.ADD,l=>{const u=s(l,Ls({}));a[zr(l)]=u,i.add.push(u)}),t.visit(t.MOD,l=>{i.mod.push(s(l,a[zr(l)]))}),i}}),$i(ede,On,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),bH.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},$i(bH,On,{transform(e,t){const i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return i.source=this.value,i;const s=aH(t.materialize(t.SOURCE).source,e.groupby,e.field),a=(e.groupby||[]).map(Vl),l=[],u=e.step||.01,c=e.probs||Ffe(u/2,1-1e-14,u),f=c.length;return s.forEach(d=>{const h=kP(d,c);for(let g=0;g<f;++g){const v={};for(let y=0;y<a.length;++y)v[a[y]]=d.dims[y];v[r[0]]=c[g],v[r[1]]=h[g],l.push(Ls(v))}}),this.value&&(i.rem=this.value),this.value=i.add=i.source=l,i}}),$i(tde,On,{transform(e,t){let i,r;return this.value?r=this.value:(i=t=t.addAll(),r=this.value={}),e.derive&&(i=t.fork(t.NO_SOURCE),t.visit(t.REM,o=>{const s=zr(o);i.rem.push(r[s]),r[s]=null}),t.visit(t.ADD,o=>{const s=xP(o);r[zr(o)]=s,i.add.push(s)}),t.visit(t.MOD,o=>{const s=r[zr(o)];for(const a in o)s[a]=o[a],i.modifies(a);i.mod.push(s)})),i}}),CH.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},$i(CH,On,{transform(e,t){const i=t.fork(t.NO_SOURCE),r=e.modified("size"),o=e.size,s=this.value.reduce((f,d)=>(f[zr(d)]=1,f),{});let a=this.value,l=this.count,u=0;function c(f){let d,h;a.length<o?a.push(f):(h=~~((l+1)*fh()),h<a.length&&h>=u&&(d=a[h],s[zr(d)]&&i.rem.push(d),a[h]=f)),++l}if(t.rem.length&&(t.visit(t.REM,f=>{const d=zr(f);s[d]&&(s[d]=-1,i.rem.push(f)),--l}),a=a.filter(f=>-1!==s[zr(f)])),(t.rem.length||r)&&a.length<o&&t.source&&(u=l=a.length,t.visit(t.SOURCE,f=>{s[zr(f)]||c(f)}),u=-1),r&&a.length>o){const f=a.length-o;for(let d=0;d<f;++d)s[zr(a[d])]=-1,i.rem.push(a[d]);a=a.slice(f)}return t.mod.length&&t.visit(t.MOD,f=>{s[zr(f)]&&i.mod.push(f)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||u<0)&&(i.add=a.filter(f=>!s[zr(f)])),this.count=l,this.value=i.source=a,i}}),EH.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},$i(EH,On,{transform(e,t){if(this.value&&!e.modified())return;const i=t.materialize().fork(t.MOD),r=e.as||"data";return i.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ffe(e.start,e.stop,e.step||1).map(o=>{const s={};return s[r]=o,Ls(s)}),i.add=t.add.concat(this.value),i}}),$i(nde,On,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const ide=["unit0","unit1"];function rde(e){On.call(this,L6(),e)}function ode(e){On.call(this,null,e)}xH.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:WU,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:ide}]},$i(xH,On,{transform(e,t){const i=e.field,r=!1!==e.interval,o="utc"===e.timezone,s=this._floor(e,t),a=(o?Q6:H6)(s.unit).offset,l=e.as||ide,u=l[0],c=l[1],f=s.step;let d=s.start||1/0,h=s.stop||-1/0,g=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Gc(i)))&&(g=(t=t.reflow(!0)).SOURCE,d=1/0,h=-1/0),t.visit(g,v=>{const y=i(v);let b,E;null==y?(v[u]=null,r&&(v[c]=null)):(v[u]=b=E=s(y),r&&(v[c]=E=a(b,f)),b<d&&(d=b),E>h&&(h=E))}),s.start=d,s.stop=h,t.modifies(r?l:u)},_floor(e,t){const i="utc"===e.timezone,{units:r,step:o}=e.units?{units:e.units,step:e.step||1}:dce({extent:e.extent||Gp(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=YU(r),a=this.value||{},l=(i?tce:ece)(s,o);return l.unit=ds(s),l.units=s,l.step=o,l.start=a.start,l.stop=a.stop,this.value=l}}),$i(rde,On,{transform(e,t){const i=t.dataflow,r=e.field,o=this.value,s=l=>o.set(r(l),l);let a=!0;return e.modified("field")||t.modified(r.fields)?(o.clear(),t.visit(t.SOURCE,s)):t.changed()?(t.visit(t.REM,l=>o.delete(r(l))),t.visit(t.ADD,s)):a=!1,this.modified(a),o.empty>i.cleanThreshold&&i.runAfter(o.clean),t.fork()}}),$i(ode,On,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(p3(e.sort)):t.source).map(e.field))}});const B_={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const i=t.index,r=t.data;return i&&t.compare(r[i-1],r[i])?e=i+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const i=t.index,r=t.data;return i&&t.compare(r[i-1],r[i])?++e:e}}},percent_rank:function(){const e=B_.rank(),t=e.next;return{init:e.init,next:i=>(t(i)-1)/(i.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const i=t.data,r=t.compare;let o=t.index;if(e<o){for(;o+1<i.length&&!r(i[o],i[o+1]);)++o;e=o}return(1+e)/i.length}}},ntile:function(e,t){(t=+t)>0||Gn("ntile num must be greater than zero.");const i=B_.cume_dist(),r=i.next;return{init:i.init,next:o=>Math.ceil(t*r(o))}},lag:function(e,t){return t=+t||1,{next:i=>{const r=i.index-t;return r>=0?e(i.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:i=>{const r=i.index+t,o=i.data;return r<o.length?e(o[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||Gn("nth_value nth must be greater than zero."),{next:i=>{const r=i.i0+(t-1);return r<i.i1?e(i.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:i=>{const r=e(i.data[i.index]);return null!=r?t=r:t}}},next_value:function(e){let t,i;return{init:()=>(t=null,i=-1),next:r=>{const o=r.data;return r.index<=i?t:(i=function UWe(e,t,i){for(let r=t.length;i<r;++i)if(null!=e(t[i]))return i;return-1}(e,o,r.index))<0?(i=o.length,t=null):t=e(o[i])}}}},PWe=Object.keys(B_);function sde(e){const t=er(e.ops),i=er(e.fields),r=er(e.params),o=er(e.aggregate_params),s=er(e.as),a=this.outputs=[],l=this.windows=[],u={},c={},f=[],d=[];let h=!0;function g(v){er(Gc(v)).forEach(y=>u[y]=1)}g(e.sort),t.forEach((v,y)=>{const b=i[y],E=r[y],M=o[y]||null,k=Vl(b),P=Ofe(v,k,s[y]);if(g(b),a.push(P),fr(B_,v))l.push(function RWe(e,t,i,r){const o=B_[e](t,i);return{init:o.init||qm,update:function(s,a){a[r]=o.next(s)}}}(v,b,E,P));else{if(null==b&&"count"!==v&&Gn("Null aggregate field specified."),"count"===v)return void f.push(P);h=!1;let H=c[k];H||(H=c[k]=[],H.field=b,d.push(H)),H.push(kfe(v,M,P))}}),(f.length||d.length)&&(this.cell=function HWe(e,t,i){e=e.map(u=>Lfe(u,u.field));const r={num:0,agg:null,store:!1,count:t};if(!i)for(var o=e.length,s=r.agg=Array(o),a=0;a<o;++a)s[a]=new e[a](r);if(r.store)var l=r.data=new tH;return r.add=function(u){if(r.num+=1,!i){l&&l.add(u);for(let c=0;c<o;++c)s[c].add(s[c].get(u),u)}},r.rem=function(u){if(r.num-=1,!i){l&&l.rem(u);for(let c=0;c<o;++c)s[c].rem(s[c].get(u),u)}},r.set=function(u){let c,f;for(l&&l.values(),c=0,f=t.length;c<f;++c)u[t[c]]=r.num;if(!i)for(c=0,f=s.length;c<f;++c)s[c].set(u)},r.init=function(){r.num=0,l&&l.reset();for(let u=0;u<o;++u)s[u].init()},r}(d,f,h)),this.inputs=Object.keys(u)}const ade=sde.prototype;function SH(e){On.call(this,{},e),this._mlen=0,this._mods=[]}function QWe(e,t,i,r){const o=r.sort,s=o&&!r.ignorePeers,a=r.frame||[null,0],l=e.data(i),u=l.length,c=s?function iWe(e){let t,i,r;function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}return 2!==e.length?(t=C_,i=(l,u)=>C_(e(l),u),r=(l,u)=>e(l)-u):(t=e===C_||e===nWe?e:rWe,i=e,r=e),{left:o,center:function a(l,u,c=0,f=l.length){const d=o(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d},right:function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}}}(o):null,f={i0:0,i1:0,p0:0,p1:0,index:0,data:l,compare:o||Kc(-1)};t.init();for(let d=0;d<u;++d)VWe(f,a,d,u),s&&zWe(f,c),t.update(f,l[d])}function VWe(e,t,i,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,i-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,i+Math.abs(t[1])+1),e.index=i}function zWe(e,t){const i=e.i0,r=e.i1-1,o=e.compare,s=e.data,a=s.length-1;i>0&&!o(s[i],s[i-1])&&(e.i0=t.left(s,s[i])),r<a&&!o(s[r],s[r+1])&&(e.i1=t.right(s,s[r]))}function pB(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function gB(e){this._context=e}function n2(){}function lde(e){this._context=e}function ude(e){this._context=e}function cde(e,t){this._basis=new gB(e),this._beta=t}ade.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},ade.update=function(e,t){const i=this.cell,r=this.windows,o=e.data,s=r&&r.length;let a;if(i){for(a=e.p0;a<e.i0;++a)i.rem(o[a]);for(a=e.p1;a<e.i1;++a)i.add(o[a]);i.set(t)}for(a=0;a<s;++a)r[a].update(e,t)},SH.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:PWe.concat(S_)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},$i(SH,On,{transform(e,t){this.stamp=t.stamp;const i=e.modified(),r=p3(e.sort),o=JP(e.groupby),s=l=>this.group(o(l));let a=this.state;(!a||i)&&(a=this.state=new sde(e)),i||t.modified(a.inputs)?(this.value={},t.visit(t.SOURCE,l=>s(l).add(l))):(t.visit(t.REM,l=>s(l).remove(l)),t.visit(t.ADD,l=>s(l).add(l)));for(let l=0,u=this._mlen;l<u;++l)QWe(this._mods[l],a,r,e);return this._mlen=0,this._mods=[],t.reflow(i).modifies(a.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=Rfe(zr),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),gB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pB(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},lde.prototype={areaStart:n2,areaEnd:n2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ude.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break;case 3:this._point=4;default:pB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},cde.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,i=e.length-1;if(i>0)for(var u,r=e[0],o=t[0],s=e[i]-r,a=t[i]-o,l=-1;++l<=i;)this._basis.point(this._beta*e[l]+(1-this._beta)*(r+(u=l/i)*s),this._beta*t[l]+(1-this._beta)*(o+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const jWe=function e(t){function i(r){return 1===t?new gB(r):new cde(r,t)}return i.beta=function(r){return e(+r)},i}(.85);function mB(e,t,i){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-i),e._x2,e._y2)}function BH(e,t){this._context=e,this._k=(1-t)/6}BH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:mB(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:mB(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const KWe=function e(t){function i(r){return new BH(r,t)}return i.tension=function(r){return e(+r)},i}(0);function MH(e,t){this._context=e,this._k=(1-t)/6}MH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mB(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const WWe=function e(t){function i(r){return new MH(r,t)}return i.tension=function(r){return e(+r)},i}(0);function IH(e,t){this._context=e,this._k=(1-t)/6}IH.prototype={areaStart:n2,areaEnd:n2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:mB(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const XWe=function e(t){function i(r){return new IH(r,t)}return i.tension=function(r){return e(+r)},i}(0),fde=Math.abs,Yc=Math.atan2,y1=Math.cos,YWe=Math.max,W6=Math.min,yd=Math.sin,el=Math.sqrt,Zc=1e-12,i2=Math.PI,vB=i2/2,M_=2*i2;function dde(e){return e>=1?vB:e<=-1?-vB:Math.asin(e)}function DH(e,t,i){var r=e._x1,o=e._y1,s=e._x2,a=e._y2;if(e._l01_a>Zc){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,o=(o*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Zc){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*c+e._x1*e._l23_2a-t*e._l12_2a)/f,a=(a*c+e._y1*e._l23_2a-i*e._l12_2a)/f}e._context.bezierCurveTo(r,o,s,a,e._x2,e._y2)}function Ade(e,t){this._context=e,this._alpha=t}Ade.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:DH(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const JWe=function e(t){function i(r){return t?new Ade(r,t):new BH(r,0)}return i.alpha=function(r){return e(+r)},i}(.5);function hde(e,t){this._context=e,this._alpha=t}hde.prototype={areaStart:n2,areaEnd:n2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:DH(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const eXe=function e(t){function i(r){return t?new hde(r,t):new IH(r,0)}return i.alpha=function(r){return e(+r)},i}(.5);function pde(e,t){this._context=e,this._alpha=t}pde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:DH(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const tXe=function e(t){function i(r){return t?new pde(r,t):new MH(r,0)}return i.alpha=function(r){return e(+r)},i}(.5);function gde(e){this._context=e}function TH(e){return new gde(e)}function mde(e){this._context=e}function vde(e){return e<0?-1:1}function yde(e,t,i){var r=e._x1-e._x0,o=t-e._x1,s=(e._y1-e._y0)/(r||o<0&&-0),a=(i-e._y1)/(o||r<0&&-0),l=(s*o+a*r)/(r+o);return(vde(s)+vde(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function _de(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function FH(e,t,i){var r=e._x0,s=e._x1,a=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,e._y0+l*t,s-l,a-l*i,s,a)}function yB(e){this._context=e}function wde(e){this._context=new bde(e)}function bde(e){this._context=e}function Cde(e){this._context=e}function Ede(e){var t,r,i=e.length-1,o=new Array(i),s=new Array(i),a=new Array(i);for(o[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<i-1;++t)o[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[i-1]=2,s[i-1]=7,a[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)s[t]-=r=o[t]/s[t-1],a[t]-=r*a[t-1];for(o[i-1]=a[i-1]/s[i-1],t=i-2;t>=0;--t)o[t]=(a[t]-o[t+1])/s[t];for(s[i-1]=(e[i]+o[i-1])/2,t=0;t<i-1;++t)s[t]=2*e[t+1]-o[t+1];return[o,s]}function _B(e,t){this._context=e,this._t=t}function Gs(e){return function(){return e}}gde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},mde.prototype={areaStart:n2,areaEnd:n2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},yB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:FH(this,this._t0,_de(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,FH(this,_de(this,i=yde(this,e,t)),i);break;default:FH(this,this._t0,i=yde(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}},(wde.prototype=Object.create(yB.prototype)).point=function(e,t){yB.prototype.point.call(this,t,e)},bde.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,r,o,s){this._context.bezierCurveTo(t,e,r,i,s,o)}},Cde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===i)this._context.lineTo(e[1],t[1]);else for(var r=Ede(e),o=Ede(t),s=0,a=1;a<i;++s,++a)this._context.bezierCurveTo(r[0][s],o[0][s],r[1][s],o[1][s],e[a],t[a]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},_B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}}this._x=e,this._y=t}};const OH=Math.PI,kH=2*OH,m3=1e-6,uXe=kH-m3;function xde(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}class wB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?xde:function cXe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xde;const i=10**t;return function(r){this._+=r[0];for(let o=1,s=r.length;o<s;++o)this._+=Math.round(arguments[o]*i)/i+r[o]}}(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,r,o){this._append`Q${+t},${+i},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,i,r,o,s,a){this._append`C${+t},${+i},${+r},${+o},${this._x1=+s},${this._y1=+a}`}arcTo(t,i,r,o,s){if(t=+t,i=+i,r=+r,o=+o,(s=+s)<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,u=r-t,c=o-i,f=a-t,d=l-i,h=f*f+d*d;if(null===this._x1)this._append`M${this._x1=t},${this._y1=i}`;else if(h>m3)if(Math.abs(d*u-c*f)>m3&&s){let g=r-a,v=o-l,y=u*u+c*c,b=g*g+v*v,E=Math.sqrt(y),M=Math.sqrt(h),k=s*Math.tan((OH-Math.acos((y+h-b)/(2*E*M)))/2),P=k/M,H=k/E;Math.abs(P-1)>m3&&this._append`L${t+P*f},${i+P*d}`,this._append`A${s},${s},0,0,${+(d*g>f*v)},${this._x1=t+H*u},${this._y1=i+H*c}`}else this._append`L${this._x1=t},${this._y1=i}`}arc(t,i,r,o,s,a){if(t=+t,i=+i,a=!!a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(o),u=r*Math.sin(o),c=t+l,f=i+u,d=1^a,h=a?o-s:s-o;null===this._x1?this._append`M${c},${f}`:(Math.abs(this._x1-c)>m3||Math.abs(this._y1-f)>m3)&&this._append`L${c},${f}`,r&&(h<0&&(h=h%kH+kH),h>uXe?this._append`A${r},${r},0,1,${d},${t-l},${i-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=f}`:h>m3&&this._append`A${r},${r},0,${+(h>=OH)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=i+r*Math.sin(s)}`)}rect(t,i,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function bB(){return new wB}function CB(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(null==i)t=null;else{const r=Math.floor(i);if(!(r>=0))throw new RangeError(`invalid digits: ${i}`);t=r}return e},()=>new wB(t)}function fXe(e){return e.innerRadius}function dXe(e){return e.outerRadius}function AXe(e){return e.startAngle}function hXe(e){return e.endAngle}function pXe(e){return e&&e.padAngle}function EB(e,t,i,r,o,s,a){var l=e-i,u=t-r,c=(a?s:-s)/el(l*l+u*u),f=c*u,d=-c*l,h=e+f,g=t+d,v=i+f,y=r+d,b=(h+v)/2,E=(g+y)/2,M=v-h,k=y-g,P=M*M+k*k,H=o-s,X=h*y-v*g,z=(k<0?-1:1)*el(YWe(0,H*H*P-X*X)),se=(X*k-M*z)/P,ye=(-X*M-k*z)/P,Ie=(X*k+M*z)/P,Ee=(-X*M+k*z)/P,Je=se-b,Ze=ye-E,W=Ie-b,Z=Ee-E;return Je*Je+Ze*Ze>W*W+Z*Z&&(se=Ie,ye=Ee),{cx:se,cy:ye,x01:-f,y01:-d,x11:se*(o/H-1),y11:ye*(o/H-1)}}function Sde(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Bde(e){return e[0]}function Mde(e){return e[1]}function Ide(e,t){var i=Gs(!0),r=null,o=TH,s=null,a=CB(l);function l(u){var c,d,g,f=(u=Sde(u)).length,h=!1;for(null==r&&(s=o(g=a())),c=0;c<=f;++c)!(c<f&&i(d=u[c],c,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,c,u),+t(d,c,u));if(g)return s=null,g+""||null}return e="function"==typeof e?e:void 0===e?Bde:Gs(e),t="function"==typeof t?t:void 0===t?Mde:Gs(t),l.x=function(u){return arguments.length?(e="function"==typeof u?u:Gs(+u),l):e},l.y=function(u){return arguments.length?(t="function"==typeof u?u:Gs(+u),l):t},l.defined=function(u){return arguments.length?(i="function"==typeof u?u:Gs(!!u),l):i},l.curve=function(u){return arguments.length?(o=u,null!=r&&(s=o(r)),l):o},l.context=function(u){return arguments.length?(null==u?r=s=null:s=o(r=u),l):r},l}function Dde(e,t,i){var r=null,o=Gs(!0),s=null,a=TH,l=null,u=CB(c);function c(d){var h,g,v,b,M,y=(d=Sde(d)).length,E=!1,k=new Array(y),P=new Array(y);for(null==s&&(l=a(M=u())),h=0;h<=y;++h){if(!(h<y&&o(b=d[h],h,d))===E)if(E=!E)g=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=g;--v)l.point(k[v],P[v]);l.lineEnd(),l.areaEnd()}E&&(k[h]=+e(b,h,d),P[h]=+t(b,h,d),l.point(r?+r(b,h,d):k[h],i?+i(b,h,d):P[h]))}if(M)return l=null,M+""||null}function f(){return Ide().defined(o).curve(a).context(s)}return e="function"==typeof e?e:void 0===e?Bde:Gs(+e),t="function"==typeof t?t:Gs(void 0===t?0:+t),i="function"==typeof i?i:void 0===i?Mde:Gs(+i),c.x=function(d){return arguments.length?(e="function"==typeof d?d:Gs(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e="function"==typeof d?d:Gs(+d),c):e},c.x1=function(d){return arguments.length?(r=null==d?null:"function"==typeof d?d:Gs(+d),c):r},c.y=function(d){return arguments.length?(t="function"==typeof d?d:Gs(+d),i=null,c):t},c.y0=function(d){return arguments.length?(t="function"==typeof d?d:Gs(+d),c):t},c.y1=function(d){return arguments.length?(i=null==d?null:"function"==typeof d?d:Gs(+d),c):i},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(i)},c.lineX1=function(){return f().x(r).y(t)},c.defined=function(d){return arguments.length?(o="function"==typeof d?d:Gs(!!d),c):o},c.curve=function(d){return arguments.length?(a=d,null!=s&&(l=a(s)),c):a},c.context=function(d){return arguments.length?(null==d?s=l=null:l=a(s=d),c):s},c}bB.prototype=wB.prototype,el(3);const NH={draw(e,t){const i=el(t/i2);e.moveTo(i,0),e.arc(0,0,i,0,M_)}};el(1/3),yd(i2/10),yd(7*i2/10);function r2(e,t){if(typeof document<"u"&&document.createElement){const i=document.createElement("canvas");if(i&&i.getContext)return i.width=e,i.height=t,i}return null}function I_(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HXe(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ode(e){let t,i,r;function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}return 2!==e.length?(t=I_,i=(l,u)=>I_(e(l),u),r=(l,u)=>e(l)-u):(t=e===I_||e===HXe?e:QXe,i=e,r=e),{left:o,center:function a(l,u,c=0,f=l.length){const d=o(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d},right:function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}}}function QXe(){return 0}function kde(e){return null===e?NaN:+e}yd(M_/10),y1(M_/10),el(3),el(3),el(3),el(12);const UH=Ode(I_).right,D_=(Ode(kde),UH),VXe=Math.sqrt(50),zXe=Math.sqrt(10),$Xe=Math.sqrt(2);function xB(e,t,i){const r=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),a=s>=VXe?10:s>=zXe?5:s>=$Xe?2:1;let l,u,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?xB(e,t,2*i):[l,u,c]}function PH(e,t,i){if(!((i=+i)>0))return[];if((e=+e)==(t=+t))return[e];const r=t<e,[o,s,a]=r?xB(t,e,i):xB(e,t,i);if(!(s>=o))return[];const l=s-o+1,u=new Array(l);if(r)if(a<0)for(let c=0;c<l;++c)u[c]=(s-c)/-a;else for(let c=0;c<l;++c)u[c]=(s-c)*a;else if(a<0)for(let c=0;c<l;++c)u[c]=(o+c)/-a;else for(let c=0;c<l;++c)u[c]=(o+c)*a;return u}function HH(e,t,i){return xB(e=+e,t=+t,i=+i)[2]}function Lde(e,t,i,r,o){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*i+(1+3*e+3*s-3*a)*r+a*o)/6}function Rde(e){var t=e.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),o=e[r],s=e[r+1];return Lde((i-r/t)*t,r>0?e[r-1]:2*o-s,o,s,r<t-1?e[r+2]:2*s-o)}}function Ude(e){var t=e.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*t);return Lde((i-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}}const SB=e=>()=>e;function Pde(e,t){return function(i){return e+i*t}}function BB(e,t){var i=t-e;return i?Pde(e,i>180||i<-180?i-360*Math.round(i/360):i):SB(isNaN(e)?t:e)}function zu(e,t){var i=t-e;return i?Pde(e,i):SB(isNaN(e)?t:e)}const QH=function e(t){var i=function jXe(e){return 1==(e=+e)?zu:function(t,i){return i-t?function qXe(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(r){return Math.pow(e+r*t,i)}}(t,i,e):SB(isNaN(t)?i:t)}}(t);function r(o,s){var a=i((o=u0(o)).r,(s=u0(s)).r),l=i(o.g,s.g),u=i(o.b,s.b),c=zu(o.opacity,s.opacity);return function(f){return o.r=a(f),o.g=l(f),o.b=u(f),o.opacity=c(f),o+""}}return r.gamma=e,r}(1);function Hde(e){return function(t){var a,l,i=t.length,r=new Array(i),o=new Array(i),s=new Array(i);for(a=0;a<i;++a)l=u0(t[a]),r[a]=l.r||0,o[a]=l.g||0,s[a]=l.b||0;return r=e(r),o=e(o),s=e(s),l.opacity=1,function(u){return l.r=r(u),l.g=o(u),l.b=s(u),l+""}}}var KXe=Hde(Rde),WXe=Hde(Ude);function VH(e,t){t||(t=[]);var o,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(s){for(o=0;o<i;++o)r[o]=e[o]*(1-s)+t[o]*s;return r}}function Qde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XXe(e,t){return(Qde(t)?VH:Vde)(e,t)}function Vde(e,t){var a,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),s=new Array(i);for(a=0;a<r;++a)o[a]=v3(e[a],t[a]);for(;a<i;++a)s[a]=t[a];return function(l){for(a=0;a<r;++a)s[a]=o[a](l);return s}}function zde(e,t){var i=new Date;return e=+e,t=+t,function(r){return i.setTime(e*(1-r)+t*r),i}}function g0(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function $de(e,t){var o,i={},r={};for(o in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)o in e?i[o]=v3(e[o],t[o]):r[o]=t[o];return function(s){for(o in i)r[o]=i[o](s);return r}}var zH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$H=new RegExp(zH.source,"g");function Gde(e,t){var r,o,s,i=zH.lastIndex=$H.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(r=zH.exec(e))&&(o=$H.exec(t));)(s=o.index)>i&&(s=t.slice(i,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:g0(r,o)})),i=$H.lastIndex;return i<t.length&&(s=t.slice(i),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?function ZXe(e){return function(t){return e(t)+""}}(u[0].x):function YXe(e){return function(){return e}}(t):(t=u.length,function(c){for(var d,f=0;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function v3(e,t){var r,i=typeof t;return null==t||"boolean"===i?SB(t):("number"===i?g0:"string"===i?(r=l0(t))?(t=r,QH):Gde:t instanceof l0?QH:t instanceof Date?zde:Qde(t)?VH:Array.isArray(t)?Vde:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?$de:g0)(e,t)}function MB(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}function GH(e){return+e}var qde=[0,1];function _d(e){return e}function qH(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:function JXe(e){return function(){return e}}(isNaN(t)?NaN:.5)}function tYe(e,t,i){var r=e[0],o=e[1],s=t[0],a=t[1];return o<r?(r=qH(o,r),s=i(a,s)):(r=qH(r,o),s=i(s,a)),function(l){return s(r(l))}}function nYe(e,t,i){var r=Math.min(e.length,t.length)-1,o=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=qH(e[a],e[a+1]),s[a]=i(t[a],t[a+1]);return function(l){var u=D_(e,l,1,r)-1;return s[u](o[u](l))}}function T_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function IB(){var r,o,s,l,u,c,e=qde,t=qde,i=v3,a=_d;function f(){var h=Math.min(e.length,t.length);return a!==_d&&(a=function eYe(e,t){var i;return e>t&&(i=e,e=t,t=i),function(r){return Math.max(e,Math.min(t,r))}}(e[0],e[h-1])),l=h>2?nYe:tYe,u=c=null,d}function d(h){return null==h||isNaN(h=+h)?s:(u||(u=l(e.map(r),t,i)))(r(a(h)))}return d.invert=function(h){return a(o((c||(c=l(t,e.map(r),g0)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,GH),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),i=MB,f()},d.clamp=function(h){return arguments.length?(a=!!h||_d,f()):a!==_d},d.interpolate=function(h){return arguments.length?(i=h,f()):i},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,g){return r=h,o=g,f()}}function jde(){return IB()(_d,_d)}function Kp(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function o2(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}function Kde(e,t,i,r){var s,o=function GXe(e,t,i){i=+i;const r=(t=+t)<(e=+e),o=r?HH(t,e,i):HH(e,t,i);return(r?-1:1)*(o<0?1/-o:o)}(e,t,i);switch((r=w6(r??",f")).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null==r.precision&&!isNaN(s=wae(o,a))&&(r.precision=s),bR(r,a);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(s=bae(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(s=Cae(o))&&(r.precision=s-2*("%"===r.type))}return b6(r)}function y3(e){var t=e.domain;return e.ticks=function(i){var r=t();return PH(r[0],r[r.length-1],i??10)},e.tickFormat=function(i,r){var o=t();return Kde(o[0],o[o.length-1],i??10,r)},e.nice=function(i){null==i&&(i=10);var u,c,r=t(),o=0,s=r.length-1,a=r[o],l=r[s],f=10;for(l<a&&(c=a,a=l,l=c,c=o,o=s,s=c);f-- >0;){if((c=HH(a,l,i))===u)return r[o]=a,r[s]=l,t(r);if(c>0)a=Math.floor(a/c)*c,l=Math.ceil(l/c)*c;else{if(!(c<0))break;a=Math.ceil(a*c)/c,l=Math.floor(l*c)/c}u=c}return e},e}function Yde(e,t){var a,i=0,r=(e=e.slice()).length-1,o=e[i],s=e[r];return s<o&&(a=i,i=r,r=a,a=o,o=s,s=a),e[i]=t.floor(o),e[r]=t.ceil(s),e}function Zde(e){return Math.log(e)}function Jde(e){return Math.exp(e)}function iYe(e){return-Math.log(-e)}function rYe(e){return-Math.exp(-e)}function oYe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eAe(e){return(t,i)=>-e(-t,i)}function jH(e){const t=e(Zde,Jde),i=t.domain;let o,s,r=10;function a(){return o=function aYe(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(r),s=function sYe(e){return 10===e?oYe:e===Math.E?Math.exp:t=>Math.pow(e,t)}(r),i()[0]<0?(o=eAe(o),s=eAe(s),e(iYe,rYe)):e(Zde,Jde),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(i(l),a()):i()},t.ticks=l=>{const u=i();let c=u[0],f=u[u.length-1];const d=f<c;d&&([c,f]=[f,c]);let v,y,h=o(c),g=o(f);const b=null==l?10:+l;let E=[];if(!(r%1)&&g-h<b){if(h=Math.floor(h),g=Math.ceil(g),c>0){for(;h<=g;++h)for(v=1;v<r;++v)if(y=h<0?v/s(-h):v*s(h),!(y<c)){if(y>f)break;E.push(y)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/s(-h):v*s(h),!(y<c)){if(y>f)break;E.push(y)}2*E.length<b&&(E=PH(c,f,b))}else E=PH(h,g,Math.min(g-h,b)).map(s);return d?E.reverse():E},t.tickFormat=(l,u)=>{if(null==l&&(l=10),null==u&&(u=10===r?"s":","),"function"!=typeof u&&(!(r%1)&&null==(u=w6(u)).precision&&(u.trim=!0),u=b6(u)),l===1/0)return u;const c=Math.max(1,r*l/t.ticks().length);return f=>{let d=f/s(Math.round(o(f)));return d*r<r-.5&&(d*=r),d<=c?u(f):""}},t.nice=()=>i(Yde(i(),{floor:l=>s(Math.floor(o(l))),ceil:l=>s(Math.ceil(o(l)))})),t}function nAe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lYe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uYe(e){return e<0?-e*e:e*e}function KH(e){var t=e(_d,_d),i=1;return t.exponent=function(o){return arguments.length?(i=+o,function r(){return 1===i?e(_d,_d):.5===i?e(lYe,uYe):e(nAe(i),nAe(1/i))}()):i},y3(t)}function WH(){var e=KH(IB());return e.copy=function(){return T_(e,WH()).exponent(e.exponent())},Kp.apply(e,arguments),e}function iAe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rAe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function XH(e){var t=1,i=e(iAe(t),rAe(t));return i.constant=function(r){return arguments.length?e(iAe(t=+r),rAe(t)):t},y3(i)}var DB=Qu(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});DB.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Qu(function(t){t.setTime(Math.floor(t/e)*e)},function(t,i){t.setTime(+t+i*e)},function(t,i){return(i-t)/e}):DB:null};const fYe=DB;var sAe=Qu(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*g1)},function(e,t){return(t-e)/g1},function(e){return e.getUTCSeconds()});const X6=sAe;var aAe=Qu(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*g1)},function(e,t){e.setTime(+e+t*lh)},function(e,t){return(t-e)/lh},function(e){return e.getMinutes()});const lAe=aAe;var uAe=Qu(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*g1-e.getMinutes()*lh)},function(e,t){e.setTime(+e+t*m1)},function(e,t){return(t-e)/m1},function(e){return e.getHours()});const cAe=uAe;var fAe=Qu(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const dAe=fAe;var AAe=Qu(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*lh)},function(e,t){return(t-e)/lh},function(e){return e.getUTCMinutes()});const hAe=AAe;var pAe=Qu(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*m1)},function(e,t){return(t-e)/m1},function(e){return e.getUTCHours()});const gAe=pAe;var mAe=Qu(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const vAe=mAe;function yAe(e,t,i,r,o,s){const a=[[X6,1,g1],[X6,5,5e3],[X6,15,15e3],[X6,30,3e4],[s,1,lh],[s,5,5*lh],[s,15,15*lh],[s,30,30*lh],[o,1,m1],[o,3,3*m1],[o,6,6*m1],[o,12,12*m1],[r,1,c3],[r,2,2*c3],[i,1,sP],[t,1,2592e6],[t,3,7776e6],[e,1,aP]];function u(c,f,d){const h=Math.abs(f-c)/d,g=PL(([,,b])=>b).right(a,h);if(g===a.length)return e.every($L(c/aP,f/aP,d));if(0===g)return fYe.every(Math.max($L(c,f,d),1));const[v,y]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(y)}return[function l(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const g=d&&"function"==typeof d.range?d:u(c,f,d),v=g?g.range(c,+f+1):[];return h?v.reverse():v},u]}const[dYe,AYe]=yAe(ch,vAe,c_,V6,gAe,hAe),[hYe,pYe]=yAe(uh,dAe,f_,z6,cAe,lAe);function YH(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ZH(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function F_(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}var Y6,kAe,NAe,_Ae={"-":"",_:" ",0:"0"},$u=/^\s*\d+/,mYe=/^%/,vYe=/[\\^$*+?|[\]().{}]/g;function Ss(e,t,i){var r=e<0?"-":"",o=(r?-e:e)+"",s=o.length;return r+(s<i?new Array(i-s+1).join(t)+o:o)}function yYe(e){return e.replace(vYe,"\\$&")}function O_(e){return new RegExp("^(?:"+e.map(yYe).join("|")+")","i")}function k_(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function _Ye(e,t,i){var r=$u.exec(t.slice(i,i+1));return r?(e.w=+r[0],i+r[0].length):-1}function wYe(e,t,i){var r=$u.exec(t.slice(i,i+1));return r?(e.u=+r[0],i+r[0].length):-1}function bYe(e,t,i){var r=$u.exec(t.slice(i,i+2));return r?(e.U=+r[0],i+r[0].length):-1}function CYe(e,t,i){var r=$u.exec(t.slice(i,i+2));return r?(e.V=+r[0],i+r[0].length):-1}function EYe(e,t,i){var r=$u.exec(t.slice(i,i+2));return r?(e.W=+r[0],i+r[0].length):-1}function wAe(e,t,i){var r=$u.exec(t.slice(i,i+4));return r?(e.y=+r[0],i+r[0].length):-1}function bAe(e,t,i){var r=$u.exec(t.slice(i,i+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function xYe(e,t,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function SYe(e,t,i){var r=$u.exec(t.slice(i,i+1));return r?(e.q=3*r[0]-3,i+r[0].length):-1}function BYe(e,t,i){var r=$u.exec(t.slice(i,i+2));return r?(e.m=r[0]-1,i+r[0].length):-1}function CAe(e,t,i){var r=$u.exec(t.slice(i,i+2));return r?(e.d=+r[0],i+r[0].length):-1}function MYe(e,t,i){var r=$u.exec(t.slice(i,i+3));return r?(e.m=0,e.d=+r[0],i+r[0].length):-1}function EAe(e,t,i){var r=$u.exec(t.slice(i,i+2));return r?(e.H=+r[0],i+r[0].length):-1}function IYe(e,t,i){var r=$u.exec(t.slice(i,i+2));return r?(e.M=+r[0],i+r[0].length):-1}function DYe(e,t,i){var r=$u.exec(t.slice(i,i+2));return r?(e.S=+r[0],i+r[0].length):-1}function TYe(e,t,i){var r=$u.exec(t.slice(i,i+3));return r?(e.L=+r[0],i+r[0].length):-1}function FYe(e,t,i){var r=$u.exec(t.slice(i,i+6));return r?(e.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function OYe(e,t,i){var r=mYe.exec(t.slice(i,i+1));return r?i+r[0].length:-1}function kYe(e,t,i){var r=$u.exec(t.slice(i));return r?(e.Q=+r[0],i+r[0].length):-1}function NYe(e,t,i){var r=$u.exec(t.slice(i));return r?(e.s=+r[0],i+r[0].length):-1}function xAe(e,t){return Ss(e.getDate(),t,2)}function LYe(e,t){return Ss(e.getHours(),t,2)}function RYe(e,t){return Ss(e.getHours()%12||12,t,2)}function UYe(e,t){return Ss(1+z6.count(uh(e),e),t,3)}function SAe(e,t){return Ss(e.getMilliseconds(),t,3)}function PYe(e,t){return SAe(e,t)+"000"}function HYe(e,t){return Ss(e.getMonth()+1,t,2)}function QYe(e,t){return Ss(e.getMinutes(),t,2)}function VYe(e,t){return Ss(e.getSeconds(),t,2)}function zYe(e){var t=e.getDay();return 0===t?7:t}function $Ye(e,t){return Ss(f_.count(uh(e)-1,e),t,2)}function BAe(e){var t=e.getDay();return t>=4||0===t?p0(e):p0.ceil(e)}function GYe(e,t){return e=BAe(e),Ss(p0.count(uh(e),e)+(4===uh(e).getDay()),t,2)}function qYe(e){return e.getDay()}function jYe(e,t){return Ss(h3.count(uh(e)-1,e),t,2)}function KYe(e,t){return Ss(e.getFullYear()%100,t,2)}function WYe(e,t){return Ss((e=BAe(e)).getFullYear()%100,t,2)}function XYe(e,t){return Ss(e.getFullYear()%1e4,t,4)}function YYe(e,t){var i=e.getDay();return Ss((e=i>=4||0===i?p0(e):p0.ceil(e)).getFullYear()%1e4,t,4)}function ZYe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ss(t/60|0,"0",2)+Ss(t%60,"0",2)}function MAe(e,t){return Ss(e.getUTCDate(),t,2)}function JYe(e,t){return Ss(e.getUTCHours(),t,2)}function eZe(e,t){return Ss(e.getUTCHours()%12||12,t,2)}function tZe(e,t){return Ss(1+V6.count(ch(e),e),t,3)}function IAe(e,t){return Ss(e.getUTCMilliseconds(),t,3)}function nZe(e,t){return IAe(e,t)+"000"}function iZe(e,t){return Ss(e.getUTCMonth()+1,t,2)}function rZe(e,t){return Ss(e.getUTCMinutes(),t,2)}function oZe(e,t){return Ss(e.getUTCSeconds(),t,2)}function sZe(e){var t=e.getUTCDay();return 0===t?7:t}function aZe(e,t){return Ss(c_.count(ch(e)-1,e),t,2)}function DAe(e){var t=e.getUTCDay();return t>=4||0===t?h0(e):h0.ceil(e)}function lZe(e,t){return e=DAe(e),Ss(h0.count(ch(e),e)+(4===ch(e).getUTCDay()),t,2)}function uZe(e){return e.getUTCDay()}function cZe(e,t){return Ss(d3.count(ch(e)-1,e),t,2)}function fZe(e,t){return Ss(e.getUTCFullYear()%100,t,2)}function dZe(e,t){return Ss((e=DAe(e)).getUTCFullYear()%100,t,2)}function AZe(e,t){return Ss(e.getUTCFullYear()%1e4,t,4)}function hZe(e,t){var i=e.getUTCDay();return Ss((e=i>=4||0===i?h0(e):h0.ceil(e)).getUTCFullYear()%1e4,t,4)}function pZe(){return"+0000"}function TAe(){return"%"}function FAe(e){return+e}function OAe(e){return Math.floor(+e/1e3)}function yZe(e){return new Date(e)}function _Ze(e){return e instanceof Date?+e:+new Date(+e)}function JH(e,t,i,r,o,s,a,l,u,c){var f=jde(),d=f.invert,h=f.domain,g=c(".%L"),v=c(":%S"),y=c("%I:%M"),b=c("%I %p"),E=c("%a %d"),M=c("%b %d"),k=c("%B"),P=c("%Y");function H(X){return(u(X)<X?g:l(X)<X?v:a(X)<X?y:s(X)<X?b:r(X)<X?o(X)<X?E:M:i(X)<X?k:P)(X)}return f.invert=function(X){return new Date(d(X))},f.domain=function(X){return arguments.length?h(Array.from(X,_Ze)):h().map(yZe)},f.ticks=function(X){var z=h();return e(z[0],z[z.length-1],X??10)},f.tickFormat=function(X,z){return null==z?H:c(z)},f.nice=function(X){var z=h();return(!X||"function"!=typeof X.range)&&(X=t(z[0],z[z.length-1],X??10)),X?h(Yde(z,X)):f},f.copy=function(){return T_(f,JH(e,t,i,r,o,s,a,l,u,c))},f}function TB(){var i,r,o,s,u,e=0,t=1,a=_d,l=!1;function c(d){return null==d||isNaN(d=+d)?u:a(0===o?.5:(d=(s(d)-i)*o,l?Math.max(0,Math.min(1,d)):d))}function f(d){return function(h){var g,v;return arguments.length?([g,v]=h,a=d(g,v),c):[a(0),a(1)]}}return c.domain=function(d){return arguments.length?([e,t]=d,i=s(e=+e),r=s(t=+t),o=i===r?0:1/(r-i),c):[e,t]},c.clamp=function(d){return arguments.length?(l=!!d,c):l},c.interpolator=function(d){return arguments.length?(a=d,c):a},c.range=f(v3),c.rangeRound=f(MB),c.unknown=function(d){return arguments.length?(u=d,c):u},function(d){return s=d,i=d(e),r=d(t),o=i===r?0:1/(r-i),c}}function s2(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eQ(){var e=y3(TB()(_d));return e.copy=function(){return s2(e,eQ())},o2.apply(e,arguments)}function tQ(){var e=KH(TB());return e.copy=function(){return s2(e,tQ()).exponent(e.exponent())},o2.apply(e,arguments)}function nQ(e,t){void 0===t&&(t=e,e=v3);for(var i=0,r=t.length-1,o=t[0],s=new Array(r<0?0:r);i<r;)s[i]=e(o,o=t[++i]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function FB(){var o,s,a,l,u,f,h,e=0,t=.5,i=1,r=1,c=_d,d=!1;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+f(y))-s)*(r*y<r*s?l:u),c(d?Math.max(0,Math.min(1,y)):y))}function v(y){return function(b){var E,M,k;return arguments.length?([E,M,k]=b,c=nQ(y,[E,M,k]),g):[c(0),c(.5),c(1)]}}return g.domain=function(y){return arguments.length?([e,t,i]=y,o=f(e=+e),s=f(t=+t),a=f(i=+i),l=o===s?0:.5/(s-o),u=s===a?0:.5/(a-s),r=s<o?-1:1,g):[e,t,i]},g.clamp=function(y){return arguments.length?(d=!!y,g):d},g.interpolator=function(y){return arguments.length?(c=y,g):c},g.range=v(v3),g.rangeRound=v(MB),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return f=y,o=y(e),s=y(t),a=y(i),l=o===s?0:.5/(s-o),u=s===a?0:.5/(a-s),r=s<o?-1:1,g}}function iQ(){var e=KH(FB());return e.copy=function(){return s2(e,iQ()).exponent(e.exponent())},o2.apply(e,arguments)}function xZe(e,t,i=kde){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+i(e[0],0,e);if(t>=1)return+i(e[r-1],r-1,e);var r,o=(r-1)*t,s=Math.floor(o),a=+i(e[s],s,e);return a+(+i(e[s+1],s+1,e)-a)*(o-s)}}!function vZe(e){Y6=function gYe(e){var t=e.dateTime,i=e.date,r=e.time,o=e.periods,s=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,c=O_(o),f=k_(o),d=O_(s),h=k_(s),g=O_(a),v=k_(a),y=O_(l),b=k_(l),E=O_(u),M=k_(u),k={a:function Ce(wt){return a[wt.getDay()]},A:function ce(wt){return s[wt.getDay()]},b:function we(wt){return u[wt.getMonth()]},B:function Be(wt){return l[wt.getMonth()]},c:null,d:xAe,e:xAe,f:PYe,g:WYe,G:YYe,H:LYe,I:RYe,j:UYe,L:SAe,m:HYe,M:QYe,p:function tt(wt){return o[+(wt.getHours()>=12)]},q:function lt(wt){return 1+~~(wt.getMonth()/3)},Q:FAe,s:OAe,S:VYe,u:zYe,U:$Ye,V:GYe,w:qYe,W:jYe,x:null,X:null,y:KYe,Y:XYe,Z:ZYe,"%":TAe},P={a:function Mt(wt){return a[wt.getUTCDay()]},A:function bt(wt){return s[wt.getUTCDay()]},b:function Vt(wt){return u[wt.getUTCMonth()]},B:function Vn(wt){return l[wt.getUTCMonth()]},c:null,d:MAe,e:MAe,f:nZe,g:dZe,G:hZe,H:JYe,I:eZe,j:tZe,L:IAe,m:iZe,M:rZe,p:function sn(wt){return o[+(wt.getUTCHours()>=12)]},q:function fi(wt){return 1+~~(wt.getUTCMonth()/3)},Q:FAe,s:OAe,S:oZe,u:sZe,U:aZe,V:lZe,w:uZe,W:cZe,x:null,X:null,y:fZe,Y:AZe,Z:pZe,"%":TAe},H={a:function Ie(wt,ln,wn){var ut=g.exec(ln.slice(wn));return ut?(wt.w=v.get(ut[0].toLowerCase()),wn+ut[0].length):-1},A:function Ee(wt,ln,wn){var ut=d.exec(ln.slice(wn));return ut?(wt.w=h.get(ut[0].toLowerCase()),wn+ut[0].length):-1},b:function Je(wt,ln,wn){var ut=E.exec(ln.slice(wn));return ut?(wt.m=M.get(ut[0].toLowerCase()),wn+ut[0].length):-1},B:function Ze(wt,ln,wn){var ut=y.exec(ln.slice(wn));return ut?(wt.m=b.get(ut[0].toLowerCase()),wn+ut[0].length):-1},c:function W(wt,ln,wn){return se(wt,t,ln,wn)},d:CAe,e:CAe,f:FYe,g:bAe,G:wAe,H:EAe,I:EAe,j:MYe,L:TYe,m:BYe,M:IYe,p:function ye(wt,ln,wn){var ut=c.exec(ln.slice(wn));return ut?(wt.p=f.get(ut[0].toLowerCase()),wn+ut[0].length):-1},q:SYe,Q:kYe,s:NYe,S:DYe,u:wYe,U:bYe,V:CYe,w:_Ye,W:EYe,x:function Z(wt,ln,wn){return se(wt,i,ln,wn)},X:function te(wt,ln,wn){return se(wt,r,ln,wn)},y:bAe,Y:wAe,Z:xYe,"%":OYe};function X(wt,ln){return function(wn){var ji,pi,qr,ut=[],di=-1,xi=0,yr=wt.length;for(wn instanceof Date||(wn=new Date(+wn));++di<yr;)37===wt.charCodeAt(di)&&(ut.push(wt.slice(xi,di)),null!=(pi=_Ae[ji=wt.charAt(++di)])?ji=wt.charAt(++di):pi="e"===ji?" ":"0",(qr=ln[ji])&&(ji=qr(wn,pi)),ut.push(ji),xi=di+1);return ut.push(wt.slice(xi,di)),ut.join("")}}function z(wt,ln){return function(wn){var xi,yr,ut=F_(1900,void 0,1);if(se(ut,wt,wn+="",0)!=wn.length)return null;if("Q"in ut)return new Date(ut.Q);if("s"in ut)return new Date(1e3*ut.s+("L"in ut?ut.L:0));if(ln&&!("Z"in ut)&&(ut.Z=0),"p"in ut&&(ut.H=ut.H%12+12*ut.p),void 0===ut.m&&(ut.m="q"in ut?ut.q:0),"V"in ut){if(ut.V<1||ut.V>53)return null;"w"in ut||(ut.w=1),"Z"in ut?(yr=(xi=ZH(F_(ut.y,0,1))).getUTCDay(),xi=yr>4||0===yr?d3.ceil(xi):d3(xi),xi=V6.offset(xi,7*(ut.V-1)),ut.y=xi.getUTCFullYear(),ut.m=xi.getUTCMonth(),ut.d=xi.getUTCDate()+(ut.w+6)%7):(yr=(xi=YH(F_(ut.y,0,1))).getDay(),xi=yr>4||0===yr?h3.ceil(xi):h3(xi),xi=z6.offset(xi,7*(ut.V-1)),ut.y=xi.getFullYear(),ut.m=xi.getMonth(),ut.d=xi.getDate()+(ut.w+6)%7)}else("W"in ut||"U"in ut)&&("w"in ut||(ut.w="u"in ut?ut.u%7:"W"in ut?1:0),yr="Z"in ut?ZH(F_(ut.y,0,1)).getUTCDay():YH(F_(ut.y,0,1)).getDay(),ut.m=0,ut.d="W"in ut?(ut.w+6)%7+7*ut.W-(yr+5)%7:ut.w+7*ut.U-(yr+6)%7);return"Z"in ut?(ut.H+=ut.Z/100|0,ut.M+=ut.Z%100,ZH(ut)):YH(ut)}}function se(wt,ln,wn,ut){for(var ji,pi,di=0,xi=ln.length,yr=wn.length;di<xi;){if(ut>=yr)return-1;if(37===(ji=ln.charCodeAt(di++))){if(ji=ln.charAt(di++),!(pi=H[ji in _Ae?ln.charAt(di++):ji])||(ut=pi(wt,wn,ut))<0)return-1}else if(ji!=wn.charCodeAt(ut++))return-1}return ut}return k.x=X(i,k),k.X=X(r,k),k.c=X(t,k),P.x=X(i,P),P.X=X(r,P),P.c=X(t,P),{format:function(wt){var ln=X(wt+="",k);return ln.toString=function(){return wt},ln},parse:function(wt){var ln=z(wt+="",!1);return ln.toString=function(){return wt},ln},utcFormat:function(wt){var ln=X(wt+="",P);return ln.toString=function(){return wt},ln},utcParse:function(wt){var ln=z(wt+="",!0);return ln.toString=function(){return wt},ln}}}(e),kAe=Y6.format,NAe=Y6.utcFormat}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});class $Ae extends Map{constructor(t,i=jAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),null!=t)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(rQ(this,t))}has(t){return super.has(rQ(this,t))}set(t,i){return super.set(GAe(this,t),i)}delete(t){return super.delete(qAe(this,t))}}class OB extends Set{constructor(t,i=jAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),null!=t)for(const r of t)this.add(r)}has(t){return super.has(rQ(this,t))}add(t){return super.add(GAe(this,t))}delete(t){return super.delete(qAe(this,t))}}function rQ({_intern:e,_key:t},i){const r=t(i);return e.has(r)?e.get(r):i}function GAe({_intern:e,_key:t},i){const r=t(i);return e.has(r)?e.get(r):(e.set(r,i),i)}function qAe({_intern:e,_key:t},i){const r=t(i);return e.has(r)&&(i=e.get(i),e.delete(r)),i}function jAe(e){return null!==e&&"object"==typeof e?e.valueOf():e}const oQ=Symbol("implicit");function sQ(){var e=new $Ae,t=[],i=[],r=oQ;function o(s){let a=e.get(s);if(void 0===a){if(r!==oQ)return r;e.set(s,a=t.push(s)-1)}return i[a%i.length]}return o.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new $Ae;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return o},o.range=function(s){return arguments.length?(i=Array.from(s),o):i.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.copy=function(){return sQ(t,i).unknown(r)},Kp.apply(o,arguments),o}function SZe(e){var t=e.length;return function(i){return e[Math.max(0,Math.min(t-1,Math.floor(i*t)))]}}function BZe(e,t){var i=BB(+e,+t);return function(r){var o=i(r);return o-360*Math.floor(o/360)}}var kB,KAe=180/Math.PI,aQ={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function WAe(e,t,i,r,o,s){var a,l,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*i+t*r)&&(i-=e*u,r-=t*u),(l=Math.sqrt(i*i+r*r))&&(i/=l,r/=l,u/=l),e*r<t*i&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*KAe,skewX:Math.atan(u)*KAe,scaleX:a,scaleY:l}}function XAe(e,t,i,r){function o(c){return c.length?c.pop()+" ":""}return function(c,f){var d=[],h=[];return c=e(c),f=e(f),function s(c,f,d,h,g,v){if(c!==d||f!==h){var y=g.push("translate(",null,t,null,i);v.push({i:y-4,x:g0(c,d)},{i:y-2,x:g0(f,h)})}else(d||h)&&g.push("translate("+d+t+h+i)}(c.translateX,c.translateY,f.translateX,f.translateY,d,h),function a(c,f,d,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:d.push(o(d)+"rotate(",null,r)-2,x:g0(c,f)})):f&&d.push(o(d)+"rotate("+f+r)}(c.rotate,f.rotate,d,h),function l(c,f,d,h){c!==f?h.push({i:d.push(o(d)+"skewX(",null,r)-2,x:g0(c,f)}):f&&d.push(o(d)+"skewX("+f+r)}(c.skewX,f.skewX,d,h),function u(c,f,d,h,g,v){if(c!==d||f!==h){var y=g.push(o(g)+"scale(",null,",",null,")");v.push({i:y-4,x:g0(c,d)},{i:y-2,x:g0(f,h)})}else(1!==d||1!==h)&&g.push(o(g)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,h),c=f=null,function(g){for(var b,v=-1,y=h.length;++v<y;)d[(b=h[v]).i]=b.x(g);return d.join("")}}}var DZe=XAe(function MZe(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?aQ:WAe(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),TZe=XAe(function IZe(e){return null!=e&&(kB||(kB=document.createElementNS("http://www.w3.org/2000/svg","g")),kB.setAttribute("transform",e),e=kB.transform.baseVal.consolidate())?WAe((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):aQ},", ",")",")");function YAe(e){return((e=Math.exp(e))+1/e)/2}const NZe=function e(t,i,r){function o(s,a){var b,E,l=s[0],u=s[1],c=s[2],h=a[2],g=a[0]-l,v=a[1]-u,y=g*g+v*v;if(y<1e-12)E=Math.log(h/c)/t,b=function(z){return[l+z*g,u+z*v,c*Math.exp(t*z*E)]};else{var M=Math.sqrt(y),k=(h*h-c*c+r*y)/(2*c*i*M),P=(h*h-c*c-r*y)/(2*h*i*M),H=Math.log(Math.sqrt(k*k+1)-k),X=Math.log(Math.sqrt(P*P+1)-P);E=(X-H)/t,b=function(z){var se=z*E,ye=YAe(H),Ie=c/(i*M)*(ye*function kZe(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*se+H)-function OZe(e){return((e=Math.exp(e))-1/e)/2}(H));return[l+Ie*g,u+Ie*v,c*ye/YAe(t*se+H)]}}return b.duration=1e3*E*t/Math.SQRT2,b}return o.rho=function(s){var a=Math.max(.001,+s),l=a*a;return e(a,l,l*l)},o}(Math.SQRT2,2,4);function ZAe(e){return function(t,i){var r=e((t=cR(t)).h,(i=cR(i)).h),o=zu(t.s,i.s),s=zu(t.l,i.l),a=zu(t.opacity,i.opacity);return function(l){return t.h=r(l),t.s=o(l),t.l=s(l),t.opacity=a(l),t+""}}}const LZe=ZAe(BB);var RZe=ZAe(zu);const JAe=.96422,ehe=1,the=.82521,nhe=4/29,Z6=6/29,ihe=3*Z6*Z6,UZe=Z6*Z6*Z6;function rhe(e){if(e instanceof m0)return new m0(e.l,e.a,e.b,e.opacity);if(e instanceof Wp)return she(e);e instanceof pc||(e=lR(e));var s,a,t=dQ(e.r),i=dQ(e.g),r=dQ(e.b),o=uQ((.2225045*t+.7168786*i+.0606169*r)/ehe);return t===i&&i===r?s=a=o:(s=uQ((.4360747*t+.3850649*i+.1430804*r)/JAe),a=uQ((.0139322*t+.0971045*i+.7141733*r)/the)),new m0(116*o-16,500*(s-o),200*(o-a),e.opacity)}function lQ(e,t,i,r){return 1===arguments.length?rhe(e):new m0(e,t,i,r??1)}function m0(e,t,i,r){this.l=+e,this.a=+t,this.b=+i,this.opacity=+r}function uQ(e){return e>UZe?Math.pow(e,1/3):e/ihe+nhe}function cQ(e){return e>Z6?e*e*e:ihe*(e-nhe)}function fQ(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function dQ(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function AQ(e,t,i,r){return 1===arguments.length?function ohe(e){if(e instanceof Wp)return new Wp(e.h,e.c,e.l,e.opacity);if(e instanceof m0||(e=rhe(e)),0===e.a&&0===e.b)return new Wp(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Zae;return new Wp(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Wp(e,t,i,r??1)}function Wp(e,t,i,r){this.h=+e,this.c=+t,this.l=+i,this.opacity=+r}function she(e){if(isNaN(e.h))return new m0(e.l,0,0,e.opacity);var t=e.h*Yae;return new m0(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function PZe(e,t){var i=zu((e=lQ(e)).l,(t=lQ(t)).l),r=zu(e.a,t.a),o=zu(e.b,t.b),s=zu(e.opacity,t.opacity);return function(a){return e.l=i(a),e.a=r(a),e.b=o(a),e.opacity=s(a),e+""}}function ahe(e){return function(t,i){var r=e((t=AQ(t)).h,(i=AQ(i)).h),o=zu(t.c,i.c),s=zu(t.l,i.l),a=zu(t.opacity,i.opacity);return function(l){return t.h=r(l),t.c=o(l),t.l=s(l),t.opacity=a(l),t+""}}}h6(m0,lQ,T7(zm,{brighter:function(e){return new m0(this.l+18*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new m0(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,i=isNaN(this.b)?e:e-this.b/200;return new pc(fQ(3.1338561*(t=JAe*cQ(t))-1.6168667*(e=ehe*cQ(e))-.4906146*(i=the*cQ(i))),fQ(-.9787684*t+1.9161415*e+.033454*i),fQ(.0719453*t-.2289914*e+1.4052427*i),this.opacity)}})),h6(Wp,AQ,T7(zm,{brighter:function(e){return new Wp(this.h,this.c,this.l+18*(e??1),this.opacity)},darker:function(e){return new Wp(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb:function(){return she(this).rgb()}}));const HZe=ahe(BB);var QZe=ahe(zu);function lhe(e){return function t(i){function r(o,s){var a=e((o=Vp(o)).h,(s=Vp(s)).h),l=zu(o.s,s.s),u=zu(o.l,s.l),c=zu(o.opacity,s.opacity);return function(f){return o.h=a(f),o.s=l(f),o.l=u(Math.pow(f,i)),o.opacity=c(f),o+""}}return i=+i,r.gamma=t,r}(1)}const VZe=lhe(BB);var zZe=lhe(zu);function $Ze(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e(r/(t-1));return i}function Xp(e){for(var t=e.length/6|0,i=new Array(t),r=0;r<t;)i[r]="#"+e.slice(6*r,6*++r);return i}const GZe=Xp("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),qZe=Xp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),jZe=Xp("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),KZe=Xp("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),WZe=Xp("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),XZe=Xp("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),YZe=Xp("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ZZe=Xp("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),JZe=Xp("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),eJe=Xp("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function hQ(e,t,i){const r=e-t+2*i;return e?r>0?r:1:0}const J6="linear",_1="log",N_="pow",L_="sqrt",LB="symlog",_3="time",w3="utc",Yp="sequential",e8="diverging",t8="quantile",RB="quantize",UB="threshold",pQ="ordinal",gQ="point",mQ="bin-ordinal",Su="continuous",R_="discrete",U_="discretizing",hh="interpolating",vQ="temporal";function yQ(){const e=sQ().unknown(void 0),t=e.domain,i=e.range;let o,s,r=[0,1],a=!1,l=0,u=0,c=.5;function f(){const d=t().length,h=r[1]<r[0],g=r[1-h],v=hQ(d,l,u);let y=r[h-0];o=(g-y)/(v||1),a&&(o=Math.floor(o)),y+=(g-y-o*(d-l))*c,s=o*(1-l),a&&(y=Math.round(y),s=Math.round(s));const b=function PXe(e,t,i){e=+e,t=+t,i=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+i;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/i)),s=new Array(o);++r<o;)s[r]=e+r*i;return s}(d).map(E=>y+o*E);return i(h?b.reverse():b)}return delete e.unknown,e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],f()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],a=!0,f()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),l=u,f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),f()):l},e.paddingOuter=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.invertRange=function(d){if(null==d[0]||null==d[1])return;const h=r[1]<r[0],g=h?i().reverse():i(),v=g.length-1;let E,M,k,y=+d[0],b=+d[1];return y!=y||b!=b||(b<y&&(k=y,y=b,b=k),b<g[0]||y>r[1-h])?void 0:(E=Math.max(0,UH(g,y)-1),M=y===b?E:UH(g,b)-1,y-g[E]>s+1e-10&&++E,h&&(k=E,E=v-M,M=v-k),E>M?void 0:t().slice(E,M+1))},e.invert=function(d){const h=e.invertRange([d,d]);return h&&h[0]},e.copy=function(){return yQ().domain(t()).range(r).round(a).paddingInner(l).paddingOuter(u).align(c)},f()}function che(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return che(t())},e}var oJe=Array.prototype.map;const aJe=Array.prototype.slice,PB=new Map,dhe=Symbol("vega_scale");function Ahe(e){return e[dhe]=!0,e}function hhe(e){return e&&!0===e[dhe]}function Bs(e,t,i){return arguments.length>1?(PB.set(e,function lJe(e,t,i){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?function nJe(e){return function(t){let o,i=t[0],r=t[1];return r<i&&(o=i,i=r,r=o),[e.invert(i),e.invert(r)]}}(s):s.invertExtent?function iJe(e){return function(t){const i=e.range();let a,l,u,c,r=t[0],o=t[1],s=-1;for(o<r&&(l=r,r=o,o=l),u=0,c=i.length;u<c;++u)i[u]>=r&&i[u]<=o&&(s<0&&(s=u),a=u);if(!(s<0))return r=e.invertExtent(i[s]),o=e.invertExtent(i[a]),[void 0===r[0]?r[1]:r[0],void 0===o[1]?o[0]:o[1]]}}(s):void 0),s.type=e,Ahe(s)};return r.metadata=d0(er(i)),r}(e,t,i)),this):phe(e)?PB.get(e):void 0}function phe(e){return PB.has(e)}function b3(e,t){const i=PB.get(e);return i&&i.metadata[t]}function _Q(e){return b3(e,Su)}function n8(e){return b3(e,R_)}function wQ(e){return b3(e,U_)}function ghe(e){return b3(e,_1)}function mhe(e){return b3(e,hh)}function vhe(e){return b3(e,t8)}Bs("identity",function Xde(e){var t;function i(r){return null==r||isNaN(r=+r)?t:r}return i.invert=i,i.domain=i.range=function(r){return arguments.length?(e=Array.from(r,GH),i):e.slice()},i.unknown=function(r){return arguments.length?(t=r,i):t},i.copy=function(){return Xde(e).unknown(t)},e=arguments.length?Array.from(e,GH):[0,1],y3(i)}),Bs(J6,function Wde(){var e=jde();return e.copy=function(){return T_(e,Wde())},Kp.apply(e,arguments),y3(e)},Su),Bs(_1,function tAe(){const e=jH(IB()).domain([1,10]);return e.copy=()=>T_(e,tAe()).base(e.base()),Kp.apply(e,arguments),e},[Su,_1]),Bs(N_,WH,Su),Bs(L_,function cYe(){return WH.apply(null,arguments).exponent(.5)},Su),Bs(LB,function oAe(){var e=XH(IB());return e.copy=function(){return T_(e,oAe()).constant(e.constant())},Kp.apply(e,arguments)},Su),Bs(_3,function wZe(){return Kp.apply(JH(hYe,pYe,uh,dAe,f_,z6,cAe,lAe,X6,kAe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[Su,vQ]),Bs(w3,function bZe(){return Kp.apply(JH(dYe,AYe,ch,vAe,c_,V6,gAe,hAe,X6,NAe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[Su,vQ]),Bs(Yp,eQ,[Su,hh]),Bs(`${Yp}-${J6}`,eQ,[Su,hh]),Bs(`${Yp}-${_1}`,function LAe(){var e=jH(TB()).domain([1,10]);return e.copy=function(){return s2(e,LAe()).base(e.base())},o2.apply(e,arguments)},[Su,hh,_1]),Bs(`${Yp}-${N_}`,tQ,[Su,hh]),Bs(`${Yp}-${L_}`,function CZe(){return tQ.apply(null,arguments).exponent(.5)},[Su,hh]),Bs(`${Yp}-${LB}`,function RAe(){var e=XH(TB());return e.copy=function(){return s2(e,RAe()).constant(e.constant())},o2.apply(e,arguments)},[Su,hh]),Bs(`${e8}-${J6}`,function UAe(){var e=y3(FB()(_d));return e.copy=function(){return s2(e,UAe())},o2.apply(e,arguments)},[Su,hh]),Bs(`${e8}-${_1}`,function PAe(){var e=jH(FB()).domain([.1,1,10]);return e.copy=function(){return s2(e,PAe()).base(e.base())},o2.apply(e,arguments)},[Su,hh,_1]),Bs(`${e8}-${N_}`,iQ,[Su,hh]),Bs(`${e8}-${L_}`,function EZe(){return iQ.apply(null,arguments).exponent(.5)},[Su,hh]),Bs(`${e8}-${LB}`,function HAe(){var e=XH(FB());return e.copy=function(){return s2(e,HAe()).constant(e.constant())},o2.apply(e,arguments)},[Su,hh]),Bs(t8,function QAe(){var r,e=[],t=[],i=[];function o(){var a=0,l=Math.max(1,t.length);for(i=new Array(l-1);++a<l;)i[a-1]=xZe(e,a/l);return s}function s(a){return null==a||isNaN(a=+a)?r:t[D_(i,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?i[l-1]:e[0],l<i.length?i[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)null!=l&&!isNaN(l=+l)&&e.push(l);return e.sort(I_),o()},s.range=function(a){return arguments.length?(t=Array.from(a),o()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return i.slice()},s.copy=function(){return QAe().domain(e).range(t).unknown(r)},Kp.apply(s,arguments)},[U_,t8]),Bs(RB,function VAe(){var s,e=0,t=1,i=1,r=[.5],o=[0,1];function a(u){return null!=u&&u<=u?o[D_(r,u,0,i)]:s}function l(){var u=-1;for(r=new Array(i);++u<i;)r[u]=((u+1)*t-(u-i)*e)/(i+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},a.range=function(u){return arguments.length?(i=(o=Array.from(u)).length-1,l()):o.slice()},a.invertExtent=function(u){var c=o.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=i?[r[i-1],t]:[r[c-1],r[c]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return VAe().domain([e,t]).range(o).unknown(s)},Kp.apply(y3(a),arguments)},U_),Bs(UB,function zAe(){var i,e=[.5],t=[0,1],r=1;function o(s){return null!=s&&s<=s?t[D_(e,s,0,r)]:i}return o.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},o.unknown=function(s){return arguments.length?(i=s,o):i},o.copy=function(){return zAe().domain(e).range(t).unknown(i)},Kp.apply(o,arguments)},U_),Bs(mQ,function fhe(){let e=[],t=[];function i(r){return null==r||r!=r?void 0:t[(D_(e,r)-1)%t.length]}return i.domain=function(r){return arguments.length?(e=function sJe(e){return oJe.call(e,jc)}(r),i):e.slice()},i.range=function(r){return arguments.length?(t=aJe.call(r),i):t.slice()},i.tickFormat=function(r,o){return Kde(e[0],ds(e),r??10,o)},i.copy=function(){return fhe().domain(i.domain()).range(i.range())},i},[R_,U_]),Bs(pQ,sQ,R_),Bs("band",yQ,R_),Bs(gQ,function rJe(){return che(yQ().paddingInner(1))},R_);const cJe=["clamp","base","constant","exponent"];function yhe(e,t){const i=t[0],r=ds(t)-i;return function(o){return e(i+o*r)}}function HB(e,t,i){return nQ(bQ(t||"rgb",i),e)}function _he(e,t){const i=new Array(t),r=t+1;for(let o=0;o<t;)i[o]=e(++o/r);return i}function whe(e,t,i){const r=i-t;let o,s,a;return r&&Number.isFinite(r)?(o=(s=e.type).indexOf("-"),s=o<0?s:s.slice(o+1),a=Bs(s)().domain([t,i]).range([0,1]),cJe.forEach(l=>e[l]?a[l](e[l]()):0),a):Kc(.5)}function bQ(e,t){const i=Ae[function fJe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}(e)];return null!=t&&i&&i.gamma?i.gamma(t):i}function bhe(e){if(Xn(e))return e;const t=e.length/6|0,i=new Array(t);for(let r=0;r<t;)i[r]="#"+e.slice(6*r,6*++r);return i}function Che(e,t){for(const i in e)CQ(i,t(e[i]))}const Ehe={};function CQ(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Ehe[e]=t,this):Ehe[e]}Che({accent:GZe,category10:qZe,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:jZe,observable10:KZe,paired:WZe,pastel1:XZe,pastel2:YZe,set1:ZZe,set2:JZe,set3:eJe,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"},bhe),Che({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},e=>HB(bhe(e)));const QB="symbol",hJe="discrete",gJe=e=>Xn(e)?e.map(t=>String(t)):String(e),mJe=(e,t)=>e[1]-t[1],vJe=(e,t)=>t[1]-e[1];function EQ(e,t,i){let r;return Es(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=i&&(t=Math.min(t,Math.floor(W7(e.domain())/i||1)+1))),Zi(t)&&(r=t.step,t=t.interval),Ji(t)&&(t=e.type===_3?H6(t):e.type==w3?Q6(t):Gn("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function xhe(e,t,i){let r=e.range(),o=r[0],s=ds(r),a=mJe;if(o>s&&(r=s,s=o,o=r,a=vJe),o=Math.floor(o),s=Math.ceil(s),t=t.map(l=>[l,e(l)]).filter(l=>o<=l[1]&&l[1]<=s).sort(a).map(l=>l[0]),i>0&&t.length>1){const l=[t[0],ds(t)];for(;t.length>i&&t.length>=3;)t=t.filter((u,c)=>!(c%2));t.length<3&&(t=l)}return t}function xQ(e,t){return e.bins?xhe(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function She(e,t,i,r,o,s){const a=t.type;let l=gJe;if(a===_3||o===_3)l=e.timeFormat(r);else if(a===w3||o===w3)l=e.utcFormat(r);else if(ghe(a)){const u=e.formatFloat(r);if(s||t.bins)l=u;else{const c=Bhe(t,i,!1);l=f=>c(f)?u(f):""}}else if(t.tickFormat){const u=t.domain();l=e.formatSpan(u[0],u[u.length-1],i,r)}else r&&(l=e.format(r));return l}function Bhe(e,t,i){const r=xQ(e,t),o=e.base(),s=Math.log(o),a=Math.max(1,o*t/r.length),l=u=>{let c=u/Math.pow(o,Math.round(Math.log(u)/s));return c*o<o-.5&&(c*=o),c<=a};return i?r.filter(l):l}const SQ={[t8]:"quantiles",[RB]:"thresholds",[UB]:"domain"},Mhe={[t8]:"quantiles",[RB]:"domain"};function Ihe(e,t){return e.bins?function wJe(e){const t=e.slice(0,-1);return t.max=ds(e),t}(e.bins):e.type===_1?Bhe(e,t,!0):SQ[e.type]?function _Je(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[SQ[e.type]]()):xQ(e,t)}const bJe=e=>SQ[e.type]||e.bins;function Dhe(e,t,i,r,o,s,a){const l=Mhe[t.type]&&s!==_3&&s!==w3?function yJe(e,t,i){const r=t[Mhe[t.type]](),o=r.length;let a,s=o>1?r[1]-r[0]:r[0];for(a=1;a<o;++a)s=Math.min(s,r[a]-r[a-1]);return e.formatSpan(0,s,30,i)}(e,t,o):She(e,t,i,o,s,a);return r===QB&&bJe(t)?CJe(l):r===hJe?EJe(l):xJe(l)}const CJe=e=>(t,i,r)=>{const o=The(r[i+1],The(r.max,1/0)),s=Fhe(t,e),a=Fhe(o,e);return s&&a?s+" \u2013 "+a:a?"< "+a:"\u2265 "+s},The=(e,t)=>e??t,EJe=e=>(t,i)=>i?e(t):null,xJe=e=>t=>e(t),Fhe=(e,t)=>Number.isFinite(e)?t(e):null;function Ohe(e,t,i){i=i||{};const r=Math.max(3,i.maxlen||7),o=function BJe(e,t,i,r){const o=r||t.type;return Ji(i)&&function uJe(e){return b3(e,vQ)}(o)&&(i=i.replace(/%a/g,"%A").replace(/%b/g,"%B")),i||o!==_3?i||o!==w3?Dhe(e,t,5,null,i,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,i.format,i.formatType);if(wQ(t.type)){const s=Ihe(t).slice(1).map(o),a=s.length;return`${a} boundar${1===a?"y":"ies"}: ${s.join(", ")}`}if(n8(t.type)){const s=t.domain(),a=s.length;return`${a} value${1===a?"":"s"}: ${a>r?s.slice(0,r-2).map(o).join(", ")+", ending with "+s.slice(-1).map(o):s.map(o).join(", ")}`}{const s=t.domain();return`values from ${o(s[0])} to ${o(ds(s))}`}}let khe=0;function BQ(e){return e&&e.gradient}function Nhe(e,t,i){const r=e.gradient;let o=e.id,s="radial"===r?"p_":"";return o||(o=e.id="gradient_"+khe++,"radial"===r?(e.x1=Zp(e.x1,.5),e.y1=Zp(e.y1,.5),e.r1=Zp(e.r1,0),e.x2=Zp(e.x2,.5),e.y2=Zp(e.y2,.5),e.r2=Zp(e.r2,.5),s="p_"):(e.x1=Zp(e.x1,0),e.y1=Zp(e.y1,0),e.x2=Zp(e.x2,1),e.y2=Zp(e.y2,0))),t[o]=e,"url("+(i||"")+"#"+s+o+")"}function Zp(e,t){return e??t}function Lhe(e,t){var r,i=[];return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:i,stop:function(o,s){return i.push({offset:o,color:s}),r}}}const Rhe={basis:{curve:function $We(e){return new gB(e)}},"basis-closed":{curve:function GWe(e){return new lde(e)}},"basis-open":{curve:function qWe(e){return new ude(e)}},bundle:{curve:jWe,tension:"beta",value:.85},cardinal:{curve:KWe,tension:"tension",value:0},"cardinal-open":{curve:WWe,tension:"tension",value:0},"cardinal-closed":{curve:XWe,tension:"tension",value:0},"catmull-rom":{curve:JWe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:eXe,tension:"alpha",value:.5},"catmull-rom-open":{curve:tXe,tension:"alpha",value:.5},linear:{curve:TH},"linear-closed":{curve:function nXe(e){return new mde(e)}},monotone:{horizontal:function rXe(e){return new wde(e)},vertical:function iXe(e){return new yB(e)}},natural:{curve:function oXe(e){return new Cde(e)}},step:{curve:function sXe(e){return new _B(e,.5)}},"step-after":{curve:function lXe(e){return new _B(e,1)}},"step-before":{curve:function aXe(e){return new _B(e,0)}}};function MQ(e,t,i){var r=fr(Rhe,e)&&Rhe[e],o=null;return r&&(o=r.curve||r[t||"vertical"],r.tension&&null!=i&&(o=o[r.tension](i))),o}const IJe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},DJe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,TJe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,FJe=/^((\s+,?\s*)|(,\s*))/,OJe=/^[01]/;function i8(e){const t=[];return(e.match(DJe)||[]).forEach(r=>{let o=r[0];const s=o.toLowerCase(),a=IJe[s],l=function kJe(e,t,i){const r=[];for(let o=0;t&&o<i.length;)for(let s=0;s<t;++s){const a="a"!==e||3!==s&&4!==s?TJe:OJe,l=i.slice(o).match(a);if(null===l)throw Error("Invalid SVG path, incorrect parameter type");o+=l[0].length,r.push(+l[0]);const u=i.slice(o).match(FJe);null!==u&&(o+=u[0].length)}return r}(s,a,r.slice(1).trim()),u=l.length;if(u<a||u&&u%a!=0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([o,...l.slice(0,a)]),u!==a){"m"===s&&(o="M"===o?"L":"l");for(let c=a;c<u;c+=a)t.push([o,...l.slice(c,c+a)])}}),t}const a2=Math.PI/180,C3=Math.PI/2,Jp=2*Math.PI,r8=Math.sqrt(3)/2;var IQ={},DQ={},Uhe=[].join;function RJe(e){const t=Uhe.call(e);if(DQ[t])return DQ[t];var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7];const f=c*a,d=-u*l,h=u*a,g=c*l,v=Math.cos(o),y=Math.sin(o),b=Math.cos(s),E=Math.sin(s),M=.5*(s-o),k=Math.sin(.5*M),P=8/3*k*k/Math.sin(M),H=i+v-P*y,X=r+y+P*v,z=i+b,se=r+E,ye=z+P*E,Ie=se-P*b;return DQ[t]=[f*H+d*X,h*H+g*X,f*ye+d*Ie,h*ye+g*Ie,f*z+d*se,h*z+g*se]}const ph=["l",0,0,0,0,0,0,0];function UJe(e,t,i){const r=ph[0]=e[0];if("a"===r||"A"===r)ph[1]=t*e[1],ph[2]=i*e[2],ph[3]=e[3],ph[4]=e[4],ph[5]=e[5],ph[6]=t*e[6],ph[7]=i*e[7];else if("h"===r||"H"===r)ph[1]=t*e[1];else if("v"===r||"V"===r)ph[1]=i*e[1];else for(var o=1,s=e.length;o<s;++o)ph[o]=(o%2==1?t:i)*e[o];return ph}function P_(e,t,i,r,o,s){var a,h,g,v,y,l=null,u=0,c=0,f=0,d=0,b=0,E=0;null==i&&(i=0),null==r&&(r=0),null==o&&(o=1),null==s&&(s=o),e.beginPath&&e.beginPath();for(var M=0,k=t.length;M<k;++M){switch(a=t[M],(1!==o||1!==s)&&(a=UJe(a,o,s)),a[0]){case"l":e.lineTo((u+=a[1])+i,(c+=a[2])+r);break;case"L":e.lineTo((u=a[1])+i,(c=a[2])+r);break;case"h":e.lineTo((u+=a[1])+i,c+r);break;case"H":e.lineTo((u=a[1])+i,c+r);break;case"v":e.lineTo(u+i,(c+=a[1])+r);break;case"V":e.lineTo(u+i,(c=a[1])+r);break;case"m":b=u+=a[1],E=c+=a[2],e.moveTo(u+i,c+r);break;case"M":b=u=a[1],E=c=a[2],e.moveTo(u+i,c+r);break;case"c":e.bezierCurveTo(u+a[1]+i,c+a[2]+r,(f=u+a[3])+i,(d=c+a[4])+r,(h=u+a[5])+i,(g=c+a[6])+r),u=h,c=g;break;case"C":e.bezierCurveTo(a[1]+i,a[2]+r,(f=a[3])+i,(d=a[4])+r,(u=a[5])+i,(c=a[6])+r);break;case"s":e.bezierCurveTo((f=2*u-f)+i,(d=2*c-d)+r,u+a[1]+i,c+a[2]+r,(h=u+a[3])+i,(g=c+a[4])+r),f=u+a[1],d=c+a[2],u=h,c=g;break;case"S":e.bezierCurveTo((f=2*u-f)+i,(d=2*c-d)+r,a[1]+i,a[2]+r,(h=a[3])+i,(g=a[4])+r),u=h,c=g,f=a[1],d=a[2];break;case"q":e.quadraticCurveTo((f=u+a[1])+i,(d=c+a[2])+r,(h=u+a[3])+i,(g=c+a[4])+r),u=h,c=g;break;case"Q":e.quadraticCurveTo(a[1]+i,a[2]+r,(h=a[3])+i,(g=a[4])+r),u=h,c=g,f=a[1],d=a[2];break;case"t":h=u+a[1],g=c+a[2],null===l[0].match(/[QqTt]/)?(f=u,d=c):"t"===l[0]?(f=2*u-v,d=2*c-y):"q"===l[0]&&(f=2*u-f,d=2*c-d),v=f,y=d,e.quadraticCurveTo(f+i,d+r,h+i,g+r),f=(u=h)+a[1],d=(c=g)+a[2];break;case"T":e.quadraticCurveTo((f=2*u-f)+i,(d=2*c-d)+r,(h=a[1])+i,(g=a[2])+r),u=h,c=g;break;case"a":Phe(e,u+i,c+r,[a[1],a[2],a[3],a[4],a[5],a[6]+u+i,a[7]+c+r]),u+=a[6],c+=a[7];break;case"A":Phe(e,u+i,c+r,[a[1],a[2],a[3],a[4],a[5],a[6]+i,a[7]+r]),u=a[6],c=a[7];break;case"z":case"Z":u=b,c=E,e.closePath()}l=a}}function Phe(e,t,i,r){const o=function LJe(e,t,i,r,o,s,a,l,u){const c=Uhe.call(arguments);if(IQ[c])return IQ[c];const f=a*a2,d=Math.sin(f),h=Math.cos(f),g=h*(l-e)*.5+d*(u-t)*.5,v=h*(u-t)*.5-d*(l-e)*.5;let y=g*g/((i=Math.abs(i))*i)+v*v/((r=Math.abs(r))*r);y>1&&(y=Math.sqrt(y),i*=y,r*=y);const b=h/i,E=d/i,M=-d/r,k=h/r,P=b*l+E*u,H=M*l+k*u,X=b*e+E*t,z=M*e+k*t;let ye=1/((X-P)*(X-P)+(z-H)*(z-H))-.25;ye<0&&(ye=0);let Ie=Math.sqrt(ye);s==o&&(Ie=-Ie);const Ee=.5*(P+X)-Ie*(z-H),Je=.5*(H+z)+Ie*(X-P),Ze=Math.atan2(H-Je,P-Ee);let Z=Math.atan2(z-Je,X-Ee)-Ze;Z<0&&1===s?Z+=Jp:Z>0&&0===s&&(Z-=Jp);const te=Math.ceil(Math.abs(Z/(C3+.001))),Ce=[];for(let ce=0;ce<te;++ce)Ce[ce]=[Ee,Je,Ze+ce*Z/te,Ze+(ce+1)*Z/te,i,r,d,h];return IQ[c]=Ce}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,i);for(let s=0;s<o.length;++s){const a=RJe(o[s]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}const Hhe=.5773502691896257,Qhe={circle:{draw:function(e,t){const i=Math.sqrt(t)/2;e.moveTo(i,0),e.arc(0,0,i,0,Jp)}},cross:{draw:function(e,t){var i=Math.sqrt(t)/2,r=i/2.5;e.moveTo(-i,-r),e.lineTo(-i,r),e.lineTo(-r,r),e.lineTo(-r,i),e.lineTo(r,i),e.lineTo(r,r),e.lineTo(i,r),e.lineTo(i,-r),e.lineTo(r,-r),e.lineTo(r,-i),e.lineTo(-r,-i),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const i=Math.sqrt(t)/2;e.moveTo(-i,0),e.lineTo(0,-i),e.lineTo(i,0),e.lineTo(0,i),e.closePath()}},square:{draw:function(e,t){var i=Math.sqrt(t),r=-i/2;e.rect(r,r,i,i)}},arrow:{draw:function(e,t){var i=Math.sqrt(t)/2,r=i/7,o=i/2.5,s=i/8;e.moveTo(-r,i),e.lineTo(r,i),e.lineTo(r,-s),e.lineTo(o,-s),e.lineTo(0,-i),e.lineTo(-o,-s),e.lineTo(-r,-s),e.closePath()}},wedge:{draw:function(e,t){var i=Math.sqrt(t)/2,r=r8*i,o=r-i*Hhe,s=i/4;e.moveTo(0,-r-o),e.lineTo(-s,r-o),e.lineTo(s,r-o),e.closePath()}},triangle:{draw:function(e,t){var i=Math.sqrt(t)/2,r=r8*i,o=r-i*Hhe;e.moveTo(0,-r-o),e.lineTo(-i,r-o),e.lineTo(i,r-o),e.closePath()}},"triangle-up":{draw:function(e,t){var i=Math.sqrt(t)/2,r=r8*i;e.moveTo(0,-r),e.lineTo(-i,r),e.lineTo(i,r),e.closePath()}},"triangle-down":{draw:function(e,t){var i=Math.sqrt(t)/2,r=r8*i;e.moveTo(0,r),e.lineTo(-i,-r),e.lineTo(i,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var i=Math.sqrt(t)/2,r=r8*i;e.moveTo(r,0),e.lineTo(-r,-i),e.lineTo(-r,i),e.closePath()}},"triangle-left":{draw:function(e,t){var i=Math.sqrt(t)/2,r=r8*i;e.moveTo(-r,0),e.lineTo(r,-i),e.lineTo(r,i),e.closePath()}},stroke:{draw:function(e,t){const i=Math.sqrt(t)/2;e.moveTo(-i,0),e.lineTo(i,0)}}};function Vhe(e){return fr(Qhe,e)?Qhe[e]:function PJe(e){if(!fr(TQ,e)){const t=i8(e);TQ[e]={draw:function(i,r){P_(i,t,0,0,Math.sqrt(r)/2)}}}return TQ[e]}(e)}var TQ={};const l2=.448084975506;function HJe(e){return e.x}function QJe(e){return e.y}function VJe(e){return e.width}function zJe(e){return e.height}function w1(e){return"function"==typeof e?e:()=>+e}function zB(e,t,i){return Math.max(t,Math.min(e,i))}function zhe(){var e=HJe,t=QJe,i=VJe,r=zJe,o=w1(0),s=o,a=o,l=o,u=null;function c(f,d,h){var g,v=d??+e.call(this,f),y=h??+t.call(this,f),b=+i.call(this,f),E=+r.call(this,f),M=Math.min(b,E)/2,k=zB(+o.call(this,f),0,M),P=zB(+s.call(this,f),0,M),H=zB(+a.call(this,f),0,M),X=zB(+l.call(this,f),0,M);if(u||(u=g=bB()),k<=0&&P<=0&&H<=0&&X<=0)u.rect(v,y,b,E);else{var z=v+b,se=y+E;u.moveTo(v+k,y),u.lineTo(z-P,y),u.bezierCurveTo(z-l2*P,y,z,y+l2*P,z,y+P),u.lineTo(z,se-X),u.bezierCurveTo(z,se-l2*X,z-l2*X,se,z-X,se),u.lineTo(v+H,se),u.bezierCurveTo(v+l2*H,se,v,se-l2*H,v,se-H),u.lineTo(v,y+k),u.bezierCurveTo(v,y+l2*k,v+l2*k,y,v+k,y),u.closePath()}if(g)return u=null,g+""||null}return c.x=function(f){return arguments.length?(e=w1(f),c):e},c.y=function(f){return arguments.length?(t=w1(f),c):t},c.width=function(f){return arguments.length?(i=w1(f),c):i},c.height=function(f){return arguments.length?(r=w1(f),c):r},c.cornerRadius=function(f,d,h,g){return arguments.length?(o=w1(f),s=null!=d?w1(d):o,l=null!=h?w1(h):o,a=null!=g?w1(g):s,c):o},c.context=function(f){return arguments.length?(u=f??null,c):u},c}function $he(){var e,t,i,r,s,a,l,u,o=null;function c(d,h,g){const v=g/2;if(s){var y=l-h,b=d-a;if(y||b){var E=Math.hypot(y,b),M=(y/=E)*u,k=(b/=E)*u,P=Math.atan2(b,y);o.moveTo(a-M,l-k),o.lineTo(d-y*v,h-b*v),o.arc(d,h,v,P-Math.PI,P),o.lineTo(a+M,l+k),o.arc(a,l,u,P,P+Math.PI)}else o.arc(d,h,v,0,Jp);o.closePath()}else s=1;a=d,l=h,u=v}function f(d){var h,v,b,g=d.length,y=!1;for(null==o&&(o=b=bB()),h=0;h<=g;++h)!(h<g&&r(v=d[h],h,d))===y&&(y=!y)&&(s=0),y&&c(+e(v,h,d),+t(v,h,d),+i(v,h,d));if(b)return o=null,b+""||null}return f.x=function(d){return arguments.length?(e=d,f):e},f.y=function(d){return arguments.length?(t=d,f):t},f.size=function(d){return arguments.length?(i=d,f):i},f.defined=function(d){return arguments.length?(r=d,f):r},f.context=function(d){return arguments.length?(o=null==d?null:d,f):o},f}function H_(e,t){return e??t}const Q_=e=>e.x||0,V_=e=>e.y||0,$B=e=>!1!==e.defined,aet=function mXe(){var e=fXe,t=dXe,i=Gs(0),r=null,o=AXe,s=hXe,a=pXe,l=null,u=CB(c);function c(){var f,d,h=+e.apply(this,arguments),g=+t.apply(this,arguments),v=o.apply(this,arguments)-vB,y=s.apply(this,arguments)-vB,b=fde(y-v),E=y>v;if(l||(l=f=u()),g<h&&(d=g,g=h,h=d),g>Zc)if(b>M_-Zc)l.moveTo(g*y1(v),g*yd(v)),l.arc(0,0,g,v,y,!E),h>Zc&&(l.moveTo(h*y1(y),h*yd(y)),l.arc(0,0,h,y,v,E));else{var Ze,W,M=v,k=y,P=v,H=y,X=b,z=b,se=a.apply(this,arguments)/2,ye=se>Zc&&(r?+r.apply(this,arguments):el(h*h+g*g)),Ie=W6(fde(g-h)/2,+i.apply(this,arguments)),Ee=Ie,Je=Ie;if(ye>Zc){var Z=dde(ye/h*yd(se)),te=dde(ye/g*yd(se));(X-=2*Z)>Zc?(P+=Z*=E?1:-1,H-=Z):(X=0,P=H=(v+y)/2),(z-=2*te)>Zc?(M+=te*=E?1:-1,k-=te):(z=0,M=k=(v+y)/2)}var Ce=g*y1(M),ce=g*yd(M),we=h*y1(H),Be=h*yd(H);if(Ie>Zc){var Vt,tt=g*y1(k),lt=g*yd(k),Mt=h*y1(P),bt=h*yd(P);if(b<i2)if(Vt=function gXe(e,t,i,r,o,s,a,l){var u=i-e,c=r-t,f=a-o,d=l-s,h=d*u-f*c;if(!(h*h<Zc))return[e+(h=(f*(t-s)-d*(e-o))/h)*u,t+h*c]}(Ce,ce,Mt,bt,tt,lt,we,Be)){var Vn=Ce-Vt[0],sn=ce-Vt[1],fi=tt-Vt[0],wt=lt-Vt[1],ln=1/yd(function ZWe(e){return e>1?0:e<-1?i2:Math.acos(e)}((Vn*fi+sn*wt)/(el(Vn*Vn+sn*sn)*el(fi*fi+wt*wt)))/2),wn=el(Vt[0]*Vt[0]+Vt[1]*Vt[1]);Ee=W6(Ie,(h-wn)/(ln-1)),Je=W6(Ie,(g-wn)/(ln+1))}else Ee=Je=0}z>Zc?Je>Zc?(Ze=EB(Mt,bt,Ce,ce,g,Je,E),W=EB(tt,lt,we,Be,g,Je,E),l.moveTo(Ze.cx+Ze.x01,Ze.cy+Ze.y01),Je<Ie?l.arc(Ze.cx,Ze.cy,Je,Yc(Ze.y01,Ze.x01),Yc(W.y01,W.x01),!E):(l.arc(Ze.cx,Ze.cy,Je,Yc(Ze.y01,Ze.x01),Yc(Ze.y11,Ze.x11),!E),l.arc(0,0,g,Yc(Ze.cy+Ze.y11,Ze.cx+Ze.x11),Yc(W.cy+W.y11,W.cx+W.x11),!E),l.arc(W.cx,W.cy,Je,Yc(W.y11,W.x11),Yc(W.y01,W.x01),!E))):(l.moveTo(Ce,ce),l.arc(0,0,g,M,k,!E)):l.moveTo(Ce,ce),h>Zc&&X>Zc?Ee>Zc?(Ze=EB(we,Be,tt,lt,h,-Ee,E),W=EB(Ce,ce,Mt,bt,h,-Ee,E),l.lineTo(Ze.cx+Ze.x01,Ze.cy+Ze.y01),Ee<Ie?l.arc(Ze.cx,Ze.cy,Ee,Yc(Ze.y01,Ze.x01),Yc(W.y01,W.x01),!E):(l.arc(Ze.cx,Ze.cy,Ee,Yc(Ze.y01,Ze.x01),Yc(Ze.y11,Ze.x11),!E),l.arc(0,0,h,Yc(Ze.cy+Ze.y11,Ze.cx+Ze.x11),Yc(W.cy+W.y11,W.cx+W.x11),E),l.arc(W.cx,W.cy,Ee,Yc(W.y11,W.x11),Yc(W.y01,W.x01),!E))):l.arc(0,0,h,H,P,E):l.lineTo(we,Be)}else l.moveTo(0,0);if(l.closePath(),f)return l=null,f+""||null}return c.centroid=function(){var f=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-i2/2;return[y1(d)*f,yd(d)*f]},c.innerRadius=function(f){return arguments.length?(e="function"==typeof f?f:Gs(+f),c):e},c.outerRadius=function(f){return arguments.length?(t="function"==typeof f?f:Gs(+f),c):t},c.cornerRadius=function(f){return arguments.length?(i="function"==typeof f?f:Gs(+f),c):i},c.padRadius=function(f){return arguments.length?(r=null==f?null:"function"==typeof f?f:Gs(+f),c):r},c.startAngle=function(f){return arguments.length?(o="function"==typeof f?f:Gs(+f),c):o},c.endAngle=function(f){return arguments.length?(s="function"==typeof f?f:Gs(+f),c):s},c.padAngle=function(f){return arguments.length?(a="function"==typeof f?f:Gs(+f),c):a},c.context=function(f){return arguments.length?(l=f??null,c):l},c}().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),uet=Dde().x(Q_).y1(V_).y0(e=>(e.y||0)+(e.height||0)).defined($B),cet=Dde().y(V_).x1(Q_).x0(e=>(e.x||0)+(e.width||0)).defined($B),fet=Ide().x(Q_).y(V_).defined($B),det=zhe().x(Q_).y(V_).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>H_(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>H_(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>H_(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>H_(e.cornerRadiusBottomLeft,e.cornerRadius)||0),Aet=function RXe(e,t){let i=null,r=CB(o);function o(){let s;if(i||(i=s=r()),e.apply(this,arguments).draw(i,+t.apply(this,arguments)),s)return i=null,s+""||null}return e="function"==typeof e?e:Gs(e||NH),t="function"==typeof t?t:Gs(void 0===t?64:+t),o.type=function(s){return arguments.length?(e="function"==typeof s?s:Gs(s),o):e},o.size=function(s){return arguments.length?(t="function"==typeof s?s:Gs(+s),o):t},o.context=function(s){return arguments.length?(i=s??null,o):i},o}().type(e=>Vhe(e.shape||"circle")).size(e=>H_(e.size,64)),het=$he().x(Q_).y(V_).defined($B).size(e=>e.size||1);function FQ(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function o8(e,t,i,r){return det.context(e)(t,i,r)}var Ghe=1;function qhe(){Ghe=1}function OQ(e,t,i){var r=t.clip,o=e._defs,s=t.clip_id||(t.clip_id="clip"+Ghe++),a=o.clipping[s]||(o.clipping[s]={id:s});return Uo(r)?a.path=r(null):FQ(i)?a.path=o8(null,i,0,0):(a.width=i.width||0,a.height=i.height||0),"url(#"+s+")"}function fu(e){this.clear(),e&&this.union(e)}function GB(e){this.mark=e,this.bounds=this.bounds||new fu}function qB(e){GB.call(this,e),this.items=this.items||[]}fu.prototype={clone(){return new fu(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,i,r){return i<e?(this.x2=e,this.x1=i):(this.x1=e,this.x2=i),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,i){const r=this.rotatedPoints(e,t,i);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,i){var{x1:r,y1:o,x2:s,y2:a}=this,l=Math.cos(e),u=Math.sin(e),c=t-t*l+i*u,f=i-t*u-i*l;return[l*r-u*o+c,u*r+l*o+f,l*r-u*a+c,u*r+l*a+f,l*s-u*o+c,u*s+l*o+f,l*s-u*a+c,u*s+l*a+f]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},$i(qB,GB);class jhe{constructor(t){this._pending=0,this._loader=t||WS()}pending(){return this._pending}sanitizeURL(t){const i=this;return Khe(i),i._loader.sanitize(t,{context:"href"}).then(r=>(z_(i),r)).catch(()=>(z_(i),null))}loadImage(t){const i=this,r=typeof Image<"u"?Image:null;return Khe(i),i._loader.sanitize(t,{context:"image"}).then(o=>{const s=o.href;if(!s||!r)throw{url:s};const a=new r,l=fr(o,"crossOrigin")?o.crossOrigin:"anonymous";return null!=l&&(a.crossOrigin=l),a.onload=()=>z_(i),a.onerror=()=>z_(i),a.src=s,a}).catch(o=>(z_(i),{complete:!1,width:0,height:0,src:o&&o.url||""}))}ready(){const t=this;return new Promise(i=>{!function r(o){t.pending()?setTimeout(()=>{r(!0)},10):i(o)}(!1)})}}function Khe(e){e._pending+=1}function z_(e){e._pending-=1}function b1(e,t,i){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(i?function wet(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}const bet=Jp-1e-8;let jB,KB,WB,E3,kQ,XB,NQ,LQ;const u2=(e,t)=>jB.add(e,t),YB=(e,t)=>u2(KB=e,WB=t),Whe=e=>u2(e,jB.y1),Xhe=e=>u2(jB.x1,e),x3=(e,t)=>kQ*e+NQ*t,S3=(e,t)=>XB*e+LQ*t,RQ=(e,t)=>u2(x3(e,t),S3(e,t)),UQ=(e,t)=>YB(x3(e,t),S3(e,t));function $_(e,t){return jB=e,t?(E3=t*a2,kQ=LQ=Math.cos(E3),XB=Math.sin(E3),NQ=-XB):(kQ=LQ=1,E3=XB=NQ=0),Cet}const Cet={beginPath(){},closePath(){},moveTo:UQ,lineTo:UQ,rect(e,t,i,r){E3?(RQ(e+i,t),RQ(e+i,t+r),RQ(e,t+r),UQ(e,t)):(u2(e+i,t+r),YB(e,t))},quadraticCurveTo(e,t,i,r){const o=x3(e,t),s=S3(e,t),a=x3(i,r),l=S3(i,r);Yhe(KB,o,a,Whe),Yhe(WB,s,l,Xhe),YB(a,l)},bezierCurveTo(e,t,i,r,o,s){const a=x3(e,t),l=S3(e,t),u=x3(i,r),c=S3(i,r),f=x3(o,s),d=S3(o,s);Zhe(KB,a,u,f,Whe),Zhe(WB,l,c,d,Xhe),YB(f,d)},arc(e,t,i,r,o,s){if(r+=E3,o+=E3,KB=i*Math.cos(o)+e,WB=i*Math.sin(o)+t,Math.abs(o-r)>bet)u2(e-i,t-i),u2(e+i,t+i);else{const a=c=>u2(i*Math.cos(c)+e,i*Math.sin(c)+t);let l,u;if(a(r),a(o),o!==r)if((r%=Jp)<0&&(r+=Jp),(o%=Jp)<0&&(o+=Jp),o<r&&(s=!s,l=r,r=o,o=l),s)for(o-=Jp,l=r-r%C3,u=0;u<4&&l>o;++u,l-=C3)a(l);else for(l=r-r%C3+C3,u=0;u<4&&l<o;++u,l+=C3)a(l)}}};function Yhe(e,t,i,r){const o=(e-t)/(e+i-2*t);0<o&&o<1&&r(e+(t-e)*o)}function Zhe(e,t,i,r,o){const s=r-e+3*t-3*i,a=e+i-2*t,l=e-t;let f,u=0,c=0;Math.abs(s)>1e-14?(f=a*a+l*s,f>=0&&(f=Math.sqrt(f),u=(-a+f)/s,c=(-a-f)/s)):u=.5*l/a,0<u&&u<1&&o(Jhe(u,e,t,i,r)),0<c&&c<1&&o(Jhe(c,e,t,i,r))}function Jhe(e,t,i,r,o){const s=1-e,a=s*s,l=e*e;return a*s*t+3*a*e*i+3*s*l*r+l*e*o}var c2=(c2=r2(1,1))?c2.getContext("2d"):null;const PQ=new fu;function HQ(e){return function(t,i){if(!c2)return!0;e(c2,t),PQ.clear().union(t.bounds).intersect(i).round();const{x1:r,y1:o,x2:s,y2:a}=PQ;for(let l=o;l<=a;++l)for(let u=r;u<=s;++u)if(c2.isPointInPath(u,l))return!0;return!1}}function QQ(e,t){return t.contains(e.x||0,e.y||0)}function e0e(e,t){const i=e.x||0,r=e.y||0;return t.intersects(PQ.set(i,r,i+(e.width||0),r+(e.height||0)))}function t0e(e,t){const i=e.x||0,r=e.y||0;return s8(t,i,r,null!=e.x2?e.x2:i,null!=e.y2?e.y2:r)}function s8(e,t,i,r,o){const{x1:s,y1:a,x2:l,y2:u}=e,c=r-t,f=o-i;let g,v,y,b,d=0,h=1;for(b=0;b<4;++b){if(0===b&&(g=-c,v=-(s-t)),1===b&&(g=c,v=l-t),2===b&&(g=-f,v=-(a-i)),3===b&&(g=f,v=u-i),Math.abs(g)<1e-10&&v<0)return!1;if(y=v/g,g<0){if(y>h)return!1;y>d&&(d=y)}else if(g>0){if(y<d)return!1;y<h&&(h=y)}}return!0}function a8(e,t){e.globalCompositeOperation=t.blend||"source-over"}function v0(e,t){return e??t}function n0e(e,t){const i=t.length;for(let r=0;r<i;++r)e.addColorStop(t[r].offset,t[r].color);return e}function i0e(e,t,i){return BQ(i)?function Eet(e,t,i){const r=i.width(),o=i.height();let s;if("radial"===t.gradient)s=e.createRadialGradient(i.x1+v0(t.x1,.5)*r,i.y1+v0(t.y1,.5)*o,Math.max(r,o)*v0(t.r1,0),i.x1+v0(t.x2,.5)*r,i.y1+v0(t.y2,.5)*o,Math.max(r,o)*v0(t.r2,.5));else{const a=v0(t.x1,0),l=v0(t.y1,0),u=v0(t.x2,1),c=v0(t.y2,0);if(a!==u&&l!==c&&r!==o){const f=r2(Math.ceil(r),Math.ceil(o)),d=f.getContext("2d");return d.scale(r,o),d.fillStyle=n0e(d.createLinearGradient(a,l,u,c),t.stops),d.fillRect(0,0,r,o),e.createPattern(f,"no-repeat")}s=e.createLinearGradient(i.x1+a*r,i.y1+l*o,i.x1+u*r,i.y1+c*o)}return n0e(s,t.stops)}(e,i,t.bounds):i}function ZB(e,t,i){return(i*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=i,e.fillStyle=i0e(e,t,t.fill),!0)}var xet=[];function l8(e,t,i){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&(i*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=i,e.strokeStyle=i0e(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||xet),e.lineDashOffset=t.strokeDashOffset||0),!0)}function Bet(e,t){return e.zindex-t.zindex||e.index-t.index}function VQ(e){if(!e.zdirty)return e.zitems;var r,o,s,t=e.items,i=[];for(o=0,s=t.length;o<s;++o)(r=t[o]).index=o,r.zindex&&i.push(r);return e.zdirty=!1,e.zitems=i.sort(Bet)}function y0(e,t){var r,o,i=e.items;if(!i||!i.length)return;const s=VQ(e);if(s&&s.length){for(r=0,o=i.length;r<o;++r)i[r].zindex||t(i[r]);i=s}for(r=0,o=i.length;r<o;++r)t(i[r])}function JB(e,t){var r,o,i=e.items;if(!i||!i.length)return null;const s=VQ(e);for(s&&s.length&&(i=s),o=i.length;--o>=0;)if(r=t(i[o]))return r;if(i===s)for(o=(i=e.items).length;--o>=0;)if(!i[o].zindex&&(r=t(i[o])))return r;return null}function zQ(e){return function(t,i,r){y0(i,o=>{(!r||r.intersects(o.bounds))&&r0e(e,t,o,o)})}}function Met(e){return function(t,i,r){i.items.length&&(!r||r.intersects(i.bounds))&&r0e(e,t,i.items[0],i.items)}}function r0e(e,t,i,r){var o=null==i.opacity?1:i.opacity;0!==o&&(e(t,r)||(a8(t,i),i.fill&&ZB(t,i,o)&&t.fill(),i.stroke&&l8(t,i,o)&&t.stroke()))}function eM(e){return e=e||sh,function(t,i,r,o,s,a){return r*=t.pixelRatio,o*=t.pixelRatio,JB(i,l=>{const u=l.bounds;if((!u||u.contains(s,a))&&u&&e(t,l,r,o,s,a))return l})}}function G_(e,t){return function(i,r,o,s){var f,a=Array.isArray(r)?r[0]:r,l=t??a.fill,u=a.stroke&&i.isPointInStroke;return u&&(f=a.strokeCap,i.lineWidth=a.strokeWidth??1,i.lineCap=f??"butt"),!e(i,r)&&(l&&i.isPointInPath(o,s)||u&&i.isPointInStroke(o,s))}}function $Q(e){return eM(G_(e))}function B3(e,t){return"translate("+e+","+t+")"}function GQ(e){return"rotate("+e+")"}function o0e(e){return B3(e.x||0,e.y||0)}function qQ(e,t,i){function s(a,l){var u=l.x||0,c=l.y||0,f=l.angle||0;a.translate(u,c),f&&a.rotate(f*=a2),a.beginPath(),t(a,l),f&&a.rotate(-f),a.translate(-u,-c)}return{type:e,tag:"path",nested:!1,attr:function r(a,l){a("transform",function Det(e){return B3(e.x||0,e.y||0)+(e.angle?" "+GQ(e.angle):"")}(l)),a("d",t(null,l))},bound:function o(a,l){return t($_(a,l.angle),l),b1(a,l).translate(l.x||0,l.y||0)},draw:zQ(s),pick:$Q(s),isect:i||HQ(s)}}var Fet=qQ("arc",function pet(e,t){return aet.context(e)(t)});function jQ(e,t,i){function s(u,c){u.beginPath(),t(u,c)}const a=G_(s);return{type:e,tag:"path",nested:!0,attr:function r(u,c){var f=c.mark.items;f.length&&u("d",t(null,f))},bound:function o(u,c){var f=c.items;return 0===f.length?u:(t($_(u),f),b1(u,f[0]))},draw:Met(s),pick:function l(u,c,f,d,h,g){var v=c.items,y=c.bounds;return!v||!v.length||y&&!y.contains(h,g)?null:a(u,v,f*=u.pixelRatio,d*=u.pixelRatio)?v[0]:null},isect:QQ,tip:i}}var Let=jQ("area",function get(e,t){const i=t[0];return("horizontal"===i.orient?cet:uet).curve(MQ(i.interpolate||"linear",i.orient,i.tension)).context(e)(t)},function Oet(e,t){for(var a,l,i="horizontal"===e[0].orient?t[1]:t[0],r="horizontal"===e[0].orient?"y":"x",o=e.length,s=1/0;--o>=0;)!1!==e[o].defined&&(l=Math.abs(e[o][r]-i))<s&&(s=l,a=e[o]);return a});function s0e(e,t){e.beginPath(),FQ(t)?o8(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function a0e(e){const t=v0(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function l0e(e,t){const i=a0e(t);e("d",o8(null,t,i,i))}function q_(e,t,i,r){const o=a0e(t);e.beginPath(),o8(e,t,(i||0)+o,(r||0)+o)}const zet=G_(q_),$et=G_(q_,!1),Get=G_(q_,!0);var Wet={type:"group",tag:"g",nested:!1,attr:function Uet(e,t){e("transform",o0e(t))},bound:function Vet(e,t){if(!t.clip&&t.items){const i=t.items,r=i.length;for(let o=0;o<r;++o)e.union(i[o].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),b1(e,t),e.translate(t.x||0,t.y||0)},draw:function qet(e,t,i,r){y0(t,o=>{const s=o.x||0,a=o.y||0,l=o.strokeForeground,u=null==o.opacity?1:o.opacity;(o.stroke||o.fill)&&u&&(q_(e,o,s,a),a8(e,o),o.fill&&ZB(e,o,u)&&e.fill(),o.stroke&&!l&&l8(e,o,u)&&e.stroke()),e.save(),e.translate(s,a),o.clip&&s0e(e,o),i&&i.translate(-s,-a),y0(o,c=>{("group"===c.marktype||null==r||r.includes(c.marktype))&&this.draw(e,c,i,r)}),i&&i.translate(s,a),e.restore(),l&&o.stroke&&u&&(q_(e,o,s,a),a8(e,o),l8(e,o,u)&&e.stroke())})},pick:function jet(e,t,i,r,o,s){if(t.bounds&&!t.bounds.contains(o,s)||!t.items)return null;const a=i*e.pixelRatio,l=r*e.pixelRatio;return JB(t,u=>{let c,f,d;const h=u.bounds;if(h&&!h.contains(o,s))return;f=u.x||0,d=u.y||0;const y=u.clip;if(y&&(o<f||o>f+(u.width||0)||s<d||s>d+(u.height||0)))return;if(e.save(),e.translate(f,d),f=o-f,d=s-d,y&&FQ(u)&&!Get(e,u,a,l))return e.restore(),null;const b=u.strokeForeground,E=!1!==t.interactive;return E&&b&&u.stroke&&$et(e,u,a,l)?(e.restore(),u):(c=JB(u,M=>function Ket(e,t,i){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,i)}(M,f,d)?this.pick(M,i,r,f,d):null),!c&&E&&(u.fill||!b&&u.stroke)&&zet(e,u,a,l)&&(c=u),e.restore(),c||null)})},isect:e0e,content:function Qet(e,t,i){e("clip-path",t.clip?OQ(i,t,t):null)},background:function Pet(e,t){e("class","background"),e("aria-hidden",!0),l0e(e,t)},foreground:function Het(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?l0e(e,t):e("d","")}},j_={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function KQ(e,t){var i=e.image;return(!i||e.url&&e.url!==i.url)&&(i={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),i}function WQ(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function XQ(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function tM(e,t){return"center"===e?t/2:"right"===e?t:0}function nM(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Jet={type:"image",tag:"image",nested:!1,attr:function Xet(e,t,i){const r=KQ(t,i),o=WQ(t,r),s=XQ(t,r),a=(t.x||0)-tM(t.align,o),l=(t.y||0)-nM(t.baseline,s);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",j_["xmlns:xlink"],"xlink:href"),e("transform",B3(a,l)),e("width",o),e("height",s),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function Yet(e,t){const i=t.image,r=WQ(t,i),o=XQ(t,i),s=(t.x||0)-tM(t.align,r),a=(t.y||0)-nM(t.baseline,o);return e.set(s,a,s+r,a+o)},draw:function Zet(e,t,i){y0(t,r=>{if(i&&!i.intersects(r.bounds))return;const o=KQ(r,this);let s=WQ(r,o),a=XQ(r,o);if(0===s||0===a)return;let c,f,d,h,l=(r.x||0)-tM(r.align,s),u=(r.y||0)-nM(r.baseline,a);!1!==r.aspect&&(f=o.width/o.height,d=r.width/r.height,f==f&&d==d&&f!==d&&(d<f?(h=s/f,u+=(a-h)/2,a=h):(h=a*f,l+=(s-h)/2,s=h))),(o.complete||o.toDataURL)&&(a8(e,r),e.globalAlpha=null!=(c=r.opacity)?c:1,e.imageSmoothingEnabled=!1!==r.smooth,e.drawImage(o,l,u,s,a))})},pick:eM(),isect:sh,get:KQ,xOffset:tM,yOffset:nM},ett=jQ("line",function met(e,t){const i=t[0];return fet.curve(MQ(i.interpolate||"linear",i.orient,i.tension)).context(e)(t)},function ket(e,t){for(var o,s,i=Math.pow(e[0].strokeWidth||1,2),r=e.length;--r>=0;)if(!1!==e[r].defined&&(o=e[r].x-t[0])*o+(s=e[r].y-t[1])*s<i)return e[r];return null});function iM(e,t){var i=t.path;if(null==i)return!0;var r=t.x||0,o=t.y||0,s=t.scaleX||1,a=t.scaleY||1,l=(t.angle||0)*a2,u=t.pathCache;(!u||u.path!==i)&&((t.pathCache=u=i8(i)).path=i),l&&e.rotate&&e.translate?(e.translate(r,o),e.rotate(l),P_(e,u,0,0,s,a),e.rotate(-l),e.translate(-r,-o)):P_(e,u,r,o,s,a)}var itt={type:"path",tag:"path",nested:!1,attr:function ttt(e,t){(1!==(t.scaleX||1)||1!==(t.scaleY||1))&&e("vector-effect","non-scaling-stroke"),e("transform",function Tet(e){return B3(e.x||0,e.y||0)+(e.angle?" "+GQ(e.angle):"")+(e.scaleX||e.scaleY?" "+function Iet(e,t){return"scale("+e+","+t+")"}(e.scaleX||1,e.scaleY||1):"")}(t)),e("d",t.path)},bound:function ntt(e,t){return iM($_(e,t.angle),t)?e.set(0,0,0,0):b1(e,t,!0)},draw:zQ(iM),pick:$Q(iM),isect:HQ(iM)};function u0e(e,t){e.beginPath(),o8(e,t)}var stt={type:"rect",tag:"path",nested:!1,attr:function rtt(e,t){e("d",o8(null,t))},bound:function ott(e,t){var i,r;return b1(e.set(i=t.x||0,r=t.y||0,i+t.width||0,r+t.height||0),t)},draw:zQ(u0e),pick:$Q(u0e),isect:e0e};function c0e(e,t,i){var r,o,s,a;return!(!t.stroke||!l8(e,t,i)||(r=t.x||0,o=t.y||0,s=null!=t.x2?t.x2:r,a=null!=t.y2?t.y2:o,e.beginPath(),e.moveTo(r,o),e.lineTo(s,a),0))}var ftt={type:"rule",tag:"line",nested:!1,attr:function att(e,t){e("transform",o0e(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function ltt(e,t){var i,r;return b1(e.set(i=t.x||0,r=t.y||0,null!=t.x2?t.x2:i,null!=t.y2?t.y2:r),t)},draw:function utt(e,t,i){y0(t,r=>{if(!i||i.intersects(r.bounds)){var o=null==r.opacity?1:r.opacity;o&&c0e(e,r,o)&&(a8(e,r),e.stroke())}})},pick:eM(function ctt(e,t,i,r){return!!e.isPointInStroke&&c0e(e,t,1)&&e.isPointInStroke(i,r)}),isect:t0e},dtt=qQ("shape",function vet(e,t){return(t.mark.shape||t.shape).context(e)(t)}),Att=qQ("symbol",function yet(e,t){return Aet.context(e)(t)},QQ);const f0e=bue();var cA={height:eg,measureWidth:YQ,estimateWidth:rM,width:rM,canvas:d0e};function d0e(e){cA.width=e&&c2?YQ:rM}function rM(e,t){return A0e(d2(e,t),eg(e))}function A0e(e,t){return~~(.8*e.length*t)}function YQ(e,t){return eg(e)<=0||!(t=d2(e,t))?0:h0e(t,oM(e))}function h0e(e,t){const i=`(${t}) ${e}`;let r=f0e.get(i);return void 0===r&&(c2.font=t,r=c2.measureText(e).width,f0e.set(i,r)),r}function eg(e){return null!=e.fontSize?+e.fontSize||0:11}function f2(e){return null!=e.lineHeight?e.lineHeight:eg(e)+2}function K_(e){return function htt(e){return Xn(e)?e.length>1?e:e[0]:e}(e.lineBreak&&e.text&&!Xn(e.text)?e.text.split(e.lineBreak):e.text)}function ZQ(e){const t=K_(e);return(Xn(t)?t.length-1:0)*f2(e)}function d2(e,t){const i=null==t?"":(t+"").trim();return e.limit>0&&i.length?function gtt(e,t){var i=+e.limit,r=function ptt(e){if(cA.width===YQ){const t=oM(e);return i=>h0e(i,t)}if(cA.width===rM){const t=eg(e);return i=>A0e(i,t)}return t=>cA.width(e,t)}(e);if(r(t)<i)return t;var u,o=e.ellipsis||"\u2026",s="rtl"===e.dir,a=0,l=t.length;if(i-=r(o),s){for(;a<l;)r(t.slice(u=a+l>>>1))>i?a=u+1:l=u;return o+t.slice(a)}for(;a<l;)r(t.slice(0,u=1+(a+l>>>1)))<i?a=u:l=u-1;return t.slice(0,a)+o}(e,i):i}function W_(e,t){var i=e.font;return(t&&i?String(i).replace(/"/g,"'"):i)||"sans-serif"}function oM(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+eg(e)+"px "+W_(e,t)}function JQ(e){var t=e.baseline,i=eg(e);return Math.round("top"===t?.79*i:"middle"===t?.3*i:"bottom"===t?-.21*i:"line-top"===t?.29*i+.5*f2(e):"line-bottom"===t?.29*i-.5*f2(e):0)}d0e(!0);const mtt={left:"start",center:"middle",right:"end"},X_=new fu;function sM(e){var o,t=e.x||0,i=e.y||0,r=e.radius||0;return r&&(o=(e.theta||0)-C3,t+=r*Math.cos(o),i+=r*Math.sin(o)),X_.x1=t,X_.y1=i,X_}function eV(e,t,i){var d,r=cA.height(t),o=t.align,s=sM(t),a=s.x1,l=s.y1,u=t.dx||0,c=(t.dy||0)+JQ(t)-Math.round(.8*r),f=K_(t);if(Xn(f)?(r+=f2(t)*(f.length-1),d=f.reduce((h,g)=>Math.max(h,cA.width(t,g)),0)):d=cA.width(t,f),"center"===o?u-=d/2:"right"===o&&(u-=d),e.set(u+=a,c+=l,u+d,c+r),t.angle&&!i)e.rotate(t.angle*a2,a,l);else if(2===i)return e.rotatedPoints(t.angle*a2,a,l);return e}var btt={type:"text",tag:"text",nested:!1,attr:function vtt(e,t){var u,i=t.dx||0,r=(t.dy||0)+JQ(t),o=sM(t),s=o.x1,a=o.y1,l=t.angle||0;e("text-anchor",mtt[t.align]||"start"),l?(u=B3(s,a)+" "+GQ(l),(i||r)&&(u+=" "+B3(i,r))):u=B3(s+i,a+r),e("transform",u)},bound:eV,draw:function ytt(e,t,i){y0(t,r=>{var s,a,l,u,c,f,d,o=null==r.opacity?1:r.opacity;if(!(i&&!i.intersects(r.bounds)||0===o||r.fontSize<=0||null==r.text||0===r.text.length)){if(e.font=oM(r),e.textAlign=r.align||"left",a=(s=sM(r)).x1,l=s.y1,r.angle&&(e.save(),e.translate(a,l),e.rotate(r.angle*a2),a=l=0),a+=r.dx||0,l+=(r.dy||0)+JQ(r),f=K_(r),a8(e,r),Xn(f))for(c=f2(r),u=0;u<f.length;++u)d=d2(r,f[u]),r.fill&&ZB(e,r,o)&&e.fillText(d,a,l),r.stroke&&l8(e,r,o)&&e.strokeText(d,a,l),l+=c;else d=d2(r,f),r.fill&&ZB(e,r,o)&&e.fillText(d,a,l),r.stroke&&l8(e,r,o)&&e.strokeText(d,a,l);r.angle&&e.restore()}})},pick:eM(function _tt(e,t,i,r,o,s){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=sM(t),l=a.x1,u=a.y1,c=eV(X_,t,1),f=-t.angle*a2,d=Math.cos(f),h=Math.sin(f);return c.contains(d*o-h*s+(l-d*l+h*u),h*o+d*s+(u-h*l-d*u))}),isect:function wtt(e,t){const i=eV(X_,e,2);return s8(t,i[0],i[1],i[2],i[3])||s8(t,i[0],i[1],i[4],i[5])||s8(t,i[4],i[5],i[6],i[7])||s8(t,i[2],i[3],i[6],i[7])}},Ctt=jQ("trail",function _et(e,t){return het.context(e)(t)},function Net(e,t){for(var r,o,i=e.length;--i>=0;)if(!1!==e[i].defined&&(r=e[i].x-t[0])*r+(o=e[i].y-t[1])*o<(r=e[i].size||1)*r)return e[i];return null}),fA={arc:Fet,area:Let,group:Wet,image:Jet,line:ett,path:itt,rect:stt,rule:ftt,shape:dtt,symbol:Att,text:btt,trail:Ctt};function tV(e,t,i){var r=fA[e.mark.marktype];return r.nested&&(e=e.mark),(t||r.bound)(e.bounds||(e.bounds=new fu),e,i)}var p0e={mark:null};function g0e(e,t,i){var l,u,c,f,r=fA[e.marktype],o=r.bound,s=e.items,a=s&&s.length;if(r.nested)return a?c=s[0]:(p0e.mark=e,c=p0e),f=tV(c,o,i),t&&t.union(f)||f;if(t=t||e.bounds&&e.bounds.clear()||new fu,a)for(l=0,u=s.length;l<u;++l)t.union(tV(s[l],o,i));return e.bounds=t}const Ett=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function m0e(e,t){return JSON.stringify(e,Ett,t)}function v0e(e){return y0e("string"==typeof e?JSON.parse(e):e)}function y0e(e){var r,o,s,t=e.marktype,i=e.items;if(i)for(o=0,s=i.length;o<s;++o)i[o][r=t?"mark":"group"]=e,i[o].zindex&&(i[o][r].zdirty=!0),"group"===(t||r)&&y0e(i[o]);return t&&g0e(e),e}class _0e{constructor(t){arguments.length?this.root=v0e(t):(this.root=w0e({marktype:"group",name:"root",role:"frame"}),this.root.items=[new qB(this.root)])}toJSON(t){return m0e(this.root,t||0)}mark(t,i,r){const o=w0e(t,i=i||this.root.items[0]);return i.items[r]=o,o.zindex&&(o.group.zdirty=!0),o}}function w0e(e,t){const i={bounds:new fu,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(i.aria=e.aria),e.description&&(i.description=e.description),i}function A2(e,t,i){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?i?e.createElementNS(i,t):e.createElement(t):null}function nV(e,t){t=t.toLowerCase();for(var i=e.childNodes,r=0,o=i.length;r<o;++r)if(i[r].tagName.toLowerCase()===t)return i[r]}function Bu(e,t,i,r){var s,o=e.childNodes[t];return(!o||o.tagName.toLowerCase()!==i.toLowerCase())&&(s=o||null,o=A2(e.ownerDocument,i,r),e.insertBefore(o,s)),o}function gh(e,t){for(var i=e.childNodes,r=i.length;r>t;)e.removeChild(i[--r]);return e}function b0e(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function aM(e,t){const i=t.getBoundingClientRect();return[e.clientX-i.left-(t.clientLeft||0),e.clientY-i.top-(t.clientTop||0)]}class iV{constructor(t,i){this._active=null,this._handlers={},this._loader=t||WS(),this._tooltip=i||Stt}initialize(t,i,r){return this._el=t,this._obj=r||null,this.origin(i)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,i,r){for(let o=t?t.length:0;--o>=0;)if(t[o].type===i&&(!r||t[o].handler===r))return o;return-1}handlers(t){const i=this._handlers,r=[];if(t)r.push(...i[this.eventName(t)]);else for(const o in i)r.push(...i[o]);return r}eventName(t){const i=t.indexOf(".");return i<0?t:t.slice(0,i)}handleHref(t,i,r){this._loader.sanitize(r,{context:"href"}).then(o=>{const s=new MouseEvent(t.type,t),a=A2(null,"a");for(const l in o)a.setAttribute(l,o[l]);a.dispatchEvent(s)}).catch(()=>{})}handleTooltip(t,i,r){i&&null!=i.tooltip&&(i=function xtt(e,t,i,r){var s,a,o=e&&e.mark;if(o&&(s=fA[o.marktype]).tip){for((a=aM(t,i))[0]-=r[0],a[1]-=r[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=s.tip(o.items,a)}return e}(i,t,this.canvas(),this._origin),this._tooltip.call(this._obj,this,t,i,r&&i&&i.tooltip||null))}getItemBoundingClientRect(t){const i=this.canvas();if(!i)return;const r=i.getBoundingClientRect(),o=this._origin,s=t.bounds,a=s.width(),l=s.height();let u=s.x1+o[0]+r.left,c=s.y1+o[1]+r.top;for(;t.mark&&(t=t.mark.group);)u+=t.x||0,c+=t.y||0;return{x:u,y:c,width:a,height:l,left:u,top:c,right:u+a,bottom:c+l}}}function Stt(e,t,i,r){e.element().setAttribute("title",r||"")}class Y_{constructor(t){this._el=null,this._bgcolor=null,this._loader=new jhe(t)}initialize(t,i,r,o,s){return this._el=t,this.resize(i,r,o,s)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)}resize(t,i,r,o){return this._width=t,this._height=i,this._origin=r||[0,0],this._scale=o||1,this}dirty(){}render(t,i){const r=this;return r._call=function(){r._render(t,i)},r._call(),r._call=null,r}_render(){}renderAsync(t,i){const r=this.render(t,i);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,i){var r=this,o=r._loader[t](i);if(!r._ready){const s=r._call;r._ready=r._loader.ready().then(a=>{a&&s(),r._ready=null})}return o}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const lM="dragleave",rV="pointerdown",uM="pointermove",cM="pointerout",x0e="pointerover",oV="mousedown",fM="mouseout",dM="click",M0e="mousewheel",AM="touchstart",hM="touchmove",pM="touchend",ktt=["keydown","keypress","keyup","dragenter",lM,"dragover",rV,"pointerup",uM,cM,x0e,oV,"mouseup","mousemove",fM,"mouseover",dM,"dblclick","wheel",M0e,AM,hM,pM],sV=uM,Z_=fM,aV=dM;class J_ extends iV{constructor(t,i){super(t,i),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=ktt,this.pointermove=D0e([uM,"mousemove"],[x0e,"mouseover"],[cM,fM]),this.dragover=D0e(["dragover"],["dragenter"],[lM]),this.pointerout=T0e([cM,fM]),this.dragleave=T0e([lM])}initialize(t,i,r){return this._canvas=t&&nV(t,"canvas"),[dM,oV,rV,uM,cM,lM].forEach(o=>I0e(this,o)),super.initialize(t,i,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(M0e,t)}pointerdown(t){this._down=this._active,this.fire(rV,t)}mousedown(t){this._down=this._active,this.fire(oV,t)}click(t){this._down===this._active&&(this.fire(dM,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(AM,t,!0)}touchmove(t){this.fire(hM,t,!0)}touchend(t){this.fire(pM,t,!0),this._touch=null}fire(t,i,r){const o=r?this._touch:this._active,s=this._handlers[t];if(i.vegaType=t,t===aV&&o&&o.href?this.handleHref(i,o,o.href):(t===sV||t===Z_)&&this.handleTooltip(i,o,t!==Z_),s)for(let a=0,l=s.length;a<l;++a)s[a].handler.call(this._obj,i,o)}on(t,i){const r=this.eventName(t),o=this._handlers;return this._handlerIndex(o[r],t,i)<0&&(I0e(this,t),(o[r]||(o[r]=[])).push({type:t,handler:i})),this}off(t,i){const r=this.eventName(t),o=this._handlers[r],s=this._handlerIndex(o,t,i);return s>=0&&o.splice(s,1),this}pickEvent(t){const i=aM(t,this._canvas),r=this._origin;return this.pick(this._scene,i[0],i[1],i[0]-r[0],i[1]-r[1])}pick(t,i,r,o,s){const a=this.context();return fA[t.marktype].pick.call(this,a,t,i,r,o,s)}}const Ntt=e=>e===AM||e===hM||e===pM?[AM,hM,pM]:[e];function I0e(e,t){Ntt(t).forEach(i=>function Ltt(e,t){const i=e.canvas();i&&!e._events[t]&&(e._events[t]=1,i.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}(e,i))}function ew(e,t,i){t.forEach(r=>e.fire(r,i))}function D0e(e,t,i){return function(r){const o=this._active,s=this.pickEvent(r);s===o||((!o||!o.exit)&&ew(this,i,r),this._active=s,ew(this,t,r)),ew(this,e,r)}}function T0e(e){return function(t){ew(this,e,t),this._active=null}}class gM extends Y_{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new fu,this._tempb=new fu}initialize(t,i,r,o,s,a){return this._options=a||{},this._canvas=this._options.externalContext?null:r2(1,1),t&&this._canvas&&(gh(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,i,r,o,s)}resize(t,i,r,o){if(super.resize(t,i,r,o),this._canvas)!function Utt(e,t,i,r,o,s){const a=typeof HTMLElement<"u"&&e instanceof HTMLElement&&null!=e.parentNode,l=e.getContext("2d"),u=a?function Rtt(){return typeof window<"u"&&window.devicePixelRatio||1}():o;e.width=t*u,e.height=i*u;for(const c in s)l[c]=s[c];return a&&1!==u&&(e.style.width=t+"px",e.style.height=i+"px"),l.pixelRatio=u,l.setTransform(u,0,0,u,u*r[0],u*r[1]),e}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||Gn("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const i=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)i.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(i)}_render(t,i){const r=this.context(),o=this._origin,s=this._width,a=this._height,l=this._dirty,u=Ptt(o,s,a);r.save();const c=this._redraw||l.empty()?(this._redraw=!1,u.expand(1)):function Htt(e,t,i){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-i[0]%1,-i[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(r,u.intersect(l),o);return this.clear(-o[0],-o[1],s,a),this.draw(r,t,c,i),r.restore(),l.clear(),this}draw(t,i,r,o){if("group"!==i.marktype&&null!=o&&!o.includes(i.marktype))return;const s=fA[i.marktype];i.clip&&function Ret(e,t){var i=t.clip;e.save(),Uo(i)?(e.beginPath(),i(e),e.clip()):s0e(e,t.group)}(t,i),s.draw.call(this,t,i,r,o),i.clip&&t.restore()}clear(t,i,r,o){const s=this._options,a=this.context();"pdf"!==s.type&&!s.externalContext&&a.clearRect(t,i,r,o),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(t,i,r,o))}}const Ptt=(e,t,i)=>(new fu).set(0,0,t,i).translate(-e[0],-e[1]);class F0e extends iV{constructor(t,i){super(t,i);const r=this;r._hrefHandler=lV(r,(o,s)=>{s&&s.href&&r.handleHref(o,s,s.href)}),r._tooltipHandler=lV(r,(o,s)=>{r.handleTooltip(o,s,o.type!==Z_)})}initialize(t,i,r){let o=this._svg;return o&&(o.removeEventListener(aV,this._hrefHandler),o.removeEventListener(sV,this._tooltipHandler),o.removeEventListener(Z_,this._tooltipHandler)),this._svg=o=t&&nV(t,"svg"),o&&(o.addEventListener(aV,this._hrefHandler),o.addEventListener(sV,this._tooltipHandler),o.addEventListener(Z_,this._tooltipHandler)),super.initialize(t,i,r)}canvas(){return this._svg}on(t,i){const r=this.eventName(t),o=this._handlers;if(this._handlerIndex(o[r],t,i)<0){const a={type:t,handler:i,listener:lV(this,i)};(o[r]||(o[r]=[])).push(a),this._svg&&this._svg.addEventListener(r,a.listener)}return this}off(t,i){const r=this.eventName(t),o=this._handlers[r],s=this._handlerIndex(o,t,i);return s>=0&&(this._svg&&this._svg.removeEventListener(r,o[s].listener),o.splice(s,1)),this}}const lV=(e,t)=>i=>{let r=i.target.__data__;r=Array.isArray(r)?r[0]:r,i.vegaType=i.type,t.call(e._obj,i,r)},O0e="aria-hidden",uV="aria-label",cV="role",fV="aria-roledescription",k0e="graphics-object",dV="graphics-symbol",N0e=(e,t,i)=>({[cV]:e,[fV]:t,[uV]:i||void 0}),Qtt=d0(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),L0e={axis:{desc:"axis",caption:function $tt(e){const t=e.datum,i=e.orient,r=t.title?Q0e(e):null,o=e.context,s=o.scales[t.scale].value,a=o.dataflow.locale(),l=s.type;return("left"===i||"right"===i?"Y":"X")+"-axis"+(r?` titled '${r}'`:"")+` for a ${n8(l)?"discrete":l} scale with ${Ohe(a,s,e)}`}},legend:{desc:"legend",caption:function Gtt(e){const t=e.datum,i=t.title?Q0e(e):null,r=`${t.type||""} legend`.trim(),o=t.scales,s=Object.keys(o),a=e.context,l=a.scales[o[s[0]]].value,u=a.dataflow.locale();return function jtt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(r)+(i?` titled '${i}'`:"")+` for ${function qtt(e){return e=e.map(t=>t+("fill"===t||"stroke"===t?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+ds(e)}(s)} with ${Ohe(u,l,e)}`}},"title-text":{desc:"title",caption:e=>`Title text '${H0e(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${H0e(e)}'`}},R0e={ariaRole:cV,ariaRoleDescription:fV,description:uV};function U0e(e,t){const i=!1===t.aria;if(e(O0e,i||void 0),i||null==t.description)for(const r in R0e)e(R0e[r],void 0);else{const r=t.mark.marktype;e(uV,t.description),e(cV,t.ariaRole||("group"===r?k0e:dV)),e(fV,t.ariaRoleDescription||`${r} mark`)}}function P0e(e){return!1===e.aria?{[O0e]:!0}:Qtt[e.role]?null:L0e[e.role]?function ztt(e,t){try{const i=e.items[0];return N0e(t.role||dV,t.desc,i.description||(t.caption||(()=>""))(i))}catch{return null}}(e,L0e[e.role]):function Vtt(e){const t=e.marktype,i="group"===t||"text"===t||e.items.some(r=>null!=r.description&&!1!==r.aria);return N0e(i?k0e:dV,`${t} mark container`,e.description)}(e)}function H0e(e){return er(e.text).join(" ")}function Q0e(e){try{return er(ds(e.items).items[0].text).join(" ")}catch{return null}}const V0e=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ktt=e=>V0e(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function AV(){let e="",t="",i="";const r=[],o=()=>t=i="",a=(u,c)=>(null!=c&&(t+=` ${u}="${Ktt(c)}"`),l),l={open(u){(u=>{t&&(e+=`${t}>${i}`,o()),r.push(u)})(u),t="<"+u;for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];for(const h of f)for(const g in h)a(g,h[g]);return l},close(){const u=r.pop();return e+=t?t+(i?`>${i}</${u}>`:"/>"):`</${u}>`,o(),l},attr:a,text:u=>(i+=V0e(u),l),toString:()=>e};return l}const z0e=e=>$0e(AV(),e)+"";function $0e(e,t){if(e.open(t.tagName),t.hasAttributes()){const i=t.attributes,r=i.length;for(let o=0;o<r;++o)e.attr(i[o].name,i[o].value)}if(t.hasChildNodes()){const i=t.childNodes;for(const r of i)3===r.nodeType?e.text(r.nodeValue):$0e(e,r)}return e.close()}const mM={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},vM={blend:"mix-blend-mode"},G0e={fill:"none","stroke-miterlimit":10},q0e="http://www.w3.org/2000/xmlns/",Mu=j_.xmlns;class hV extends Y_{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,i,r,o,s){return this._defs={},this._clearDefs(),t&&(this._svg=Bu(t,0,"svg",Mu),this._svg.setAttributeNS(q0e,"xmlns",Mu),this._svg.setAttributeNS(q0e,"xmlns:xlink",j_["xmlns:xlink"]),this._svg.setAttribute("version",j_.version),this._svg.setAttribute("class","marks"),gh(t,1),this._root=Bu(this._svg,0,"g",Mu),h2(this._root,G0e),gh(this._svg,1)),this.background(this._bgcolor),super.initialize(t,i,r,o,s)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,i,r,o){return super.resize(t,i,r,o),this._svg&&(h2(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,i=this._bgcolor;if(!t)return null;let r;i&&(t.removeAttribute("style"),r=Bu(t,0,"rect",Mu),h2(r,{width:this._width,height:this._height,fill:i}));const o=z0e(t);return i&&(t.removeChild(r),this._svg.style.setProperty("background-color",i)),o}_render(t,i){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,i),gh(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const i=++this._dirtyID;let r,o,s,a,l,u,c;for(l=0,u=t.length;l<u;++l)if(r=t[l],o=r.mark,o.marktype!==s&&(s=o.marktype,a=fA[s]),o.zdirty&&o.dirty!==i&&(this._dirtyAll=!1,j0e(r,i),o.items.forEach(f=>{f.dirty=i})),!o.zdirty){if(r.exit){a.nested&&o.items.length?(c=o.items[0],c._svg&&this._update(a,c._svg,c)):r._svg&&(c=r._svg.parentNode,c&&c.removeChild(r._svg)),r._svg=null;continue}r=a.nested?o.items[0]:r,r._update!==i&&(r._svg&&r._svg.ownerSVGElement?this._update(a,r._svg,r):(this._dirtyAll=!1,j0e(r,i)),r._update=i)}return!this._dirtyAll}mark(t,i,r,o){if(!this.isDirty(i))return i._svg;const s=this._svg,a=i.marktype,l=fA[a],u=!1===i.interactive?"none":null,c="g"===l.tag,f=K0e(i,t,r,"g",s);if("group"!==a&&null!=o&&!o.includes(a))return gh(f,0),i._svg;f.setAttribute("class",b0e(i));const d=P0e(i);for(const y in d)Of(f,y,d[y]);c||Of(f,"pointer-events",u),Of(f,"clip-path",i.clip?OQ(this,i,i.group):null);let h=null,g=0;const v=y=>{const b=this.isDirty(y),E=K0e(y,f,h,l.tag,s);b&&(this._update(l,E,y),c&&function Ytt(e,t,i,r){t=t.lastChild.previousSibling;let o,s=0;y0(i,a=>{o=e.mark(t,a,o,r),++s}),gh(t,1+s)}(this,E,y,o)),h=E,++g};return l.nested?i.items.length&&v(i.items[0]):y0(i,v),gh(f,g),f}_update(t,i,r){C1=i,Jc=i.__values__,U0e(nw,r),t.attr(nw,r,this);const o=Jtt[t.type];o&&o.call(this,t,i,r),C1&&this.style(C1,r)}style(t,i){if(null!=i){for(const r in mM){let o="font"===r?W_(i):i[r];if(o===Jc[r])continue;const s=mM[r];null==o?t.removeAttribute(s):(BQ(o)&&(o=Nhe(o,this._defs.gradient,W0e())),t.setAttribute(s,o+"")),Jc[r]=o}for(const r in vM)yM(t,vM[r],i[r])}}defs(){const t=this._svg,i=this._defs;let r=i.el,o=0;for(const s in i.gradient)r||(i.el=r=Bu(t,1,"defs",Mu)),o=Wtt(r,i.gradient[s],o);for(const s in i.clipping)r||(i.el=r=Bu(t,1,"defs",Mu)),o=Xtt(r,i.clipping[s],o);r&&(0===o?(t.removeChild(r),i.el=null):gh(r,o))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function j0e(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function Wtt(e,t,i){let r,o,s;if("radial"===t.gradient){let a=Bu(e,i++,"pattern",Mu);h2(a,{id:"p_"+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a=Bu(a,0,"rect",Mu),h2(a,{width:1,height:1,fill:`url(${W0e()}#${t.id})`}),h2(e=Bu(e,i++,"radialGradient",Mu),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else h2(e=Bu(e,i++,"linearGradient",Mu),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,o=t.stops.length;r<o;++r)s=Bu(e,r,"stop",Mu),s.setAttribute("offset",t.stops[r].offset),s.setAttribute("stop-color",t.stops[r].color);return gh(e,r),i}function Xtt(e,t,i){let r;return(e=Bu(e,i,"clipPath",Mu)).setAttribute("id",t.id),t.path?(r=Bu(e,0,"path",Mu),r.setAttribute("d",t.path)):(r=Bu(e,0,"rect",Mu),h2(r,{x:0,y:0,width:t.width,height:t.height})),gh(e,1),i+1}function K0e(e,t,i,r,o){let a,s=e._svg;if(!s&&(a=t.ownerDocument,s=A2(a,r,Mu),e._svg=s,e.mark&&(s.__data__=e,s.__values__={fill:"default"},"g"===r))){const l=A2(a,"path",Mu);s.appendChild(l),l.__data__=e;const u=A2(a,"g",Mu);s.appendChild(u),u.__data__=e;const c=A2(a,"path",Mu);s.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(s.ownerSVGElement!==o||function Ztt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(s,i))&&t.insertBefore(s,i?i.nextSibling:t.firstChild),s}let C1=null,Jc=null;const Jtt={group(e,t,i){const r=C1=t.childNodes[2];Jc=r.__values__,e.foreground(nw,i,this),Jc=t.__values__,C1=t.childNodes[1],e.content(nw,i,this);const o=C1=t.childNodes[0];e.background(nw,i,this);const s=!1===i.mark.interactive?"none":null;if(s!==Jc.events&&(Of(r,"pointer-events",s),Of(o,"pointer-events",s),Jc.events=s),i.strokeForeground&&i.stroke){const a=i.fill;Of(r,"display",null),this.style(o,i),Of(o,"stroke",null),a&&(i.fill=null),Jc=r.__values__,this.style(r,i),a&&(i.fill=a),C1=null}else Of(r,"display","none")},image(e,t,i){!1===i.smooth?(yM(t,"image-rendering","optimizeSpeed"),yM(t,"image-rendering","pixelated")):yM(t,"image-rendering",null)},text(e,t,i){const r=K_(i);let o,s,a,l;Xn(r)?(s=r.map(u=>d2(i,u)),o=s.join("\n"),o!==Jc.text&&(gh(t,0),a=t.ownerDocument,l=f2(i),s.forEach((u,c)=>{const f=A2(a,"tspan",Mu);f.__data__=i,f.textContent=u,c&&(f.setAttribute("x",0),f.setAttribute("dy",l)),t.appendChild(f)}),Jc.text=o)):(s=d2(i,r),s!==Jc.text&&(t.textContent=s,Jc.text=s)),Of(t,"font-family",W_(i)),Of(t,"font-size",eg(i)+"px"),Of(t,"font-style",i.fontStyle),Of(t,"font-variant",i.fontVariant),Of(t,"font-weight",i.fontWeight)}};function nw(e,t,i){t!==Jc[e]&&(i?function ent(e,t,i,r){null!=i?e.setAttributeNS(r,t,i):e.removeAttributeNS(r,t)}(C1,e,t,i):Of(C1,e,t),Jc[e]=t)}function yM(e,t,i){i!==Jc[t]&&(null==i?e.style.removeProperty(t):e.style.setProperty(t,i+""),Jc[t]=i)}function h2(e,t){for(const i in t)Of(e,i,t[i])}function Of(e,t,i){null!=i?e.setAttribute(t,i):e.removeAttribute(t)}function W0e(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class X0e extends Y_{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const i=AV();i.open("svg",Po({},j_,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&"transparent"!==r&&"none"!==r&&i.open("rect",{width:this._width,height:this._height,fill:r}).close(),i.open("g",G0e,{transform:"translate("+this._origin+")"}),this.mark(i,t),i.close(),this.defs(i),this._text=i.close()+"",this}mark(t,i){const r=fA[i.marktype],o=r.tag,s=[U0e,r.attr];t.open("g",{class:b0e(i),"clip-path":i.clip?OQ(this,i,i.group):null},P0e(i),{"pointer-events":"g"!==o&&!1===i.interactive?"none":null});const a=l=>{const u=this.href(l);if(u&&t.open("a",u),t.open(o,this.attr(i,l,s,"g"!==o?o:null)),"text"===o){const c=K_(l);if(Xn(c)){const f={x:0,dy:f2(l)};for(let d=0;d<c.length;++d)t.open("tspan",d?f:null).text(d2(l,c[d])).close()}else t.text(d2(l,c))}else if("g"===o){const c=l.strokeForeground,f=l.fill,d=l.stroke;c&&d&&(l.stroke=null),t.open("path",this.attr(i,l,r.background,"bgrect")).close(),t.open("g",this.attr(i,l,r.content)),y0(l,h=>this.mark(t,h)),t.close(),c&&d?(f&&(l.fill=null),l.stroke=d,t.open("path",this.attr(i,l,r.foreground,"bgrect")).close(),f&&(l.fill=f)):t.open("path",this.attr(i,l,r.foreground,"bgfore")).close()}t.close(),u&&t.close()};return r.nested?i.items&&i.items.length&&a(i.items[0]):y0(i,a),t.close()}href(t){const i=t.href;let r;if(i){if(r=this._hrefs&&this._hrefs[i])return r;this.sanitizeURL(i).then(o=>{o["xlink:href"]=o.href,o.href=null,(this._hrefs||(this._hrefs={}))[i]=o})}return null}attr(t,i,r,o){const s={},a=(l,u,c,f)=>{s[f||l]=u};return Array.isArray(r)?r.forEach(l=>l(a,i,this)):r(a,i,this),o&&function tnt(e,t,i,r,o){let s;if(null==t||("bgrect"===r&&!1===i.interactive&&(e["pointer-events"]="none"),"bgfore"===r&&(!1===i.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill)))return e;"image"===r&&!1===t.smooth&&(s=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),"text"===r&&(e["font-family"]=W_(t),e["font-size"]=eg(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const a in mM){let l=t[a];const u=mM[a];"transparent"===l&&("fill"===u||"stroke"===u)||null!=l&&(BQ(l)&&(l=Nhe(l,o.gradient,"")),e[u]=l)}for(const a in vM){const l=t[a];null!=l&&(s=s||[],s.push(`${vM[a]}: ${l};`))}s&&(e.style=s.join(" "))}(s,i,t,o,this._defs),s}defs(t){const i=this._defs.gradient,r=this._defs.clipping;if(Object.keys(i).length+Object.keys(r).length!==0){t.open("defs");for(const s in i){const a=i[s],l=a.stops;"radial"===a.gradient?(t.open("pattern",{id:"p_"+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):t.open("linearGradient",{id:s,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(let u=0;u<l.length;++u)t.open("stop",{offset:l[u].offset,"stop-color":l[u].color}).close();t.close()}for(const s in r){const a=r[s];t.open("clipPath",{id:s}),a.path?t.open("path",{d:a.path}).close():t.open("rect",{x:0,y:0,width:a.width,height:a.height}).close(),t.close()}t.close()}}}const _0={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function nnt(e){_0.svgMarkTypes=e.svgMarkTypes??["text"],_0.svgOnTop=e.svgOnTop??!0,_0.debug=e.debug??!1}class pV extends Y_{constructor(t){super(t),this._svgRenderer=new hV(t),this._canvasRenderer=new gM(t)}initialize(t,i,r,o,s){this._root_el=Bu(t,0,"div");const a=Bu(this._root_el,0,"div"),l=Bu(this._root_el,1,"div");return this._root_el.style.position="relative",_0.debug||(a.style.height="100%",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%"),this._svgEl=_0.svgOnTop?l:a,this._canvasEl=_0.svgOnTop?a:l,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,i,r,o,s),this._svgRenderer.initialize(this._svgEl,i,r,o,s),super.initialize(t,i,r,o,s)}dirty(t){return _0.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,i){const o=(i??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(s=>!_0.svgMarkTypes.includes(s));this._svgRenderer.render(t,_0.svgMarkTypes),this._canvasRenderer.render(t,o)}resize(t,i,r,o){return super.resize(t,i,r,o),this._svgRenderer.resize(t,i,r,o),this._canvasRenderer.resize(t,i,r,o),this}background(t){return _0.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class Y0e extends J_{constructor(t,i){super(t,i)}initialize(t,i,r){const o=Bu(Bu(t,0,"div"),_0.svgOnTop?0:1,"div");return super.initialize(o,i,r)}}const p2={Canvas:"canvas",PNG:"png",SVG:"svg",Hybrid:"hybrid",None:"none"},M3={};function _M(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(M3[e]=t,this):M3[e]}function ipe(e,t,i){const r=[],o=(new fu).union(t),s=e.marktype;return s?rpe(e,o,i,r):"group"===s?ope(e,o,i,r):Gn("Intersect scene must be mark node or group item.")}function rpe(e,t,i,r){if(function int(e,t,i){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!i||i(e)))}(e,t,i)){const o=e.items,s=e.marktype,a=o.length;let l=0;if("group"===s)for(;l<a;++l)ope(o[l],t,i,r);else for(const u=fA[s].isect;l<a;++l){const c=o[l];spe(c,t,u)&&r.push(c)}}return r}function ope(e,t,i,r){i&&i(e.mark)&&spe(e,t,fA.group.isect)&&r.push(e);const o=e.items,s=o&&o.length;if(s){const a=e.x||0,l=e.y||0;t.translate(-a,-l);for(let u=0;u<s;++u)rpe(o[u],t,i,r);t.translate(a,l)}return r}function spe(e,t,i){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&i(e,t)}M3.canvas=M3.png={renderer:gM,headless:gM,handler:J_},M3.svg={renderer:hV,headless:X0e,handler:F0e},M3.hybrid={renderer:pV,headless:pV,handler:Y0e},M3.none={};const gV=new fu;function ape(e){const t=e.clip;if(Uo(t))t($_(gV.clear()));else{if(!t)return;gV.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(gV)}const rnt=1e-9;function mV(e,t,i){return e===t||("path"===i?lpe(e,t):e instanceof Date&&t instanceof Date?+e==+t:Es(e)&&Es(t)?Math.abs(e-t)<=rnt:e&&t&&(Zi(e)||Zi(t))?function ont(e,t){var o,s,i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(i.sort(),r.sort(),s=i.length-1;s>=0;s--)if(i[s]!=r[s])return!1;for(s=i.length-1;s>=0;s--)if(!mV(e[o=i[s]],t[o],o))return!1;return typeof e==typeof t}(e,t):e==t)}function lpe(e,t){return mV(i8(e),i8(t))}function snt(){qhe(),function MJe(){khe=0}()}const u8="top",w0="left",b0="right",g2="bottom",vV="start",yV="middle",kf="end",fnt="x",dnt="y",wM="group",_V="axis",wV="title",bV="legend",upe="row-header",cpe="row-footer",dpe="column-header",Ape="column-footer",hpe="column-title",CV="none",bM="all",EV="each",xV="flush",m2="column",v2="row";function vpe(e){On.call(this,null,e)}function CM(e,t,i){return t(e.bounds.clear(),e,i)}$i(vpe,On,{transform(e,t){const i=t.dataflow,r=e.mark,o=r.marktype,s=fA[o],a=s.bound;let u,l=r.bounds;if(s.nested)r.items.length&&i.dirty(r.items[0]),l=CM(r,a),r.items.forEach(c=>{c.bounds.clear().union(l)});else if(o===wM||e.modified())switch(t.visit(t.MOD,c=>i.dirty(c)),l.clear(),r.items.forEach(c=>l.union(CM(c,a))),r.role){case _V:case bV:case wV:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,c=>{l.union(CM(c,a))}),t.visit(t.MOD,c=>{u=u||l.alignsWith(c.bounds),i.dirty(c),l.union(CM(c,a))}),u&&(l.clear(),r.items.forEach(c=>l.union(c.bounds)));return ape(r),t.modifies("bounds")}});const ype=":vega_identifier:";function SV(e){On.call(this,0,e)}function _pe(e){On.call(this,null,e)}function wpe(e){On.call(this,null,e)}SV.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},$i(SV,On,{transform(e,t){const i=function vnt(e){return e._signals[ype]||(e._signals[ype]=e.add(0))}(t.dataflow),r=e.as;let o=i.value;return t.visit(t.ADD,s=>s[r]=s[r]||++o),i.set(this.value=o),t}}),$i(_pe,On,{transform(e,t){let i=this.value;i||(i=t.dataflow.scenegraph().mark(e.markdef,function ynt(e){const t=e.groups,i=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&i?t.lookup(i):null}(e),e.index),i.group.context=e.context,e.context.group||(e.context.group=i.group),i.source=this.source,i.clip=e.clip,i.interactive=e.interactive,this.value=i);const r=i.marktype===wM?qB:GB;return t.visit(t.ADD,o=>r.call(o,i)),(e.modified("clip")||e.modified("interactive"))&&(i.clip=e.clip,i.interactive=!!e.interactive,i.zdirty=!0,t.reflow()),i.items=t.source,t}});const bpe={parity:e=>e.filter((t,i)=>i%2?t.opacity=0:1),greedy:(e,t)=>{let i;return e.filter((r,o)=>o&&Cpe(i.bounds,r.bounds,t)?r.opacity=0:(i=r,1))}},Cpe=(e,t,i)=>i>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Epe=(e,t)=>{for(var s,i=1,r=e.length,o=e[0].bounds;i<r;o=s,++i)if(Cpe(o,s=e[i].bounds,t))return!0},_nt=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},xpe=e=>(e.forEach(t=>t.opacity=1),e),Spe=(e,t)=>e.reflow(t.modified()).modifies("opacity");function Bpe(e){On.call(this,null,e)}$i(wpe,On,{transform(e,t){const i=bpe[e.method]||bpe.parity,r=e.separation||0;let s,a,o=t.materialize(t.SOURCE).source;if(!o||!o.length)return;if(!e.method)return e.modified("method")&&(xpe(o),t=Spe(t,e)),t;if(o=o.filter(_nt),!o.length)return;if(e.sort&&(o=o.slice().sort(e.sort)),s=xpe(o),t=Spe(t,e),s.length>=3&&Epe(s,r)){do{s=i(s,r)}while(s.length>=3&&Epe(s,r));s.length<3&&!ds(o).opacity&&(s.length>1&&(ds(s).opacity=0),ds(o).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(a=((e,t,i)=>{var r=e.range(),o=new fu;return t===u8||t===g2?o.set(r[0],-1/0,r[1],1/0):o.set(-1/0,r[0],1/0,r[1]),o.expand(i||1),s=>o.encloses(s.bounds)})(e.boundScale,e.boundOrient,+e.boundTolerance),o.forEach(u=>{a(u)||(u.opacity=0)}));const l=s[0].mark.bounds.clear();return o.forEach(u=>{u.opacity&&l.union(u.bounds)}),t}}),$i(Bpe,On,{transform(e,t){const i=t.dataflow;if(t.visit(t.ALL,r=>i.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ef=new fu;function c8(e,t,i){return e[t]===i?0:(e[t]=i,1)}function bnt(e){var t=e.items[0].orient;return t===w0||t===b0}function Ent(e,t,i,r){var P,H,o=t.items[0],s=o.datum,a=null!=o.translate?o.translate:.5,l=o.orient,u=function Cnt(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(s),c=o.range,f=o.offset,d=o.position,h=o.minExtent,g=o.maxExtent,v=s.title&&o.items[u[2]].items[0],y=o.titlePadding,b=o.bounds,E=v&&ZQ(v),M=0,k=0;switch(ef.clear().union(b),b.clear(),(P=u[0])>-1&&b.union(o.items[P].bounds),(P=u[1])>-1&&b.union(o.items[P].bounds),l){case u8:M=d||0,k=-f,H=Math.max(h,Math.min(g,-b.y1)),b.add(0,-H).add(c,0),v&&EM(e,v,H,y,E,0,-1,b);break;case w0:M=-f,k=d||0,H=Math.max(h,Math.min(g,-b.x1)),b.add(-H,0).add(0,c),v&&EM(e,v,H,y,E,1,-1,b);break;case b0:M=i+f,k=d||0,H=Math.max(h,Math.min(g,b.x2)),b.add(0,0).add(H,c),v&&EM(e,v,H,y,E,1,1,b);break;case g2:M=d||0,k=r+f,H=Math.max(h,Math.min(g,b.y2)),b.add(0,0).add(c,H),v&&EM(e,v,H,y,0,0,1,b);break;default:M=o.x,k=o.y}return b1(b.translate(M,k),o),c8(o,"x",M+a)|c8(o,"y",k+a)&&(o.bounds=ef,e.dirty(o),o.bounds=b,e.dirty(o)),o.mark.bounds.clear().union(b)}function EM(e,t,i,r,o,s,a,l){const u=t.bounds;if(t.auto){const c=a*(i+o+r);let f=0,d=0;e.dirty(t),s?f=(t.x||0)-(t.x=c):d=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(u.translate(-f,-d)),e.dirty(t)}l.union(u)}const Mpe=(e,t)=>Math.floor(Math.min(e,t)),Ipe=(e,t)=>Math.ceil(Math.max(e,t));function Snt(e){return(new fu).set(0,0,e.width||0,e.height||0)}function Bnt(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function pl(e,t,i){return(Zi(e)?e[t]:e)??(void 0!==i?i:0)}function Dpe(e){return e<0?Math.ceil(-e):0}function Tpe(e,t,i){var X,z,se,ye,Ie,Ee,Je,Ze,W,Z,te,r=!i.nodirty,o=i.bounds===xV?Snt:Bnt,s=ef.set(0,0,0,0),a=pl(i.align,m2),l=pl(i.align,v2),u=pl(i.padding,m2),c=pl(i.padding,v2),f=i.columns||t.length,d=f<=0?1:Math.ceil(t.length/f),h=t.length,g=Array(h),v=Array(f),y=0,b=Array(h),E=Array(d),M=0,k=Array(h),P=Array(h),H=Array(h);for(z=0;z<f;++z)v[z]=0;for(z=0;z<d;++z)E[z]=0;for(z=0;z<h;++z)Ie=H[z]=o(Ee=t[z]),Ee.x=Ee.x||0,k[z]=0,Ee.y=Ee.y||0,P[z]=0,se=z%f,ye=~~(z/f),y=Math.max(y,Je=Math.ceil(Ie.x2)),M=Math.max(M,Ze=Math.ceil(Ie.y2)),v[se]=Math.max(v[se],Je),E[ye]=Math.max(E[ye],Ze),g[z]=u+Dpe(Ie.x1),b[z]=c+Dpe(Ie.y1),r&&e.dirty(t[z]);for(z=0;z<h;++z)z%f==0&&(g[z]=0),z<f&&(b[z]=0);if(a===EV)for(se=1;se<f;++se){for(te=0,z=se;z<h;z+=f)te<g[z]&&(te=g[z]);for(z=se;z<h;z+=f)g[z]=te+v[se-1]}else if(a===bM){for(te=0,z=0;z<h;++z)z%f&&te<g[z]&&(te=g[z]);for(z=0;z<h;++z)z%f&&(g[z]=te+y)}else for(a=!1,se=1;se<f;++se)for(z=se;z<h;z+=f)g[z]+=v[se-1];if(l===EV)for(ye=1;ye<d;++ye){for(te=0,X=(z=ye*f)+f;z<X;++z)te<b[z]&&(te=b[z]);for(z=ye*f;z<X;++z)b[z]=te+E[ye-1]}else if(l===bM){for(te=0,z=f;z<h;++z)te<b[z]&&(te=b[z]);for(z=f;z<h;++z)b[z]=te+M}else for(l=!1,ye=1;ye<d;++ye)for(X=(z=ye*f)+f;z<X;++z)b[z]+=E[ye-1];for(W=0,z=0;z<h;++z)k[z]+=(W=g[z]+(z%f?W:0))-t[z].x;for(se=0;se<f;++se)for(Z=0,z=se;z<h;z+=f)P[z]+=(Z+=b[z])-t[z].y;if(a&&pl(i.center,m2)&&d>1)for(z=0;z<h;++z)(W=(Ie=a===bM?y:v[z%f])-H[z].x2-t[z].x-k[z])>0&&(k[z]+=W/2);if(l&&pl(i.center,v2)&&1!==f)for(z=0;z<h;++z)(Z=(Ie=l===bM?M:E[~~(z/f)])-H[z].y2-t[z].y-P[z])>0&&(P[z]+=Z/2);for(z=0;z<h;++z)s.union(H[z].translate(k[z],P[z]));switch(W=pl(i.anchor,fnt),Z=pl(i.anchor,dnt),pl(i.anchor,m2)){case kf:W-=s.width();break;case yV:W-=s.width()/2}switch(pl(i.anchor,v2)){case kf:Z-=s.height();break;case yV:Z-=s.height()/2}for(W=Math.round(W),Z=Math.round(Z),s.clear(),z=0;z<h;++z)t[z].mark.bounds.clear();for(z=0;z<h;++z)(Ee=t[z]).x+=k[z]+=W,Ee.y+=P[z]+=Z,s.union(Ee.mark.bounds.union(Ee.bounds.translate(k[z],P[z]))),r&&e.dirty(Ee);return s}function Int(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function Dnt(e,t){return e.bounds[t]}function xM(e,t,i,r,o,s,a,l,u,c,f,d,h,g){var E,M,k,P,H,X,z,se,ye,v=i.length,y=0,b=0;if(!v)return y;for(E=f;E<v;E+=d)i[E]&&(y=a(y,u(i[E],c)));if(!t.length)return y;for(t.length>o&&(e.warn("Grid headers exceed limit: "+o),t=t.slice(0,o)),y+=s,M=0,P=t.length;M<P;++M)e.dirty(t[M]),t[M].mark.bounds.clear();for(E=f,M=0,P=t.length;M<P;++M,E+=d){for(H=(X=t[M]).mark.bounds,k=E;k>=0&&null==(z=i[k]);k-=h);l?(se=null==g?z.x:Math.round(z.bounds.x1+g*z.bounds.width()),ye=y):(se=y,ye=null==g?z.y:Math.round(z.bounds.y1+g*z.bounds.height())),H.union(X.bounds.translate(se-(X.x||0),ye-(X.y||0))),X.x=se,X.y=ye,e.dirty(X),b=a(b,H[c])}return b}function Fpe(e,t,i,r,o,s){if(t){e.dirty(t);var a=i,l=i;r?a=Math.round(o.x1+s*o.width()):l=Math.round(o.y1+s*o.height()),t.bounds.translate(a-(t.x||0),l-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=l,e.dirty(t)}}function Ont(e,t,i,r,o,s,a){const l=function Tnt(e,t){const i=e[t]||{};return(r,o)=>null!=i[r]?i[r]:null!=e[r]?e[r]:o}(i,t),u=function Fnt(e,t){let i=-1/0;return e.forEach(r=>{null!=r.offset&&(i=Math.max(i,r.offset))}),i>-1/0?i:t}(e,l("offset",0)),c=l("anchor",vV),f=c===kf?1:c===yV?.5:0,d={align:EV,bounds:l("bounds",xV),columns:"vertical"===l("direction")?1:e.length,padding:l("margin",8),center:l("center"),nodirty:!0};switch(t){case w0:d.anchor={x:Math.floor(r.x1)-u,column:kf,y:f*(a||r.height()+2*r.y1),row:c};break;case b0:d.anchor={x:Math.ceil(r.x2)+u,y:f*(a||r.height()+2*r.y1),row:c};break;case u8:d.anchor={y:Math.floor(o.y1)-u,row:kf,x:f*(s||o.width()+2*o.x1),column:c};break;case g2:d.anchor={y:Math.ceil(o.y2)+u,x:f*(s||o.width()+2*o.x1),column:c};break;case"top-left":d.anchor={x:u,y:u};break;case"top-right":d.anchor={x:s-u,y:u,column:kf};break;case"bottom-left":d.anchor={x:u,y:a-u,row:kf};break;case"bottom-right":d.anchor={x:s-u,y:a-u,column:kf,row:kf}}return d}function knt(e,t){var u,c,i=t.items[0],r=i.datum,o=i.orient,s=i.bounds,a=i.x,l=i.y;return i._bounds?i._bounds.clear().union(s):i._bounds=s.clone(),s.clear(),function Lnt(e,t,i){var r=t.padding,o=r-i.x,s=r-i.y;if(t.datum.title){var a=t.items[1].items[0],l=a.anchor,u=t.titlePadding||0,c=r-a.x,f=r-a.y;switch(a.orient){case w0:o+=Math.ceil(a.bounds.width())+u;break;case b0:case g2:break;default:s+=a.bounds.height()+u}switch((o||s)&&iw(e,i,o,s),a.orient){case w0:f+=f8(t,i,a,l,1,1);break;case b0:c+=f8(t,i,a,kf,0,0)+u,f+=f8(t,i,a,l,1,1);break;case g2:c+=f8(t,i,a,l,0,0),f+=f8(t,i,a,kf,-1,0,1)+u;break;default:c+=f8(t,i,a,l,0,0)}(c||f)&&iw(e,a,c,f),(c=Math.round(a.bounds.x1-r))<0&&(iw(e,i,-c,0),iw(e,a,-c,0))}else(o||s)&&iw(e,i,o,s)}(e,i,i.items[0].items[0]),s=function Nnt(e,t){return e.items.forEach(i=>t.union(i.bounds)),t.x1=e.padding,t.y1=e.padding,t}(i,s),u=2*i.padding,c=2*i.padding,s.empty()||(u=Math.ceil(s.width()+u),c=Math.ceil(s.height()+c)),"symbol"===r.type&&function Rnt(e){const t=e.reduce((i,r)=>(i[r.column]=Math.max(r.bounds.x2-r.x,i[r.column]||0),i),{});e.forEach(i=>{i.width=t[i.column],i.height=i.bounds.y2-i.y})}(i.items[0].items[0].items[0].items),o!==CV&&(i.x=a=0,i.y=l=0),i.width=u,i.height=c,b1(s.set(a,l,a+u,l+c),i),i.mark.bounds.clear().union(s),i}function f8(e,t,i,r,o,s,a){const u=i.datum.vgrad,f=("symbol"===e.datum.type||!s&&u||a?t:t.items[0]).bounds[o?"y2":"x2"]-e.padding,d=u&&s?f:0,h=u&&s?0:f,g=o<=0?0:ZQ(i);return Math.round(r===vV?d:r===kf?h-g:.5*(f-g))}function iw(e,t,i,r){t.x+=i,t.y+=r,t.bounds.translate(i,r),t.mark.bounds.translate(i,r),e.dirty(t)}function Ope(e){On.call(this,null,e)}function kpe(e,t,i){e=+e,t=+t,i=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+i;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/i)),s=new Array(o);++r<o;)s[r]=e+r*i;return s}function znt(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}function Npe(e,t,i,r,o){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*i+(1+3*e+3*s-3*a)*r+a*o)/6}$i(Ope,On,{transform(e,t){const i=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&function Mnt(e,t,i){var f,d,h,g,v,y,b,r=function xnt(e){var o,s,t=e.items,i=t.length,r=0;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<i;++r)if(s=(o=t[r]).items,o.marktype===wM)switch(o.role){case _V:case bV:case wV:break;case upe:a.rowheaders.push(...s);break;case cpe:a.rowfooters.push(...s);break;case dpe:a.colheaders.push(...s);break;case Ape:a.colfooters.push(...s);break;case"row-title":a.rowtitle=s[0];break;case hpe:a.coltitle=s[0];break;default:a.marks.push(...s)}return a}(t),o=r.marks,s=i.bounds===xV?Int:Dnt,a=i.offset,l=i.columns||o.length,u=l<=0?1:Math.ceil(o.length/l),c=u*l;const E=Tpe(e,o,i);E.empty()&&E.set(0,0,0,0),r.rowheaders&&(y=pl(i.headerBand,v2,null),f=xM(e,r.rowheaders,o,0,u,-pl(a,"rowHeader"),Mpe,0,s,"x1",0,l,1,y)),r.colheaders&&(y=pl(i.headerBand,m2,null),d=xM(e,r.colheaders,o,0,l,-pl(a,"columnHeader"),Mpe,1,s,"y1",0,1,l,y)),r.rowfooters&&(y=pl(i.footerBand,v2,null),h=xM(e,r.rowfooters,o,0,u,pl(a,"rowFooter"),Ipe,0,s,"x2",l-1,l,1,y)),r.colfooters&&(y=pl(i.footerBand,m2,null),g=xM(e,r.colfooters,o,0,l,pl(a,"columnFooter"),Ipe,1,s,"y2",c-l,1,l,y)),r.rowtitle&&(v=pl(i.titleAnchor,v2),b=pl(a,"rowTitle"),b=v===kf?h+b:f-b,y=pl(i.titleBand,v2,.5),Fpe(e,r.rowtitle,b,0,E,y)),r.coltitle&&(v=pl(i.titleAnchor,m2),b=pl(a,"columnTitle"),b=v===kf?g+b:d-b,y=pl(i.titleBand,m2,.5),Fpe(e,r.coltitle,b,1,E,y))}(i,r,e.layout),function Hnt(e,t,i){var f,d,h,v,y,r=t.items,o=Math.max(0,t.width||0),s=Math.max(0,t.height||0),a=(new fu).set(0,0,o,s),l=a.clone(),u=a.clone(),c=[];for(v=0,y=r.length;v<y;++v)switch(d=r[v],d.role){case _V:(bnt(d)?l:u).union(Ent(e,d,o,s));break;case wV:f=d;break;case bV:c.push(knt(e,d));break;case"frame":case"scope":case upe:case cpe:case"row-title":case dpe:case Ape:case hpe:l.union(d.bounds),u.union(d.bounds);break;default:a.union(d.bounds)}if(c.length){const b={};c.forEach(E=>{(h=E.orient||b0)!==CV&&(b[h]||(b[h]=[])).push(E)});for(const E in b){const M=b[E];Tpe(e,M,Ont(M,E,i.legends,l,u,o,s))}c.forEach(E=>{const M=E.bounds;if(M.equals(E._bounds)||(E.bounds=E._bounds,e.dirty(E),E.bounds=M,e.dirty(E)),!i.autosize||"fit"!==i.autosize.type&&"fit-x"!==i.autosize.type&&"fit-y"!==i.autosize.type)a.union(M);else switch(E.orient){case w0:case b0:a.add(M.x1,0).add(M.x2,0);break;case u8:case g2:a.add(0,M.y1).add(0,M.y2)}})}a.union(l).union(u),f&&a.union(function Unt(e,t,i,r,o){var k,s=t.items[0],l=s.orient,u=s.anchor,c=s.offset,f=s.padding,d=s.items[0].items[0],h=s.items[1]&&s.items[1].items[0],g=l===w0||l===b0?r:i,v=0,y=0,b=0,E=0,M=0;if(s.frame!==wM?l===w0?(v=o.y2,g=o.y1):l===b0?(v=o.y1,g=o.y2):(v=o.x1,g=o.x2):l===w0&&(v=r,g=0),k=u===vV?v:u===kf?g:(v+g)/2,h&&h.text){switch(l){case u8:case g2:M=d.bounds.height()+f;break;case w0:E=d.bounds.width()+f;break;case b0:E=-d.bounds.width()-f}ef.clear().union(h.bounds),ef.translate(E-(h.x||0),M-(h.y||0)),c8(h,"x",E)|c8(h,"y",M)&&(e.dirty(h),h.bounds.clear().union(ef),h.mark.bounds.clear().union(ef),e.dirty(h)),ef.clear().union(h.bounds)}else ef.clear();switch(ef.union(d.bounds),l){case u8:y=k,b=o.y1-ef.height()-c;break;case w0:y=o.x1-ef.width()-c,b=k;break;case b0:y=o.x2+ef.width()+c,b=k;break;case g2:y=k,b=o.y2+c;break;default:y=s.x,b=s.y}return c8(s,"x",y)|c8(s,"y",b)&&(ef.translate(y,b),e.dirty(s),s.bounds.clear().union(ef),t.bounds.clear().union(ef),e.dirty(s)),s.bounds}(e,f,o,s,a)),t.clip&&a.set(0,0,t.width||0,t.height||0),function Qnt(e,t,i,r){const o=r.autosize||{},s=o.type;if(e._autosize<1||!s)return;let a=e._width,l=e._height,u=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-i.x1)),f=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-i.y1));const h=Math.max(0,Math.ceil(i.x2-u)),g=Math.max(0,Math.ceil(i.y2-f));if("padding"===o.contains){const v=e.padding();a-=v.left+v.right,l-=v.top+v.bottom}s===CV?(c=0,d=0,u=a,f=l):"fit"===s?(u=Math.max(0,a-c-h),f=Math.max(0,l-d-g)):"fit-x"===s?(u=Math.max(0,a-c-h),l=f+d+g):"fit-y"===s?(a=u+c+h,f=Math.max(0,l-d-g)):"pad"===s&&(a=u+c+h,l=f+d+g),e._resizeView(a,l,u,f,[c,d],o.resize)}(e,t,a,i)}(i,r,e)}),function Pnt(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?t.reflow():t}});const BV=e=>()=>e;function Rpe(e,t){var i=t-e;return i?function Lpe(e,t){return function(i){return e+i*t}}(e,i):BV(isNaN(e)?t:e)}const Upe=function e(t){var i=function jnt(e){return 1==(e=+e)?Rpe:function(t,i){return i-t?function qnt(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(r){return Math.pow(e+r*t,i)}}(t,i,e):BV(isNaN(t)?i:t)}}(t);function r(o,s){var a=i((o=u0(o)).r,(s=u0(s)).r),l=i(o.g,s.g),u=i(o.b,s.b),c=Rpe(o.opacity,s.opacity);return function(f){return o.r=a(f),o.g=l(f),o.b=u(f),o.opacity=c(f),o+""}}return r.gamma=e,r}(1);function Ppe(e){return function(t){var a,l,i=t.length,r=new Array(i),o=new Array(i),s=new Array(i);for(a=0;a<i;++a)l=u0(t[a]),r[a]=l.r||0,o[a]=l.g||0,s[a]=l.b||0;return r=e(r),o=e(o),s=e(s),l.opacity=1,function(u){return l.r=r(u),l.g=o(u),l.b=s(u),l+""}}}function Hpe(e,t){var a,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),s=new Array(i);for(a=0;a<r;++a)o[a]=TV(e[a],t[a]);for(;a<i;++a)s[a]=t[a];return function(l){for(a=0;a<r;++a)s[a]=o[a](l);return s}}function Knt(e,t){var i=new Date;return e=+e,t=+t,function(r){return i.setTime(e*(1-r)+t*r),i}}function MV(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function Wnt(e,t){var o,i={},r={};for(o in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)o in e?i[o]=TV(e[o],t[o]):r[o]=t[o];return function(s){for(o in i)r[o]=i[o](s);return r}}Ppe(function $nt(e){var t=e.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),o=e[r],s=e[r+1];return Npe((i-r/t)*t,r>0?e[r-1]:2*o-s,o,s,r<t-1?e[r+2]:2*s-o)}}),Ppe(function Gnt(e){var t=e.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*t);return Npe((i-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}});var IV=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,DV=new RegExp(IV.source,"g");function Znt(e,t){var r,o,s,i=IV.lastIndex=DV.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(r=IV.exec(e))&&(o=DV.exec(t));)(s=o.index)>i&&(s=t.slice(i,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:MV(r,o)})),i=DV.lastIndex;return i<t.length&&(s=t.slice(i),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?function Ynt(e){return function(t){return e(t)+""}}(u[0].x):function Xnt(e){return function(){return e}}(t):(t=u.length,function(c){for(var d,f=0;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function Jnt(e,t){t||(t=[]);var o,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(s){for(o=0;o<i;++o)r[o]=e[o]*(1-s)+t[o]*s;return r}}function TV(e,t){var r,i=typeof t;return null==t||"boolean"===i?BV(t):("number"===i?MV:"string"===i?(r=l0(t))?(t=r,Upe):Znt:t instanceof l0?Upe:t instanceof Date?Knt:function eit(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Jnt:Array.isArray(t)?Hpe:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Wnt:MV)(e,t)}function Qpe(e){On.call(this,null,e)}function Vpe(e){On.call(this,null,e)}function tit(){return Ls({})}function zpe(e){On.call(this,null,e)}function $pe(e){On.call(this,[],e)}$i(Qpe,On,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var i=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,s=e.scale,l=EQ(s,null==e.count?e.values?e.values.length:10:e.count,e.minstep),u=e.format||She(i,s,l,e.formatSpecifier,e.formatType,!!e.values),c=e.values?xhe(s,e.values,l):xQ(s,l);return o&&(r.rem=o),o=c.map((f,d)=>Ls({index:d/(c.length-1||1),value:f,label:u(f)})),e.extra&&o.length&&o.push(Ls({index:-1,extra:{value:o[0].value},label:""})),r.source=o,r.add=o,this.value=o,r}}),$i(Vpe,On,{transform(e,t){var i=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.item||tit,s=e.key||zr,a=this.value;return Xn(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(s))&&Gn("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=function nit(e){const t=L6().test(i=>i.exit);return t.lookup=i=>t.get(e(i)),t}(s)),t.visit(t.ADD,l=>{const u=s(l);let c=a.get(u);c?c.exit?(a.empty--,r.add.push(c)):r.mod.push(c):(c=o(l),a.set(u,c),r.add.push(c)),c.datum=l,c.exit=!1}),t.visit(t.MOD,l=>{const u=s(l),c=a.get(u);c&&(c.datum=l,r.mod.push(c))}),t.visit(t.REM,l=>{const u=s(l),c=a.get(u);l===c.datum&&!c.exit&&(r.rem.push(c),c.exit=!0,++a.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&a.empty>i.cleanThreshold)&&i.runAfter(a.clean),r}}),$i(zpe,On,{transform(e,t){var i=t.fork(t.ADD_REM),r=e.mod||!1,o=e.encoders,s=t.encode;if(Xn(s)){if(!i.changed()&&!s.every(d=>o[d]))return t.StopPropagation;s=s[0],i.encode=null}var a="enter"===s,l=o.update||jm,u=o.enter||jm,c=o.exit||jm,f=(s&&!a?o[s]:l)||jm;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{u(d,e),l(d,e)}),i.modifies(u.output),i.modifies(l.output),f!==jm&&f!==l&&(t.visit(t.ADD,d=>{f(d,e)}),i.modifies(f.output))),t.changed(t.REM)&&c!==jm&&(t.visit(t.REM,d=>{c(d,e)}),i.modifies(c.output)),a||f!==jm){const d=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(d,h=>{const g=u(h,e)||r;(f(h,e)||g)&&i.mod.push(h)}),i.mod.length&&i.modifies(u.output)):t.visit(d,h=>{(f(h,e)||r)&&i.mod.push(h)}),i.mod.length&&i.modifies(f.output)}return i.changed()?i:t.StopPropagation}}),$i($pe,On,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var h,g,v,y,b,i=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,s=e.type||QB,a=e.scale,l=+e.limit,u=EQ(a,null==e.count?5:e.count,e.minstep),f=e.format||Dhe(i,a,u,s,e.formatSpecifier,e.formatType,!!e.values||s===QB),d=e.values||Ihe(a,u);return o&&(r.rem=o),s===QB?(l&&d.length>l?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),o=d.slice(0,l-1),b=!0):o=d,Uo(v=e.size)?(!e.values&&0===a(o[0])&&(o=o.slice(1)),y=o.reduce((E,M)=>Math.max(E,v(M,e)),0)):v=Kc(y=v||8),o=o.map((E,M)=>Ls({index:M,label:f(E,M,o),value:E,offset:y,size:v(E,e)})),b&&o.push(Ls({index:o.length,label:`\u2026${d.length-o.length} entries`,value:b=d[o.length],offset:y,size:v(b,e)}))):"gradient"===s?(h=a.domain(),g=whe(a,h[0],ds(h)),d.length<3&&!e.values&&h[0]!==ds(h)&&(d=[h[0],ds(h)]),o=d.map((E,M)=>Ls({index:M,label:f(E,M,d),value:E,perc:g(E)}))):(v=d.length-1,g=function SJe(e){const t=e.domain(),i=t.length-1;let r=+t[0],o=+ds(t),s=o-r;if(e.type===UB){const a=i?s/i:.1;r-=a,o+=a,s=o-r}return a=>(a-r)/s}(a),o=d.map((E,M)=>Ls({index:M,label:f(E,M,d),value:E,perc:M?g(E):0,perc2:M===v?1:g(d[M+1])}))),r.source=o,r.add=o,this.value=o,r}});const iit=e=>e.source.x,rit=e=>e.source.y,oit=e=>e.target.x,sit=e=>e.target.y;function FV(e){On.call(this,{},e)}FV.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},$i(FV,On,{transform(e,t){var i=e.sourceX||iit,r=e.sourceY||rit,o=e.targetX||oit,s=e.targetY||sit,a=e.as||"path",u=e.shape||"line",c=Kpe.get(u+"-"+(e.orient||"vertical"))||Kpe.get(u);return c||Gn("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,f=>{f[a]=c(i(f),r(f),o(f),s(f))}),t.reflow(e.modified()).modifies(a)}});const Gpe=(e,t,i,r)=>"M"+e+","+t+"L"+i+","+r,qpe=(e,t,i,r)=>{var o=i-e,s=r-t,a=Math.hypot(o,s)/2;return"M"+e+","+t+"A"+a+","+a+" "+180*Math.atan2(s,o)/Math.PI+" 0 1 "+i+","+r},jpe=(e,t,i,r)=>{const o=i-e,s=r-t,a=.2*(o+s),l=.2*(s-o);return"M"+e+","+t+"C"+(e+a)+","+(t+l)+" "+(i+l)+","+(r-a)+" "+i+","+r},Kpe=L6({line:Gpe,"line-radial":(e,t,i,r)=>Gpe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(i),r*Math.sin(i)),arc:qpe,"arc-radial":(e,t,i,r)=>qpe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(i),r*Math.sin(i)),curve:jpe,"curve-radial":(e,t,i,r)=>jpe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(i),r*Math.sin(i)),"orthogonal-horizontal":(e,t,i,r)=>"M"+e+","+t+"V"+r+"H"+i,"orthogonal-vertical":(e,t,i,r)=>"M"+e+","+t+"H"+i+"V"+r,"orthogonal-radial":(e,t,i,r)=>{const o=Math.cos(e),s=Math.sin(e),a=Math.cos(i),l=Math.sin(i);return"M"+t*o+","+t*s+"A"+t+","+t+" 0 0,"+((Math.abs(i-e)>Math.PI?i<=e:i>e)?1:0)+" "+t*a+","+t*l+"L"+r*a+","+r*l},"diagonal-horizontal":(e,t,i,r)=>{const o=(e+i)/2;return"M"+e+","+t+"C"+o+","+t+" "+o+","+r+" "+i+","+r},"diagonal-vertical":(e,t,i,r)=>{const o=(t+r)/2;return"M"+e+","+t+"C"+e+","+o+" "+i+","+o+" "+i+","+r},"diagonal-radial":(e,t,i,r)=>{const o=Math.cos(e),s=Math.sin(e),a=Math.cos(i),l=Math.sin(i),u=(t+r)/2;return"M"+t*o+","+t*s+"C"+u*o+","+u*s+" "+u*a+","+u*l+" "+r*a+","+r*l}});function OV(e){On.call(this,null,e)}OV.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},$i(OV,On,{transform(e,t){var v,y,b,i=e.as||["startAngle","endAngle"],r=i[0],o=i[1],a=e.startAngle||0,l=null!=e.endAngle?e.endAngle:2*Math.PI,u=t.source,c=u.map(e.field||F6),f=c.length,d=a,h=(l-a)/function Vnt(e,t){let i=0;if(void 0===t)for(let r of e)(r=+r)&&(i+=r);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(i+=o)}return i}(c),g=kpe(f);for(e.sort&&g.sort((E,M)=>c[E]-c[M]),v=0;v<f;++v)b=c[g[v]],(y=u[g[v]])[r]=d,y[o]=d+=b*h;return this.value=c,t.reflow(e.modified()).modifies(i)}});function Wpe(e){return _Q(e)&&e!==Yp}const fit=d0(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Xpe(e){On.call(this,null,e),this.modified(!0)}function Ype(e,t,i){return ghe(e)&&Math.abs(t.reduce((o,s)=>o+(s<0?-1:s>0?1:0),0))!==t.length&&i.warn("Log scale domain includes zero: "+Li(t)),t}function Zpe(e,t,i){return Uo(e)&&(t||i)?yhe(e,kV(t||[0,1],i)):e}function kV(e,t){return t?e.slice().reverse():e}function Jpe(e){On.call(this,null,e)}$i(Xpe,On,{transform(e,t){var i=t.dataflow,r=this.value,o=function dit(e){var r,t=e.type,i="";return t===Yp?Yp+"-"+J6:(function Ait(e){const t=e.type;return _Q(t)&&t!==_3&&t!==w3&&(e.scheme||e.range&&e.range.length&&e.range.every(Ji))}(e)&&(i=2===(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?Yp+"-":3===r?e8+"-":""),(i+t||J6).toLowerCase())}(e);for(o in(!r||o!==r.type)&&(this.value=r=Bs(o)()),e)if(!fit[o]){if("padding"===o&&Wpe(r.type))continue;Uo(r[o])?r[o](e[o]):i.warn("Unsupported scale property: "+o)}return function vit(e,t,i){var r=e.type,o=t.round||!1,s=t.range;if(null!=t.rangeStep)s=function yit(e,t,i){return"band"!==e&&e!==gQ&&Gn("Only band and point scales support rangeStep."),[0,t.rangeStep*hQ(i,e===gQ?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0,(null!=t.paddingOuter?t.paddingOuter:t.padding)||0)]}(r,t,i);else if(t.scheme&&(s=function _it(e,t,i){var s,r=t.schemeExtent;return Xn(t.scheme)?s=HB(t.scheme,t.interpolate,t.interpolateGamma):(s=CQ(t.scheme.toLowerCase()))||Gn(`Unrecognized scheme name: ${t.scheme}`),i=e===UB?i+1:e===mQ?i-1:e===t8||e===RB?+t.schemeCount||5:i,mhe(e)?Zpe(s,r,t.reverse):Uo(s)?_he(Zpe(s,r),i):e===pQ?s:s.slice(0,i)}(r,t,i),Uo(s))){if(e.interpolator)return e.interpolator(s);Gn(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&mhe(r))return e.interpolator(HB(kV(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(bQ(t.interpolate,t.interpolateGamma)):Uo(e.round)?e.round(o):Uo(e.rangeRound)&&e.interpolate(o?znt:TV),s&&e.range(kV(s,t.reverse))}(r,e,function mit(e,t,i){let r=t.bins;if(r&&!Xn(r)){const o=e.domain(),s=o[0],a=ds(o),l=r.step;let u=null==r.start?s:r.start,c=null==r.stop?a:r.stop;l||Gn("Scale bins parameter missing step property."),u<s&&(u=l*Math.ceil(s/l)),c>a&&(c=l*Math.floor(a/l)),r=kpe(u,c+l/2,l)}return r?e.bins=r:e.bins&&delete e.bins,e.type===mQ&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),i=r.length):e.bins=e.domain()),i}(r,e,function hit(e,t,i){const r=function pit(e,t,i){return t?(e.domain(Ype(e.type,t,i)),t.length):-1}(e,t.domainRaw,i);if(r>-1)return r;var l,u,o=t.domain,s=e.type,a=t.zero||void 0===t.zero&&function cit(e){const t=e.type;return!e.bins&&(t===J6||t===N_||t===L_)}(e);if(!o)return 0;if((a||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(l=(o=o.slice()).length-1||1,a&&(o[0]>0&&(o[0]=0),o[l]<0&&(o[l]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[l]=t.domainMax),null!=t.domainMid)){const c=(u=t.domainMid)>o[l]?l+1:u<o[0]?0:l;c!==l&&i.warn("Scale domainMid exceeds domain min or max.",u),o.splice(c,0,u)}return Wpe(s)&&t.padding&&o[0]!==ds(o)&&(o=function git(e,t,i,r,o,s){var a=Math.abs(ds(i)-i[0]),l=a/(a-2*r),u=e===_1?SU(t,null,l):e===L_?PS(t,null,l,.5):e===N_?PS(t,null,l,o||1):e===LB?BU(t,null,l,s||1):xU(t,null,l);return(t=t.slice())[0]=u[0],t[t.length-1]=u[1],t}(s,o,t.range,t.padding,t.exponent,t.constant)),e.domain(Ype(s,o,i)),s===pQ&&e.unknown(t.domainImplicit?oQ:void 0),t.nice&&e.nice&&e.nice(!0!==t.nice&&EQ(e,t.nice)||null),o.length}(r,e,i))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),$i(Jpe,On,{transform(e,t){const i=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return i&&t.source.sort(p3(e.sort)),this.modified(i),t}});const ige=["y0","y1"];function NV(e){On.call(this,null,e)}function wit(e,t,i,r,o){for(var u,s=(t-e.sum)/2,a=e.length,l=0;l<a;++l)(u=e[l])[r]=s,u[o]=s+=Math.abs(i(u))}function bit(e,t,i,r,o){for(var f,s=1/e.sum,a=0,l=e.length,u=0,c=0;u<l;++u)(f=e[u])[r]=a,f[o]=a=s*(c+=Math.abs(i(f)))}function Cit(e,t,i,r,o){for(var c,f,s=0,a=0,l=e.length,u=0;u<l;++u)(c=+i(f=e[u]))<0?(f[r]=a,f[o]=a+=c):(f[r]=s,f[o]=s+=c)}NV.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:ige}]},$i(NV,On,{transform(e,t){var u,c,f,d,i=e.as||ige,r=i[0],o=i[1],s=p3(e.sort),a=e.field||F6,l="center"===e.offset?wit:"normalize"===e.offset?bit:Cit;for(u=function Eit(e,t,i,r){var a,l,u,c,f,d,h,g,v,o=[],s=y=>y(f);if(null==t)o.push(e.slice());else for(a={},l=0,u=e.length;l<u;++l)f=e[l],(h=a[d=t.map(s)])||(a[d]=h=[],o.push(h)),h.push(f);for(d=0,v=0,c=o.length;d<c;++d){for(l=0,g=0,u=(h=o[d]).length;l<u;++l)g+=Math.abs(r(h[l]));h.sum=g,g>v&&(v=g),i&&h.sort(i)}return o.max=v,o}(t.source,e.groupby,s,a),c=0,f=u.length,d=u.max;c<f;++c)l(u[c],d,a,r,o);return t.reflow(e.modified()).modifies(i)}});const xit=Math.sqrt(50),Sit=Math.sqrt(10),Bit=Math.sqrt(2);function SM(e,t,i){const r=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),a=s>=xit?10:s>=Sit?5:s>=Bit?2:1;let l,u,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?SM(e,t,2*i):[l,u,c]}function rge(e,t,i){return SM(e=+e,t=+t,i=+i)[2]}function I3(e,t,i){e=+e,t=+t,i=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+i;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/i)),s=new Array(o);++r<o;)s[r]=e+r*i;return s}function BM(e,t){let i;if(void 0===t)for(const r of e)null!=r&&(i<r||void 0===i&&r>=r)&&(i=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(i<o||void 0===i&&o>=o)&&(i=o)}return i}const rw=e=>e;function MM(e,t){e&&sge.hasOwnProperty(e.type)&&sge[e.type](e,t)}var oge={Feature:function(e,t){MM(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,r=-1,o=i.length;++r<o;)MM(i[r].geometry,t)}},sge={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)t.point((e=i[r])[0],e[1],e[2])},LineString:function(e,t){LV(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)LV(i[r],t,0)},Polygon:function(e,t){age(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)age(i[r],t)},GeometryCollection:function(e,t){for(var i=e.geometries,r=-1,o=i.length;++r<o;)MM(i[r],t)}};function LV(e,t,i){var s,r=-1,o=e.length-i;for(t.lineStart();++r<o;)t.point((s=e[r])[0],s[1],s[2]);t.lineEnd()}function age(e,t){var i=-1,r=e.length;for(t.polygonStart();++i<r;)LV(e[i],t,1);t.polygonEnd()}function d8(e,t){e&&oge.hasOwnProperty(e.type)?oge[e.type](e,t):MM(e,t)}var Ho=1e-6,lge=1e-12,Jo=Math.PI,zl=Jo/2,uge=Jo/4,dA=2*Jo,tf=180/Jo,Ol=Jo/180,qs=Math.abs,A8=Math.atan,E1=Math.atan2,Ko=Math.cos,cge=(Math,Math.exp),IM=(Math,Math,Math.log),RV=Math.pow,Fo=Math.sin,mh=Math.sign||function(e){return e>0?1:e<0?-1:0},wd=Math.sqrt,UV=Math.tan;function fge(e){return e>1?0:e<-1?Jo:Math.acos(e)}function vh(e){return e>1?zl:e<-1?-zl:Math.asin(e)}function yh(){}var dge,Age,QV,VV,PV=new Vc,HV=new Vc,y2={point:yh,lineStart:yh,lineEnd:yh,polygonStart:function(){y2.lineStart=Dit,y2.lineEnd=Fit},polygonEnd:function(){y2.lineStart=y2.lineEnd=y2.point=yh,PV.add(qs(HV)),HV=new Vc},result:function(){var e=PV/2;return PV=new Vc,e}};function Dit(){y2.point=Tit}function Tit(e,t){y2.point=hge,dge=QV=e,Age=VV=t}function hge(e,t){HV.add(VV*e-QV*t),QV=e,VV=t}function Fit(){hge(dge,Age)}const pge=y2;var h8=1/0,DM=h8,ow=-h8,TM=ow,Oit={point:function kit(e,t){e<h8&&(h8=e),e>ow&&(ow=e),t<DM&&(DM=t),t>TM&&(TM=t)},lineStart:yh,lineEnd:yh,polygonStart:yh,polygonEnd:yh,result:function(){var e=[[h8,DM],[ow,TM]];return ow=TM=-(DM=h8=1/0),e}};const FM=Oit;var gge,mge,tg,ng,zV=0,$V=0,sw=0,OM=0,kM=0,p8=0,GV=0,qV=0,aw=0,C0={point:D3,lineStart:vge,lineEnd:yge,polygonStart:function(){C0.lineStart=Rit,C0.lineEnd=Uit},polygonEnd:function(){C0.point=D3,C0.lineStart=vge,C0.lineEnd=yge},result:function(){var e=aw?[GV/aw,qV/aw]:p8?[OM/p8,kM/p8]:sw?[zV/sw,$V/sw]:[NaN,NaN];return zV=$V=sw=OM=kM=p8=GV=qV=aw=0,e}};function D3(e,t){zV+=e,$V+=t,++sw}function vge(){C0.point=Nit}function Nit(e,t){C0.point=Lit,D3(tg=e,ng=t)}function Lit(e,t){var i=e-tg,r=t-ng,o=wd(i*i+r*r);OM+=o*(tg+e)/2,kM+=o*(ng+t)/2,p8+=o,D3(tg=e,ng=t)}function yge(){C0.point=D3}function Rit(){C0.point=Pit}function Uit(){_ge(gge,mge)}function Pit(e,t){C0.point=_ge,D3(gge=tg=e,mge=ng=t)}function _ge(e,t){var i=e-tg,r=t-ng,o=wd(i*i+r*r);OM+=o*(tg+e)/2,kM+=o*(ng+t)/2,p8+=o,GV+=(o=ng*e-tg*t)*(tg+e),qV+=o*(ng+t),aw+=3*o,D3(tg=e,ng=t)}const wge=C0;function bge(e){this._context=e}bge.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,dA)}},result:yh};var KV,Cge,Ege,lw,uw,jV=new Vc,NM={point:yh,lineStart:function(){NM.point=Hit},lineEnd:function(){KV&&xge(Cge,Ege),NM.point=yh},polygonStart:function(){KV=!0},polygonEnd:function(){KV=null},result:function(){var e=+jV;return jV=new Vc,e}};function Hit(e,t){NM.point=xge,Cge=lw=e,Ege=uw=t}function xge(e,t){jV.add(wd((lw-=e)*lw+(uw-=t)*uw)),lw=e,uw=t}const Sge=NM;let Bge,LM,Mge,Ige;class Dge{constructor(t){this._append=null==t?Tge:function Qit(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Tge;if(t!==Bge){const i=10**t;Bge=t,LM=function(o){let s=1;this._+=o[0];for(const a=o.length;s<a;++s)this._+=Math.round(arguments[s]*i)/i+o[s]}}return LM}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,i){switch(this._point){case 0:this._append`M${t},${i}`,this._point=1;break;case 1:this._append`L${t},${i}`;break;default:if(this._append`M${t},${i}`,this._radius!==Mge||this._append!==LM){const r=this._radius,o=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Mge=r,LM=this._append,Ige=this._,this._=o}this._+=Ige}}result(){const t=this._;return this._="",t.length?t:null}}function Tge(e){let t=1;this._+=e[0];for(const i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function Fge(e,t){let o,s,i=3,r=4.5;function a(l){return l&&("function"==typeof r&&s.pointRadius(+r.apply(this,arguments)),d8(l,o(s))),s.result()}return a.area=function(l){return d8(l,o(pge)),pge.result()},a.measure=function(l){return d8(l,o(Sge)),Sge.result()},a.bounds=function(l){return d8(l,o(FM)),FM.result()},a.centroid=function(l){return d8(l,o(wge)),wge.result()},a.projection=function(l){return arguments.length?(o=null==l?(e=null,rw):(e=l).stream,a):e},a.context=function(l){return arguments.length?(s=null==l?(t=null,new Dge(i)):new bge(t=l),"function"!=typeof r&&s.pointRadius(r),a):t},a.pointRadius=function(l){return arguments.length?(r="function"==typeof l?l:(s.pointRadius(+l),+l),a):r},a.digits=function(l){if(!arguments.length)return i;if(null==l)i=null;else{const u=Math.floor(l);if(!(u>=0))throw new RangeError(`invalid digits: ${l}`);i=u}return null===t&&(s=new Dge(i)),a},a.projection(e).digits(i).context(t)}function Oge(){var t,e=[];return{point:function(i,r,o){t.push([i,r,o])},lineStart:function(){e.push(t=[])},lineEnd:yh,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function RM(e,t){return qs(e[0]-t[0])<Ho&&qs(e[1]-t[1])<Ho}function UM(e,t,i,r){this.x=e,this.z=t,this.o=i,this.e=r,this.v=!1,this.n=this.p=null}function kge(e,t,i,r,o){var l,u,s=[],a=[];if(e.forEach(function(v){if(!((y=v.length-1)<=0)){var y,M,b=v[0],E=v[y];if(RM(b,E)){if(!b[2]&&!E[2]){for(o.lineStart(),l=0;l<y;++l)o.point((b=v[l])[0],b[1]);return void o.lineEnd()}E[0]+=2*Ho}s.push(M=new UM(b,v,null,!0)),a.push(M.o=new UM(b,null,M,!1)),s.push(M=new UM(E,v,null,!1)),a.push(M.o=new UM(E,null,M,!0))}}),s.length){for(a.sort(t),Nge(s),Nge(a),l=0,u=a.length;l<u;++l)a[l].e=i=!i;for(var f,d,c=s[0];;){for(var h=c,g=!0;h.v;)if((h=h.n)===c)return;f=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(l=0,u=f.length;l<u;++l)o.point((d=f[l])[0],d[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(g)for(l=(f=h.p.z).length-1;l>=0;--l)o.point((d=f[l])[0],d[1]);else r(h.x,h.p.x,-1,o);h=h.p}f=(h=h.o).z,g=!g}while(!h.v);o.lineEnd()}}}function Nge(e){if(t=e.length){for(var t,o,i=0,r=e[0];++i<t;)r.n=o=e[i],o.p=r,r=o;r.n=o=e[0],o.p=r}}function WV(e){return[E1(e[1],e[0]),vh(e[2])]}function g8(e){var t=e[0],i=e[1],r=Ko(i);return[r*Ko(t),r*Fo(t),Fo(i)]}function PM(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function HM(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function XV(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function QM(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function YV(e){var t=wd(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ZV(e){return qs(e[0])<=Jo?e[0]:mh(e[0])*((qs(e[0])+Jo)%dA-Jo)}function Lge(e,t,i,r){return function(o){var c,f,d,s=t(o),a=Oge(),l=t(a),u=!1,h={point:g,lineStart:y,lineEnd:b,polygonStart:function(){h.point=E,h.lineStart=M,h.lineEnd=k,f=[],c=[]},polygonEnd:function(){h.point=g,h.lineStart=y,h.lineEnd=b,f=vS(f);var P=function Vit(e,t){var i=ZV(t),r=t[1],o=Fo(r),s=[Fo(i),-Ko(i),0],a=0,l=0,u=new Vc;1===o?r=zl+Ho:-1===o&&(r=-zl-Ho);for(var c=0,f=e.length;c<f;++c)if(h=(d=e[c]).length)for(var d,h,g=d[h-1],v=ZV(g),y=g[1]/2+uge,b=Fo(y),E=Ko(y),M=0;M<h;++M,v=P,b=X,E=z,g=k){var k=d[M],P=ZV(k),H=k[1]/2+uge,X=Fo(H),z=Ko(H),se=P-v,ye=se>=0?1:-1,Ie=ye*se,Ee=Ie>Jo,Je=b*X;if(u.add(E1(Je*ye*Fo(Ie),E*z+Je*Ko(Ie))),a+=Ee?se+ye*dA:se,Ee^v>=i^P>=i){var Ze=HM(g8(g),g8(k));YV(Ze);var W=HM(s,Ze);YV(W);var Z=(Ee^se>=0?-1:1)*vh(W[2]);(r>Z||r===Z&&(Ze[0]||Ze[1]))&&(l+=Ee^se>=0?1:-1)}}return(a<-Ho||a<Ho&&u<-lge)^1&l}(c,r);f.length?(u||(o.polygonStart(),u=!0),kge(f,$it,P,i,o)):P&&(u||(o.polygonStart(),u=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),f=c=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(P,H){e(P,H)&&o.point(P,H)}function v(P,H){s.point(P,H)}function y(){h.point=v,s.lineStart()}function b(){h.point=g,s.lineEnd()}function E(P,H){d.push([P,H]),l.point(P,H)}function M(){l.lineStart(),d=[]}function k(){E(d[0][0],d[0][1]),l.lineEnd();var X,se,ye,Ie,P=l.clean(),H=a.result(),z=H.length;if(d.pop(),c.push(d),d=null,z){if(1&P){if((se=(ye=H[0]).length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),X=0;X<se;++X)o.point((Ie=ye[X])[0],Ie[1]);o.lineEnd()}return}z>1&&2&P&&H.push(H.pop().concat(H.shift())),f.push(H.filter(zit))}}return h}}function zit(e){return e.length>1}function $it(e,t){return((e=e.x)[0]<0?e[1]-zl-Ho:zl-e[1])-((t=t.x)[0]<0?t[1]-zl-Ho:zl-t[1])}const Rge=Lge(function(){return!0},function Git(e){var o,t=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),o=1},point:function(s,a){var l=s>0?Jo:-Jo,u=qs(s-t);qs(u-Jo)<Ho?(e.point(t,i=(i+a)/2>0?zl:-zl),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),e.point(s,i),o=0):r!==l&&u>=Jo&&(qs(t-r)<Ho&&(t-=r*Ho),qs(s-l)<Ho&&(s-=l*Ho),i=function qit(e,t,i,r){var o,s,a=Fo(e-i);return qs(a)>Ho?A8((Fo(t)*(s=Ko(r))*Fo(i)-Fo(r)*(o=Ko(t))*Fo(e))/(o*s*a)):(t+r)/2}(t,i,s,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),o=0),e.point(t=s,i=a),r=l},lineEnd:function(){e.lineEnd(),t=i=NaN},clean:function(){return 2-o}}},function jit(e,t,i,r){var o;if(null==e)r.point(-Jo,o=i*zl),r.point(0,o),r.point(Jo,o),r.point(Jo,0),r.point(Jo,-o),r.point(0,-o),r.point(-Jo,-o),r.point(-Jo,0),r.point(-Jo,o);else if(qs(e[0]-t[0])>Ho){var s=e[0]<t[0]?Jo:-Jo;r.point(-s,o=i*s/2),r.point(0,o),r.point(s,o)}else r.point(t[0],t[1])},[-Jo,-zl]);function Pge(e,t){(t=g8(t))[0]-=e,YV(t);var i=fge(-t[1]);return((-t[2]<0?-i:i)+dA-Ho)%dA}var cw=1e9,VM=-cw;function Hge(e,t,i,r){function o(c,f){return e<=c&&c<=i&&t<=f&&f<=r}function s(c,f,d,h){var g=0,v=0;if(null==c||(g=a(c,d))!==(v=a(f,d))||u(c,f)<0^d>0)do{h.point(0===g||3===g?e:i,g>1?r:t)}while((g=(g+d+4)%4)!==v);else h.point(f[0],f[1])}function a(c,f){return qs(c[0]-e)<Ho?f>0?0:3:qs(c[0]-i)<Ho?f>0?2:1:qs(c[1]-t)<Ho?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var d=a(c,1),h=a(f,1);return d!==h?d-h:0===d?f[1]-c[1]:1===d?c[0]-f[0]:2===d?c[1]-f[1]:f[0]-c[0]}return function(c){var h,g,v,y,b,E,M,k,P,H,X,f=c,d=Oge(),z={point:se,lineStart:function Je(){z.point=W,g&&g.push(v=[]),H=!0,P=!1,M=k=NaN},lineEnd:function Ze(){h&&(W(y,b),E&&P&&d.rejoin(),h.push(d.result())),z.point=se,P&&f.lineEnd()},polygonStart:function Ie(){f=d,h=[],g=[],X=!0},polygonEnd:function Ee(){var Z=function ye(){for(var Z=0,te=0,Ce=g.length;te<Ce;++te)for(var lt,Mt,ce=g[te],we=1,Be=ce.length,tt=ce[0],bt=tt[0],Vt=tt[1];we<Be;++we)lt=bt,Mt=Vt,bt=(tt=ce[we])[0],Vt=tt[1],Mt<=r?Vt>r&&(bt-lt)*(r-Mt)>(Vt-Mt)*(e-lt)&&++Z:Vt<=r&&(bt-lt)*(r-Mt)<(Vt-Mt)*(e-lt)&&--Z;return Z}(),te=X&&Z,Ce=(h=vS(h)).length;(te||Ce)&&(c.polygonStart(),te&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),Ce&&kge(h,l,Z,s,c),c.polygonEnd()),f=c,h=g=v=null}};function se(Z,te){o(Z,te)&&f.point(Z,te)}function W(Z,te){var Ce=o(Z,te);if(g&&v.push([Z,te]),H)y=Z,b=te,E=Ce,H=!1,Ce&&(f.lineStart(),f.point(Z,te));else if(Ce&&P)f.point(Z,te);else{var ce=[M=Math.max(VM,Math.min(cw,M)),k=Math.max(VM,Math.min(cw,k))],we=[Z=Math.max(VM,Math.min(cw,Z)),te=Math.max(VM,Math.min(cw,te))];!function Wit(e,t,i,r,o,s){var v,a=e[0],l=e[1],f=0,d=1,h=t[0]-a,g=t[1]-l;if(v=i-a,h||!(v>0)){if(v/=h,h<0){if(v<f)return;v<d&&(d=v)}else if(h>0){if(v>d)return;v>f&&(f=v)}if(v=o-a,h||!(v<0)){if(v/=h,h<0){if(v>d)return;v>f&&(f=v)}else if(h>0){if(v<f)return;v<d&&(d=v)}if(v=r-l,g||!(v>0)){if(v/=g,g<0){if(v<f)return;v<d&&(d=v)}else if(g>0){if(v>d)return;v>f&&(f=v)}if(v=s-l,g||!(v<0)){if(v/=g,g<0){if(v>d)return;v>f&&(f=v)}else if(g>0){if(v<f)return;v<d&&(d=v)}return f>0&&(e[0]=a+f*h,e[1]=l+f*g),d<1&&(t[0]=a+d*h,t[1]=l+d*g),!0}}}}}(ce,we,e,t,i,r)?Ce&&(f.lineStart(),f.point(Z,te),X=!1):(P||(f.lineStart(),f.point(ce[0],ce[1])),f.point(we[0],we[1]),Ce||f.lineEnd(),X=!1)}M=Z,k=te,P=Ce}return z}}function JV(e,t){function i(r,o){return r=e(r,o),t(r[0],r[1])}return e.invert&&t.invert&&(i.invert=function(r,o){return(r=t.invert(r,o))&&e.invert(r[0],r[1])}),i}function ez(e,t){return qs(e)>Jo&&(e-=Math.round(e/dA)*dA),[e,t]}function Qge(e,t,i){return(e%=dA)?t||i?JV(zge(e),$ge(t,i)):zge(e):t||i?$ge(t,i):ez}function Vge(e){return function(t,i){return qs(t+=e)>Jo&&(t-=Math.round(t/dA)*dA),[t,i]}}function zge(e){var t=Vge(e);return t.invert=Vge(-e),t}function $ge(e,t){var i=Ko(e),r=Fo(e),o=Ko(t),s=Fo(t);function a(l,u){var c=Ko(u),f=Ko(l)*c,d=Fo(l)*c,h=Fo(u),g=h*i+f*r;return[E1(d*o-g*s,f*i-h*r),vh(g*o+d*s)]}return a.invert=function(l,u){var c=Ko(u),f=Ko(l)*c,d=Fo(l)*c,h=Fo(u),g=h*o-d*s;return[E1(d*o+h*s,f*i+g*r),vh(g*i-f*r)]},a}function fw(e){return function(t){var i=new tz;for(var r in e)i[r]=e[r];return i.stream=t,i}}function tz(){}function nz(e,t,i){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),d8(i,e.stream(FM)),t(FM.result()),null!=r&&e.clipExtent(r),e}function zM(e,t,i){return nz(e,function(r){var o=t[1][0]-t[0][0],s=t[1][1]-t[0][1],a=Math.min(o/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),l=+t[0][0]+(o-a*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(s-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([l,u])},i)}function iz(e,t,i){return zM(e,[[0,0],t],i)}function rz(e,t,i){return nz(e,function(r){var o=+t,s=o/(r[1][0]-r[0][0]),a=(o-s*(r[1][0]+r[0][0]))/2,l=-s*r[0][1];e.scale(150*s).translate([a,l])},i)}function oz(e,t,i){return nz(e,function(r){var o=+t,s=o/(r[1][1]-r[0][1]),a=-s*r[0][0],l=(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},i)}ez.invert=ez,tz.prototype={constructor:tz,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Gge=16,Yit=Ko(30*Ol);function qge(e,t){return+t?function Jit(e,t){function i(r,o,s,a,l,u,c,f,d,h,g,v,y,b){var E=c-r,M=f-o,k=E*E+M*M;if(k>4*t&&y--){var P=a+h,H=l+g,X=u+v,z=wd(P*P+H*H+X*X),se=vh(X/=z),ye=qs(qs(X)-1)<Ho||qs(s-d)<Ho?(s+d)/2:E1(H,P),Ie=e(ye,se),Ee=Ie[0],Je=Ie[1],Ze=Ee-r,W=Je-o,Z=M*Ze-E*W;(Z*Z/k>t||qs((E*Ze+M*W)/k-.5)>.3||a*h+l*g+u*v<Yit)&&(i(r,o,s,a,l,u,Ee,Je,ye,P/=z,H/=z,X,y,b),b.point(Ee,Je),i(Ee,Je,ye,P,H,X,c,f,d,h,g,v,y,b))}}return function(r){var o,s,a,l,u,c,f,d,h,g,v,y,b={point:E,lineStart:M,lineEnd:P,polygonStart:function(){r.polygonStart(),b.lineStart=H},polygonEnd:function(){r.polygonEnd(),b.lineStart=M}};function E(se,ye){se=e(se,ye),r.point(se[0],se[1])}function M(){d=NaN,b.point=k,r.lineStart()}function k(se,ye){var Ie=g8([se,ye]),Ee=e(se,ye);i(d,h,f,g,v,y,d=Ee[0],h=Ee[1],f=se,g=Ie[0],v=Ie[1],y=Ie[2],Gge,r),r.point(d,h)}function P(){b.point=E,r.lineEnd()}function H(){M(),b.point=X,b.lineEnd=z}function X(se,ye){k(o=se,ye),s=d,a=h,l=g,u=v,c=y,b.point=k}function z(){i(d,h,f,g,v,y,s,a,o,l,u,c,Gge,r),b.lineEnd=P,P()}return b}}(e,t):function Zit(e){return fw({point:function(t,i){t=e(t,i),this.stream.point(t[0],t[1])}})}(e)}var ert=fw({point:function(e,t){this.stream.point(e*Ol,t*Ol)}});function jge(e,t,i,r,o,s){if(!s)return function nrt(e,t,i,r,o){function s(a,l){return[t+e*(a*=r),i-e*(l*=o)]}return s.invert=function(a,l){return[(a-t)/e*r,(i-l)/e*o]},s}(e,t,i,r,o);var a=Ko(s),l=Fo(s),u=a*e,c=l*e,f=a/e,d=l/e,h=(l*i-a*t)/e,g=(l*t+a*i)/e;function v(y,b){return[u*(y*=r)-c*(b*=o)+t,i-c*y-u*b]}return v.invert=function(y,b){return[r*(f*y-d*b+h),o*(g-d*y-f*b)]},v}function x1(e){return Kge(function(){return e})()}function Kge(e){var t,f,E,M,k,X,z,se,ye,Ie,i=150,r=480,o=250,s=0,a=0,l=0,u=0,c=0,d=0,h=1,g=1,v=null,y=Rge,b=null,P=rw,H=.5;function Ee(Z){return se(Z[0]*Ol,Z[1]*Ol)}function Je(Z){return(Z=se.invert(Z[0],Z[1]))&&[Z[0]*tf,Z[1]*tf]}function Ze(){var Z=jge(i,0,0,h,g,d).apply(null,t(s,a)),te=jge(i,r-Z[0],o-Z[1],h,g,d);return f=Qge(l,u,c),z=JV(t,te),se=JV(f,z),X=qge(z,H),W()}function W(){return ye=Ie=null,Ee}return Ee.stream=function(Z){return ye&&Ie===Z?ye:ye=ert(function trt(e){return fw({point:function(t,i){var r=e(t,i);return this.stream.point(r[0],r[1])}})}(f)(y(X(P(Ie=Z)))))},Ee.preclip=function(Z){return arguments.length?(y=Z,v=void 0,W()):y},Ee.postclip=function(Z){return arguments.length?(P=Z,b=E=M=k=null,W()):P},Ee.clipAngle=function(Z){return arguments.length?(y=+Z?function Kit(e){var t=Ko(e),i=2*Ol,r=t>0,o=qs(t)>Ho;function a(f,d){return Ko(f)*Ko(d)>t}function u(f,d,h){var y=[1,0,0],b=HM(g8(f),g8(d)),E=PM(b,b),M=b[0],k=E-M*M;if(!k)return!h&&f;var P=t*E/k,H=-t*M/k,X=HM(y,b),z=QM(y,P);XV(z,QM(b,H));var ye=X,Ie=PM(z,ye),Ee=PM(ye,ye),Je=Ie*Ie-Ee*(PM(z,z)-1);if(!(Je<0)){var Ze=wd(Je),W=QM(ye,(-Ie-Ze)/Ee);if(XV(W,z),W=WV(W),!h)return W;var we,Z=f[0],te=d[0],Ce=f[1],ce=d[1];te<Z&&(we=Z,Z=te,te=we);var Be=te-Z,tt=qs(Be-Jo)<Ho;if(!tt&&ce<Ce&&(we=Ce,Ce=ce,ce=we),tt||Be<Ho?tt?Ce+ce>0^W[1]<(qs(W[0]-Z)<Ho?Ce:ce):Ce<=W[1]&&W[1]<=ce:Be>Jo^(Z<=W[0]&&W[0]<=te)){var Mt=QM(ye,(-Ie+Ze)/Ee);return XV(Mt,z),[W,WV(Mt)]}}}function c(f,d){var h=r?e:Jo-e,g=0;return f<-h?g|=1:f>h&&(g|=2),d<-h?g|=4:d>h&&(g|=8),g}return Lge(a,function l(f){var d,h,g,v,y;return{lineStart:function(){v=g=!1,y=1},point:function(b,E){var k,M=[b,E],P=a(b,E),H=r?P?0:c(b,E):P?c(b+(b<0?Jo:-Jo),E):0;if(!d&&(v=g=P)&&f.lineStart(),P!==g&&(!(k=u(d,M))||RM(d,k)||RM(M,k))&&(M[2]=1),P!==g)y=0,P?(f.lineStart(),k=u(M,d),f.point(k[0],k[1])):(k=u(d,M),f.point(k[0],k[1],2),f.lineEnd()),d=k;else if(o&&d&&r^P){var X;!(H&h)&&(X=u(M,d,!0))&&(y=0,r?(f.lineStart(),f.point(X[0][0],X[0][1]),f.point(X[1][0],X[1][1]),f.lineEnd()):(f.point(X[1][0],X[1][1]),f.lineEnd(),f.lineStart(),f.point(X[0][0],X[0][1],3)))}P&&(!d||!RM(d,M))&&f.point(M[0],M[1]),d=M,g=P,h=H},lineEnd:function(){g&&f.lineEnd(),d=null},clean:function(){return y|(v&&g)<<1}}},function s(f,d,h,g){!function Uge(e,t,i,r,o,s){if(i){var a=Ko(t),l=Fo(t),u=r*i;null==o?(o=t+r*dA,s=t-u/2):(o=Pge(a,o),s=Pge(a,s),(r>0?o<s:o>s)&&(o+=r*dA));for(var c,f=o;r>0?f>s:f<s;f-=u)c=WV([a,-l*Ko(f),-l*Fo(f)]),e.point(c[0],c[1])}}(g,e,i,h,f,d)},r?[0,-e]:[-Jo,e-Jo])}(v=Z*Ol):(v=null,Rge),W()):v*tf},Ee.clipExtent=function(Z){return arguments.length?(P=null==Z?(b=E=M=k=null,rw):Hge(b=+Z[0][0],E=+Z[0][1],M=+Z[1][0],k=+Z[1][1]),W()):null==b?null:[[b,E],[M,k]]},Ee.scale=function(Z){return arguments.length?(i=+Z,Ze()):i},Ee.translate=function(Z){return arguments.length?(r=+Z[0],o=+Z[1],Ze()):[r,o]},Ee.center=function(Z){return arguments.length?(s=Z[0]%360*Ol,a=Z[1]%360*Ol,Ze()):[s*tf,a*tf]},Ee.rotate=function(Z){return arguments.length?(l=Z[0]%360*Ol,u=Z[1]%360*Ol,c=Z.length>2?Z[2]%360*Ol:0,Ze()):[l*tf,u*tf,c*tf]},Ee.angle=function(Z){return arguments.length?(d=Z%360*Ol,Ze()):d*tf},Ee.reflectX=function(Z){return arguments.length?(h=Z?-1:1,Ze()):h<0},Ee.reflectY=function(Z){return arguments.length?(g=Z?-1:1,Ze()):g<0},Ee.precision=function(Z){return arguments.length?(X=qge(z,H=Z*Z),W()):wd(H)},Ee.fitExtent=function(Z,te){return zM(Ee,Z,te)},Ee.fitSize=function(Z,te){return iz(Ee,Z,te)},Ee.fitWidth=function(Z,te){return rz(Ee,Z,te)},Ee.fitHeight=function(Z,te){return oz(Ee,Z,te)},function(){return t=e.apply(this,arguments),Ee.invert=t.invert&&Je,Ze()}}function sz(e){var t=0,i=Jo/3,r=Kge(e),o=r(t,i);return o.parallels=function(s){return arguments.length?r(t=s[0]*Ol,i=s[1]*Ol):[t*tf,i*tf]},o}function rrt(e,t){var i=Fo(e),r=(i+Fo(t))/2;if(qs(r)<Ho)return function irt(e){var t=Ko(e);function i(r,o){return[r*t,Fo(o)/t]}return i.invert=function(r,o){return[r/t,vh(o*t)]},i}(e);var o=1+i*(2*r-i),s=wd(o)/r;function a(l,u){var c=wd(o-2*r*Fo(u))/r;return[c*Fo(l*=r),s-c*Ko(l)]}return a.invert=function(l,u){var c=s-u,f=E1(l,qs(c))*mh(c);return c*r<0&&(f-=Jo*mh(l)*mh(c)),[f/r,vh((o-(l*l+c*c)*r*r)/(2*r))]},a}function $M(){return sz(rrt).scale(155.424).center([0,33.6442])}function Wge(){return $M().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Xge(e){return function(t,i){var r=Ko(t),o=Ko(i),s=e(r*o);return s===1/0?[2,0]:[s*o*Fo(t),s*Fo(i)]}}function dw(e){return function(t,i){var r=wd(t*t+i*i),o=e(r),s=Fo(o),a=Ko(o);return[E1(t*s,r*a),vh(r&&i*s/r)]}}var Yge=Xge(function(e){return wd(2/(1+e))});Yge.invert=dw(function(e){return 2*vh(e/2)});var Zge=Xge(function(e){return(e=fge(e))&&e/Fo(e)});function GM(e,t){return[e,IM(UV((zl+t)/2))]}function Jge(e){var l,u,c,t=x1(e),i=t.center,r=t.scale,o=t.translate,s=t.clipExtent,a=null;function f(){var d=Jo*r(),h=t(function Xit(e){function t(i){return(i=e(i[0]*Ol,i[1]*Ol))[0]*=tf,i[1]*=tf,i}return e=Qge(e[0]*Ol,e[1]*Ol,e.length>2?e[2]*Ol:0),t.invert=function(i){return(i=e.invert(i[0]*Ol,i[1]*Ol))[0]*=tf,i[1]*=tf,i},t}(t.rotate()).invert([0,0]));return s(null==a?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===GM?[[Math.max(h[0]-d,a),l],[Math.min(h[0]+d,u),c]]:[[a,Math.max(h[1]-d,l)],[u,Math.min(h[1]+d,c)]])}return t.scale=function(d){return arguments.length?(r(d),f()):r()},t.translate=function(d){return arguments.length?(o(d),f()):o()},t.center=function(d){return arguments.length?(i(d),f()):i()},t.clipExtent=function(d){return arguments.length?(null==d?a=l=u=c=null:(a=+d[0][0],l=+d[0][1],u=+d[1][0],c=+d[1][1]),f()):null==a?null:[[a,l],[u,c]]},f()}function qM(e){return UV((zl+e)/2)}function crt(e,t){var i=Ko(e),r=e===t?Fo(e):IM(i/Ko(t))/IM(qM(t)/qM(e)),o=i*RV(qM(e),r)/r;if(!r)return GM;function s(a,l){o>0?l<-zl+Ho&&(l=-zl+Ho):l>zl-Ho&&(l=zl-Ho);var u=o/RV(qM(l),r);return[u*Fo(r*a),o-u*Ko(r*a)]}return s.invert=function(a,l){var u=o-l,c=mh(r)*wd(a*a+u*u),f=E1(a,qs(u))*mh(u);return u*r<0&&(f-=Jo*mh(a)*mh(u)),[f/r,2*A8(RV(o/c,1/r))-zl]},s}function jM(e,t){return[e,t]}function Art(e,t){var i=Ko(e),r=e===t?Fo(e):(i-Ko(t))/(t-e),o=i/r+e;if(qs(r)<Ho)return jM;function s(a,l){var u=o-l,c=r*a;return[u*Fo(c),o-u*Ko(c)]}return s.invert=function(a,l){var u=o-l,c=E1(a,qs(u))*mh(u);return u*r<0&&(c-=Jo*mh(a)*mh(u)),[c/r,o-mh(r)*wd(a*a+u*u)]},s}Zge.invert=dw(function(e){return e}),GM.invert=function(e,t){return[e,2*A8(cge(t))-zl]},jM.invert=jM;var Aw=1.340264,hw=-.081106,pw=893e-6,gw=.003796,KM=wd(3)/2;function e1e(e,t){var i=vh(KM*Fo(t)),r=i*i,o=r*r*r;return[e*Ko(i)/(KM*(Aw+3*hw*r+o*(7*pw+9*gw*r))),i*(Aw+hw*r+o*(pw+gw*r))]}function t1e(e,t){var i=Ko(t),r=Ko(e)*i;return[i*Fo(e)/r,Fo(t)/r]}function n1e(e,t){var i=t*t,r=i*i;return[e*(.8707-.131979*i+r*(r*(.003971*i-.001529*r)-.013791)),t*(1.007226+i*(.015085+r*(.028874*i-.044475-.005916*r)))]}function i1e(e,t){return[Ko(t)*Fo(e),Fo(t)]}function r1e(e,t){var i=Ko(t),r=1+Ko(e)*i;return[i*Fo(e)/r,Fo(t)/r]}function o1e(e,t){return[IM(UV((zl+t)/2)),-e]}e1e.invert=function(e,t){for(var a,i=t,r=i*i,o=r*r*r,s=0;s<12&&(o=(r=(i-=a=(i*(Aw+hw*r+o*(pw+gw*r))-t)/(Aw+3*hw*r+o*(7*pw+9*gw*r)))*i)*r*r,!(qs(a)<lge));++s);return[KM*e*(Aw+3*hw*r+o*(7*pw+9*gw*r))/Ko(i),vh(Fo(i)/KM)]},t1e.invert=dw(A8),n1e.invert=function(e,t){var o,i=t,r=25;do{var s=i*i,a=s*s;i-=o=(i*(1.007226+s*(.015085+a*(.028874*s-.044475-.005916*a)))-t)/(1.007226+s*(.045255+a*(.259866*s-.311325-.005916*11*a)))}while(qs(o)>Ho&&--r>0);return[e/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]},i1e.invert=dw(vh),r1e.invert=dw(function(e){return 2*A8(e)}),o1e.invert=function(e,t){return[-t,2*A8(cge(e))-zl]};var Crt=Math.abs,az=(Math,Math,Math,Math.cos),WM=(Math,Math,Math,Math,Math,Math,Math,Math,Math.sin),Ert=(Math,1e-6),_2=Math.PI,lz=_2/2,a1e=(Math,XM(2));function l1e(e){return e>1?lz:e<-1?-lz:Math.asin(e)}function XM(e){return e>0?Math.sqrt(e):0}function xrt(e,t){var o,i=e*WM(t),r=30;do{t-=o=(t+WM(t)-i)/(1+az(t))}while(Crt(o)>Ert&&--r>0);return t/2}XM(_2);var Brt=function Srt(e,t,i){function r(o,s){return[e*o*az(s=xrt(i,s)),t*WM(s)]}return r.invert=function(o,s){return s=l1e(s/t),[o/(e*az(s)),l1e((2*s+WM(2*s))/i)]},r}(a1e/lz,a1e,_2);const Irt=Fge(),uz=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function cz(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(YM[e]=function Drt(e,t){return function i(){const r=t();return r.type=e,r.path=Fge().projection(r),r.copy=r.copy||function(){const o=i();return uz.forEach(s=>{r[s]&&o[s](r[s]())}),o.path.pointRadius(r.path.pointRadius()),o},Ahe(r)}}(e,t),this):YM[e]||null}function u1e(e){return e&&e.path||Irt}const YM={albers:Wge,albersusa:function srt(){var e,t,r,s,l,u,i=Wge(),o=$M().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=$M().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(h,g){u=[h,g]}};function f(h){var g=h[0],v=h[1];return u=null,r.point(g,v),u||(s.point(g,v),u)||(l.point(g,v),u)}function d(){return e=t=null,f}return f.invert=function(h){var g=i.scale(),v=i.translate(),y=(h[0]-v[0])/g,b=(h[1]-v[1])/g;return(b>=.12&&b<.234&&y>=-.425&&y<-.214?o:b>=.166&&b<.234&&y>=-.214&&y<-.115?a:i).invert(h)},f.stream=function(h){return e&&t===h?e:e=function ort(e){var t=e.length;return{point:function(i,r){for(var o=-1;++o<t;)e[o].point(i,r)},sphere:function(){for(var i=-1;++i<t;)e[i].sphere()},lineStart:function(){for(var i=-1;++i<t;)e[i].lineStart()},lineEnd:function(){for(var i=-1;++i<t;)e[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<t;)e[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<t;)e[i].polygonEnd()}}}([i.stream(t=h),o.stream(h),a.stream(h)])},f.precision=function(h){return arguments.length?(i.precision(h),o.precision(h),a.precision(h),d()):i.precision()},f.scale=function(h){return arguments.length?(i.scale(h),o.scale(.35*h),a.scale(h),f.translate(i.translate())):i.scale()},f.translate=function(h){if(!arguments.length)return i.translate();var g=i.scale(),v=+h[0],y=+h[1];return r=i.translate(h).clipExtent([[v-.455*g,y-.238*g],[v+.455*g,y+.238*g]]).stream(c),s=o.translate([v-.307*g,y+.201*g]).clipExtent([[v-.425*g+Ho,y+.12*g+Ho],[v-.214*g-Ho,y+.234*g-Ho]]).stream(c),l=a.translate([v-.205*g,y+.212*g]).clipExtent([[v-.214*g+Ho,y+.166*g+Ho],[v-.115*g-Ho,y+.234*g-Ho]]).stream(c),d()},f.fitExtent=function(h,g){return zM(f,h,g)},f.fitSize=function(h,g){return iz(f,h,g)},f.fitWidth=function(h,g){return rz(f,h,g)},f.fitHeight=function(h,g){return oz(f,h,g)},f.scale(1070)},azimuthalequalarea:function art(){return x1(Yge).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function lrt(){return x1(Zge).scale(79.4188).clipAngle(179.999)},conicconformal:function frt(){return sz(crt).scale(109.5).parallels([30,30])},conicequalarea:$M,conicequidistant:function hrt(){return sz(Art).scale(131.154).center([0,13.9389])},equalEarth:function grt(){return x1(e1e).scale(177.158)},equirectangular:function drt(){return x1(jM).scale(152.63)},gnomonic:function mrt(){return x1(t1e).scale(144.049).clipAngle(60)},identity:function vrt(){var a,l,c,f,d,b,E,e=1,t=0,i=0,r=1,o=1,s=0,u=null,h=1,g=1,v=fw({point:function(P,H){var X=k([P,H]);this.stream.point(X[0],X[1])}}),y=rw;function M(){return h=e*r,g=e*o,b=E=null,k}function k(P){var H=P[0]*h,X=P[1]*g;if(s){var z=X*a-H*l;H=H*a+X*l,X=z}return[H+t,X+i]}return k.invert=function(P){var H=P[0]-t,X=P[1]-i;if(s){var z=X*a+H*l;H=H*a-X*l,X=z}return[H/h,X/g]},k.stream=function(P){return b&&E===P?b:b=v(y(E=P))},k.postclip=function(P){return arguments.length?(y=P,u=c=f=d=null,M()):y},k.clipExtent=function(P){return arguments.length?(y=null==P?(u=c=f=d=null,rw):Hge(u=+P[0][0],c=+P[0][1],f=+P[1][0],d=+P[1][1]),M()):null==u?null:[[u,c],[f,d]]},k.scale=function(P){return arguments.length?(e=+P,M()):e},k.translate=function(P){return arguments.length?(t=+P[0],i=+P[1],M()):[t,i]},k.angle=function(P){return arguments.length?(l=Fo(s=P%360*Ol),a=Ko(s),M()):s*tf},k.reflectX=function(P){return arguments.length?(r=P?-1:1,M()):r<0},k.reflectY=function(P){return arguments.length?(o=P?-1:1,M()):o<0},k.fitExtent=function(P,H){return zM(k,P,H)},k.fitSize=function(P,H){return iz(k,P,H)},k.fitWidth=function(P,H){return rz(k,P,H)},k.fitHeight=function(P,H){return oz(k,P,H)},k},mercator:function urt(){return Jge(GM).scale(961/dA)},mollweide:function Mrt(){return pae(Brt).scale(169.529)},naturalEarth1:function yrt(){return x1(n1e).scale(175.295)},orthographic:function _rt(){return x1(i1e).scale(249.5).clipAngle(90+Ho)},stereographic:function wrt(){return x1(r1e).scale(250).clipAngle(142)},transversemercator:function brt(){var e=Jge(o1e),t=e.center,i=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):[(r=t())[1],-r[0]]},e.rotate=function(r){return arguments.length?i([r[0],r[1],r.length>2?r[2]+90:90]):[(r=i())[0],r[1],r[2]-90]},i([0,0,90]).scale(159.155)}};for(const e in YM)cz(e,YM[e]);var w2=1e-6,f1e=(Math,Math.abs),ZM=(Math,Math,Math,Math.ceil);function d1e(e,t,i){var r=I3(e,t-w2,i).concat(t);return function(o){return r.map(function(s){return[o,s]})}}function A1e(e,t,i){var r=I3(e,t-w2,i).concat(t);return function(o){return r.map(function(s){return[s,o]})}}function fz(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function p1e(e,t){var i=Object.create(e.prototype);for(var r in t)i[r]=t[r];return i}function vw(){}Math,Math,Math,Math,Math,Math,Math,Math,Math;var JM=1/.7,v8="\\s*([+-]?\\d+)\\s*",_w="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ig="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Frt=/^#([0-9a-f]{3,8})$/,Ort=new RegExp(`^rgb\\(${v8},${v8},${v8}\\)$`),krt=new RegExp(`^rgb\\(${ig},${ig},${ig}\\)$`),Nrt=new RegExp(`^rgba\\(${v8},${v8},${v8},${_w}\\)$`),Lrt=new RegExp(`^rgba\\(${ig},${ig},${ig},${_w}\\)$`),Rrt=new RegExp(`^hsl\\(${_w},${ig},${ig}\\)$`),Urt=new RegExp(`^hsla\\(${_w},${ig},${ig},${_w}\\)$`),g1e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m1e(){return this.rgb().formatHex()}function v1e(){return this.rgb().formatRgb()}function dz(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=Frt.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?y1e(t):3===i?new bd(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?eI(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?eI(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ort.exec(e))?new bd(t[1],t[2],t[3],1):(t=krt.exec(e))?new bd(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Nrt.exec(e))?eI(t[1],t[2],t[3],t[4]):(t=Lrt.exec(e))?eI(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Rrt.exec(e))?b1e(t[1],t[2]/100,t[3]/100,1):(t=Urt.exec(e))?b1e(t[1],t[2]/100,t[3]/100,t[4]):g1e.hasOwnProperty(e)?y1e(g1e[e]):"transparent"===e?new bd(NaN,NaN,NaN,0):null}function y1e(e){return new bd(e>>16&255,e>>8&255,255&e,1)}function eI(e,t,i,r){return r<=0&&(e=t=i=NaN),new bd(e,t,i,r)}function Az(e,t,i,r){return 1===arguments.length?function Qrt(e){return e instanceof vw||(e=dz(e)),e?new bd((e=e.rgb()).r,e.g,e.b,e.opacity):new bd}(e):new bd(e,t,i,r??1)}function bd(e,t,i,r){this.r=+e,this.g=+t,this.b=+i,this.opacity=+r}function _1e(){return`#${F3(this.r)}${F3(this.g)}${F3(this.b)}`}function w1e(){const e=tI(this.opacity);return`${1===e?"rgb(":"rgba("}${T3(this.r)}, ${T3(this.g)}, ${T3(this.b)}${1===e?")":`, ${e})`}`}function tI(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function T3(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function F3(e){return((e=T3(e))<16?"0":"")+e.toString(16)}function b1e(e,t,i,r){return r<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new E0(e,t,i,r)}function C1e(e){if(e instanceof E0)return new E0(e.h,e.s,e.l,e.opacity);if(e instanceof vw||(e=dz(e)),!e)return new E0;if(e instanceof E0)return e;var t=(e=e.rgb()).r/255,i=e.g/255,r=e.b/255,o=Math.min(t,i,r),s=Math.max(t,i,r),a=NaN,l=s-o,u=(s+o)/2;return l?(a=t===s?(i-r)/l+6*(i<r):i===s?(r-t)/l+2:(t-i)/l+4,l/=u<.5?s+o:2-s-o,a*=60):l=u>0&&u<1?0:a,new E0(a,l,u,e.opacity)}function E0(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}function E1e(e){return(e=(e||0)%360)<0?e+360:e}function nI(e){return Math.max(0,Math.min(1,e||0))}function hz(e,t,i){return 255*(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)}function $rt(){}fz(vw,dz,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:m1e,formatHex:m1e,formatHex8:function Prt(){return this.rgb().formatHex8()},formatHsl:function Hrt(){return C1e(this).formatHsl()},formatRgb:v1e,toString:v1e}),fz(bd,Az,p1e(vw,{brighter(e){return e=null==e?JM:Math.pow(JM,e),new bd(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new bd(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bd(T3(this.r),T3(this.g),T3(this.b),tI(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_1e,formatHex:_1e,formatHex8:function Vrt(){return`#${F3(this.r)}${F3(this.g)}${F3(this.b)}${F3(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:w1e,toString:w1e})),fz(E0,function zrt(e,t,i,r){return 1===arguments.length?C1e(e):new E0(e,t,i,r??1)},p1e(vw,{brighter(e){return e=null==e?JM:Math.pow(JM,e),new E0(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new E0(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*t,o=2*i-r;return new bd(hz(e>=240?e-240:e+120,o,r),hz(e,o,r),hz(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new E0(E1e(this.h),nI(this.s),nI(this.l),tI(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tI(this.opacity);return`${1===e?"hsl(":"hsla("}${E1e(this.h)}, ${100*nI(this.s)}%, ${100*nI(this.l)}%${1===e?")":`, ${e})`}`}}));const S1=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function x1e(){var e=1,t=1,i=l;function r(u,c){return c.map(f=>o(u,f))}function o(u,c){var f=[],d=[];return function s(u,c,f){var g,v,b,E,M,d=[],h=[];for(g=v=-1,S1[(b=u[0]>=c)<<1].forEach(k);++g<e-1;)S1[b|(b=u[g+1]>=c)<<1].forEach(k);for(S1[0|b].forEach(k);++v<t-1;){for(g=-1,S1[(b=u[v*e+e]>=c)<<1|(E=u[v*e]>=c)<<2].forEach(k);++g<e-1;)M=E,S1[b|(b=u[v*e+e+g+1]>=c)<<1|(E=u[v*e+g+1]>=c)<<2|M<<3].forEach(k);S1[b|E<<3].forEach(k)}for(g=-1,S1[(E=u[v*e]>=c)<<2].forEach(k);++g<e-1;)M=E,S1[(E=u[v*e+g+1]>=c)<<2|M<<3].forEach(k);function k(P){var ye,Ie,H=[P[0][0]+g,P[0][1]+v],X=[P[1][0]+g,P[1][1]+v],z=a(H),se=a(X);(ye=h[z])?(Ie=d[se])?(delete h[ye.end],delete d[Ie.start],ye===Ie?(ye.ring.push(X),f(ye.ring)):d[ye.start]=h[Ie.end]={start:ye.start,end:Ie.end,ring:ye.ring.concat(Ie.ring)}):(delete h[ye.end],ye.ring.push(X),h[ye.end=se]=ye):(ye=d[se])?(Ie=h[z])?(delete d[ye.start],delete h[Ie.end],ye===Ie?(ye.ring.push(X),f(ye.ring)):d[Ie.start]=h[ye.end]={start:Ie.start,end:ye.end,ring:Ie.ring.concat(ye.ring)}):(delete d[ye.start],ye.ring.unshift(H),d[ye.start=z]=ye):d[z]=h[se]={start:z,end:se,ring:[H,X]}}S1[E<<3].forEach(k)}(u,c,h=>{i(h,u,c),function Grt(e){for(var t=0,i=e.length,r=e[i-1][1]*e[0][0]-e[i-1][0]*e[0][1];++t<i;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(h)>0?f.push([h]):d.push(h)}),d.forEach(h=>{for(var y,g=0,v=f.length;g<v;++g)if(-1!==qrt((y=f[g])[0],h))return void y.push(h)}),{type:"MultiPolygon",value:c,coordinates:f}}function a(u){return 2*u[0]+u[1]*(e+1)*4}function l(u,c,f){u.forEach(d=>{var b,h=d[0],g=d[1],v=0|h,y=0|g,E=c[y*e+v];h>0&&h<e&&v===h&&(d[0]=h+(f-(b=c[y*e+v-1]))/(E-b)-.5),g>0&&g<t&&y===g&&(d[1]=g+(f-(b=c[(y-1)*e+v]))/(E-b)-.5)})}return r.contour=o,r.size=function(u){if(!arguments.length)return[e,t];var c=Math.floor(u[0]),f=Math.floor(u[1]);return c>=0&&f>=0||Gn("invalid size"),e=c,t=f,r},r.smooth=function(u){return arguments.length?(i=u?l:$rt,r):i===l},r}function qrt(e,t){for(var o,i=-1,r=t.length;++i<r;)if(o=jrt(e,t[i]))return o;return 0}function jrt(e,t){for(var i=t[0],r=t[1],o=-1,s=0,a=e.length,l=a-1;s<a;l=s++){var u=e[s],c=u[0],f=u[1],d=e[l],h=d[0],g=d[1];if(Krt(u,d,t))return 0;f>r!=g>r&&i<(h-c)*(r-f)/(g-f)+c&&(o=-o)}return o}function Krt(e,t,i){var r;return function Wrt(e,t,i){return(t[0]-e[0])*(i[1]-e[1])==(i[0]-e[0])*(t[1]-e[1])}(e,t,i)&&function Xrt(e,t,i){return e<=t&&t<=i||i<=t&&t<=e}(e[r=+(e[0]===t[0])],i[r],t[r])}function S1e(e,t,i){return function(r){var o=Gp(r),s=i?Math.min(o[0],0):o[0],a=o[1],l=a-s,u=t?function Mit(e,t,i){i=+i;const r=(t=+t)<(e=+e),o=r?rge(t,e,i):rge(e,t,i);return(r?-1:1)*(o<0?1/-o:o)}(s,a,e):l/(e+1);return I3(s+u,a,u)}}function pz(e){On.call(this,null,e)}function B1e(e,t,i,r,o){const s=e.x1||0,a=e.y1||0,l=t*i<0;function u(d){d.forEach(c)}function c(d){l&&d.reverse(),d.forEach(f)}function f(d){d[0]=(d[0]-s)*t+r,d[1]=(d[1]-a)*i+o}return function(d){return d.coordinates.forEach(u),d}}function M1e(e,t,i){const r=e>=0?e:LP(t,i);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function gz(e){return Uo(e)?e:Kc(+e)}function I1e(){var e=u=>u[0],t=u=>u[1],i=F6,r=[-1,-1],o=960,s=500,a=2;function l(u,c){const f=M1e(r[0],u,e)>>a,d=M1e(r[1],u,t)>>a,h=f?f+2:0,g=d?d+2:0,v=2*h+(o>>a),y=2*g+(s>>a),b=new Float32Array(v*y),E=new Float32Array(v*y);let M=b;u.forEach(P=>{const H=h+(+e(P)>>a),X=g+(+t(P)>>a);H>=0&&H<v&&X>=0&&X<y&&(b[H+X*v]+=+i(P))}),f>0&&d>0?(y8(v,y,b,E,f),_8(v,y,E,b,d),y8(v,y,b,E,f),_8(v,y,E,b,d),y8(v,y,b,E,f),_8(v,y,E,b,d)):f>0?(y8(v,y,b,E,f),y8(v,y,E,b,f),y8(v,y,b,E,f),M=E):d>0&&(_8(v,y,b,E,d),_8(v,y,E,b,d),_8(v,y,b,E,d),M=E);const k=c?Math.pow(2,-2*a):1/function Iit(e,t){let i=0;if(void 0===t)for(let r of e)(r=+r)&&(i+=r);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(i+=o)}return i}(M);for(let P=0,H=v*y;P<H;++P)M[P]*=k;return{values:M,scale:1<<a,width:v,height:y,x1:h,y1:g,x2:h+(o>>a),y2:g+(s>>a)}}return l.x=function(u){return arguments.length?(e=gz(u),l):e},l.y=function(u){return arguments.length?(t=gz(u),l):t},l.weight=function(u){return arguments.length?(i=gz(u),l):i},l.size=function(u){if(!arguments.length)return[o,s];var c=+u[0],f=+u[1];return c>=0&&f>=0||Gn("invalid size"),o=c,s=f,l},l.cellSize=function(u){return arguments.length?((u=+u)>=1||Gn("invalid cell size"),a=Math.floor(Math.log(u)/Math.LN2),l):1<<a},l.bandwidth=function(u){return arguments.length?(1===(u=er(u)).length&&(u=[+u[0],+u[0]]),2!==u.length&&Gn("invalid bandwidth"),r=u,l):r},l}function y8(e,t,i,r,o){const s=1+(o<<1);for(let a=0;a<t;++a)for(let l=0,u=0;l<e+o;++l)l<e&&(u+=i[l+a*e]),l>=o&&(l>=s&&(u-=i[l-s+a*e]),r[l-o+a*e]=u/Math.min(l+1,e-1+s-l,s))}function _8(e,t,i,r,o){const s=1+(o<<1);for(let a=0;a<e;++a)for(let l=0,u=0;l<t+o;++l)l<t&&(u+=i[a+l*e]),l>=o&&(l>=s&&(u-=i[a+(l-s)*e]),r[a+(l-o)*e]=u/Math.min(l+1,t-1+s-l,s))}function mz(e){On.call(this,null,e)}pz.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},$i(pz,On,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,o=e.field||qc,s=x1e().smooth(!1!==e.smooth),a=e.thresholds||function Yrt(e,t,i){const r=S1e(i.levels||10,i.nice,!1!==i.zero);return"shared"!==i.resolve?r:r(e.map(o=>BM(t(o).values)))}(r,o,e),l=null===e.as?null:e.as||"contour",u=[];return r.forEach(c=>{const f=o(c),d=s.size([f.width,f.height])(f.values,Xn(a)?a:a(f.values));(function Zrt(e,t,i,r){let o=r.scale||t.scale,s=r.translate||t.translate;if(Uo(o)&&(o=o(i,r)),Uo(s)&&(s=s(i,r)),(1===o||null==o)&&!s)return;const a=(Es(o)?o:o[0])||1,l=(Es(o)?o:o[1])||1;e.forEach(B1e(t,a,l,s&&s[0]||0,s&&s[1]||0))})(d,f,c,e),d.forEach(h=>{u.push(JS(c,Ls(null!=l?{[l]:h}:h)))})}),this.value&&(i.rem=this.value),this.value=i.source=i.add=u,i}}),mz.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Jrt=["x","y","weight","size","cellSize","bandwidth"];function D1e(e,t){return Jrt.forEach(i=>null!=t[i]?e[i](t[i]):0),e}function vz(e){On.call(this,null,e)}$i(mz,On,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var u,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=function eot(e,t){var o,s,a,l,u,c,i=[],r=f=>f(l);if(null==t)i.push(e);else for(o={},s=0,a=e.length;s<a;++s)l=e[s],(c=o[u=t.map(r)])||(o[u]=c=[],c.dims=u,i.push(c)),c.push(l);return i}(t.materialize(t.SOURCE).source,e.groupby),s=(e.groupby||[]).map(Vl),a=D1e(I1e(),e),l=e.as||"grid";return u=o.map(f=>Ls(function c(f,d){for(let h=0;h<s.length;++h)f[s[h]]=d[h];return f}({[l]:a(f,e.counts)},f.dims))),this.value&&(i.rem=this.value),this.value=i.source=i.add=u,i}}),vz.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},$i(vz,On,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var l,u,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=x1e().smooth(!1!==e.smooth),o=e.values,s=e.thresholds||S1e(e.count||10,e.nice,!!o),a=e.size;return o||(o=t.materialize(t.SOURCE).source,u=B1e(l=D1e(I1e(),e)(o,!0),l.scale||1,l.scale||1,0,0),a=[l.width,l.height],o=l.values),s=Xn(s)?s:s(o),o=r.size(a)(o,s),u&&o.forEach(u),this.value&&(i.rem=this.value),this.value=i.source=i.add=(o||[]).map(Ls),i}});const yz="Feature",_z="FeatureCollection";function wz(e){On.call(this,null,e)}function bz(e){On.call(this,null,e)}function Cz(e){On.call(this,null,e)}function Ez(e){On.call(this,null,e)}function xz(e){On.call(this,[],e),this.generator=function h1e(){var e,t,i,r,o,s,a,l,h,g,v,y,u=10,c=u,f=90,d=360,b=2.5;function E(){return{type:"MultiLineString",coordinates:M()}}function M(){return I3(ZM(r/f)*f,i,f).map(v).concat(I3(ZM(l/d)*d,a,d).map(y)).concat(I3(ZM(t/u)*u,e,u).filter(function(k){return f1e(k%f)>w2}).map(h)).concat(I3(ZM(s/c)*c,o,c).filter(function(k){return f1e(k%d)>w2}).map(g))}return E.lines=function(){return M().map(function(k){return{type:"LineString",coordinates:k}})},E.outline=function(){return{type:"Polygon",coordinates:[v(r).concat(y(a).slice(1),v(i).reverse().slice(1),y(l).reverse().slice(1))]}},E.extent=function(k){return arguments.length?E.extentMajor(k).extentMinor(k):E.extentMinor()},E.extentMajor=function(k){return arguments.length?(l=+k[0][1],a=+k[1][1],(r=+k[0][0])>(i=+k[1][0])&&(k=r,r=i,i=k),l>a&&(k=l,l=a,a=k),E.precision(b)):[[r,l],[i,a]]},E.extentMinor=function(k){return arguments.length?(s=+k[0][1],o=+k[1][1],(t=+k[0][0])>(e=+k[1][0])&&(k=t,t=e,e=k),s>o&&(k=s,s=o,o=k),E.precision(b)):[[t,s],[e,o]]},E.step=function(k){return arguments.length?E.stepMajor(k).stepMinor(k):E.stepMinor()},E.stepMajor=function(k){return arguments.length?(f=+k[0],d=+k[1],E):[f,d]},E.stepMinor=function(k){return arguments.length?(u=+k[0],c=+k[1],E):[u,c]},E.precision=function(k){return arguments.length?(b=+k,h=d1e(s,o,90),g=A1e(t,e,b),v=d1e(l,a,90),y=A1e(r,i,b),E):b},E.extentMajor([[-180,-90+w2],[180,90-w2]]).extentMinor([[-180,-80-w2],[180,80+w2]])}()}function Sz(e){On.call(this,null,e)}function T1e(e){if(!Uo(e))return!1;const t=d0(Gc(e));return t.$x||t.$y||t.$value||t.$max}function F1e(e){On.call(this,null,e),this.modified(!0)}function O1e(e,t,i){Uo(e[t])&&e[t](i)}function k1e(e,t,i,r){if(isNaN(t)||isNaN(i))return e;var o,d,h,g,v,y,b,E,M,s=e._root,a={data:r},l=e._x0,u=e._y0,c=e._x1,f=e._y1;if(!s)return e._root=a,e;for(;s.length;)if((y=t>=(d=(l+c)/2))?l=d:c=d,(b=i>=(h=(u+f)/2))?u=h:f=h,o=s,!(s=s[E=b<<1|y]))return o[E]=a,e;if(g=+e._x.call(null,s.data),v=+e._y.call(null,s.data),t===g&&i===v)return a.next=s,o?o[E]=a:e._root=a,e;do{o=o?o[E]=new Array(4):e._root=new Array(4),(y=t>=(d=(l+c)/2))?l=d:c=d,(b=i>=(h=(u+f)/2))?u=h:f=h}while((E=b<<1|y)==(M=(v>=h)<<1|g>=d));return o[M]=s,o[E]=a,e}function Nf(e,t,i,r,o){this.node=e,this.x0=t,this.y0=i,this.x1=r,this.y1=o}function Eot(e){return e[0]}function Sot(e){return e[1]}function Bz(e,t,i){var r=new Mz(t??Eot,i??Sot,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Mz(e,t,i,r,o,s){this._x=e,this._y=t,this._x0=i,this._y0=r,this._x1=o,this._y1=s,this._root=void 0}function N1e(e){for(var t={data:e.data},i=t;e=e.next;)i=i.next={data:e.data};return t}wz.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},$i(wz,On,{transform(e,t){var c,i=this._features,r=this._points,o=e.fields,s=o&&o[0],a=o&&o[1],l=e.geojson||!o&&qc,u=t.ADD;c=e.modified()||t.changed(t.REM)||t.modified(Gc(l))||s&&t.modified(Gc(s))||a&&t.modified(Gc(a)),(!this.value||c)&&(u=t.SOURCE,this._features=i=[],this._points=r=[]),l&&t.visit(u,f=>i.push(l(f))),s&&a&&(t.visit(u,f=>{var d=s(f),h=a(f);null!=d&&null!=h&&(d=+d)===d&&(h=+h)===h&&r.push([d,h])}),i=i.concat({type:yz,geometry:{type:"MultiPoint",coordinates:r}})),this.value={type:_z,features:i}}}),bz.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},$i(bz,On,{transform(e,t){var i=t.fork(t.ALL),r=this.value,o=e.field||qc,s=e.as||"path",a=i.SOURCE;!r||e.modified()?(this.value=r=u1e(e.projection),i.materialize().reflow()):a=o===qc||t.modified(o.fields)?i.ADD_MOD:i.ADD;const l=function not(e,t){const i=e.pointRadius();return e.context(null),null!=t&&e.pointRadius(t),i}(r,e.pointRadius);return i.visit(a,u=>u[s]=r(o(u))),r.pointRadius(l),i.modifies(s)}}),Cz.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},$i(Cz,On,{transform(e,t){var u,i=e.projection,r=e.fields[0],o=e.fields[1],s=e.as||["x","y"],a=s[0],l=s[1];function c(f){const d=i([r(f),o(f)]);d?(f[a]=d[0],f[l]=d[1]):(f[a]=void 0,f[l]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(u=t.modified(r.fields)||t.modified(o.fields),t.visit(u?t.ADD_MOD:t.ADD,c)),t.modifies(s)}}),Ez.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},$i(Ez,On,{transform(e,t){var i=t.fork(t.ALL),r=this.value,o=e.as||"shape",s=i.ADD;return(!r||e.modified())&&(this.value=r=function iot(e,t,i){const r=null==i?o=>e(t(o)):o=>{var s=e.pointRadius(),a=e.pointRadius(i)(t(o));return e.pointRadius(s),a};return r.context=o=>(e.context(o),r),r}(u1e(e.projection),e.field||oh("datum"),e.pointRadius),i.materialize().reflow(),s=i.SOURCE),i.visit(s,a=>a[o]=r),i.modifies(o)}}),xz.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},$i(xz,On,{transform(e,t){var o,i=this.value,r=this.generator;if(!i.length||e.modified())for(const s in e)Uo(r[s])&&r[s](e[s]);return o=r(),i.length?t.mod.push(Jce(i[0],o)):t.add.push(Ls(o)),i[0]=o,t}}),Sz.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},$i(Sz,On,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var i=t.materialize(t.SOURCE).source,r="shared"===e.resolve,o=e.field||qc,s=function oot(e,t){let i;return Uo(e)?(i=r=>e(r,t),i.dep=T1e(e)):e?i=Kc(e):(i=r=>r.$value/r.$max||0,i.dep=!0),i}(e.opacity,e),a=function rot(e,t){let i;return Uo(e)?(i=r=>Az(e(r,t)),i.dep=T1e(e)):i=Kc(Az(e||"#888")),i}(e.color,e),l=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?BM(i.map(c=>BM(o(c).values))):0};return i.forEach(c=>{const f=o(c),d=Po({},c,u);r||(d.$max=BM(f.values||[])),c[l]=function sot(e,t,i,r){const o=e.width,a=e.x1||0,l=e.y1||0,u=e.x2||o,c=e.y2||e.height,f=e.values,d=f?b=>f[b]:qm,h=r2(u-a,c-l),g=h.getContext("2d"),v=g.getImageData(0,0,u-a,c-l),y=v.data;for(let b=l,E=0;b<c;++b){t.$y=b-l;for(let M=a,k=b*o;M<u;++M,E+=4){t.$x=M-a,t.$value=d(M+k);const P=i(t);y[E+0]=P.r,y[E+1]=P.g,y[E+2]=P.b,y[E+3]=~~(255*r(t))}}return g.putImageData(v,0,0),h}(f,d,a.dep?a:Kc(a(d)),s.dep?s:Kc(s(d)))}),t.reflow(!0).modifies(l)}}),$i(F1e,On,{transform(e,t){let i=this.value;return!i||e.modified("type")?(this.value=i=function lot(e){const t=cz((e||"mercator").toLowerCase());return t||Gn("Unrecognized projection type: "+e),t()}(e.type),uz.forEach(r=>{null!=e[r]&&O1e(i,r,e[r])})):uz.forEach(r=>{e.modified(r)&&O1e(i,r,e[r])}),null!=e.pointRadius&&i.path.pointRadius(e.pointRadius),e.fit&&function aot(e,t){const i=function uot(e){return 1===(e=er(e)).length?e[0]:{type:_z,features:e.reduce((t,i)=>t.concat(function cot(e){return e.type===_z?e.features:er(e).filter(t=>null!=t).map(t=>t.type===yz?t:{type:yz,geometry:t})}(i)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,i):t.size&&e.fitSize(t.size,i)}(i,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var Lf=Bz.prototype=Mz.prototype;function Rf(e){return function(){return e}}function b2(e){return 1e-6*(e()-.5)}function Mot(e){return e.x+e.vx}function Iot(e){return e.y+e.vy}Lf.copy=function(){var i,r,e=new Mz(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root;if(!t)return e;if(!t.length)return e._root=N1e(t),e;for(i=[{source:t,target:e._root=new Array(4)}];t=i.pop();)for(var o=0;o<4;++o)(r=t.source[o])&&(r.length?i.push({source:r,target:t.target[o]=new Array(4)}):t.target[o]=N1e(r));return e},Lf.add=function dot(e){const t=+this._x.call(null,e),i=+this._y.call(null,e);return k1e(this.cover(t,i),t,i,e)},Lf.addAll=function Aot(e){var t,i,o,s,r=e.length,a=new Array(r),l=new Array(r),u=1/0,c=1/0,f=-1/0,d=-1/0;for(i=0;i<r;++i)isNaN(o=+this._x.call(null,t=e[i]))||isNaN(s=+this._y.call(null,t))||(a[i]=o,l[i]=s,o<u&&(u=o),o>f&&(f=o),s<c&&(c=s),s>d&&(d=s));if(u>f||c>d)return this;for(this.cover(u,c).cover(f,d),i=0;i<r;++i)k1e(this,a[i],l[i],e[i]);return this},Lf.cover=function hot(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var i=this._x0,r=this._y0,o=this._x1,s=this._y1;if(isNaN(i))o=(i=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var u,c,a=o-i||1,l=this._root;i>e||e>=o||r>t||t>=s;)switch(c=(t<r)<<1|e<i,u=new Array(4),u[c]=l,l=u,a*=2,c){case 0:o=i+a,s=r+a;break;case 1:i=o-a,s=r+a;break;case 2:o=i+a,r=s-a;break;case 3:i=o-a,r=s-a}this._root&&this._root.length&&(this._root=l)}return this._x0=i,this._y0=r,this._x1=o,this._y1=s,this},Lf.data=function pot(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},Lf.extent=function got(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Lf.find=function mot(e,t,i){var r,a,l,u,c,v,y,o=this._x0,s=this._y0,f=this._x1,d=this._y1,h=[],g=this._root;for(g&&h.push(new Nf(g,o,s,f,d)),null==i?i=1/0:(o=e-i,s=t-i,f=e+i,d=t+i,i*=i);v=h.pop();)if(!(!(g=v.node)||(a=v.x0)>f||(l=v.y0)>d||(u=v.x1)<o||(c=v.y1)<s))if(g.length){var b=(a+u)/2,E=(l+c)/2;h.push(new Nf(g[3],b,E,u,c),new Nf(g[2],a,E,b,c),new Nf(g[1],b,l,u,E),new Nf(g[0],a,l,b,E)),(y=(t>=E)<<1|e>=b)&&(v=h[h.length-1],h[h.length-1]=h[h.length-1-y],h[h.length-1-y]=v)}else{var M=e-+this._x.call(null,g.data),k=t-+this._y.call(null,g.data),P=M*M+k*k;if(P<i){var H=Math.sqrt(i=P);o=e-H,s=t-H,f=e+H,d=t+H,r=g.data}}return r},Lf.remove=function vot(e){if(isNaN(f=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,r,o,s,f,d,h,g,v,y,b,E,i=this._root,a=this._x0,l=this._y0,u=this._x1,c=this._y1;if(!i)return this;if(i.length)for(;;){if((v=f>=(h=(a+u)/2))?a=h:u=h,(y=d>=(g=(l+c)/2))?l=g:c=g,t=i,!(i=i[b=y<<1|v]))return this;if(!i.length)break;(t[b+1&3]||t[b+2&3]||t[b+3&3])&&(r=t,E=b)}for(;i.data!==e;)if(o=i,!(i=i.next))return this;return(s=i.next)&&delete i.next,o?(s?o.next=s:delete o.next,this):t?(s?t[b]=s:delete t[b],(i=t[0]||t[1]||t[2]||t[3])&&i===(t[3]||t[2]||t[1]||t[0])&&!i.length&&(r?r[E]=i:this._root=i),this):(this._root=s,this)},Lf.removeAll=function yot(e){for(var t=0,i=e.length;t<i;++t)this.remove(e[t]);return this},Lf.root=function _ot(){return this._root},Lf.size=function wot(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},Lf.visit=function bot(e){var i,o,s,a,l,u,t=[],r=this._root;for(r&&t.push(new Nf(r,this._x0,this._y0,this._x1,this._y1));i=t.pop();)if(!e(r=i.node,s=i.x0,a=i.y0,l=i.x1,u=i.y1)&&r.length){var c=(s+l)/2,f=(a+u)/2;(o=r[3])&&t.push(new Nf(o,c,f,l,u)),(o=r[2])&&t.push(new Nf(o,s,f,c,u)),(o=r[1])&&t.push(new Nf(o,c,a,l,f)),(o=r[0])&&t.push(new Nf(o,s,a,c,f))}return this},Lf.visitAfter=function Cot(e){var r,t=[],i=[];for(this._root&&t.push(new Nf(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var o=r.node;if(o.length){var s,a=r.x0,l=r.y0,u=r.x1,c=r.y1,f=(a+u)/2,d=(l+c)/2;(s=o[0])&&t.push(new Nf(s,a,l,f,d)),(s=o[1])&&t.push(new Nf(s,f,l,u,d)),(s=o[2])&&t.push(new Nf(s,a,d,f,c)),(s=o[3])&&t.push(new Nf(s,f,d,u,c))}i.push(r)}for(;r=i.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this},Lf.x=function xot(e){return arguments.length?(this._x=e,this):this._x},Lf.y=function Bot(e){return arguments.length?(this._y=e,this):this._y};function kot(e){return e.x}function Not(e){return e.y}var Rot=Math.PI*(3-Math.sqrt(5));function Hot(e){return e.index}function R1e(e,t){var i=e.get(t);if(!i)throw new Error("node not found: "+t);return i}const U1e={center:function fot(e,t){var i,r=1;function o(){var s,l,a=i.length,u=0,c=0;for(s=0;s<a;++s)u+=(l=i[s]).x,c+=l.y;for(u=(u/a-e)*r,c=(c/a-t)*r,s=0;s<a;++s)(l=i[s]).x-=u,l.y-=c}return null==e&&(e=0),null==t&&(t=0),o.initialize=function(s){i=s},o.x=function(s){return arguments.length?(e=+s,o):e},o.y=function(s){return arguments.length?(t=+s,o):t},o.strength=function(s){return arguments.length?(r=+s,o):r},o},collide:function Dot(e){var t,i,r,o=1,s=1;function a(){for(var c,d,h,g,v,y,b,f=t.length,E=0;E<s;++E)for(d=Bz(t,Mot,Iot).visitAfter(l),c=0;c<f;++c)b=(y=i[(h=t[c]).index])*y,g=h.x+h.vx,v=h.y+h.vy,d.visit(M);function M(k,P,H,X,z){var se=k.data,ye=k.r,Ie=y+ye;if(!se)return P>g+Ie||X<g-Ie||H>v+Ie||z<v-Ie;if(se.index>h.index){var Ee=g-se.x-se.vx,Je=v-se.y-se.vy,Ze=Ee*Ee+Je*Je;Ze<Ie*Ie&&(0===Ee&&(Ze+=(Ee=b2(r))*Ee),0===Je&&(Ze+=(Je=b2(r))*Je),Ze=(Ie-(Ze=Math.sqrt(Ze)))/Ze*o,h.vx+=(Ee*=Ze)*(Ie=(ye*=ye)/(b+ye)),h.vy+=(Je*=Ze)*Ie,se.vx-=Ee*(Ie=1-Ie),se.vy-=Je*Ie)}}}function l(c){if(c.data)return c.r=i[c.data.index];for(var f=c.r=0;f<4;++f)c[f]&&c[f].r>c.r&&(c.r=c[f].r)}function u(){if(t){var c,d,f=t.length;for(i=new Array(f),c=0;c<f;++c)i[(d=t[c]).index]=+e(d,c,t)}}return"function"!=typeof e&&(e=Rf(null==e?1:+e)),a.initialize=function(c,f){t=c,r=f,u()},a.iterations=function(c){return arguments.length?(s=+c,a):s},a.strength=function(c){return arguments.length?(o=+c,a):o},a.radius=function(c){return arguments.length?(e="function"==typeof c?c:Rf(+c),u(),a):e},a},nbody:function Pot(){var e,t,i,r,s,o=Rf(-30),a=1,l=1/0,u=.81;function c(g){var v,y=e.length,b=Bz(e,kot,Not).visitAfter(d);for(r=g,v=0;v<y;++v)t=e[v],b.visit(h)}function f(){if(e){var g,y,v=e.length;for(s=new Array(v),g=0;g<v;++g)s[(y=e[g]).index]=+o(y,g,e)}}function d(g){var y,b,M,k,P,v=0,E=0;if(g.length){for(M=k=P=0;P<4;++P)(y=g[P])&&(b=Math.abs(y.value))&&(v+=y.value,E+=b,M+=b*y.x,k+=b*y.y);g.x=M/E,g.y=k/E}else{(y=g).x=y.data.x,y.y=y.data.y;do{v+=s[y.data.index]}while(y=y.next)}g.value=v}function h(g,v,y,b){if(!g.value)return!0;var E=g.x-t.x,M=g.y-t.y,k=b-v,P=E*E+M*M;if(k*k/u<P)return P<l&&(0===E&&(P+=(E=b2(i))*E),0===M&&(P+=(M=b2(i))*M),P<a&&(P=Math.sqrt(a*P)),t.vx+=E*g.value*r/P,t.vy+=M*g.value*r/P),!0;if(!(g.length||P>=l)){(g.data!==t||g.next)&&(0===E&&(P+=(E=b2(i))*E),0===M&&(P+=(M=b2(i))*M),P<a&&(P=Math.sqrt(a*P)));do{g.data!==t&&(t.vx+=E*(k=s[g.data.index]*r/P),t.vy+=M*k)}while(g=g.next)}}return c.initialize=function(g,v){e=g,i=v,f()},c.strength=function(g){return arguments.length?(o="function"==typeof g?g:Rf(+g),f(),c):o},c.distanceMin=function(g){return arguments.length?(a=g*g,c):Math.sqrt(a)},c.distanceMax=function(g){return arguments.length?(l=g*g,c):Math.sqrt(l)},c.theta=function(g){return arguments.length?(u=g*g,c):Math.sqrt(u)},c},link:function Qot(e){var r,s,a,l,u,c,t=Hot,i=function d(b){return 1/Math.min(l[b.source.index],l[b.target.index])},o=Rf(30),f=1;function h(b){for(var E=0,M=e.length;E<f;++E)for(var P,H,X,z,se,ye,Ie,k=0;k<M;++k)z=(X=(P=e[k]).target).x+X.vx-(H=P.source).x-H.vx||b2(c),se=X.y+X.vy-H.y-H.vy||b2(c),se*=ye=((ye=Math.sqrt(z*z+se*se))-s[k])/ye*b*r[k],X.vx-=(z*=ye)*(Ie=u[k]),X.vy-=se*Ie,H.vx+=z*(Ie=1-Ie),H.vy+=se*Ie}function g(){if(a){var b,P,E=a.length,M=e.length,k=new Map(a.map((H,X)=>[t(H,X,a),H]));for(b=0,l=new Array(E);b<M;++b)(P=e[b]).index=b,"object"!=typeof P.source&&(P.source=R1e(k,P.source)),"object"!=typeof P.target&&(P.target=R1e(k,P.target)),l[P.source.index]=(l[P.source.index]||0)+1,l[P.target.index]=(l[P.target.index]||0)+1;for(b=0,u=new Array(M);b<M;++b)u[b]=l[(P=e[b]).source.index]/(l[P.source.index]+l[P.target.index]);r=new Array(M),v(),s=new Array(M),y()}}function v(){if(a)for(var b=0,E=e.length;b<E;++b)r[b]=+i(e[b],b,e)}function y(){if(a)for(var b=0,E=e.length;b<E;++b)s[b]=+o(e[b],b,e)}return null==e&&(e=[]),h.initialize=function(b,E){a=b,c=E,g()},h.links=function(b){return arguments.length?(e=b,g(),h):e},h.id=function(b){return arguments.length?(t=b,h):t},h.iterations=function(b){return arguments.length?(f=+b,h):f},h.strength=function(b){return arguments.length?(i="function"==typeof b?b:Rf(+b),v(),h):i},h.distance=function(b){return arguments.length?(o="function"==typeof b?b:Rf(+b),y(),h):o},h},x:function Vot(e){var i,r,o,t=Rf(.1);function s(l){for(var f,u=0,c=i.length;u<c;++u)(f=i[u]).vx+=(o[u]-f.x)*r[u]*l}function a(){if(i){var l,u=i.length;for(r=new Array(u),o=new Array(u),l=0;l<u;++l)r[l]=isNaN(o[l]=+e(i[l],l,i))?0:+t(i[l],l,i)}}return"function"!=typeof e&&(e=Rf(null==e?0:+e)),s.initialize=function(l){i=l,a()},s.strength=function(l){return arguments.length?(t="function"==typeof l?l:Rf(+l),a(),s):t},s.x=function(l){return arguments.length?(e="function"==typeof l?l:Rf(+l),a(),s):e},s},y:function zot(e){var i,r,o,t=Rf(.1);function s(l){for(var f,u=0,c=i.length;u<c;++u)(f=i[u]).vy+=(o[u]-f.y)*r[u]*l}function a(){if(i){var l,u=i.length;for(r=new Array(u),o=new Array(u),l=0;l<u;++l)r[l]=isNaN(o[l]=+e(i[l],l,i))?0:+t(i[l],l,i)}}return"function"!=typeof e&&(e=Rf(null==e?0:+e)),s.initialize=function(l){i=l,a()},s.strength=function(l){return arguments.length?(t="function"==typeof l?l:Rf(+l),a(),s):t},s.y=function(l){return arguments.length?(e="function"==typeof l?l:Rf(+l),a(),s):e},s}},ww="forces",Iz=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],$ot=["static","iterations"],P1e=["x","y","vx","vy"];function Dz(e){On.call(this,null,e)}function H1e(e,t,i,r){var s,a,l,u,o=er(t.forces);for(s=0,a=Iz.length;s<a;++s)(l=Iz[s])!==ww&&t.modified(l)&&e[l](t[l]);for(s=0,a=o.length;s<a;++s)u=ww+s,(l=i||t.modified(ww,s)?Kot(o[s]):r&&jot(o[s],r)?e.force(u):null)&&e.force(u,l);for(a=e.numForces||0;s<a;++s)e.force(ww+s,null);return e.numForces=o.length,e}function jot(e,t){var i,r;for(i in e)if(Uo(r=e[i])&&t.modified(Gc(r)))return 1;return 0}function Kot(e){var t,i;for(i in fr(U1e,e.force)||Gn("Unrecognized force: "+e.force),t=U1e[e.force](),e)Uo(t[i])&&Wot(t[i],e[i],e);return t}function Wot(e,t,i){e(Uo(t)?r=>t(r,i):t)}function Xot(e){var t=0,i=e.children,r=i&&i.length;if(r)for(;--r>=0;)t+=i[r].value;else t=1;e.value=t}function Tz(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Ast)):void 0===t&&(t=dst);for(var r,s,a,l,u,i=new w8(e),o=[i];r=o.pop();)if((a=t(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,l=u-1;l>=0;--l)o.push(s=a[l]=new w8(a[l])),s.parent=r,s.depth=r.depth+1;return i.eachBefore(Q1e)}function dst(e){return e.children}function Ast(e){return Array.isArray(e)?e[1]:null}function hst(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Q1e(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function w8(e){this.data=e,this.depth=this.height=0,this.parent=null}function iI(e){return null==e?null:V1e(e)}function V1e(e){if("function"!=typeof e)throw new Error;return e}function O3(){return 0}function b8(e){return function(){return e}}Dz.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:P1e}]},$i(Dz,On,{transform(e,t){var i=this.value,r=t.changed(t.ADD_REM),o=e.modified(Iz),s=e.iterations||300;if(i?(r&&(t.modifies("index"),i.nodes(t.source)),(o||t.changed(t.MOD))&&H1e(i,e,0,t)):(this.value=i=function qot(e,t){const i=function Uot(e){var t,i=1,r=.001,o=1-Math.pow(r,1/300),s=0,a=.6,l=new Map,u=tR(d),c=JL("tick","end"),f=function Oot(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}();function d(){h(),c.call("tick",t),i<r&&(u.stop(),c.call("end",t))}function h(y){var b,M,E=e.length;void 0===y&&(y=1);for(var k=0;k<y;++k)for(i+=(s-i)*o,l.forEach(function(P){P(i)}),b=0;b<E;++b)null==(M=e[b]).fx?M.x+=M.vx*=a:(M.x=M.fx,M.vx=0),null==M.fy?M.y+=M.vy*=a:(M.y=M.fy,M.vy=0);return t}function g(){for(var E,y=0,b=e.length;y<b;++y){if((E=e[y]).index=y,null!=E.fx&&(E.x=E.fx),null!=E.fy&&(E.y=E.fy),isNaN(E.x)||isNaN(E.y)){var M=10*Math.sqrt(.5+y),k=y*Rot;E.x=M*Math.cos(k),E.y=M*Math.sin(k)}(isNaN(E.vx)||isNaN(E.vy))&&(E.vx=E.vy=0)}}function v(y){return y.initialize&&y.initialize(e,f),y}return null==e&&(e=[]),g(),t={tick:h,restart:function(){return u.restart(d),t},stop:function(){return u.stop(),t},nodes:function(y){return arguments.length?(e=y,g(),l.forEach(v),t):e},alpha:function(y){return arguments.length?(i=+y,t):i},alphaMin:function(y){return arguments.length?(r=+y,t):r},alphaDecay:function(y){return arguments.length?(o=+y,t):+o},alphaTarget:function(y){return arguments.length?(s=+y,t):s},velocityDecay:function(y){return arguments.length?(a=1-y,t):1-a},randomSource:function(y){return arguments.length?(f=y,l.forEach(v),t):f},force:function(y,b){return arguments.length>1?(null==b?l.delete(y):l.set(y,v(b)),t):l.get(y)},find:function(y,b,E){var P,H,X,z,se,M=0,k=e.length;for(null==E?E=1/0:E*=E,M=0;M<k;++M)(X=(P=y-(z=e[M]).x)*P+(H=b-z.y)*H)<E&&(se=z,E=X);return se},on:function(y,b){return arguments.length>1?(c.on(y,b),t):c.on(y)}}}(e),r=i.stop,o=i.restart;let s=!1;return i.stopped=()=>s,i.restart=()=>(s=!1,o()),i.stop=()=>(s=!0,r()),H1e(i,t,!0).on("end",()=>s=!0)}(t.source,e),i.on("tick",function Got(e,t){return()=>e.touch(t).run()}(t.dataflow,this)),e.static||(r=!0,i.tick()),t.modifies("index")),o||r||e.modified($ot)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/s)),e.static)for(i.stop();--s>=0;)i.tick();else if(i.stopped()&&i.restart(),!r)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const i=t.dataflow;for(let f,l=this._argops,u=0,c=l.length;u<c;++u)if(f=l[u],f.name===ww&&"link"===f.op._argval.force)for(var a,r=f.op._argops,o=0,s=r.length;o<s;++o)if("links"===r[o].name&&(a=r[o].op.source)){i.pulse(a,i.changeset().reflow());break}return t.reflow(e.modified()).modifies(P1e)}}),w8.prototype=Tz.prototype={constructor:w8,count:function Yot(){return this.eachAfter(Xot)},each:function Zot(e,t){let i=-1;for(const r of this)e.call(t,r,++i,this);return this},eachAfter:function est(e,t){for(var s,a,l,i=this,r=[i],o=[],u=-1;i=r.pop();)if(o.push(i),s=i.children)for(a=0,l=s.length;a<l;++a)r.push(s[a]);for(;i=o.pop();)e.call(t,i,++u,this);return this},eachBefore:function Jot(e,t){for(var o,s,i=this,r=[i],a=-1;i=r.pop();)if(e.call(t,i,++a,this),o=i.children)for(s=o.length-1;s>=0;--s)r.push(o[s]);return this},find:function tst(e,t){let i=-1;for(const r of this)if(e.call(t,r,++i,this))return r},sum:function nst(e){return this.eachAfter(function(t){for(var i=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)i+=r[o].value;t.value=i})},sort:function ist(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function rst(e){for(var t=this,i=function ost(e,t){if(e===t)return e;var i=e.ancestors(),r=t.ancestors(),o=null;for(e=i.pop(),t=r.pop();e===t;)o=e,e=i.pop(),t=r.pop();return o}(t,e),r=[t];t!==i;)r.push(t=t.parent);for(var o=r.length;e!==i;)r.splice(o,0,e),e=e.parent;return r},ancestors:function sst(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function ast(){return Array.from(this)},leaves:function lst(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function ust(){var e=this,t=[];return e.each(function(i){i!==e&&t.push({source:i.parent,target:i})}),t},copy:function fst(){return Tz(this).eachBefore(hst)},[Symbol.iterator]:function*cst(){var t,r,o,s,e=this,i=[e];do{for(t=i.reverse(),i=[];e=t.pop();)if(yield e,r=e.children)for(o=0,s=r.length;o<s;++o)i.push(r[o])}while(i.length)}};function _st(e,t){var i,r;if(Fz(t,e))return[t];for(i=0;i<e.length;++i)if(rI(t,e[i])&&Fz(bw(e[i],t),e))return[e[i],t];for(i=0;i<e.length-1;++i)for(r=i+1;r<e.length;++r)if(rI(bw(e[i],e[r]),t)&&rI(bw(e[i],t),e[r])&&rI(bw(e[r],t),e[i])&&Fz(q1e(e[i],e[r],t),e))return[e[i],e[r],t];throw new Error}function rI(e,t){var i=e.r-t.r,r=t.x-e.x,o=t.y-e.y;return i<0||i*i<r*r+o*o}function G1e(e,t){var i=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,o=t.y-e.y;return i>0&&i*i>r*r+o*o}function Fz(e,t){for(var i=0;i<t.length;++i)if(!G1e(e,t[i]))return!1;return!0}function wst(e){switch(e.length){case 1:return function bst(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return bw(e[0],e[1]);case 3:return q1e(e[0],e[1],e[2])}}function bw(e,t){var i=e.x,r=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=s-i,c=a-r,f=l-o,d=Math.sqrt(u*u+c*c);return{x:(i+s+u/d*f)/2,y:(r+a+c/d*f)/2,r:(d+o+l)/2}}function q1e(e,t,i){var r=e.x,o=e.y,s=e.r,a=t.x,l=t.y,u=t.r,c=i.x,f=i.y,d=i.r,h=r-a,g=r-c,v=o-l,y=o-f,b=u-s,E=d-s,M=r*r+o*o-s*s,k=M-a*a-l*l+u*u,P=M-c*c-f*f+d*d,H=g*v-h*y,X=(v*P-y*k)/(2*H)-r,z=(y*b-v*E)/H,se=(g*k-h*P)/(2*H)-o,ye=(h*E-g*b)/H,Ie=z*z+ye*ye-1,Ee=2*(s+X*z+se*ye),Je=X*X+se*se-s*s,Ze=-(Math.abs(Ie)>1e-6?(Ee+Math.sqrt(Ee*Ee-4*Ie*Je))/(2*Ie):Je/Ee);return{x:r+X+z*Ze,y:o+se+ye*Ze,r:Ze}}function j1e(e,t,i){var o,s,l,u,r=e.x-t.x,a=e.y-t.y,c=r*r+a*a;c?(s=t.r+i.r,u=e.r+i.r,(s*=s)>(u*=u)?(o=(c+u-s)/(2*c),l=Math.sqrt(Math.max(0,u/c-o*o)),i.x=e.x-o*r-l*a,i.y=e.y-o*a+l*r):(o=(c+s-u)/(2*c),l=Math.sqrt(Math.max(0,s/c-o*o)),i.x=t.x+o*r-l*a,i.y=t.y+o*a+l*r)):(i.x=t.x+i.r,i.y=t.y)}function K1e(e,t){var i=e.r+t.r-1e-6,r=t.x-e.x,o=t.y-e.y;return i>0&&i*i>r*r+o*o}function W1e(e){var t=e._,i=e.next._,r=t.r+i.r,o=(t.x*i.r+i.x*t.r)/r,s=(t.y*i.r+i.y*t.r)/r;return o*o+s*s}function oI(e){this._=e,this.next=null,this.previous=null}function X1e(e,t){if(!(s=(e=function vst(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var i,r,o,s,a,l,u,c,f,d,h;if((i=e[0]).x=0,i.y=0,!(s>1))return i.r;if(i.x=-(r=e[1]).r,r.x=i.r,r.y=0,!(s>2))return i.r+r.r;j1e(r,i,o=e[2]),i=new oI(i),r=new oI(r),o=new oI(o),i.next=o.previous=r,r.next=i.previous=o,o.next=r.previous=i;e:for(u=3;u<s;++u){j1e(i._,r._,o=e[u]),o=new oI(o),c=r.next,f=i.previous,d=r._.r,h=i._.r;do{if(d<=h){if(K1e(c._,o._)){i.next=r=c,r.previous=i,--u;continue e}d+=c._.r,c=c.next}else{if(K1e(f._,o._)){(i=f).next=r,r.previous=i,--u;continue e}h+=f._.r,f=f.previous}}while(c!==f.next);for(o.previous=i,o.next=r,i.next=r.previous=r=o,a=W1e(i);(o=o.next)!==r;)(l=W1e(o))<a&&(i=o,a=l);r=i.next}for(i=[r._],o=r;(o=o.next)!==r;)i.push(o._);for(o=function $1e(e,t){for(var s,a,i=0,r=(e=function yst(e,t){let r,o,i=e.length;for(;i;)o=t()*i--|0,r=e[i],e[i]=e[o],e[o]=r;return e}(Array.from(e),t)).length,o=[];i<r;)s=e[i],a&&G1e(a,s)?++i:(a=wst(o=_st(o,s)),i=0);return a}(i,t),u=0;u<s;++u)(i=e[u]).x-=o.x,i.y-=o.y;return o.r}function Cst(e){return Math.sqrt(e.value)}function Y1e(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Oz(e,t,i){return function(r){if(o=r.children){var o,s,u,a=o.length,l=e(r)*t||0;if(l)for(s=0;s<a;++s)o[s].r+=l;if(u=X1e(o,i),l)for(s=0;s<a;++s)o[s].r-=l;r.r=u+l}}}function Z1e(e){return function(t){var i=t.parent;t.r*=e,i&&(t.x=i.x+e*t.x,t.y=i.y+e*t.y)}}function J1e(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Cw(e,t,i,r,o){for(var a,s=e.children,l=-1,u=s.length,c=e.value&&(r-t)/e.value;++l<u;)(a=s[l]).y0=i,a.y1=o,a.x0=t,a.x1=t+=a.value*c}var Sst={depth:-1},eme={},kz={};function Bst(e){return e.id}function Mst(e){return e.parentId}function tme(){var i,e=Bst,t=Mst;function r(o){var u,c,f,d,h,g,v,y,s=Array.from(o),a=e,l=t,b=new Map;if(null!=i){const E=s.map((P,H)=>function Ist(e){let t=(e=`${e}`).length;return Nz(e,t-1)&&!Nz(e,t-2)&&(e=e.slice(0,-1)),"/"===e[0]?e:`/${e}`}(i(P,H,o))),M=E.map(nme),k=new Set(E).add("");for(const P of M)k.has(P)||(k.add(P),E.push(P),M.push(nme(P)),s.push(kz));a=(P,H)=>E[H],l=(P,H)=>M[H]}for(f=0,u=s.length;f<u;++f)g=s[f]=new w8(c=s[f]),null!=(v=a(c,f,o))&&(v+="")&&(y=g.id=v,b.set(y,b.has(y)?eme:g)),null!=(v=l(c,f,o))&&(v+="")&&(g.parent=v);for(f=0;f<u;++f)if(v=(g=s[f]).parent){if(!(h=b.get(v)))throw new Error("missing: "+v);if(h===eme)throw new Error("ambiguous: "+v);h.children?h.children.push(g):h.children=[g],g.parent=h}else{if(d)throw new Error("multiple roots");d=g}if(!d)throw new Error("no root");if(null!=i){for(;d.data===kz&&1===d.children.length;)d=d.children[0],--u;for(let E=s.length-1;E>=0&&(g=s[E]).data===kz;--E)g.data=null}if(d.parent=Sst,d.eachBefore(function(E){E.depth=E.parent.depth+1,--u}).eachBefore(Q1e),d.parent=null,u>0)throw new Error("cycle");return d}return r.id=function(o){return arguments.length?(e=iI(o),r):e},r.parentId=function(o){return arguments.length?(t=iI(o),r):t},r.path=function(o){return arguments.length?(i=iI(o),r):i},r}function nme(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Nz(e,t););return e.slice(0,t)}function Nz(e,t){if("/"===e[t]){let i=0;for(;t>0&&"\\"===e[--t];)++i;if(!(1&i))return!0}return!1}function Dst(e,t){return e.parent===t.parent?1:2}function Lz(e){var t=e.children;return t?t[0]:e.t}function Rz(e){var t=e.children;return t?t[t.length-1]:e.t}function Tst(e,t,i){var r=i/(t.i-e.i);t.c-=r,t.s+=i,e.c+=r,t.z+=i,t.m+=i}function Ost(e,t,i){return e.a.parent===t.parent?e.a:i}function sI(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Lst(e,t){return e.parent===t.parent?1:2}function Ust(e,t){return e+t.x}function Hst(e,t){return Math.max(e,t.y)}function aI(e,t,i,r,o){for(var a,s=e.children,l=-1,u=s.length,c=e.value&&(o-i)/e.value;++l<u;)(a=s[l]).x0=t,a.x1=r,a.y0=i,a.y1=i+=a.value*c}sI.prototype=Object.create(w8.prototype);var ime=(1+Math.sqrt(5))/2;function rme(e,t,i,r,o,s){for(var u,c,g,v,b,E,M,k,P,H,X,a=[],l=t.children,f=0,d=0,h=l.length,y=t.value;f<h;){g=o-i,v=s-r;do{b=l[d++].value}while(!b&&d<h);for(E=M=b,X=b*b*(H=Math.max(v/g,g/v)/(y*e)),P=Math.max(M/X,X/E);d<h;++d){if(b+=c=l[d].value,c<E&&(E=c),c>M&&(M=c),X=b*b*H,(k=Math.max(M/X,X/E))>P){b-=c;break}P=k}a.push(u={value:b,dice:g<v,children:l.slice(f,d)}),u.dice?Cw(u,i,r,o,y?r+=v*b/y:s):aI(u,i,r,y?i+=g*b/y:o,s),y-=b,f=d}return a}const ome=function e(t){function i(r,o,s,a,l){rme(t,r,o,s,a,l)}return i.ratio=function(r){return e((r=+r)>1?r:1)},i}(ime),qst=function e(t){function i(r,o,s,a,l){if((u=r._squarify)&&u.ratio===t)for(var u,c,f,d,g,h=-1,v=u.length,y=r.value;++h<v;){for(f=(c=u[h]).children,d=c.value=0,g=f.length;d<g;++d)c.value+=f[d].value;c.dice?Cw(c,o,s,a,y?s+=(l-s)*c.value/y:l):aI(c,o,s,y?o+=(a-o)*c.value/y:a,l),y-=c.value}else r._squarify=u=rme(t,r,o,s,a,l),u.ratio=t}return i.ratio=function(r){return e((r=+r)>1?r:1)},i}(ime);function Uz(e,t,i){const r={};return e.each(o=>{const s=o.data;i(s)&&(r[t(s)]=o)}),e.lookup=r,e}function Pz(e){On.call(this,null,e)}Pz.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Kst=e=>e.values;function Wst(){const e=[],t={entries:o=>r(i(o,0),0),key:o=>(e.push(o),t)};function i(o,s){if(s>=e.length)return o;const a=o.length,l=e[s++],u={},c={};let d,h,g,f=-1;for(;++f<a;)d=l(h=o[f])+"",(g=u[d])?g.push(h):u[d]=[h];for(d in u)c[d]=i(u[d],s);return c}function r(o,s){if(++s>e.length)return o;const a=[];for(const l in o)a.push({key:l,values:r(o[l],s)});return a}return t}function B1(e){On.call(this,null,e)}$i(Pz,On,{transform(e,t){t.source||Gn("Nest transform requires an upstream data source.");var i=e.generate,r=e.modified(),o=t.clone(),s=this.value;return(!s||r||t.changed())&&(s&&s.each(a=>{a.children&&ZS(a.data)&&o.rem.push(a.data)}),this.value=s=Tz({values:er(e.keys).reduce((a,l)=>(a.key(l),a),Wst()).entries(o.source)},Kst),i&&s.each(a=>{a.children&&(a=Ls(a.data),o.add.push(a),o.source.push(a))}),Uz(s,zr,zr)),o.source.root=s,o}});const Xst=(e,t)=>e.parent===t.parent?1:2;$i(B1,On,{transform(e,t){(!t.source||!t.source.root)&&Gn(this.constructor.name+" transform requires a backing tree data source.");const i=this.layout(e.method),r=this.fields,o=t.source.root,s=e.as||r;e.field?o.sum(e.field):o.count(),e.sort&&o.sort(p3(e.sort,a=>a.data)),function Yst(e,t,i){for(let r,o=0,s=t.length;o<s;++o)r=t[o],r in i&&e[r](i[r])}(i,this.params,e),i.separation&&i.separation(!1!==e.separation?Xst:F6);try{this.value=i(o)}catch(a){Gn(a)}return o.each(a=>function Zst(e,t,i){const r=e.data,o=t.length-1;for(let s=0;s<o;++s)r[i[s]]=e[t[s]];r[i[o]]=e.children?e.children.length:0}(a,r,s)),t.reflow(e.modified()).modifies(s).modifies("leaf")}});const Hz=["x","y","r","depth","children"];function Qz(e){B1.call(this,e)}Qz.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Hz.length,default:Hz}]},$i(Qz,B1,{layout:function Est(){var e=null,t=1,i=1,r=O3;function o(s){const a=function mst(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}();return s.x=t/2,s.y=i/2,e?s.eachBefore(Y1e(e)).eachAfter(Oz(r,.5,a)).eachBefore(Z1e(1)):s.eachBefore(Y1e(Cst)).eachAfter(Oz(O3,1,a)).eachAfter(Oz(r,s.r/Math.min(t,i),a)).eachBefore(Z1e(Math.min(t,i)/(2*s.r))),s}return o.radius=function(s){return arguments.length?(e=iI(s),o):e},o.size=function(s){return arguments.length?(t=+s[0],i=+s[1],o):[t,i]},o.padding=function(s){return arguments.length?(r="function"==typeof s?s:b8(+s),o):r},o},params:["radius","size","padding"],fields:Hz});const Vz=["x0","y0","x1","y1","depth","children"];function zz(e){B1.call(this,e)}function $z(e){On.call(this,null,e)}zz.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Vz.length,default:Vz}]},$i(zz,B1,{layout:function xst(){var e=1,t=1,i=0,r=!1;function o(a){var l=a.height+1;return a.x0=a.y0=i,a.x1=e,a.y1=t/l,a.eachBefore(function s(a,l){return function(u){u.children&&Cw(u,u.x0,a*(u.depth+1)/l,u.x1,a*(u.depth+2)/l);var c=u.x0,f=u.y0,d=u.x1-i,h=u.y1-i;d<c&&(c=d=(c+d)/2),h<f&&(f=h=(f+h)/2),u.x0=c,u.y0=f,u.x1=d,u.y1=h}}(t,l)),r&&a.eachBefore(J1e),a}return o.round=function(a){return arguments.length?(r=!!a,o):r},o.size=function(a){return arguments.length?(e=+a[0],t=+a[1],o):[e,t]},o.padding=function(a){return arguments.length?(i=+a,o):i},o},params:["size","round","padding"],fields:Vz}),$z.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},$i($z,On,{transform(e,t){t.source||Gn("Stratify transform requires an upstream data source.");let i=this.value;const r=e.modified(),o=t.fork(t.ALL).materialize(t.SOURCE),s=!i||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return o.source=o.source.slice(),s&&(i=o.source.length?Uz(tme().id(e.key).parentId(e.parentKey)(o.source),e.key,sh):Uz(tme()([{}]),e.key,e.key)),o.source.root=this.value=i,o}});const sme={tidy:function Nst(){var e=Dst,t=1,i=1,r=null;function o(c){var f=function kst(e){for(var i,o,s,a,l,t=new sI(e,0),r=[t];i=r.pop();)if(s=i._.children)for(i.children=new Array(l=s.length),a=l-1;a>=0;--a)r.push(o=i.children[a]=new sI(s[a],a)),o.parent=i;return(t.parent=new sI(null,0)).children=[t],t}(c);if(f.eachAfter(s),f.parent.m=-f.z,f.eachBefore(a),r)c.eachBefore(u);else{var d=c,h=c,g=c;c.eachBefore(function(M){M.x<d.x&&(d=M),M.x>h.x&&(h=M),M.depth>g.depth&&(g=M)});var v=d===h?1:e(d,h)/2,y=v-d.x,b=t/(h.x+v+y),E=i/(g.depth||1);c.eachBefore(function(M){M.x=(M.x+y)*b,M.y=M.depth*E})}return c}function s(c){var f=c.children,d=c.parent.children,h=c.i?d[c.i-1]:null;if(f){!function Fst(e){for(var s,t=0,i=0,r=e.children,o=r.length;--o>=0;)(s=r[o]).z+=t,s.m+=t,t+=s.s+(i+=s.c)}(c);var g=(f[0].z+f[f.length-1].z)/2;h?(c.z=h.z+e(c._,h._),c.m=c.z-g):c.z=g}else h&&(c.z=h.z+e(c._,h._));c.parent.A=function l(c,f,d){if(f){for(var P,h=c,g=c,v=f,y=h.parent.children[0],b=h.m,E=g.m,M=v.m,k=y.m;v=Rz(v),h=Lz(h),v&&h;)y=Lz(y),(g=Rz(g)).a=c,(P=v.z+M-h.z-b+e(v._,h._))>0&&(Tst(Ost(v,c,d),c,P),b+=P,E+=P),M+=v.m,b+=h.m,k+=y.m,E+=g.m;v&&!Rz(g)&&(g.t=v,g.m+=M-E),h&&!Lz(y)&&(y.t=h,y.m+=b-k,d=c)}return d}(c,h,c.parent.A||d[0])}function a(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function u(c){c.x*=t,c.y=c.depth*i}return o.separation=function(c){return arguments.length?(e=c,o):e},o.size=function(c){return arguments.length?(r=!1,t=+c[0],i=+c[1],o):r?null:[t,i]},o.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],i=+c[1],o):r?[t,i]:null},o},cluster:function zst(){var e=Lst,t=1,i=1,r=!1;function o(s){var a,l=0;s.eachAfter(function(h){var g=h.children;g?(h.x=function Rst(e){return e.reduce(Ust,0)/e.length}(g),h.y=function Pst(e){return 1+e.reduce(Hst,0)}(g)):(h.x=a?l+=e(h,a):0,h.y=0,a=h)});var u=function Qst(e){for(var t;t=e.children;)e=t[0];return e}(s),c=function Vst(e){for(var t;t=e.children;)e=t[t.length-1];return e}(s),f=u.x-e(u,c)/2,d=c.x+e(c,u)/2;return s.eachAfter(r?function(h){h.x=(h.x-s.x)*t,h.y=(s.y-h.y)*i}:function(h){h.x=(h.x-f)/(d-f)*t,h.y=(1-(s.y?h.y/s.y:1))*i})}return o.separation=function(s){return arguments.length?(e=s,o):e},o.size=function(s){return arguments.length?(r=!1,t=+s[0],i=+s[1],o):r?null:[t,i]},o.nodeSize=function(s){return arguments.length?(r=!0,t=+s[0],i=+s[1],o):r?[t,i]:null},o}},Gz=["x","y","depth","children"];function qz(e){B1.call(this,e)}function jz(e){On.call(this,[],e)}qz.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Gz.length,default:Gz}]},$i(qz,B1,{layout(e){const t=e||"tidy";if(fr(sme,t))return sme[t]();Gn("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:Gz}),jz.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},$i(jz,On,{transform(e,t){const i=this.value,r=t.source&&t.source.root,o=t.fork(t.NO_SOURCE),s={};return r||Gn("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(o.rem=i,t.visit(t.SOURCE,a=>s[zr(a)]=1),r.each(a=>{const l=a.data,u=a.parent&&a.parent.data;u&&s[zr(l)]&&s[zr(u)]&&o.add.push(Ls({source:u,target:l}))}),this.value=o.add):t.changed(t.MOD)&&(t.visit(t.MOD,a=>s[zr(a)]=1),i.forEach(a=>{(s[zr(a.source)]||s[zr(a.target)])&&o.mod.push(a)})),o}});const ame={binary:function $st(e,t,i,r,o){var a,u,s=e.children,l=s.length,c=new Array(l+1);for(c[0]=u=a=0;a<l;++a)c[a+1]=u+=s[a].value;!function f(d,h,g,v,y,b,E){if(d>=h-1){var M=s[d];return M.x0=v,M.y0=y,M.x1=b,void(M.y1=E)}for(var k=c[d],P=g/2+k,H=d+1,X=h-1;H<X;){var z=H+X>>>1;c[z]<P?H=z+1:X=z}P-c[H-1]<c[H]-P&&d+1<H&&--H;var se=c[H]-k,ye=g-se;if(b-v>E-y){var Ie=g?(v*ye+b*se)/g:b;f(d,H,se,v,y,Ie,E),f(H,h,ye,Ie,y,b,E)}else{var Ee=g?(y*ye+E*se)/g:E;f(d,H,se,v,y,b,Ee),f(H,h,ye,v,Ee,b,E)}}(0,l,e.value,t,i,r,o)},dice:Cw,slice:aI,slicedice:function Gst(e,t,i,r,o){(1&e.depth?aI:Cw)(e,t,i,r,o)},squarify:ome,resquarify:qst},Kz=["x0","y0","x1","y1","depth","children"];function Wz(e){B1.call(this,e)}Wz.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Kz.length,default:Kz}]},$i(Wz,B1,{layout(){const e=function jst(){var e=ome,t=!1,i=1,r=1,o=[0],s=O3,a=O3,l=O3,u=O3,c=O3;function f(h){return h.x0=h.y0=0,h.x1=i,h.y1=r,h.eachBefore(d),o=[0],t&&h.eachBefore(J1e),h}function d(h){var g=o[h.depth],v=h.x0+g,y=h.y0+g,b=h.x1-g,E=h.y1-g;b<v&&(v=b=(v+b)/2),E<y&&(y=E=(y+E)/2),h.x0=v,h.y0=y,h.x1=b,h.y1=E,h.children&&(g=o[h.depth+1]=s(h)/2,v+=c(h)-g,y+=a(h)-g,(b-=l(h)-g)<v&&(v=b=(v+b)/2),(E-=u(h)-g)<y&&(y=E=(y+E)/2),e(h,v,y,b,E))}return f.round=function(h){return arguments.length?(t=!!h,f):t},f.size=function(h){return arguments.length?(i=+h[0],r=+h[1],f):[i,r]},f.tile=function(h){return arguments.length?(e=V1e(h),f):e},f.padding=function(h){return arguments.length?f.paddingInner(h).paddingOuter(h):f.paddingInner()},f.paddingInner=function(h){return arguments.length?(s="function"==typeof h?h:b8(+h),f):s},f.paddingOuter=function(h){return arguments.length?f.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):f.paddingTop()},f.paddingTop=function(h){return arguments.length?(a="function"==typeof h?h:b8(+h),f):a},f.paddingRight=function(h){return arguments.length?(l="function"==typeof h?h:b8(+h),f):l},f.paddingBottom=function(h){return arguments.length?(u="function"==typeof h?h:b8(+h),f):u},f.paddingLeft=function(h){return arguments.length?(c="function"==typeof h?h:b8(+h),f):c},f}();return e.ratio=t=>{const i=e.tile();i.ratio&&e.tile(i.ratio(t))},e.method=t=>{fr(ame,t)?e.tile(ame[t]):Gn("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Kz});const Xz=4278190080;function Yz(e,t,i){return new Uint32Array(e.getImageData(0,0,t,i).data.buffer)}function lI(e,t,i){if(!t.length)return;const r=t[0].mark.marktype;"group"===r?t.forEach(o=>{o.items.forEach(s=>lI(e,s.items,i))}):fA[r].draw(e,{items:i?t.map(tat):t})}function tat(e){const t=JS(e,{});return t.stroke&&0!==t.strokeOpacity||t.fill&&0!==t.fillOpacity?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const M1=5,Uf=31,Ew=32,C2=new Uint32Array(Ew+1),x0=new Uint32Array(Ew+1);x0[0]=0,C2[0]=~x0[0];for(let e=1;e<=Ew;++e)x0[e]=x0[e-1]<<1|1,C2[e]=~x0[e];function uI(e,t,i,r,o,s){let a=i/2;return e-a<0||e+a>o||t-(a=r/2)<0||t+a>s}function E2(e,t,i,r,o,s,a,l){const u=o*s/(2*r),c=e(t-u),f=e(t+u),d=e(i-(s/=2)),h=e(i+s);return a.outOfBounds(c,d,f,h)||a.getRange(c,d,f,h)||l&&l.getRange(c,d,f,h)}const sat=[-1,-1,1,1],aat=[-1,1,-1,1],uat=["right","center","left"],cat=["bottom","middle","top"];function lme(e,t,i,r,o,s,a,l,u,c,f,d){return!(o.outOfBounds(e,i,t,r)||(d&&s||o).getRange(e,i,t,r))}const dat={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Aat={naive:function rat(e,t,i,r){const o=e.width,s=e.height;return function(a){const l=a.datum.datum.items[r].items,u=l.length,c=a.datum.fontSize,f=cA.width(a.datum,a.datum.text);let h,g,v,y,b,E,M,d=0;for(let k=0;k<u;++k)h=l[k].x,v=l[k].y,g=void 0===l[k].x2?h:l[k].x2,y=void 0===l[k].y2?v:l[k].y2,b=(h+g)/2,E=(v+y)/2,M=Math.abs(g-h+y-v),M>=d&&(d=M,a.x=b,a.y=E);return b=f/2,E=c/2,h=a.x-b,g=a.x+b,v=a.y-E,y=a.y+E,a.align="center",h<0&&g<=o?a.align="left":0<=h&&o<g&&(a.align="right"),a.baseline="middle",v<0&&y<=s?a.baseline="top":0<=v&&s<y&&(a.baseline="bottom"),!0}},"reduced-search":function oat(e,t,i,r){const o=e.width,s=e.height,a=t[0],l=t[1];function u(c,f,d,h,g){const v=e.invert(c),y=e.invert(f);let M,b=d,E=s;if(!uI(v,y,h,g,o,s)&&!E2(e,v,y,g,h,b,a,l)&&!E2(e,v,y,g,h,g,a,null)){for(;E-b>=1;)M=(b+E)/2,E2(e,v,y,g,h,M,a,l)?E=M:b=M;if(b>d)return[v,y,b,!0]}}return function(c){const f=c.datum.datum.items[r].items,d=f.length,h=c.datum.fontSize,g=cA.width(c.datum,c.datum.text);let M,k,P,H,X,z,se,ye,Ie,Ee,Je,Ze,W,Z,te,Ce,ce,v=i?h:0,y=!1,b=!1,E=0;for(let we=0;we<d;++we){for(M=f[we].x,P=f[we].y,k=void 0===f[we].x2?M:f[we].x2,H=void 0===f[we].y2?P:f[we].y2,M>k&&(ce=M,M=k,k=ce),P>H&&(ce=P,P=H,H=ce),Ie=e(M),Je=e(k),Ee=~~((Ie+Je)/2),Ze=e(P),Z=e(H),W=~~((Ze+Z)/2),se=Ee;se>=Ie;--se)for(ye=W;ye>=Ze;--ye)Ce=u(se,ye,v,g,h),Ce&&([c.x,c.y,v,y]=Ce);for(se=Ee;se<=Je;++se)for(ye=W;ye<=Z;++ye)Ce=u(se,ye,v,g,h),Ce&&([c.x,c.y,v,y]=Ce);!y&&!i&&(te=Math.abs(k-M+H-P),X=(M+k)/2,z=(P+H)/2,te>=E&&!uI(X,z,g,h,o,s)&&!E2(e,X,z,h,g,h,a,null)&&(E=te,c.x=X,c.y=z,b=!0))}return!(!y&&!b||(X=g/2,z=h/2,a.setRange(e(c.x-X),e(c.y-z),e(c.x+X),e(c.y+z)),c.align="center",c.baseline="middle",0))}},floodfill:function lat(e,t,i,r){const o=e.width,s=e.height,a=t[0],l=t[1],u=e.bitmap();return function(c){const f=c.datum.datum.items[r].items,d=f.length,h=c.datum.fontSize,g=cA.width(c.datum,c.datum.text),v=[];let k,P,H,X,z,se,ye,Ie,Ee,Je,Ze,W,y=i?h:0,b=!1,E=!1,M=0;for(let Z=0;Z<d;++Z){for(k=f[Z].x,H=f[Z].y,P=void 0===f[Z].x2?k:f[Z].x2,X=void 0===f[Z].y2?H:f[Z].y2,v.push([e((k+P)/2),e((H+X)/2)]);v.length;)if([ye,Ie]=v.pop(),!(a.get(ye,Ie)||l.get(ye,Ie)||u.get(ye,Ie))){u.set(ye,Ie);for(let te=0;te<4;++te)z=ye+sat[te],se=Ie+aat[te],u.outOfBounds(z,se,z,se)||v.push([z,se]);if(z=e.invert(ye),se=e.invert(Ie),Ee=y,Je=s,!uI(z,se,g,h,o,s)&&!E2(e,z,se,h,g,Ee,a,l)&&!E2(e,z,se,h,g,h,a,null)){for(;Je-Ee>=1;)Ze=(Ee+Je)/2,E2(e,z,se,h,g,Ze,a,l)?Je=Ze:Ee=Ze;Ee>y&&(c.x=z,c.y=se,y=Ee,b=!0)}}!b&&!i&&(W=Math.abs(P-k+X-H),z=(k+P)/2,se=(H+X)/2,W>=M&&!uI(z,se,g,h,o,s)&&!E2(e,z,se,h,g,h,a,null)&&(M=W,c.x=z,c.y=se,E=!0))}return!(!b&&!E||(z=g/2,se=h/2,a.setRange(e(c.x-z),e(c.y-se),e(c.x+z),e(c.y+se)),c.align="center",c.baseline="middle",0))}}};function hat(e,t,i,r,o,s,a,l,u,c,f){if(!e.length)return e;const d=Math.max(r.length,o.length),h=function pat(e,t){const i=new Float64Array(t),r=e.length;for(let o=0;o<r;++o)i[o]=e[o]||0;for(let o=r;o<t;++o)i[o]=i[r-1];return i}(r,d),g=function gat(e,t){const i=new Int8Array(t),r=e.length;for(let o=0;o<r;++o)i[o]|=dat[e[o]];for(let o=r;o<t;++o)i[o]=i[r-1];return i}(o,d),v=function mat(e){return e&&e.mark&&e.mark.marktype}(e[0].datum),y="group"===v&&e[0].datum.items[u].marktype,b="area"===y,E=function vat(e,t,i,r){const o=s=>[s.x,s.x,s.x,s.y,s.y,s.y];return e?"line"===e||"area"===e?s=>o(s.datum):"line"===t?s=>{const a=s.datum.items[r].items;return o(a.length?a["start"===i?0:a.length-1]:{x:NaN,y:NaN})}:s=>{const a=s.datum.bounds;return[a.x1,(a.x1+a.x2)/2,a.x2,a.y1,(a.y1+a.y2)/2,a.y2]}:o}(v,y,l,u),M=null===c||c===1/0,k=b&&"naive"===f;let P=-1,H=-1;const X=e.map(Ie=>{const Ee=M?cA.width(Ie,Ie.text):void 0;return P=Math.max(P,Ee),H=Math.max(H,Ie.fontSize),{datum:Ie,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:E(Ie),textWidth:Ee}});c=null===c||c===1/0?Math.max(P,H)+Math.max(...r):c;const z=function iat(e,t,i){const r=Math.max(1,Math.sqrt(e*t/1e6)),o=~~((e+2*i+r)/r),s=~~((t+2*i+r)/r),a=l=>~~((l+i)/r);return a.invert=l=>l*r-i,a.bitmap=()=>function nat(e,t){const i=new Uint32Array(~~((e*t+Ew)/Ew));function r(s,a){i[s]|=a}function o(s,a){i[s]&=a}return{array:i,get:(s,a)=>{const l=a*e+s;return i[l>>>M1]&1<<(l&Uf)},set:(s,a)=>{const l=a*e+s;r(l>>>M1,1<<(l&Uf))},clear:(s,a)=>{const l=a*e+s;o(l>>>M1,~(1<<(l&Uf)))},getRange:(s,a,l,u)=>{let f,d,h,g,c=u;for(;c>=a;--c)if(f=c*e+s,d=c*e+l,h=f>>>M1,g=d>>>M1,h===g){if(i[h]&C2[f&Uf]&x0[1+(d&Uf)])return!0}else{if(i[h]&C2[f&Uf]||i[g]&x0[1+(d&Uf)])return!0;for(let v=h+1;v<g;++v)if(i[v])return!0}return!1},setRange:(s,a,l,u)=>{let c,f,d,h,g;for(;a<=u;++a)if(c=a*e+s,f=a*e+l,d=c>>>M1,h=f>>>M1,d===h)r(d,C2[c&Uf]&x0[1+(f&Uf)]);else for(r(d,C2[c&Uf]),r(h,x0[1+(f&Uf)]),g=d+1;g<h;++g)r(g,4294967295)},clearRange:(s,a,l,u)=>{let c,f,d,h,g;for(;a<=u;++a)if(c=a*e+s,f=a*e+l,d=c>>>M1,h=f>>>M1,d===h)o(d,x0[c&Uf]|C2[1+(f&Uf)]);else for(o(d,x0[c&Uf]),o(h,C2[1+(f&Uf)]),g=d+1;g<h;++g)o(g,0)},outOfBounds:(s,a,l,u)=>s<0||a<0||u>=t||l>=e}}(o,s),a.ratio=r,a.padding=i,a.width=e,a.height=t,a}(t[0],t[1],c);let se;if(!k){i&&X.sort((Je,Ze)=>i(Je.datum,Ze.datum));let Ie=!1;for(let Je=0;Je<g.length&&!Ie;++Je)Ie=5===g[Je]||h[Je]<0;const Ee=(v&&a||b)&&e.map(Je=>Je.datum);se=s.length||Ee?function eat(e,t,i,r,o){const s=e.width,a=e.height,l=r||o,u=r2(s,a).getContext("2d"),c=r2(s,a).getContext("2d"),f=l&&r2(s,a).getContext("2d");i.forEach(se=>lI(u,se,!1)),lI(c,t,!1),l&&lI(f,t,!0);const d=Yz(u,s,a),h=Yz(c,s,a),g=l&&Yz(f,s,a),v=e.bitmap(),y=l&&e.bitmap();let b,E,M,k,P,H,X,z;for(E=0;E<a;++E)for(b=0;b<s;++b)P=E*s+b,H=d[P]&Xz,z=h[P]&Xz,X=l&&g[P]&Xz,(H||X||z)&&(M=e(b),k=e(E),!o&&(H||z)&&v.set(M,k),l&&(H||X)&&y.set(M,k));return[v,y]}(z,Ee||[],s,Ie,b):function Jst(e,t){const i=e.bitmap();return(t||[]).forEach(r=>i.set(e(r.boundary[0]),e(r.boundary[3]))),[i,void 0]}(z,a&&X)}const ye=b?Aat[f](z,se,a,u):function fat(e,t,i,r){const o=e.width,s=e.height,a=t[0],l=t[1],u=r.length;return function(c){const f=c.boundary,d=c.datum.fontSize;if(f[2]<0||f[5]<0||f[0]>o||f[3]>s)return!1;let g,v,y,b,E,M,k,P,H,X,z,se,ye,Ie,Ee,h=c.textWidth??0;for(let Je=0;Je<u;++Je){if(g=(3&i[Je])-1,v=(i[Je]>>>2&3)-1,y=0===g&&0===v||r[Je]<0,b=g&&v?Math.SQRT1_2:1,E=r[Je]<0?-1:1,M=f[1+g]+r[Je]*g*b,z=f[4+v]+E*d*v/2+r[Je]*v*b,P=z-d/2,H=z+d/2,se=e(M),Ie=e(P),Ee=e(H),!h){if(!lme(se,se,Ie,Ee,a,l,0,0,0,0,0,y))continue;h=cA.width(c.datum,c.datum.text)}if(X=M+E*h*g/2,M=X-h/2,k=X+h/2,se=e(M),ye=e(k),lme(se,ye,Ie,Ee,a,l,0,0,0,0,0,y))return c.x=g?g*E<0?k:M:X,c.y=v?v*E<0?H:P:z,c.align=uat[g*E+1],c.baseline=cat[v*E+1],a.setRange(se,Ie,ye,Ee),!0}return!1}}(z,se,g,h);return X.forEach(Ie=>Ie.opacity=+ye(Ie)),X}const r$=["x","y","opacity","align","baseline"],ume=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function o$(e){On.call(this,null,e)}function cme(e,t){var o,s,a,l,u,c,i=[],r=function(f){return f(l)};if(null==t)i.push(e);else for(o={},s=0,a=e.length;s<a;++s)l=e[s],(c=o[u=t.map(r)])||(o[u]=c=[],c.dims=u,i.push(c)),c.push(l);return i}function s$(e){On.call(this,null,e)}o$.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:ume},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:r$.length,default:r$}]},$i(o$,On,{transform(e,t){const r=e.modified();if(!(r||t.changed(t.ADD_REM)||function i(s){const a=e[s];return Uo(a)&&t.modified(a.fields)}("sort")))return;(!e.size||2!==e.size.length)&&Gn("Size parameter should be specified as a [width, height] array.");const o=e.as||r$;return hat(t.materialize(t.SOURCE).source||[],e.size,e.sort,er(null==e.offset?1:e.offset),er(e.anchor||ume),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach(s=>{const a=s.datum;a[o[0]]=s.x,a[o[1]]=s.y,a[o[2]]=s.opacity,a[o[3]]=s.align,a[o[4]]=s.baseline}),t.reflow(r).modifies(o)}}),s$.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},$i(s$,On,{transform(e,t){const i=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=cme(t.materialize(t.SOURCE).source,e.groupby),s=(e.groupby||[]).map(Vl),a=s.length,l=e.as||[Vl(e.x),Vl(e.y)],u=[];o.forEach(c=>{Ife(c,e.x,e.y,e.bandwidth||.3).forEach(f=>{const d={};for(let h=0;h<a;++h)d[s[h]]=c.dims[h];d[l[0]]=f[0],d[l[1]]=f[1],u.push(Ls(d))})}),this.value&&(i.rem=this.value),this.value=i.add=i.source=u}return i}});const a$={constant:KP,linear:WP,log:Cfe,exp:Efe,pow:xfe,quad:XP,poly:Sfe};function l$(e){On.call(this,null,e)}l$.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(a$)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},$i(l$,On,{transform(e,t){const i=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=cme(t.materialize(t.SOURCE).source,e.groupby),s=(e.groupby||[]).map(Vl),a=e.method||"linear",l=null==e.order?3:e.order,u=((e,t)=>"poly"===e?t:"quad"===e?2:1)(a,l),c=e.as||[Vl(e.x),Vl(e.y)],f=a$[a],d=[];let h=e.extent;fr(a$,a)||Gn("Invalid regression method: "+a),null!=h&&"log"===a&&h[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),h=null),o.forEach(g=>{if(g.length<=u)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const y=f(g,e.x,e.y,l);if(e.params)return void d.push(Ls({keys:g.dims,coef:y.coef,rSquared:y.rSquared}));const b=h||Gp(g,e.x),E=M=>{const k={};for(let P=0;P<s.length;++P)k[s[P]]=g.dims[P];k[c[0]]=M[0],k[c[1]]=M[1],d.push(Ls(k))};"linear"===a||"constant"===a?b.forEach(M=>E([M,y.predict(M)])):fB(y.predict,b,25,200).forEach(E)}),this.value&&(i.rem=this.value),this.value=i.add=i.source=d}return i}});const Iu=134217729;function xw(e,t,i,r,o){let s,a,l,u,c=t[0],f=r[0],d=0,h=0;f>c==f>-c?(s=c,c=t[++d]):(s=f,f=r[++h]);let g=0;if(d<e&&h<i)for(f>c==f>-c?(a=c+s,l=s-(a-c),c=t[++d]):(a=f+s,l=s-(a-f),f=r[++h]),s=a,0!==l&&(o[g++]=l);d<e&&h<i;)f>c==f>-c?(a=s+c,u=a-s,l=s-(a-u)+(c-u),c=t[++d]):(a=s+f,u=a-s,l=s-(a-u)+(f-u),f=r[++h]),s=a,0!==l&&(o[g++]=l);for(;d<e;)a=s+c,u=a-s,l=s-(a-u)+(c-u),c=t[++d],s=a,0!==l&&(o[g++]=l);for(;h<i;)a=s+f,u=a-s,l=s-(a-u)+(f-u),f=r[++h],s=a,0!==l&&(o[g++]=l);return(0!==s||0===g)&&(o[g++]=s),g}function _i(e){return new Float64Array(e)}const C8=_i(4),fme=_i(8),dme=_i(12),Ame=_i(16),Pf=_i(4);function cI(e,t,i,r,o,s){const a=(t-s)*(i-o),l=(e-o)*(r-s),u=a-l,c=Math.abs(a+l);return Math.abs(u)>=33306690738754716e-32*c?u:-function xat(e,t,i,r,o,s,a){let l,u,c,f,d,h,g,v,y,b,E,M,k,P,H,X,z,se;const ye=e-o,Ie=i-o,Ee=t-s,Je=r-s;P=ye*Je,h=Iu*ye,g=h-(h-ye),v=ye-g,h=Iu*Je,y=h-(h-Je),b=Je-y,H=v*b-(P-g*y-v*y-g*b),X=Ee*Ie,h=Iu*Ee,g=h-(h-Ee),v=Ee-g,h=Iu*Ie,y=h-(h-Ie),b=Ie-y,z=v*b-(X-g*y-v*y-g*b),E=H-z,d=H-E,C8[0]=H-(E+d)+(d-z),M=P+E,d=M-P,k=P-(M-d)+(E-d),E=k-X,d=k-E,C8[1]=k-(E+d)+(d-X),se=M+E,d=se-M,C8[2]=M-(se-d)+(E-d),C8[3]=se;let Ze=function wat(e,t){let i=t[0];for(let r=1;r<e;r++)i+=t[r];return i}(4,C8),W=22204460492503146e-32*a;if(Ze>=W||-Ze>=W||(d=e-ye,l=e-(ye+d)+(d-o),d=i-Ie,c=i-(Ie+d)+(d-o),d=t-Ee,u=t-(Ee+d)+(d-s),d=r-Je,f=r-(Je+d)+(d-s),0===l&&0===u&&0===c&&0===f)||(W=11093356479670487e-47*a+33306690738754706e-32*Math.abs(Ze),Ze+=ye*f+Je*l-(Ee*c+Ie*u),Ze>=W||-Ze>=W))return Ze;P=l*Je,h=Iu*l,g=h-(h-l),v=l-g,h=Iu*Je,y=h-(h-Je),b=Je-y,H=v*b-(P-g*y-v*y-g*b),X=u*Ie,h=Iu*u,g=h-(h-u),v=u-g,h=Iu*Ie,y=h-(h-Ie),b=Ie-y,z=v*b-(X-g*y-v*y-g*b),E=H-z,d=H-E,Pf[0]=H-(E+d)+(d-z),M=P+E,d=M-P,k=P-(M-d)+(E-d),E=k-X,d=k-E,Pf[1]=k-(E+d)+(d-X),se=M+E,d=se-M,Pf[2]=M-(se-d)+(E-d),Pf[3]=se;const Z=xw(4,C8,4,Pf,fme);P=ye*f,h=Iu*ye,g=h-(h-ye),v=ye-g,h=Iu*f,y=h-(h-f),b=f-y,H=v*b-(P-g*y-v*y-g*b),X=Ee*c,h=Iu*Ee,g=h-(h-Ee),v=Ee-g,h=Iu*c,y=h-(h-c),b=c-y,z=v*b-(X-g*y-v*y-g*b),E=H-z,d=H-E,Pf[0]=H-(E+d)+(d-z),M=P+E,d=M-P,k=P-(M-d)+(E-d),E=k-X,d=k-E,Pf[1]=k-(E+d)+(d-X),se=M+E,d=se-M,Pf[2]=M-(se-d)+(E-d),Pf[3]=se;const te=xw(Z,fme,4,Pf,dme);P=l*f,h=Iu*l,g=h-(h-l),v=l-g,h=Iu*f,y=h-(h-f),b=f-y,H=v*b-(P-g*y-v*y-g*b),X=u*c,h=Iu*u,g=h-(h-u),v=u-g,h=Iu*c,y=h-(h-c),b=c-y,z=v*b-(X-g*y-v*y-g*b),E=H-z,d=H-E,Pf[0]=H-(E+d)+(d-z),M=P+E,d=M-P,k=P-(M-d)+(E-d),E=k-X,d=k-E,Pf[1]=k-(E+d)+(d-X),se=M+E,d=se-M,Pf[2]=M-(se-d)+(E-d),Pf[3]=se;const Ce=xw(te,dme,4,Pf,Ame);return Ame[Ce-1]}(e,t,i,r,o,s,c)}_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(8),_i(8),_i(8),_i(4),_i(8),_i(8),_i(8),_i(12),_i(192),_i(192),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(8),_i(8),_i(8),_i(8),_i(8),_i(8),_i(8),_i(8),_i(8),_i(4),_i(4),_i(4),_i(8),_i(16),_i(16),_i(16),_i(32),_i(32),_i(48),_i(64),_i(1152),_i(1152),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(4),_i(24),_i(24),_i(24),_i(24),_i(24),_i(24),_i(24),_i(24),_i(24),_i(24),_i(1152),_i(1152),_i(1152),_i(1152),_i(1152),_i(2304),_i(2304),_i(3456),_i(5760),_i(8),_i(8),_i(8),_i(16),_i(24),_i(48),_i(48),_i(96),_i(192),_i(384),_i(384),_i(384),_i(768),_i(96),_i(96),_i(96),_i(1152);const kme=Math.pow(2,-52),_I=new Uint32Array(512);class wI{static from(t,i=Gat,r=qat){const o=t.length,s=new Float64Array(2*o);for(let a=0;a<o;a++){const l=t[a];s[2*a]=i(l),s[2*a+1]=r(l)}return new wI(s)}constructor(t){const i=t.length>>1;if(i>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*i-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}update(){const{coords:t,_hullPrev:i,_hullNext:r,_hullTri:o,_hullHash:s}=this,a=t.length>>1;let l=1/0,u=1/0,c=-1/0,f=-1/0;for(let ye=0;ye<a;ye++){const Ie=t[2*ye],Ee=t[2*ye+1];Ie<l&&(l=Ie),Ee<u&&(u=Ee),Ie>c&&(c=Ie),Ee>f&&(f=Ee),this._ids[ye]=ye}const d=(l+c)/2,h=(u+f)/2;let g,v,y;for(let ye=0,Ie=1/0;ye<a;ye++){const Ee=k$(d,h,t[2*ye],t[2*ye+1]);Ee<Ie&&(g=ye,Ie=Ee)}const b=t[2*g],E=t[2*g+1];for(let ye=0,Ie=1/0;ye<a;ye++){if(ye===g)continue;const Ee=k$(b,E,t[2*ye],t[2*ye+1]);Ee<Ie&&Ee>0&&(v=ye,Ie=Ee)}let M=t[2*v],k=t[2*v+1],P=1/0;for(let ye=0;ye<a;ye++){if(ye===g||ye===v)continue;const Ie=zat(b,E,M,k,t[2*ye],t[2*ye+1]);Ie<P&&(y=ye,P=Ie)}let H=t[2*y],X=t[2*y+1];if(P===1/0){for(let Ee=0;Ee<a;Ee++)this._dists[Ee]=t[2*Ee]-t[0]||t[2*Ee+1]-t[1];T8(this._ids,this._dists,0,a-1);const ye=new Uint32Array(a);let Ie=0;for(let Ee=0,Je=-1/0;Ee<a;Ee++){const Ze=this._ids[Ee],W=this._dists[Ze];W>Je&&(ye[Ie++]=Ze,Je=W)}return this.hull=ye.subarray(0,Ie),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(cI(b,E,M,k,H,X)<0){const ye=v,Ie=M,Ee=k;v=y,M=H,k=X,y=ye,H=Ie,X=Ee}const z=function $at(e,t,i,r,o,s){const a=i-e,l=r-t,u=o-e,c=s-t,f=a*a+l*l,d=u*u+c*c,h=.5/(a*c-l*u);return{x:e+(c*f-l*d)*h,y:t+(a*d-u*f)*h}}(b,E,M,k,H,X);this._cx=z.x,this._cy=z.y;for(let ye=0;ye<a;ye++)this._dists[ye]=k$(t[2*ye],t[2*ye+1],z.x,z.y);T8(this._ids,this._dists,0,a-1),this._hullStart=g;let se=3;r[g]=i[y]=v,r[v]=i[g]=y,r[y]=i[v]=g,o[g]=0,o[v]=1,o[y]=2,s.fill(-1),s[this._hashKey(b,E)]=g,s[this._hashKey(M,k)]=v,s[this._hashKey(H,X)]=y,this.trianglesLen=0,this._addTriangle(g,v,y,-1,-1,-1);for(let Ie,Ee,ye=0;ye<this._ids.length;ye++){const Je=this._ids[ye],Ze=t[2*Je],W=t[2*Je+1];if(ye>0&&Math.abs(Ze-Ie)<=kme&&Math.abs(W-Ee)<=kme||(Ie=Ze,Ee=W,Je===g||Je===v||Je===y))continue;let Z=0;for(let Be=0,tt=this._hashKey(Ze,W);Be<this._hashSize&&(Z=s[(tt+Be)%this._hashSize],-1===Z||Z===r[Z]);Be++);Z=i[Z];let Ce,te=Z;for(;Ce=r[te],cI(Ze,W,t[2*te],t[2*te+1],t[2*Ce],t[2*Ce+1])>=0;)if(te=Ce,te===Z){te=-1;break}if(-1===te)continue;let ce=this._addTriangle(te,Je,r[te],-1,-1,o[te]);o[Je]=this._legalize(ce+2),o[te]=ce,se++;let we=r[te];for(;Ce=r[we],cI(Ze,W,t[2*we],t[2*we+1],t[2*Ce],t[2*Ce+1])<0;)ce=this._addTriangle(we,Je,Ce,o[Je],-1,o[we]),o[Je]=this._legalize(ce+2),r[we]=we,se--,we=Ce;if(te===Z)for(;Ce=i[te],cI(Ze,W,t[2*Ce],t[2*Ce+1],t[2*te],t[2*te+1])<0;)ce=this._addTriangle(Ce,Je,te,-1,o[te],o[Ce]),this._legalize(ce+2),o[Ce]=ce,r[te]=te,se--,te=Ce;this._hullStart=i[Je]=te,r[te]=i[we]=Je,r[Je]=we,s[this._hashKey(Ze,W)]=Je,s[this._hashKey(t[2*te],t[2*te+1])]=te}this.hull=new Uint32Array(se);for(let ye=0,Ie=this._hullStart;ye<se;ye++)this.hull[ye]=Ie,Ie=r[Ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,i){return Math.floor(function Qat(e,t){const i=e/(Math.abs(e)+Math.abs(t));return(t>0?3-i:1+i)/4}(t-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:i,_halfedges:r,coords:o}=this;let s=0,a=0;for(;;){const l=r[t],u=t-t%3;if(a=u+(t+2)%3,-1===l){if(0===s)break;t=_I[--s];continue}const c=l-l%3,d=c+(l+2)%3,h=i[a],g=i[t],v=i[u+(t+1)%3],y=i[d];if(Vat(o[2*h],o[2*h+1],o[2*g],o[2*g+1],o[2*v],o[2*v+1],o[2*y],o[2*y+1])){i[t]=y,i[l]=h;const E=r[d];if(-1===E){let k=this._hullStart;do{if(this._hullTri[k]===d){this._hullTri[k]=t;break}k=this._hullPrev[k]}while(k!==this._hullStart)}this._link(t,E),this._link(l,r[a]),this._link(a,d),s<_I.length&&(_I[s++]=c+(l+1)%3)}else{if(0===s)break;t=_I[--s]}}return a}_link(t,i){this._halfedges[t]=i,-1!==i&&(this._halfedges[i]=t)}_addTriangle(t,i,r,o,s,a){const l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=i,this._triangles[l+2]=r,this._link(l,o),this._link(l+1,s),this._link(l+2,a),this.trianglesLen+=3,l}}function k$(e,t,i,r){const o=e-i,s=t-r;return o*o+s*s}function Vat(e,t,i,r,o,s,a,l){const u=e-a,c=t-l,f=i-a,d=r-l,h=o-a,g=s-l,y=f*f+d*d,b=h*h+g*g;return u*(d*b-y*g)-c*(f*b-y*h)+(u*u+c*c)*(f*g-d*h)<0}function zat(e,t,i,r,o,s){const a=i-e,l=r-t,u=o-e,c=s-t,f=a*a+l*l,d=u*u+c*c,h=.5/(a*c-l*u),g=(c*f-l*d)*h,v=(a*d-u*f)*h;return g*g+v*v}function T8(e,t,i,r){if(r-i<=20)for(let o=i+1;o<=r;o++){const s=e[o],a=t[s];let l=o-1;for(;l>=i&&t[e[l]]>a;)e[l+1]=e[l--];e[l+1]=s}else{let s=i+1,a=r;Iw(e,i+r>>1,s),t[e[i]]>t[e[r]]&&Iw(e,i,r),t[e[s]]>t[e[r]]&&Iw(e,s,r),t[e[i]]>t[e[s]]&&Iw(e,i,s);const l=e[s],u=t[l];for(;;){do{s++}while(t[e[s]]<u);do{a--}while(t[e[a]]>u);if(a<s)break;Iw(e,s,a)}e[i+1]=e[a],e[a]=l,r-s+1>=a-i?(T8(e,t,s,r),T8(e,t,i,a-1)):(T8(e,t,i,a-1),T8(e,t,s,r))}}function Iw(e,t,i){const r=e[t];e[t]=e[i],e[i]=r}function Gat(e){return e[0]}function qat(e){return e[1]}class V3{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,i){this._+=`L${this._x1=+t},${this._y1=+i}`}arc(t,i,r){const o=(t=+t)+(r=+r),s=i=+i;if(r<0)throw new Error("negative radius");null===this._x1?this._+=`M${o},${s}`:(Math.abs(this._x1-o)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+o+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${i}A${r},${r},0,1,1,${this._x1=o},${this._y1=s}`)}rect(t,i,r,o){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${+r}v${+o}h${-r}Z`}value(){return this._||null}}class N${constructor(){this._=[]}moveTo(t,i){this._.push([t,i])}closePath(){this._.push(this._[0].slice())}lineTo(t,i){this._.push([t,i])}value(){return this._.length?this._:null}}class jat{constructor(t,[i,r,o,s]=[0,0,960,500]){if(!((o=+o)>=(i=+i)&&(s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=i,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:i,triangles:r},vectors:o}=this;let s,a;const l=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let M,k,y=0,b=0,E=r.length;y<E;y+=3,b+=2){const P=2*r[y],H=2*r[y+1],X=2*r[y+2],z=t[P],se=t[P+1],Ee=t[X],Je=t[X+1],Ze=t[H]-z,W=t[H+1]-se,Z=Ee-z,te=Je-se,Ce=2*(Ze*te-W*Z);if(Math.abs(Ce)<1e-9){if(void 0===s){s=a=0;for(const we of i)s+=t[2*we],a+=t[2*we+1];s/=i.length,a/=i.length}const ce=1e9*Math.sign((s-z)*te-(a-se)*Z);M=(z+Ee)/2-ce*te,k=(se+Je)/2+ce*Z}else{const ce=1/Ce,we=Ze*Ze+W*W,Be=Z*Z+te*te;M=z+(te*we-W*Be)*ce,k=se+(Ze*Be-Z*we)*ce}l[b]=M,l[b+1]=k}let c,d,g,u=i[i.length-1],f=4*u,h=t[2*u],v=t[2*u+1];o.fill(0);for(let y=0;y<i.length;++y)u=i[y],c=f,d=h,g=v,f=4*u,h=t[2*u],v=t[2*u+1],o[c+2]=o[f]=g-v,o[c+3]=o[f+1]=h-d}render(t){const i=null==t?t=new V3:void 0,{delaunay:{halfedges:r,inedges:o,hull:s},circumcenters:a,vectors:l}=this;if(s.length<=1)return null;for(let f=0,d=r.length;f<d;++f){const h=r[f];if(h<f)continue;const g=2*Math.floor(f/3),v=2*Math.floor(h/3);this._renderSegment(a[g],a[g+1],a[v],a[v+1],t)}let u,c=s[s.length-1];for(let f=0;f<s.length;++f){u=c,c=s[f];const d=2*Math.floor(o[c]/3),h=a[d],g=a[d+1],v=4*u,y=this._project(h,g,l[v+2],l[v+3]);y&&this._renderSegment(h,g,y[0],y[1],t)}return i&&i.value()}renderBounds(t){const i=null==t?t=new V3:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),i&&i.value()}renderCell(t,i){const r=null==i?i=new V3:void 0,o=this._clip(t);if(null===o||!o.length)return;i.moveTo(o[0],o[1]);let s=o.length;for(;o[0]===o[s-2]&&o[1]===o[s-1]&&s>1;)s-=2;for(let a=2;a<s;a+=2)(o[a]!==o[a-2]||o[a+1]!==o[a-1])&&i.lineTo(o[a],o[a+1]);return i.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let i=0,r=t.length/2;i<r;++i){const o=this.cellPolygon(i);o&&(o.index=i,yield o)}}cellPolygon(t){const i=new N$;return this.renderCell(t,i),i.value()}_renderSegment(t,i,r,o,s){let a;const l=this._regioncode(t,i),u=this._regioncode(r,o);0===l&&0===u?(s.moveTo(t,i),s.lineTo(r,o)):(a=this._clipSegment(t,i,r,o,l,u))&&(s.moveTo(a[0],a[1]),s.lineTo(a[2],a[3]))}contains(t,i,r){return(i=+i)==i&&(r=+r)==r&&this.delaunay._step(t,i,r)===t}*neighbors(t){const i=this._clip(t);if(i)for(const r of this.delaunay.neighbors(t)){const o=this._clip(r);if(o)e:for(let s=0,a=i.length;s<a;s+=2)for(let l=0,u=o.length;l<u;l+=2)if(i[s]===o[l]&&i[s+1]===o[l+1]&&i[(s+2)%a]===o[(l+u-2)%u]&&i[(s+3)%a]===o[(l+u-1)%u]){yield r;break e}}}_cell(t){const{circumcenters:i,delaunay:{inedges:r,halfedges:o,triangles:s}}=this,a=r[t];if(-1===a)return null;const l=[];let u=a;do{const c=Math.floor(u/3);if(l.push(i[2*c],i[2*c+1]),u=u%3==2?u-2:u+1,s[u]!==t)break;u=o[u]}while(u!==a&&-1!==u);return l}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const i=this._cell(t);if(null===i)return null;const{vectors:r}=this,o=4*t;return this._simplify(r[o]||r[o+1]?this._clipInfinite(t,i,r[o],r[o+1],r[o+2],r[o+3]):this._clipFinite(t,i))}_clipFinite(t,i){const r=i.length;let s,a,c,d,o=null,l=i[r-2],u=i[r-1],f=this._regioncode(l,u),h=0;for(let g=0;g<r;g+=2)if(s=l,a=u,l=i[g],u=i[g+1],c=f,f=this._regioncode(l,u),0===c&&0===f)d=h,h=0,o?o.push(l,u):o=[l,u];else{let v,y,b,E,M;if(0===c){if(null===(v=this._clipSegment(s,a,l,u,c,f)))continue;[y,b,E,M]=v}else{if(null===(v=this._clipSegment(l,u,s,a,f,c)))continue;[E,M,y,b]=v,d=h,h=this._edgecode(y,b),d&&h&&this._edge(t,d,h,o,o.length),o?o.push(y,b):o=[y,b]}d=h,h=this._edgecode(E,M),d&&h&&this._edge(t,d,h,o,o.length),o?o.push(E,M):o=[E,M]}if(o)d=h,h=this._edgecode(o[0],o[1]),d&&h&&this._edge(t,d,h,o,o.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(t,i,r,o,s,a){const l=s<a;for(l&&([t,i,r,o,s,a]=[r,o,t,i,a,s]);;){if(0===s&&0===a)return l?[r,o,t,i]:[t,i,r,o];if(s&a)return null;let u,c,f=s||a;8&f?(u=t+(r-t)*(this.ymax-i)/(o-i),c=this.ymax):4&f?(u=t+(r-t)*(this.ymin-i)/(o-i),c=this.ymin):2&f?(c=i+(o-i)*(this.xmax-t)/(r-t),u=this.xmax):(c=i+(o-i)*(this.xmin-t)/(r-t),u=this.xmin),s?s=this._regioncode(t=u,i=c):a=this._regioncode(r=u,o=c)}}_clipInfinite(t,i,r,o,s,a){let u,l=Array.from(i);if((u=this._project(l[0],l[1],r,o))&&l.unshift(u[0],u[1]),(u=this._project(l[l.length-2],l[l.length-1],s,a))&&l.push(u[0],u[1]),l=this._clipFinite(t,l))for(let d,c=0,f=l.length,h=this._edgecode(l[f-2],l[f-1]);c<f;c+=2)d=h,h=this._edgecode(l[c],l[c+1]),d&&h&&(c=this._edge(t,d,h,l,c),f=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,i,r,o,s){for(;i!==r;){let a,l;switch(i){case 5:i=4;continue;case 4:i=6,a=this.xmax,l=this.ymin;break;case 6:i=2;continue;case 2:i=10,a=this.xmax,l=this.ymax;break;case 10:i=8;continue;case 8:i=9,a=this.xmin,l=this.ymax;break;case 9:i=1;continue;case 1:i=5,a=this.xmin,l=this.ymin}(o[s]!==a||o[s+1]!==l)&&this.contains(t,a,l)&&(o.splice(s,0,a,l),s+=2)}return s}_project(t,i,r,o){let a,l,u,s=1/0;if(o<0){if(i<=this.ymin)return null;(a=(this.ymin-i)/o)<s&&(u=this.ymin,l=t+(s=a)*r)}else if(o>0){if(i>=this.ymax)return null;(a=(this.ymax-i)/o)<s&&(u=this.ymax,l=t+(s=a)*r)}if(r>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/r)<s&&(l=this.xmax,u=i+(s=a)*o)}else if(r<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/r)<s&&(l=this.xmin,u=i+(s=a)*o)}return[l,u]}_edgecode(t,i){return(t===this.xmin?1:t===this.xmax?2:0)|(i===this.ymin?4:i===this.ymax?8:0)}_regioncode(t,i){return(t<this.xmin?1:t>this.xmax?2:0)|(i<this.ymin?4:i>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let i=0;i<t.length;i+=2){const r=(i+2)%t.length,o=(i+4)%t.length;(t[i]===t[r]&&t[r]===t[o]||t[i+1]===t[r+1]&&t[r+1]===t[o+1])&&(t.splice(r,2),i-=2)}t.length||(t=null)}return t}}const Kat=2*Math.PI,F8=Math.pow;function Wat(e){return e[0]}function Xat(e){return e[1]}function Zat(e,t,i){return[e+Math.sin(e+t)*i,t+Math.cos(e-t)*i]}class L${static from(t,i=Wat,r=Xat,o){return new L$("length"in t?function Jat(e,t,i,r){const o=e.length,s=new Float64Array(2*o);for(let a=0;a<o;++a){const l=e[a];s[2*a]=t.call(r,l,a,e),s[2*a+1]=i.call(r,l,a,e)}return s}(t,i,r,o):Float64Array.from(function*elt(e,t,i,r){let o=0;for(const s of e)yield t.call(r,s,o,e),yield i.call(r,s,o,e),++o}(t,i,r,o)))}constructor(t){this._delaunator=new wI(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,i=this.points;if(t.hull&&t.hull.length>2&&function Yat(e){const{triangles:t,coords:i}=e;for(let r=0;r<t.length;r+=3){const o=2*t[r],s=2*t[r+1],a=2*t[r+2];if((i[a]-i[o])*(i[s+1]-i[o+1])-(i[s]-i[o])*(i[a+1]-i[o+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:i.length/2},(h,g)=>g).sort((h,g)=>i[2*h]-i[2*g]||i[2*h+1]-i[2*g+1]);const u=this.collinear[0],c=this.collinear[this.collinear.length-1],f=[i[2*u],i[2*u+1],i[2*c],i[2*c+1]],d=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let h=0,g=i.length/2;h<g;++h){const v=Zat(i[2*h],i[2*h+1],d);i[2*h]=v[0],i[2*h+1]=v[1]}this._delaunator=new wI(i)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let u=0,c=r.length;u<c;++u){const f=s[u%3==2?u-2:u+1];(-1===r[u]||-1===a[f])&&(a[f]=u)}for(let u=0,c=o.length;u<c;++u)l[o[u]]=u;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],a[o[0]]=1,2===o.length&&(a[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(t){return new jat(this,t)}*neighbors(t){const{inedges:i,hull:r,_hullIndex:o,halfedges:s,triangles:a,collinear:l}=this;if(l){const d=l.indexOf(t);return d>0&&(yield l[d-1]),void(d<l.length-1&&(yield l[d+1]))}const u=i[t];if(-1===u)return;let c=u,f=-1;do{if(yield f=a[c],c=c%3==2?c-2:c+1,a[c]!==t)return;if(c=s[c],-1===c){const d=r[(o[t]+1)%r.length];return void(d!==f&&(yield d))}}while(c!==u)}find(t,i,r=0){if((t=+t)!=t||(i=+i)!=i)return-1;const o=r;let s;for(;(s=this._step(r,t,i))>=0&&s!==r&&s!==o;)r=s;return s}_step(t,i,r){const{inedges:o,hull:s,_hullIndex:a,halfedges:l,triangles:u,points:c}=this;if(-1===o[t]||!c.length)return(t+1)%(c.length>>1);let f=t,d=F8(i-c[2*t],2)+F8(r-c[2*t+1],2);const h=o[t];let g=h;do{let v=u[g];const y=F8(i-c[2*v],2)+F8(r-c[2*v+1],2);if(y<d&&(d=y,f=v),g=g%3==2?g-2:g+1,u[g]!==t)break;if(g=l[g],-1===g){if(g=s[(a[t]+1)%s.length],g!==v&&F8(i-c[2*g],2)+F8(r-c[2*g+1],2)<d)return g;break}}while(g!==h);return f}render(t){const i=null==t?t=new V3:void 0,{points:r,halfedges:o,triangles:s}=this;for(let a=0,l=o.length;a<l;++a){const u=o[a];if(u<a)continue;const c=2*s[a],f=2*s[u];t.moveTo(r[c],r[c+1]),t.lineTo(r[f],r[f+1])}return this.renderHull(t),i&&i.value()}renderPoints(t,i){void 0===i&&(!t||"function"!=typeof t.moveTo)&&(i=t,t=null),i=null==i?2:+i;const r=null==t?t=new V3:void 0,{points:o}=this;for(let s=0,a=o.length;s<a;s+=2){const l=o[s],u=o[s+1];t.moveTo(l+i,u),t.arc(l,u,i,0,Kat)}return r&&r.value()}renderHull(t){const i=null==t?t=new V3:void 0,{hull:r,points:o}=this,s=2*r[0],a=r.length;t.moveTo(o[s],o[s+1]);for(let l=1;l<a;++l){const u=2*r[l];t.lineTo(o[u],o[u+1])}return t.closePath(),i&&i.value()}hullPolygon(){const t=new N$;return this.renderHull(t),t.value()}renderTriangle(t,i){const r=null==i?i=new V3:void 0,{points:o,triangles:s}=this,a=2*s[t*=3],l=2*s[t+1],u=2*s[t+2];return i.moveTo(o[a],o[a+1]),i.lineTo(o[l],o[l+1]),i.lineTo(o[u],o[u+1]),i.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let i=0,r=t.length/3;i<r;++i)yield this.trianglePolygon(i)}trianglePolygon(t){const i=new N$;return this.renderTriangle(t,i),i.value()}}function R$(e){On.call(this,null,e)}R$.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const tlt=[-1e5,-1e5,1e5,1e5];function nlt(e){const t=e[0][0],i=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===i;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function ilt(e){return 2===e.length&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}$i(R$,On,{transform(e,t){const i=e.as||"path",r=t.source;if(!r||!r.length)return t;let o=e.size;o=o?[0,0,o[0],o[1]]:(o=e.extent)?[o[0][0],o[0][1],o[1][0],o[1][1]]:tlt;const s=this.value=L$.from(r,e.x,e.y).voronoi(o);for(let a=0,l=r.length;a<l;++a){const u=s.cellPolygon(a);r[a][i]=u&&!ilt(u)?nlt(u):null}return t.reflow(e.modified()).modifies(i)}});var U$=Math.PI/180,Dw=64,bI=2048;function olt(e,t,i,r){if(!t.sprite){var o=e.context,s=e.ratio;o.clearRect(0,0,(Dw<<5)/s,bI/s);var f,d,h,g,v,a=0,l=0,u=0,c=i.length;for(--r;++r<c;){if(t=i[r],o.save(),o.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,f=o.measureText(t.text+"m").width*s,h=t.size<<1,t.rotate){var y=Math.sin(t.rotate*U$),b=Math.cos(t.rotate*U$),E=f*b,M=f*y,k=h*b,P=h*y;f=Math.max(Math.abs(E+P),Math.abs(E-P))+31>>5<<5,h=~~Math.max(Math.abs(M+k),Math.abs(M-k))}else f=f+31>>5<<5;if(h>u&&(u=h),a+f>=Dw<<5&&(a=0,l+=u,u=0),l+h>=bI)break;o.translate((a+(f>>1))/s,(l+(h>>1))/s),t.rotate&&o.rotate(t.rotate*U$),o.fillText(t.text,0,0),t.padding&&(o.lineWidth=2*t.padding,o.strokeText(t.text,0,0)),o.restore(),t.width=f,t.height=h,t.xoff=a,t.yoff=l,t.x1=f>>1,t.y1=h>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=f}for(var H=o.getImageData(0,0,(Dw<<5)/s,bI/s).data,X=[];--r>=0;)if((t=i[r]).hasText){for(d=(f=t.width)>>5,h=t.y1-t.y0,g=0;g<h*d;g++)X[g]=0;if(null==(a=t.xoff))return;l=t.yoff;var z=0,se=-1;for(v=0;v<h;v++){for(g=0;g<f;g++){var Ie=H[(l+v)*(Dw<<5)+(a+g)<<2]?1<<31-g%32:0;X[d*v+(g>>5)]|=Ie,z|=Ie}z?se=v:(t.y0++,h--,v--,l++)}t.y1=t.y0+se,t.sprite=X.slice(0,(t.y1-t.y0)*d)}}}function slt(e,t,i){for(var f,r=e.sprite,o=e.width>>5,s=e.x-(o<<4),a=127&s,l=32-a,u=e.y1-e.y0,c=(e.y+e.y0)*(i>>=5)+(s>>5),d=0;d<u;d++){f=0;for(var h=0;h<=o;h++)if((f<<l|(h<o?(f=r[d*o+h])>>>a:0))&t[c+h])return!0;c+=i}return!1}function alt(e,t){var i=e[0],r=e[1];t.x+t.x0<i.x&&(i.x=t.x+t.x0),t.y+t.y0<i.y&&(i.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function llt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function Lme(e){var t=e[0]/e[1];return function(i){return[t*(i*=.1)*Math.cos(i),i*Math.sin(i)]}}function z3(e){return"function"==typeof e?e:function(){return e}}var flt={archimedean:Lme,rectangular:function ult(e){var i=4*e[0]/e[1],r=0,o=0;return function(s){var a=s<0?-1:1;switch(Math.sqrt(1+4*a*s)-a&3){case 0:r+=i;break;case 1:o+=4;break;case 2:r-=i;break;default:o-=4}return[r,o]}}};const Rme=["x","y","font","fontSize","fontStyle","fontWeight","angle"],dlt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function P$(e){On.call(this,function rlt(){var t,i,r,o,s,a,l,e=[256,256],u=Lme,c=[],f=Math.random,d={};function g(v,y,b){for(var z,se,ye,E=y.x,M=y.y,k=Math.hypot(e[0],e[1]),P=u(e),H=f()<.5?1:-1,X=-H;(z=P(X+=H))&&(se=~~z[0],ye=~~z[1],!(Math.min(Math.abs(se),Math.abs(ye))>=k));)if(y.x=E+se,y.y=M+ye,!(y.x+y.x0<0||y.y+y.y0<0||y.x+y.x1>e[0]||y.y+y.y1>e[1])&&(!b||!slt(y,v,e[0]))&&(!b||llt(y,b))){for(var ce,Ie=y.sprite,Ee=y.width>>5,Je=e[0]>>5,Ze=y.x-(Ee<<4),W=127&Ze,Z=32-W,te=y.y1-y.y0,Ce=(y.y+y.y0)*Je+(Ze>>5),we=0;we<te;we++){ce=0;for(var Be=0;Be<=Ee;Be++)v[Ce+Be]|=ce<<Z|(Be<Ee?(ce=Ie[we*Ee+Be])>>>W:0);Ce+=Je}return y.sprite=null,!0}return!1}return d.layout=function(){for(var v=function h(v){v.width=v.height=1;var y=Math.sqrt(v.getContext("2d").getImageData(0,0,1,1).data.length>>2);v.width=(Dw<<5)/y,v.height=bI/y;var b=v.getContext("2d");return b.fillStyle=b.strokeStyle="red",b.textAlign="center",{context:b,ratio:y}}(r2()),y=function clt(e){for(var t=[],i=-1;++i<e;)t[i]=0;return t}((e[0]>>5)*e[1]),b=null,E=c.length,M=-1,k=[],P=c.map(X=>({text:t(X),font:i(X),style:o(X),weight:s(X),rotate:a(X),size:~~(r(X)+1e-14),padding:l(X),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:X})).sort((X,z)=>z.size-X.size);++M<E;){var H=P[M];H.x=e[0]*(f()+.5)>>1,H.y=e[1]*(f()+.5)>>1,olt(v,H,P,M),H.hasText&&g(y,H,b)&&(k.push(H),b?alt(b,H):b=[{x:H.x+H.x0,y:H.y+H.y0},{x:H.x+H.x1,y:H.y+H.y1}],H.x-=e[0]>>1,H.y-=e[1]>>1)}return k},d.words=function(v){return arguments.length?(c=v,d):c},d.size=function(v){return arguments.length?(e=[+v[0],+v[1]],d):e},d.font=function(v){return arguments.length?(i=z3(v),d):i},d.fontStyle=function(v){return arguments.length?(o=z3(v),d):o},d.fontWeight=function(v){return arguments.length?(s=z3(v),d):s},d.rotate=function(v){return arguments.length?(a=z3(v),d):a},d.text=function(v){return arguments.length?(t=z3(v),d):t},d.spiral=function(v){return arguments.length?(u=flt[v]||v,d):u},d.fontSize=function(v){return arguments.length?(r=z3(v),d):r},d.padding=function(v){return arguments.length?(l=z3(v),d):l},d.random=function(v){return arguments.length?(f=v,d):f},d}(),e)}function CI(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Alt(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ume(e){let t,i,r;function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}return 2!==e.length?(t=CI,i=(l,u)=>CI(e(l),u),r=(l,u)=>e(l)-u):(t=e===CI||e===Alt?e:hlt,i=e,r=e),{left:o,center:function a(l,u,c=0,f=l.length){const d=o(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d},right:function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}}}function hlt(){return 0}P$.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Rme}]},$i(P$,On,{transform(e,t){e.size&&(!e.size[0]||!e.size[1])&&Gn("Wordcloud size dimensions must be non-zero.");const r=e.modified();if(!(r||t.changed(t.ADD_REM)||dlt.some(function i(v){const y=e[v];return Uo(y)&&t.modified(y.fields)})))return;const o=t.materialize(t.SOURCE).source,s=this.value,a=e.as||Rme;let u,l=e.fontSize||14;if(Uo(l)?u=e.fontSizeRange:l=Kc(l),u){const v=l,y=Bs("sqrt")().domain(Gp(o,v)).range(u);l=b=>y(v(b))}o.forEach(v=>{v[a[0]]=NaN,v[a[1]]=NaN,v[a[3]]=0});const c=s.words(o).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(l).random(fh).layout(),f=s.size(),d=f[0]>>1,h=f[1]>>1,g=c.length;for(let y,b,v=0;v<g;++v)y=c[v],b=y.datum,b[a[0]]=y.x+d,b[a[1]]=y.y+h,b[a[2]]=y.font,b[a[3]]=y.size,b[a[4]]=y.style,b[a[5]]=y.weight,b[a[6]]=y.rotate;return t.reflow(r).modifies(a)}});const Pme=Ume(CI),glt=Pme.right,mlt=Pme.left;Ume(function plt(e){return null===e?NaN:+e});const ylt=e=>new Uint8Array(e),_lt=e=>new Uint16Array(e),Tw=e=>new Uint32Array(e);function EI(e,t,i){const r=(t<257?ylt:t<65537?_lt:Tw)(e);return i&&r.set(i),r}function Hme(e,t,i){const r=1<<t;return{one:r,zero:~r,range:i.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(o,s){const a=this,l=a.bisect(a.range,o.value),u=o.index,c=l[0],f=l[1],d=u.length;let h;for(h=0;h<c;++h)s[u[h]]|=r;for(h=f;h<d;++h)s[u[h]]|=r;return a}}}function Qme(){let e=Tw(0),t=[],i=0;return{insert:function r(l,u,c){if(!u.length)return[];const f=i,d=u.length,h=Tw(d);let v,y,b,g=Array(d);for(b=0;b<d;++b)g[b]=l(u[b]),h[b]=b;if(g=function Clt(e,t){return e.sort.call(t,(i,r)=>{const o=e[i],s=e[r];return o<s?-1:o>s?1:0}),function vlt(e,t){return Array.from(t,i=>e[i])}(e,t)}(g,h),f)v=t,y=e,t=Array(f+d),e=Tw(f+d),function Elt(e,t,i,r,o,s,a,l,u){let d,c=0,f=0;for(d=0;c<r&&f<a;++d)t[c]<o[f]?(l[d]=t[c],u[d]=i[c++]):(l[d]=o[f],u[d]=s[f++]+e);for(;c<r;++c,++d)l[d]=t[c],u[d]=i[c];for(;f<a;++f,++d)l[d]=o[f],u[d]=s[f]+e}(c,v,y,f,g,h,d,t,e);else{if(c>0)for(b=0;b<d;++b)h[b]+=c;t=g,e=h}return i=f+d,{index:h,value:g}},remove:function o(l,u){const c=i;let f,d,h;for(d=0;!u[e[d]]&&d<c;++d);for(h=d;d<c;++d)u[f=e[d]]||(e[h]=f,t[h]=t[d],++h);i=c-l},bisect:function a(l,u){let c;return u?c=u.length:(u=t,c=i),[mlt(u,l[0],0,c),glt(u,l[1],0,c)]},reindex:function s(l){for(let u=0,c=i;u<c;++u)e[u]=l[e[u]]},index:()=>e,size:()=>i}}function H$(e){On.call(this,function wlt(){let e=8,t=[],i=Tw(0),r=EI(0,e),o=EI(0,e);return{data:()=>t,seen:()=>i=function blt(e,t,i){return e.length>=t?e:((i=i||new e.constructor(t)).set(e),i)}(i,t.length),add(s){for(let c,a=0,l=t.length,u=s.length;a<u;++a)c=s[a],c._index=l++,t.push(c)},remove(s,a){const l=t.length,u=Array(l-s),c=t;let f,d,h;for(d=0;!a[d]&&d<l;++d)u[d]=t[d],c[d]=d;for(h=d;d<l;++d)f=t[d],a[d]?c[d]=-1:(c[d]=h,r[h]=r[d],o[h]=o[d],u[h]=f,f._index=h++),r[d]=0;return t=u,c},size:()=>t.length,curr:()=>r,prev:()=>o,reset:s=>o[s]=r[s],all:()=>e<257?255:e<65537?65535:4294967295,set(s,a){r[s]|=a},clear(s,a){r[s]&=~a},resize(s,a){(s>r.length||a>e)&&(e=Math.max(a,e),r=EI(s,e,r),o=EI(s,e))}}}(),e),this._indices=null,this._dims=null}function Q$(e){On.call(this,null,e)}H$.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},$i(H$,On,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some(r=>t.modified(r.fields))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const i=e.fields,r=e.query,o=this._indices={},s=this._dims=[],a=r.length;let u,c,l=0;for(;l<a;++l)u=i[l].fname,c=o[u]||(o[u]=Qme()),s.push(Hme(c,l,r[l]));return this.eval(e,t)},reinit(e,t){const i=t.materialize().fork(),r=e.fields,o=e.query,s=this._indices,a=this._dims,l=this.value,u=l.curr(),c=l.prev(),f=l.all(),d=i.rem=i.add,h=i.mod,g=o.length,v={};let y,b,E,M,k,P,H,X,z;if(c.set(u),t.rem.length&&(k=this.remove(e,t,i)),t.add.length&&l.add(t.add),t.mod.length)for(P={},M=t.mod,H=0,X=M.length;H<X;++H)P[M[H]._index]=1;for(H=0;H<g;++H)z=r[H],(!a[H]||e.modified("fields",H)||t.modified(z.fields))&&(E=z.fname,(y=v[E])||(s[E]=b=Qme(),v[E]=y=b.insert(z,t.source,0)),a[H]=Hme(b,H,o[H]).onAdd(y,u));for(H=0,X=l.data().length;H<X;++H)k[H]||(c[H]!==u[H]?d.push(H):P[H]&&u[H]!==f&&h.push(H));return l.mask=(1<<g)-1,i},eval(e,t){const i=t.materialize().fork(),r=this._dims.length;let o=0;return t.rem.length&&(this.remove(e,t,i),o|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(o|=this.update(e,t,i)),t.add.length&&(this.insert(e,t,i),o|=(1<<r)-1),t.mod.length&&(this.modify(t,i),o|=(1<<r)-1),this.value.mask=o,i},insert(e,t,i){const r=t.add,o=this.value,s=this._dims,a=this._indices,l=e.fields,u={},c=i.add,f=o.size()+r.length,d=s.length;let g,v,y,h=o.size();o.resize(f,d),o.add(r);const b=o.curr(),E=o.prev(),M=o.all();for(g=0;g<d;++g)v=l[g].fname,y=u[v]||(u[v]=a[v].insert(l[g],r,h)),s[g].onAdd(y,b);for(;h<f;++h)E[h]=M,b[h]!==M&&c.push(h)},modify(e,t){const i=t.mod,r=this.value,o=r.curr(),s=r.all(),a=e.mod;let l,u,c;for(l=0,u=a.length;l<u;++l)c=a[l]._index,o[c]!==s&&i.push(c)},remove(e,t,i){const r=this._indices,o=this.value,s=o.curr(),a=o.prev(),l=o.all(),u={},c=i.rem,f=t.rem;let d,h,g,v;for(d=0,h=f.length;d<h;++d)g=f[d]._index,u[g]=1,a[g]=v=s[g],s[g]=l,v!==l&&c.push(g);for(g in r)r[g].remove(h,u);return this.reindex(t,h,u),u},reindex(e,t,i){const r=this._indices,o=this.value;e.runAfter(()=>{const s=o.remove(t,i);for(const a in r)r[a].reindex(s)})},update(e,t,i){const r=this._dims,o=e.query,s=t.stamp,a=r.length;let u,c,l=0;for(i.filters=0,c=0;c<a;++c)e.modified("query",c)&&(u=c,++l);if(1===l)l=r[u].one,this.incrementOne(r[u],o[u],i.add,i.rem);else for(c=0,l=0;c<a;++c)e.modified("query",c)&&(l|=r[c].one,this.incrementAll(r[c],o[c],s,i.add),i.rem=i.add);return l},incrementAll(e,t,i,r){const o=this.value,s=o.seen(),a=o.curr(),l=o.prev(),u=e.index(),c=e.bisect(e.range),f=e.bisect(t),d=f[0],h=f[1],g=c[0],v=c[1],y=e.one;let b,E,M;if(d<g)for(b=d,E=Math.min(g,h);b<E;++b)M=u[b],s[M]!==i&&(l[M]=a[M],s[M]=i,r.push(M)),a[M]^=y;else if(d>g)for(b=g,E=Math.min(d,v);b<E;++b)M=u[b],s[M]!==i&&(l[M]=a[M],s[M]=i,r.push(M)),a[M]^=y;if(h>v)for(b=Math.max(d,v),E=h;b<E;++b)M=u[b],s[M]!==i&&(l[M]=a[M],s[M]=i,r.push(M)),a[M]^=y;else if(h<v)for(b=Math.max(g,h),E=v;b<E;++b)M=u[b],s[M]!==i&&(l[M]=a[M],s[M]=i,r.push(M)),a[M]^=y;e.range=t.slice()},incrementOne(e,t,i,r){const s=this.value.curr(),a=e.index(),l=e.bisect(e.range),u=e.bisect(t),c=u[0],f=u[1],d=l[0],h=l[1],g=e.one;let v,y,b;if(c<d)for(v=c,y=Math.min(d,f);v<y;++v)b=a[v],s[b]^=g,i.push(b);else if(c>d)for(v=d,y=Math.min(c,h);v<y;++v)b=a[v],s[b]^=g,r.push(b);if(f>h)for(v=Math.max(c,h),y=f;v<y;++v)b=a[v],s[b]^=g,i.push(b);else if(f<h)for(v=Math.max(d,f),y=h;v<y;++v)b=a[v],s[b]^=g,r.push(b);e.range=t.slice()}}),Q$.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},$i(Q$,On,{transform(e,t){const i=~(e.ignore||0),r=e.filter,o=r.mask;if(!(o&i))return t.StopPropagation;const s=t.fork(t.ALL),a=r.data(),l=r.curr(),u=r.prev(),c=f=>l[f]&i?null:a[f];return s.filter(s.MOD,c),o&o-1?(s.filter(s.ADD,f=>{const d=l[f]&i;return!d&&d^u[f]&i?a[f]:null}),s.filter(s.REM,f=>!(l[f]&i)||u[f]&i?null:a[f])):(s.filter(s.ADD,c),s.filter(s.REM,f=>(l[f]&i)===o?a[f]:null)),s.filter(s.SOURCE,f=>c(f._index))}});const xlt=Math.sqrt(50),Slt=Math.sqrt(10),Blt=Math.sqrt(2);function xI(e,t,i){const r=(t-e)/Math.max(0,i),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),a=s>=xlt?10:s>=Slt?5:s>=Blt?2:1;let l,u,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?xI(e,t,2*i):[l,u,c]}function Vme(e,t,i){return xI(e=+e,t=+t,i=+i)[2]}const $3="Literal",zme="CallExpression";function M0(e){this.type=e}M0.prototype.visit=function(e){let t,i,r;if(e(this))return 1;for(t=function Plt(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case zme:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),i=0,r=t.length;i<r;++i)if(t[i].visit(e))return 1};var lg,kr,Hn,nf,oa,SI=1,Fw=2,G3=3,D2=4,BI=5,q3=6,xd=7,Ow=8;(lg={})[SI]="Boolean",lg[Fw]="<end>",lg[G3]="Identifier",lg[D2]="Keyword",lg[BI]="Null",lg[q3]="Numeric",lg[xd]="Punctuator",lg[Ow]="String",lg[9]="RegularExpression";var Qlt="ArrayExpression",Vlt="BinaryExpression",zlt="CallExpression",$lt="ConditionalExpression",$me="Identifier",Glt="Literal",qlt="LogicalExpression",jlt="MemberExpression",Klt="ObjectExpression",Wlt="Property",Xlt="UnaryExpression",Gu="Unexpected token %0",Ylt="Unexpected number",Zlt="Unexpected string",Jlt="Unexpected identifier",eut="Unexpected reserved word",tut="Unexpected end of input",V$="Invalid regular expression",z$="Invalid regular expression: missing /",Gme="Octal literals are not allowed in strict mode.",nut="Duplicate data property in object literal not allowed in strict mode",vc="ILLEGAL",kw="Disabled.",iut=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),rut=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function MI(e,t){if(!e)throw new Error("ASSERT: "+t)}function I1(e){return e>=48&&e<=57}function $$(e){return"0123456789abcdefABCDEF".includes(e)}function Nw(e){return"01234567".includes(e)}function out(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Lw(e){return 10===e||13===e||8232===e||8233===e}function Rw(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&iut.test(String.fromCharCode(e))}function II(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&rut.test(String.fromCharCode(e))}const sut={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function qme(){for(;Hn<nf;){const e=kr.charCodeAt(Hn);if(!out(e)&&!Lw(e))break;++Hn}}function G$(e){var t,i,r,o=0;for(i="u"===e?4:2,t=0;t<i;++t)Hn<nf&&$$(kr[Hn])?(r=kr[Hn++],o=16*o+"0123456789abcdef".indexOf(r.toLowerCase())):Ms({},Gu,vc);return String.fromCharCode(o)}function aut(){var e,t;for(t=0,"}"===(e=kr[Hn])&&Ms({},Gu,vc);Hn<nf&&$$(e=kr[Hn++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&Ms({},Gu,vc),t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}function jme(){var e,t;for(e=kr.charCodeAt(Hn++),t=String.fromCharCode(e),92===e&&(117!==kr.charCodeAt(Hn)&&Ms({},Gu,vc),++Hn,(!(e=G$("u"))||"\\"===e||!Rw(e.charCodeAt(0)))&&Ms({},Gu,vc),t=e);Hn<nf&&II(e=kr.charCodeAt(Hn));)++Hn,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==kr.charCodeAt(Hn)&&Ms({},Gu,vc),++Hn,(!(e=G$("u"))||"\\"===e||!II(e.charCodeAt(0)))&&Ms({},Gu,vc),t+=e);return t}function q$(){var i,o,s,a,e=Hn,t=kr.charCodeAt(Hn),r=kr[Hn];switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Hn,{type:xd,value:String.fromCharCode(t),start:e,end:Hn};default:if(61===(i=kr.charCodeAt(Hn+1)))switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Hn+=2,{type:xd,value:String.fromCharCode(t)+String.fromCharCode(i),start:e,end:Hn};case 33:case 61:return 61===kr.charCodeAt(Hn+=2)&&++Hn,{type:xd,value:kr.slice(e,Hn),start:e,end:Hn}}}return">>>="===(a=kr.substr(Hn,4))?{type:xd,value:a,start:e,end:Hn+=4}:">>>"===(s=a.substr(0,3))||"<<="===s||">>="===s?{type:xd,value:s,start:e,end:Hn+=3}:r===(o=s.substr(0,2))[1]&&"+-<>&|".includes(r)||"=>"===o?{type:xd,value:o,start:e,end:Hn+=2}:("//"===o&&Ms({},Gu,vc),"<>=!+-*%&|^/".includes(r)?(++Hn,{type:xd,value:r,start:e,end:Hn}):void Ms({},Gu,vc))}function Kme(){var e,t,i;if(MI(I1((i=kr[Hn]).charCodeAt(0))||"."===i,"Numeric literal must start with a decimal digit or a decimal point"),t=Hn,e="","."!==i){if(e=kr[Hn++],i=kr[Hn],"0"===e){if("x"===i||"X"===i)return++Hn,function cut(e){let t="";for(;Hn<nf&&$$(kr[Hn]);)t+=kr[Hn++];return 0===t.length&&Ms({},Gu,vc),Rw(kr.charCodeAt(Hn))&&Ms({},Gu,vc),{type:q3,value:parseInt("0x"+t,16),start:e,end:Hn}}(t);if(Nw(i))return function fut(e){let t="0"+kr[Hn++];for(;Hn<nf&&Nw(kr[Hn]);)t+=kr[Hn++];return(Rw(kr.charCodeAt(Hn))||I1(kr.charCodeAt(Hn)))&&Ms({},Gu,vc),{type:q3,value:parseInt(t,8),octal:!0,start:e,end:Hn}}(t);i&&I1(i.charCodeAt(0))&&Ms({},Gu,vc)}for(;I1(kr.charCodeAt(Hn));)e+=kr[Hn++];i=kr[Hn]}if("."===i){for(e+=kr[Hn++];I1(kr.charCodeAt(Hn));)e+=kr[Hn++];i=kr[Hn]}if("e"===i||"E"===i)if(e+=kr[Hn++],("+"===(i=kr[Hn])||"-"===i)&&(e+=kr[Hn++]),I1(kr.charCodeAt(Hn)))for(;I1(kr.charCodeAt(Hn));)e+=kr[Hn++];else Ms({},Gu,vc);return Rw(kr.charCodeAt(Hn))&&Ms({},Gu,vc),{type:q3,value:parseFloat(e),start:t,end:Hn}}function Wme(){if(qme(),Hn>=nf)return{type:Fw,start:Hn,end:Hn};const e=kr.charCodeAt(Hn);return Rw(e)?function uut(){var e,t;return e=Hn,t=92===kr.charCodeAt(Hn)?jme():function lut(){var e,t;for(e=Hn++;Hn<nf;){if(92===(t=kr.charCodeAt(Hn)))return Hn=e,jme();if(!II(t))break;++Hn}return kr.slice(e,Hn)}(),{type:1===t.length?G3:sut.hasOwnProperty(t)?D2:"null"===t?BI:"true"===t||"false"===t?SI:G3,value:t,start:e,end:Hn}}():40===e||41===e||59===e?q$():39===e||34===e?function dut(){var t,i,r,o,e="",s=!1;for(MI("'"===(t=kr[Hn])||'"'===t,"String literal must starts with a quote"),i=Hn,++Hn;Hn<nf;){if((r=kr[Hn++])===t){t="";break}if("\\"===r)if((r=kr[Hn++])&&Lw(r.charCodeAt(0)))"\r"===r&&"\n"===kr[Hn]&&++Hn;else switch(r){case"u":case"x":"{"===kr[Hn]?(++Hn,e+=aut()):e+=G$(r);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Nw(r)?(0!==(o="01234567".indexOf(r))&&(s=!0),Hn<nf&&Nw(kr[Hn])&&(s=!0,o=8*o+"01234567".indexOf(kr[Hn++]),"0123".includes(r)&&Hn<nf&&Nw(kr[Hn])&&(o=8*o+"01234567".indexOf(kr[Hn++]))),e+=String.fromCharCode(o)):e+=r}else{if(Lw(r.charCodeAt(0)))break;e+=r}}return""!==t&&Ms({},Gu,vc),{type:Ow,value:e,octal:s,start:i,end:Hn}}():46===e?I1(kr.charCodeAt(Hn+1))?Kme():q$():I1(e)?Kme():q$()}function Sd(){const e=oa;return Hn=e.end,oa=Wme(),Hn=e.end,e}function Xme(){const e=Hn;oa=Wme(),Hn=e}function Yme(e,t,i){const r=new M0("||"===e||"&&"===e?qlt:Vlt);return r.operator=e,r.left=t,r.right=i,r}function yut(e,t){const i=new M0(zlt);return i.callee=e,i.arguments=t,i}function j$(e){const t=new M0($me);return t.name=e,t}function Uw(e){const t=new M0(Glt);return t.value=e.value,t.raw=kr.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Zme(e,t,i){const r=new M0(jlt);return r.computed="["===e,r.object=t,r.property=i,r.computed||(i.member=!0),r}function Jme(e,t,i){const r=new M0(Wlt);return r.key=t,r.value=i,r.kind=e,r}function Ms(e,t){var i,r=Array.prototype.slice.call(arguments,2),o=t.replace(/%(\d)/g,(s,a)=>(MI(a<r.length,"Message reference must be in range"),r[a]));throw(i=new Error(o)).index=Hn,i.description=o,i}function DI(e){e.type===Fw&&Ms(e,tut),e.type===q3&&Ms(e,Ylt),e.type===Ow&&Ms(e,Zlt),e.type===G3&&Ms(e,Jlt),e.type===D2&&Ms(e,eut),Ms(e,Gu,e.value)}function rf(e){const t=Sd();(t.type!==xd||t.value!==e)&&DI(t)}function tl(e){return oa.type===xd&&oa.value===e}function K$(e){return oa.type===D2&&oa.value===e}function e2e(){Hn=oa.start;const e=Sd();return e.type===Ow||e.type===q3?(e.octal&&Ms(e,Gme),Uw(e)):j$(e.value)}function Eut(){var e,t,i;return Hn=oa.start,(e=oa).type===G3?(i=e2e(),rf(":"),Jme("init",i,j3())):e.type!==Fw&&e.type!==xd?(t=e2e(),rf(":"),Jme("init",t,j3())):void DI(e)}const But={if:1};function Mut(){var e,t,i;if(tl("("))return function Sut(){rf("(");const e=W$();return rf(")"),e}();if(tl("["))return function Cut(){const e=[];for(Hn=oa.start,rf("[");!tl("]");)tl(",")?(Sd(),e.push(null)):(e.push(j3()),tl("]")||rf(","));return Sd(),function vut(e){const t=new M0(Qlt);return t.elements=e,t}(e)}();if(tl("{"))return function xut(){var t,r,e=[],o={},s=String;for(Hn=oa.start,rf("{");!tl("}");)r="$"+((t=Eut()).key.type===$me?t.key.name:s(t.key.value)),Object.prototype.hasOwnProperty.call(o,r)?Ms({},nut):o[r]=!0,e.push(t),tl("}")||rf(",");return rf("}"),function wut(e){const t=new M0(Klt);return t.properties=e,t}(e)}();if(Hn=oa.start,(e=oa.type)===G3||But[oa.value])i=j$(Sd().value);else if(e===Ow||e===q3)oa.octal&&Ms(oa,Gme),i=Uw(Sd());else{if(e===D2)throw new Error(kw);e===SI?((t=Sd()).value="true"===t.value,i=Uw(t)):e===BI?((t=Sd()).value=null,i=Uw(t)):tl("/")||tl("/=")?(i=Uw(function gut(){var e,t,i,r;return oa=null,qme(),e=Hn,t=function hut(){var e,t,i,r;for(MI("/"===(e=kr[Hn]),"Regular expression literal must start with a slash"),t=kr[Hn++],i=!1,r=!1;Hn<nf;)if(t+=e=kr[Hn++],"\\"===e)Lw((e=kr[Hn++]).charCodeAt(0))&&Ms({},z$),t+=e;else if(Lw(e.charCodeAt(0)))Ms({},z$);else if(i)"]"===e&&(i=!1);else{if("/"===e){r=!0;break}"["===e&&(i=!0)}return r||Ms({},z$),{value:t.substr(1,t.length-2),literal:t}}(),i=function put(){var e,t,i;for(t="",i="";Hn<nf&&II((e=kr[Hn]).charCodeAt(0));)++Hn,"\\"===e&&Hn<nf?Ms({},Gu,vc):(i+=e,t+=e);return i.search(/[^gimuy]/g)>=0&&Ms({},V$,i),{value:i,literal:t}}(),r=function Aut(e,t){let i=e;t.includes("u")&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,o)=>{if(parseInt(o,16)<=1114111)return"x";Ms({},V$)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(i)}catch{Ms({},V$)}try{return new RegExp(e,t)}catch{return null}}(t.value,i.value),{literal:t.literal+i.literal,value:r,regex:{pattern:t.value,flags:i.value},start:e,end:Hn}}()),Xme()):DI(Sd())}return i}function Iut(){const e=[];if(rf("("),!tl(")"))for(;Hn<nf&&(e.push(j3()),!tl(")"));)rf(",");return rf(")"),e}function Dut(){Hn=oa.start;const e=Sd();return function mut(e){return e.type===G3||e.type===D2||e.type===SI||e.type===BI}(e)||DI(e),j$(e.value)}function Fut(){rf("[");const e=W$();return rf("]"),e}function t2e(){const e=function Out(){var e;for(e=Mut();;)if(tl("."))rf("."),e=Zme(".",e,Dut());else if(tl("("))e=yut(e,Iut());else{if(!tl("["))break;e=Zme("[",e,Fut())}return e}();if(oa.type===xd&&(tl("++")||tl("--")))throw new Error(kw);return e}function TI(){var e,t;if(oa.type!==xd&&oa.type!==D2)t=t2e();else{if(tl("++")||tl("--"))throw new Error(kw);if(tl("+")||tl("-")||tl("~")||tl("!"))e=Sd(),t=TI(),t=function but(e,t){const i=new M0(Xlt);return i.operator=e,i.argument=t,i.prefix=!0,i}(e.value,t);else{if(K$("delete")||K$("void")||K$("typeof"))throw new Error(kw);t=t2e()}}return t}function n2e(e){let t=0;if(e.type!==xd&&e.type!==D2)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function j3(){var e,t;return e=function kut(){var e,t,i,r,o,s,a,l,u,c;if(e=oa,u=TI(),0===(o=n2e(r=oa)))return u;for(r.prec=o,Sd(),t=[e,oa],s=[u,r,a=TI()];(o=n2e(oa))>0;){for(;s.length>2&&o<=s[s.length-2].prec;)a=s.pop(),l=s.pop().value,u=s.pop(),t.pop(),i=Yme(l,u,a),s.push(i);(r=Sd()).prec=o,s.push(r),t.push(oa),i=TI(),s.push(i)}for(i=s[c=s.length-1],t.pop();c>1;)t.pop(),i=Yme(s[c-1].value,s[c-2],i),c-=2;return i}(),tl("?")&&(Sd(),t=j3(),rf(":"),e=function _ut(e,t,i){const r=new M0($lt);return r.test=e,r.consequent=t,r.alternate=i,r}(e,t,j3())),e}function W$(){const e=j3();if(tl(","))throw new Error(kw);return e}function i2e(e){Hn=0,nf=(kr=e).length,oa=null,Xme();const t=W$();if(oa.type!==Fw)throw new Error("Unexpect token after expression.");return t}var r2e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function o2e(e){function i(a,l,u){return c=>function t(a,l,u,c){let f=e(l[0]);return u&&(f=u+"("+f+")",0===u.lastIndexOf("new ",0)&&(f="("+f+")")),f+"."+a+(c<0?"":0===c?"()":"("+l.slice(1).map(e).join(",")+")")}(a,c,l,u)}const r="new Date",o="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&Gn("Missing arguments to clamp function."),a.length>3&&Gn("Too many arguments to clamp function.");const l=a.map(e);return"Math.max("+l[1]+", Math.min("+l[2]+","+l[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:i("getDate",r,0),day:i("getDay",r,0),year:i("getFullYear",r,0),month:i("getMonth",r,0),hours:i("getHours",r,0),minutes:i("getMinutes",r,0),seconds:i("getSeconds",r,0),milliseconds:i("getMilliseconds",r,0),time:i("getTime",r,0),timezoneoffset:i("getTimezoneOffset",r,0),utcdate:i("getUTCDate",r,0),utcday:i("getUTCDay",r,0),utcyear:i("getUTCFullYear",r,0),utcmonth:i("getUTCMonth",r,0),utchours:i("getUTCHours",r,0),utcminutes:i("getUTCMinutes",r,0),utcseconds:i("getUTCSeconds",r,0),utcmilliseconds:i("getUTCMilliseconds",r,0),length:i("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:i("toUpperCase",o,0),lower:i("toLowerCase",o,0),substring:i("substring",o),split:i("split",o),trim:i("trim",o,0),btoa:"btoa",atob:"atob",regexp:s,test:i("test",s),if:function(a){a.length<3&&Gn("Missing arguments to if function."),a.length>3&&Gn("Too many arguments to if function.");const l=a.map(e);return"("+l[0]+"?"+l[1]+":"+l[2]+")"}}}function s2e(e){const t=(e=e||{}).allowed?d0(e.allowed):{},i=e.forbidden?d0(e.forbidden):{},r=e.constants||r2e,o=(e.functions||o2e)(d),s=e.globalvar,a=e.fieldvar,l=Uo(s)?s:v=>`${s}["${v}"]`;let u={},c={},f=0;function d(v){if(Ji(v))return v;const y=h[v.type];return null==y&&Gn("Unsupported type: "+v.type),y(v)}const h={Literal:v=>v.raw,Identifier:v=>{const y=v.name;return f>0?y:fr(i,y)?Gn("Illegal identifier: "+y):fr(r,y)?r[y]:fr(t,y)?y:(u[y]=1,l(y))},MemberExpression:v=>{const y=!v.computed,b=d(v.object);y&&(f+=1);const E=d(v.property);return b===a&&(c[function Nut(e){const t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(E)]=1),y&&(f-=1),b+(y?"."+E:"["+E+"]")},CallExpression:v=>{"Identifier"!==v.callee.type&&Gn("Illegal callee type: "+v.callee.type);const y=v.callee.name,b=v.arguments,E=fr(o,y)&&o[y];return E||Gn("Unrecognized function: "+y),Uo(E)?E(b):E+"("+b.map(d).join(",")+")"},ArrayExpression:v=>"["+v.elements.map(d).join(",")+"]",BinaryExpression:v=>"("+d(v.left)+" "+v.operator+" "+d(v.right)+")",UnaryExpression:v=>"("+v.operator+d(v.argument)+")",ConditionalExpression:v=>"("+d(v.test)+"?"+d(v.consequent)+":"+d(v.alternate)+")",LogicalExpression:v=>"("+d(v.left)+v.operator+d(v.right)+")",ObjectExpression:v=>"{"+v.properties.map(d).join(",")+"}",Property:v=>{f+=1;const y=d(v.key);return f-=1,y+":"+d(v.value)}};function g(v){const y={code:d(v),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},y}return g.functions=o,g.constants=r,g}class ug{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let r=0;for(let o=0;o<this._n&&o<32;o++){const s=i[o],a=t+s,l=Math.abs(t)<Math.abs(s)?t-(a-s):s-(a-t);l&&(i[r++]=l),t=a}return i[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let r,o,s,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(r=a,o=t[--i],a=r+o,s=o-(a-r),!s););i>0&&(s<0&&t[i-1]<0||s>0&&t[i-1]>0)&&(o=2*s,r=a+o,o==r-a&&(a=r))}return a}}var FI=1e-6,O8=Math.PI,l2e=O8/2,u2e=O8/4,c2e=2*O8,Pw=180/O8,sf=O8/180,X$=Math.abs,OI=(Math,Math.atan2),Vf=Math.cos,Y$=(Math,Math,Math,Math.hypot),af=(Math,Math,Math.sin),f2e=(Math,Math.sqrt);function Z$(e){return e>1?l2e:e<-1?-l2e:Math.asin(e)}function Hw(){}function kI(e,t){e&&A2e.hasOwnProperty(e.type)&&A2e[e.type](e,t)}Math;var d2e={Feature:function(e,t){kI(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,r=-1,o=i.length;++r<o;)kI(i[r].geometry,t)}},A2e={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)t.point((e=i[r])[0],e[1],e[2])},LineString:function(e,t){J$(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)J$(i[r],t,0)},Polygon:function(e,t){h2e(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,r=-1,o=i.length;++r<o;)h2e(i[r],t)},GeometryCollection:function(e,t){for(var i=e.geometries,r=-1,o=i.length;++r<o;)kI(i[r],t)}};function J$(e,t,i){var s,r=-1,o=e.length-i;for(t.lineStart();++r<o;)t.point((s=e[r])[0],s[1],s[2]);t.lineEnd()}function h2e(e,t){var i=-1,r=e.length;for(t.polygonStart();++i<r;)J$(e[i],t,1);t.polygonEnd()}function eG(e,t){e&&d2e.hasOwnProperty(e.type)?d2e[e.type](e,t):kI(e,t)}var p2e,g2e,tG,nG,iG,NI=new ug,LI=new ug,cg={point:Hw,lineStart:Hw,lineEnd:Hw,polygonStart:function(){NI=new ug,cg.lineStart=Lut,cg.lineEnd=Rut},polygonEnd:function(){var e=+NI;LI.add(e<0?c2e+e:e),this.lineStart=this.lineEnd=this.point=Hw},sphere:function(){LI.add(c2e)}};function Lut(){cg.point=Uut}function Rut(){m2e(p2e,g2e)}function Uut(e,t){cg.point=m2e,p2e=e,g2e=t,tG=e*=sf,nG=Vf(t=(t*=sf)/2+u2e),iG=af(t)}function m2e(e,t){var i=(e*=sf)-tG,r=i>=0?1:-1,o=r*i,s=Vf(t=(t*=sf)/2+u2e),a=af(t),l=iG*a,u=nG*s+l*Vf(o),c=l*r*af(o);NI.add(OI(c,u)),tG=e,nG=s,iG=a}function v2e(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}var kl,Bd,$l,yA,K3,y2e,_2e,k8,Qw,T2,D1,T1={point:rG,lineStart:b2e,lineEnd:C2e,polygonStart:function(){T1.point=E2e,T1.lineStart=zut,T1.lineEnd=$ut,Qw=new ug,cg.polygonStart()},polygonEnd:function(){cg.polygonEnd(),T1.point=rG,T1.lineStart=b2e,T1.lineEnd=C2e,NI<0?(kl=-($l=180),Bd=-(yA=90)):Qw>FI?yA=90:Qw<-FI&&(Bd=-90),D1[0]=kl,D1[1]=$l},sphere:function(){kl=-($l=180),Bd=-(yA=90)}};function rG(e,t){T2.push(D1=[kl=e,$l=e]),t<Bd&&(Bd=t),t>yA&&(yA=t)}function w2e(e,t){var i=function Qut(e){var t=e[0],i=e[1],r=Vf(i);return[r*Vf(t),r*af(t),af(i)]}([e*sf,t*sf]);if(k8){var r=v2e(k8,i),s=v2e([r[1],-r[0],0],r);(function Vut(e){var t=f2e(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t})(s),s=function Hut(e){return[OI(e[1],e[0]),Z$(e[2])]}(s);var c,a=e-K3,l=a>0?1:-1,u=s[0]*Pw*l,f=X$(a)>180;f^(l*K3<u&&u<l*e)?(c=s[1]*Pw)>yA&&(yA=c):f^(l*K3<(u=(u+360)%360-180)&&u<l*e)?(c=-s[1]*Pw)<Bd&&(Bd=c):(t<Bd&&(Bd=t),t>yA&&(yA=t)),f?e<K3?_A(kl,e)>_A(kl,$l)&&($l=e):_A(e,$l)>_A(kl,$l)&&(kl=e):$l>=kl?(e<kl&&(kl=e),e>$l&&($l=e)):e>K3?_A(kl,e)>_A(kl,$l)&&($l=e):_A(e,$l)>_A(kl,$l)&&(kl=e)}else T2.push(D1=[kl=e,$l=e]);t<Bd&&(Bd=t),t>yA&&(yA=t),k8=i,K3=e}function b2e(){T1.point=w2e}function C2e(){D1[0]=kl,D1[1]=$l,T1.point=rG,k8=null}function E2e(e,t){if(k8){var i=e-K3;Qw.add(X$(i)>180?i+(i>0?360:-360):i)}else y2e=e,_2e=t;cg.point(e,t),w2e(e,t)}function zut(){cg.lineStart()}function $ut(){E2e(y2e,_2e),cg.lineEnd(),X$(Qw)>FI&&(kl=-($l=180)),D1[0]=kl,D1[1]=$l,k8=null}function _A(e,t){return(t-=e)<0?t+360:t}function Gut(e,t){return e[0]-t[0]}function x2e(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Vw,RI,UI,PI,HI,QI,VI,zI,oG,sG,aG,S2e,B2e,zf,$f,Gf,I0={sphere:Hw,point:lG,lineStart:M2e,lineEnd:I2e,polygonStart:function(){I0.lineStart=Wut,I0.lineEnd=Xut},polygonEnd:function(){I0.lineStart=M2e,I0.lineEnd=I2e}};function lG(e,t){e*=sf;var i=Vf(t*=sf);zw(i*Vf(e),i*af(e),af(t))}function zw(e,t,i){++Vw,UI+=(e-UI)/Vw,PI+=(t-PI)/Vw,HI+=(i-HI)/Vw}function M2e(){I0.point=jut}function jut(e,t){e*=sf;var i=Vf(t*=sf);zf=i*Vf(e),$f=i*af(e),Gf=af(t),I0.point=Kut,zw(zf,$f,Gf)}function Kut(e,t){e*=sf;var i=Vf(t*=sf),r=i*Vf(e),o=i*af(e),s=af(t),a=OI(f2e((a=$f*s-Gf*o)*a+(a=Gf*r-zf*s)*a+(a=zf*o-$f*r)*a),zf*r+$f*o+Gf*s);RI+=a,QI+=a*(zf+(zf=r)),VI+=a*($f+($f=o)),zI+=a*(Gf+(Gf=s)),zw(zf,$f,Gf)}function I2e(){I0.point=lG}function Wut(){I0.point=Yut}function Xut(){D2e(S2e,B2e),I0.point=lG}function Yut(e,t){S2e=e,B2e=t,e*=sf,t*=sf,I0.point=D2e;var i=Vf(t);zf=i*Vf(e),$f=i*af(e),Gf=af(t),zw(zf,$f,Gf)}function D2e(e,t){e*=sf;var i=Vf(t*=sf),r=i*Vf(e),o=i*af(e),s=af(t),a=$f*s-Gf*o,l=Gf*r-zf*s,u=zf*o-$f*r,c=Y$(a,l,u),f=Z$(c),d=c&&-f/c;oG.add(d*a),sG.add(d*l),aG.add(d*u),RI+=f,QI+=f*(zf+(zf=r)),VI+=f*($f+($f=o)),zI+=f*(Gf+(Gf=s)),zw(zf,$f,Gf)}function $w(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function $I(e,t){var i=Object.create(e.prototype);for(var r in t)i[r]=t[r];return i}function W3(){}var GI=1/.7,N8="\\s*([+-]?\\d+)\\s*",qw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jut=/^#([0-9a-f]{3,8})$/,ect=new RegExp(`^rgb\\(${N8},${N8},${N8}\\)$`),tct=new RegExp(`^rgb\\(${fg},${fg},${fg}\\)$`),nct=new RegExp(`^rgba\\(${N8},${N8},${N8},${qw}\\)$`),ict=new RegExp(`^rgba\\(${fg},${fg},${fg},${qw}\\)$`),rct=new RegExp(`^hsl\\(${qw},${fg},${fg}\\)$`),oct=new RegExp(`^hsla\\(${qw},${fg},${fg},${qw}\\)$`),T2e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function F2e(){return this.rgb().formatHex()}function O2e(){return this.rgb().formatRgb()}function uG(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=Jut.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?k2e(t):3===i?new lf(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?qI(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?qI(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ect.exec(e))?new lf(t[1],t[2],t[3],1):(t=tct.exec(e))?new lf(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=nct.exec(e))?qI(t[1],t[2],t[3],t[4]):(t=ict.exec(e))?qI(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=rct.exec(e))?U2e(t[1],t[2]/100,t[3]/100,1):(t=oct.exec(e))?U2e(t[1],t[2]/100,t[3]/100,t[4]):T2e.hasOwnProperty(e)?k2e(T2e[e]):"transparent"===e?new lf(NaN,NaN,NaN,0):null}function k2e(e){return new lf(e>>16&255,e>>8&255,255&e,1)}function qI(e,t,i,r){return r<=0&&(e=t=i=NaN),new lf(e,t,i,r)}function N2e(e){return e instanceof W3||(e=uG(e)),e?new lf((e=e.rgb()).r,e.g,e.b,e.opacity):new lf}function cG(e,t,i,r){return 1===arguments.length?N2e(e):new lf(e,t,i,r??1)}function lf(e,t,i,r){this.r=+e,this.g=+t,this.b=+i,this.opacity=+r}function L2e(){return`#${Y3(this.r)}${Y3(this.g)}${Y3(this.b)}`}function R2e(){const e=jI(this.opacity);return`${1===e?"rgb(":"rgba("}${X3(this.r)}, ${X3(this.g)}, ${X3(this.b)}${1===e?")":`, ${e})`}`}function jI(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function X3(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Y3(e){return((e=X3(e))<16?"0":"")+e.toString(16)}function U2e(e,t,i,r){return r<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new D0(e,t,i,r)}function P2e(e){if(e instanceof D0)return new D0(e.h,e.s,e.l,e.opacity);if(e instanceof W3||(e=uG(e)),!e)return new D0;if(e instanceof D0)return e;var t=(e=e.rgb()).r/255,i=e.g/255,r=e.b/255,o=Math.min(t,i,r),s=Math.max(t,i,r),a=NaN,l=s-o,u=(s+o)/2;return l?(a=t===s?(i-r)/l+6*(i<r):i===s?(r-t)/l+2:(t-i)/l+4,l/=u<.5?s+o:2-s-o,a*=60):l=u>0&&u<1?0:a,new D0(a,l,u,e.opacity)}function H2e(e,t,i,r){return 1===arguments.length?P2e(e):new D0(e,t,i,r??1)}function D0(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}function Q2e(e){return(e=(e||0)%360)<0?e+360:e}function KI(e){return Math.max(0,Math.min(1,e||0))}function fG(e,t,i){return 255*(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)}$w(W3,uG,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:F2e,formatHex:F2e,formatHex8:function sct(){return this.rgb().formatHex8()},formatHsl:function act(){return P2e(this).formatHsl()},formatRgb:O2e,toString:O2e}),$w(lf,cG,$I(W3,{brighter(e){return e=null==e?GI:Math.pow(GI,e),new lf(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new lf(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lf(X3(this.r),X3(this.g),X3(this.b),jI(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L2e,formatHex:L2e,formatHex8:function lct(){return`#${Y3(this.r)}${Y3(this.g)}${Y3(this.b)}${Y3(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:R2e,toString:R2e})),$w(D0,H2e,$I(W3,{brighter(e){return e=null==e?GI:Math.pow(GI,e),new D0(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new D0(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*t,o=2*i-r;return new lf(fG(e>=240?e-240:e+120,o,r),fG(e,o,r),fG(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new D0(Q2e(this.h),KI(this.s),KI(this.l),jI(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jI(this.opacity);return`${1===e?"hsl(":"hsla("}${Q2e(this.h)}, ${100*KI(this.s)}%, ${100*KI(this.l)}%${1===e?")":`, ${e})`}`}}));const uct=Math.PI/180,cct=180/Math.PI,V2e=.96422,z2e=1,$2e=.82521,G2e=4/29,L8=6/29,q2e=3*L8*L8,fct=L8*L8*L8;function j2e(e){if(e instanceof T0)return new T0(e.l,e.a,e.b,e.opacity);if(e instanceof dg)return Y2e(e);e instanceof lf||(e=N2e(e));var s,a,t=pG(e.r),i=pG(e.g),r=pG(e.b),o=dG((.2225045*t+.7168786*i+.0606169*r)/z2e);return t===i&&i===r?s=a=o:(s=dG((.4360747*t+.3850649*i+.1430804*r)/V2e),a=dG((.0139322*t+.0971045*i+.7141733*r)/$2e)),new T0(116*o-16,500*(s-o),200*(o-a),e.opacity)}function K2e(e,t,i,r){return 1===arguments.length?j2e(e):new T0(e,t,i,r??1)}function T0(e,t,i,r){this.l=+e,this.a=+t,this.b=+i,this.opacity=+r}function dG(e){return e>fct?Math.pow(e,1/3):e/q2e+G2e}function AG(e){return e>L8?e*e*e:q2e*(e-G2e)}function hG(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function pG(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function X2e(e,t,i,r){return 1===arguments.length?function W2e(e){if(e instanceof dg)return new dg(e.h,e.c,e.l,e.opacity);if(e instanceof T0||(e=j2e(e)),0===e.a&&0===e.b)return new dg(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*cct;return new dg(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new dg(e,t,i,r??1)}function dg(e,t,i,r){this.h=+e,this.c=+t,this.l=+i,this.opacity=+r}function Y2e(e){if(isNaN(e.h))return new T0(e.l,0,0,e.opacity);var t=e.h*uct;return new T0(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function gG(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dct(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hct(){return 0}function mct(e){return e instanceof OB?e:new OB(e)}$w(T0,K2e,$I(W3,{brighter(e){return new T0(this.l+18*(e??1),this.a,this.b,this.opacity)},darker(e){return new T0(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,i=isNaN(this.b)?e:e-this.b/200;return new lf(hG(3.1338561*(t=V2e*AG(t))-1.6168667*(e=z2e*AG(e))-.4906146*(i=$2e*AG(i))),hG(-.9787684*t+1.9161415*e+.033454*i),hG(.0719453*t-.2289914*e+1.4052427*i),this.opacity)}})),$w(dg,X2e,$I(W3,{brighter(e){return new dg(this.h,this.c,this.l+18*(e??1),this.opacity)},darker(e){return new dg(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb(){return Y2e(this).rgb()}}));const Z2e=Symbol("vega_selection_getter");function J2e(e){return(!e.getter||!e.getter[Z2e])&&(e.getter=oh(e.field),e.getter[Z2e]=!0),e.getter}const mG="intersect",Ag="_vgsid_",jw=oh(Ag),XI="index:unit";function nve(e,t){for(var a,l,i=t.fields,r=t.values,o=i.length,s=0;s<o;++s)if(Wm(a=J2e(l=i[s])(e))&&(a=jc(a)),Wm(r[s])&&(r[s]=jc(r[s])),Xn(r[s])&&Wm(r[s][0])&&(r[s]=r[s].map(jc)),"E"===l.type){if(Xn(r[s])?!r[s].includes(a):a!==r[s])return!1}else if("R"===l.type){if(!R6(a,r[s]))return!1}else if("R-RE"===l.type){if(!R6(a,r[s],!0,!1))return!1}else if("R-E"===l.type){if(!R6(a,r[s],!1,!1))return!1}else if("R-LE"===l.type){if(!R6(a,r[s],!1,!0))return!1}else if("E-LT"===l.type){if(a>=r[s])return!1}else if("E-LTE"===l.type){if(a>r[s])return!1}else if("E-GT"===l.type){if(a<=r[s])return!1}else if("E-GTE"===l.type){if(a<r[s])return!1}else if("E-VALID"===l.type){if(null===a||isNaN(a))return!1}else if("E-ONE"===l.type&&-1===r[s].indexOf(a))return!1;return!0}const ive=function Act(e){let t,i,r;function o(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}return 2!==e.length?(t=gG,i=(l,u)=>gG(e(l),u),r=(l,u)=>e(l)-u):(t=e===gG||e===dct?e:hct,i=e,r=e),{left:o,center:function a(l,u,c=0,f=l.length){const d=o(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d},right:function s(l,u,c=0,f=l.length){if(c<f){if(0!==t(u,u))return f;do{const d=c+f>>>1;i(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}}}(jw),Oct=ive.left,kct=ive.right;var vG={[`${Ag}_union`]:function pct(...e){const t=new OB;for(const i of e)for(const r of i)t.add(r);return t},[`${Ag}_intersect`]:function gct(e,...t){e=new OB(e),t=t.map(mct);e:for(const i of e)for(const r of t)if(!r.has(i)){e.delete(i);continue e}return e},E_union:function(e,t){if(!e.length)return t;for(var i=0,r=t.length;i<r;++i)e.includes(t[i])||e.push(t[i]);return e},E_intersect:function(e,t){return e.length?e.filter(i=>t.includes(i)):t},R_union:function(e,t){var i=jc(t[0]),r=jc(t[1]);return i>r&&(i=t[1],r=t[0]),e.length?(e[0]>i&&(e[0]=i),e[1]<r&&(e[1]=r),e):[i,r]},R_intersect:function(e,t){var i=jc(t[0]),r=jc(t[1]);return i>r&&(i=t[1],r=t[0]),e.length?r<e[0]||e[1]<i?[]:(e[0]<i&&(e[0]=i),e[1]>r&&(e[1]=r),e):[i,r]}};function yG(e,t,i,r){t[0].type!==$3&&Gn("First argument to selection functions must be a string literal.");const o=t[0].value,a="unit",l="@"+a,u=":"+o;(t.length>=2&&ds(t).value)===mG&&!fr(r,l)&&(r[l]=i.getData(o).indataRef(i,a)),fr(r,u)||(r[u]=i.getData(o).tuplesRef())}function rve(e){const t=this.context.data[e];return t?t.values.value:[]}const Kw=e=>function(t,i){const r=this.context.dataflow.locale();return null===t?"null":r[e](i)(t)},$ct=Kw("format"),ove=Kw("timeFormat"),Gct=Kw("utcFormat"),qct=Kw("timeParse"),jct=Kw("utcParse"),YI=new Date(2e3,0,1);function ZI(e,t,i){return Number.isInteger(e)&&Number.isInteger(t)?(YI.setYear(2e3),YI.setMonth(e),YI.setDate(t),ove.call(this,YI,i)):""}const _G="%",sve="$";function wG(e,t,i,r){t[0].type!==$3&&Gn("First argument to data functions must be a string literal.");const o=t[0].value,s=":"+o;if(!fr(s,r))try{r[s]=i.getData(o).tuplesRef()}catch{}}function qf(e,t,i,r){if(t[0].type===$3)ave(i,r,t[0].value);else for(e in i.scales)ave(i,r,e)}function ave(e,t,i){const r=_G+i;if(!fr(t,r))try{t[r]=e.scaleRef(i)}catch{}}function hg(e,t){if(Ji(e)){const i=t.scales[e];return i&&hhe(i.value)?i.value:void 0}if(Uo(e))return hhe(e)?e:void 0}function bG(e,t){return function(i,r,o){if(i){const s=hg(i,(o||this).context);return s&&s.path[e](r)}return t(r)}}const nft=bG("area",function Put(e){return LI=new ug,eG(e,cg),2*LI}),ift=bG("bounds",function qut(e){var t,i,r,o,s,a,l;if(yA=$l=-(kl=Bd=1/0),T2=[],eG(e,T1),i=T2.length){for(T2.sort(Gut),t=1,s=[r=T2[0]];t<i;++t)x2e(r,(o=T2[t])[0])||x2e(r,o[1])?(_A(r[0],o[1])>_A(r[0],r[1])&&(r[1]=o[1]),_A(o[0],r[1])>_A(r[0],r[1])&&(r[0]=o[0])):s.push(r=o);for(a=-1/0,t=0,r=s[i=s.length-1];t<=i;r=o,++t)(l=_A(r[1],(o=s[t])[0]))>a&&(a=l,kl=o[0],$l=r[1])}return T2=D1=null,kl===1/0||Bd===1/0?[[NaN,NaN],[NaN,NaN]]:[[kl,Bd],[$l,yA]]}),rft=bG("centroid",function Zut(e){Vw=RI=UI=PI=HI=QI=VI=zI=0,oG=new ug,sG=new ug,aG=new ug,eG(e,I0);var t=+oG,i=+sG,r=+aG,o=Y$(t,i,r);return o<1e-12&&(t=QI,i=VI,r=zI,RI<FI&&(t=UI,i=PI,r=HI),(o=Y$(t,i,r))<1e-12)?[NaN,NaN]:[OI(i,t)*Pw,Z$(r/o)*Pw]});function CG(e,t,i){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(i)))}catch(r){e.warn(r)}return i[i.length-1]}function EG(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xG(e){const t=cG(e);return.2126*EG(t.r)+.7152*EG(t.g)+.0722*EG(t.b)}function lve(e,t){return e===t||e!=e&&t!=t||(Xn(e)?!(!Xn(t)||e.length!==t.length)&&function dft(e,t){for(let i=0,r=e.length;i<r;++i)if(!lve(e[i],t[i]))return!1;return!0}(e,t):!(!Zi(e)||!Zi(t))&&uve(e,t))}function uve(e,t){for(const i in e)if(!lve(e[i],t[i]))return!1;return!0}function cve(e){return t=>uve(e,t)}const fve={};function JI(e){return Xn(e)||ArrayBuffer.isView(e)?e:null}function SG(e){return JI(e)||(Ji(e)?e:null)}const dve=e=>e.data;function Ave(e,t){const i=rve.call(t,e);return i.root&&i.root.lookup||{}}const hve=()=>typeof window<"u"&&window||null;function pve(e,t,i){if(!e)return[];const[r,o]=e,s=(new fu).set(r[0],r[1],o[0],o[1]);return ipe(i||this.context.dataflow.scenegraph().root,s,function Pft(e){let t=null;if(e){const i=er(e.marktype),r=er(e.markname);t=o=>(!i.length||i.some(s=>o.marktype===s))&&(!r.length||r.some(s=>o.name===s))}return t}(t))}const Ww={random:()=>fh(),cumulativeNormal:lB,cumulativeLogNormal:VP,cumulativeUniform:qP,densityNormal:RP,densityLogNormal:QP,densityUniform:GP,quantileNormal:uB,quantileLogNormal:zP,quantileUniform:jP,sampleNormal:aB,sampleLogNormal:HP,sampleUniform:$P,isArray:Xn,isBoolean:Km,isDate:Wm,isDefined:e=>void 0!==e,isNumber:Es,isObject:Zi,isRegExp:DU,isString:Ji,isTuple:ZS,isValid:e=>null!=e&&e==e,toBoolean:FU,toDate:e=>OU(e),toNumber:jc,toString:kU,indexof:function vft(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return SG(e).indexOf(...i)},join:function mft(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return JI(e).join(...i)},lastindexof:function yft(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return SG(e).lastIndexOf(...i)},replace:function wft(e,t,i){return Uo(i)&&Gn("Function argument passed to replace."),!Ji(t)&&!DU(t)&&Gn("Please pass a string or RegExp argument to replace."),String(e).replace(t,i)},reverse:function bft(e){return JI(e).slice().reverse()},sort:function Cft(e){return JI(e).slice().sort(N6)},slice:function _ft(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return SG(e).slice(...i)},flush:yue,lerp:wue,merge:function fft(){const e=[].slice.call(arguments);return e.unshift({}),Po(...e)},pad:Eue,peek:ds,pluck:function gft(e,t){const i=fve[t]||(fve[t]=oh(t));return Xn(e)?e.map(i):i(e)},span:W7,inrange:R6,truncate:xue,rgb:cG,lab:K2e,hcl:X2e,hsl:H2e,luminance:xG,contrast:function cft(e,t){const i=xG(e),r=xG(t);return(Math.max(i,r)+.05)/(Math.min(i,r)+.05)},sequence:function Hct(e,t,i){e=+e,t=+t,i=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+i;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/i)),s=new Array(o);++r<o;)s[r]=e+r*i;return s},format:$ct,utcFormat:Gct,utcParse:jct,utcOffset:rce,utcSequence:ace,timeFormat:ove,timeParse:qct,timeOffset:ice,timeSequence:sce,timeUnitSpecifier:que,monthFormat:function Kct(e){return ZI.call(this,e,1,"%B")},monthAbbrevFormat:function Wct(e){return ZI.call(this,e,1,"%b")},dayFormat:function Xct(e){return ZI.call(this,0,2+e,"%A")},dayAbbrevFormat:function Yct(e){return ZI.call(this,0,2+e,"%a")},quarter:pue,utcquarter:gue,week:Kue,utcweek:Yue,dayofyear:jue,utcdayofyear:Xue,warn:function aft(){return CG(this.context.dataflow,"warn",arguments)},info:function lft(){return CG(this.context.dataflow,"info",arguments)},debug:function uft(){return CG(this.context.dataflow,"debug",arguments)},extent:e=>Gp(e),inScope:function sft(e){const t=this.context.group;let i=!1;if(t)for(;e;){if(e===t){i=!0;break}e=e.mark.group}return i},intersect:pve,clampRange:mue,pinchDistance:function hft(e){const t=e.touches;return Math.hypot(t[0].clientX-t[1].clientX,t[0].clientY-t[1].clientY)},pinchAngle:function pft(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function Lft(){const e=hve();return e?e.screen:{}},containerSize:function Uft(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function Rft(){const e=hve();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function Eft(e,t,i){return hQ(e||0,t||0,i||0)},setdata:function Vct(e,t){const i=this.context.dataflow;return i.pulse(this.context.data[e].input,i.changeset().remove(sh).insert(t)),1},pathShape:function Oft(e){let t=null;return function(i){return i?P_(i,t=t||i8(e)):e}},panLinear:fue,panLog:due,panPow:Aue,panSymlog:hue,zoomLinear:xU,zoomLog:SU,zoomPow:PS,zoomSymlog:BU,encode:function zct(e,t,i){if(e){const r=this.context.dataflow;r.pulse(e.mark.source,r.changeset().encode(e,t))}return void 0!==i?i:e},modify:function Aft(e,t,i,r,o,s){const a=this.context.dataflow,l=this.context.data[e],u=l.input,c=a.stamp();let d,h,f=l.changes;if(!1===a._trigger||!(u.value.length||t||r))return 0;if((!f||f.stamp<c)&&(l.changes=f=a.changeset(),f.stamp=c,a.runAfter(()=>{l.modified=!0,a.pulse(u,f).run()},!0,1)),i&&(d=!0===i?sh:Xn(i)||ZS(i)?i:cve(i),f.remove(d)),t&&f.insert(t),r&&(d=cve(r),u.value.some(d)?f.remove(d):f.insert(r)),o)for(h in s)f.modify(o,h,s[h]);return 1},lassoAppend:function Hft(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;const o=(e=er(e))[e.length-1];return void 0===o||Math.hypot(o[0]-t,o[1]-i)>r?[...e,[t,i]]:e},lassoPath:function Qft(e){return er(e).reduce((t,i,r)=>{let[o,s]=i;return t+(0==r?`M ${o},${s} `:r===e.length-1?" Z":`L ${o},${s} `)},"")},intersectLasso:function Vft(e,t,i){const{x:r,y:o,mark:s}=i,a=(new fu).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[u,c]of t)u<a.x1&&(a.x1=u),u>a.x2&&(a.x2=u),c<a.y1&&(a.y1=c),c>a.y2&&(a.y2=c);return a.translate(r,o),pve([[a.x1,a.y1],[a.x2,a.y2]],e,s).filter(u=>function zft(e,t,i){let r=0;for(let o=0,s=i.length-1;o<i.length;s=o++){const[a,l]=i[s],[u,c]=i[o];c>t!=l>t&&e<(a-u)*(t-c)/(l-c)+u&&r++}return 1&r}(u.x,u.y,t))}},$ft=["view","item","group","xy","x","y"],gve="this.",BG={},mve={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Li(sve+e)}]`,functions:function qft(e){const t=o2e(e);$ft.forEach(i=>t[i]="event.vega."+i);for(const i in Ww)t[i]=gve+i;return Po(t,function tft(e,t,i){t.__bandwidth=o=>o&&o.bandwidth?o.bandwidth():0,i._bandwidth=qf,i._range=qf,i._scale=qf;const r=o=>"_["+(o.type===$3?Li(_G+o.value):Li(_G)+"+"+e(o))+"]";return{_bandwidth:o=>`this.__bandwidth(${r(o[0])})`,_range:o=>`${r(o[0])}.range()`,_scale:o=>`${r(o[0])}(${e(o[1])})`}}(e,Ww,BG)),t},constants:r2e,visitors:BG},MG=s2e(mve);function nu(e,t,i){return 1===arguments.length?Ww[e]:(Ww[e]=t,i&&(BG[e]=i),MG&&(MG.functions[e]=gve+e),this)}function pg(e,t){const i={};let r;try{r=i2e(e=Ji(e)?e:Li(e)+"")}catch{Gn("Expression parse error: "+e)}r.visit(s=>{if(s.type!==zme)return;const a=s.callee.name,l=mve.visitors[a];l&&l(a,s.arguments,t,i)});const o=MG(r);return o.globals.forEach(s=>{const a=sve+s;!fr(i,a)&&t.getSignal(s)&&(i[a]=t.signalRef(s))}),{$expr:Po({code:o.code},t.options.ast?{ast:r}:null),$fields:o.fields,$params:i}}nu("bandwidth",function xft(e,t){const i=hg(e,(t||this).context);return i&&i.bandwidth?i.bandwidth():0},qf),nu("copy",function Sft(e,t){const i=hg(e,(t||this).context);return i?i.copy():void 0},qf),nu("domain",function Bft(e,t){const i=hg(e,(t||this).context);return i?i.domain():[]},qf),nu("range",function Ift(e,t){const i=hg(e,(t||this).context);return i&&i.range?i.range():[]},qf),nu("invert",function Mft(e,t,i){const r=hg(e,(i||this).context);return r?Xn(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0},qf),nu("scale",function Dft(e,t,i){const r=hg(e,(i||this).context);return r?r(t):void 0},qf),nu("gradient",function Tft(e,t,i,r,o){e=hg(e,(o||this).context);const s=Lhe(t,i);let a=e.domain(),l=a[0],u=ds(a),c=qc;return u-l?c=whe(e,l,u):e=(e.interpolator?Bs("sequential")().interpolator(e.interpolator()):Bs("linear")().interpolate(e.interpolate()).range(e.range())).domain([l=0,u=1]),e.ticks&&(a=e.ticks(+r||15),l!==a[0]&&a.unshift(l),u!==ds(a)&&a.push(u)),a.forEach(f=>s.stop(c(f),e(f))),s},qf),nu("geoArea",nft,qf),nu("geoBounds",ift,qf),nu("geoCentroid",rft,qf),nu("geoShape",function Fft(e,t,i){const r=hg(e,(i||this).context);return function(o){return r?r.path.context(o)(t):""}},qf),nu("geoScale",function oft(e,t){const i=hg(e,(t||this).context);return i&&i.scale()},qf),nu("indata",function Qct(e,t,i){const r=this.context.data[e]["index:"+t],o=r?r.value.get(i):void 0;return o&&o.count},function eft(e,t,i,r){t[0].type!==$3&&Gn("First argument to indata must be a string literal."),t[1].type!==$3&&Gn("Second argument to indata must be a string literal.");const o=t[0].value,s=t[1].value,a="@"+s;fr(a,r)||(r[a]=i.getData(o).indataRef(i,s))}),nu("data",rve,wG),nu("treePath",function kft(e,t,i){const r=Ave(e,this),o=r[t],s=r[i];return o&&s?o.path(s).map(dve):void 0},wG),nu("treeAncestors",function Nft(e,t){const i=Ave(e,this)[t];return i?i.ancestors().map(dve):void 0},wG),nu("vlSelectionTest",function Fct(e,t,i){for(var c,f,d,h,g,r=this.context.data[e],o=r?r.values.value:[],s=r?r[XI]&&r[XI].value:void 0,a=i===mG,l=o.length,u=0;u<l;++u)if(c=o[u],s&&a){if(-1===(d=(f=f||{})[h=c.unit]||0))continue;if(g=nve(t,c),f[h]=g?-1:++d,g&&1===s.size)return!0;if(!g&&d===s.get(h).count)return!1}else if(a^(g=nve(t,c)))return g;return l&&a},yG),nu("vlSelectionIdTest",function Nct(e,t,i){const r=this.context.data[e],o=r?r.values.value:[],s=r?r[XI]&&r[XI].value:void 0,a=i===mG,l=jw(t),u=Oct(o,l);if(u===o.length||jw(o[u])!==l)return!1;if(s&&a){if(1===s.size)return!0;if(kct(o,l)-u<s.size)return!1}return!0},yG),nu("vlSelectionResolve",function Rct(e,t,i,r){for(var c,f,d,h,g,v,y,b,E,H,X,o=this.context.data[e],s=o?o.values.value:[],a={},l={},u={},k=s.length,P=0;P<k;++P)if(h=(c=s[P]).unit,d=c.values,(f=c.fields)&&d){for(H=0,X=f.length;H<X;++H)b=(y=a[(g=f[H]).field]||(a[g.field]={}))[h]||(y[h]=[]),u[g.field]=E=g.type.charAt(0),y[h]=(0,vG[`${E}_union`])(b,er(d[H]));i&&(b=l[h]||(l[h]=[])).push(er(d).reduce((z,se,ye)=>(z[f[ye].field]=se,z),{}))}else g=Ag,v=jw(c),(b=(y=a[g]||(a[g]={}))[h]||(y[h]=[])).push(v),i&&(b=l[h]||(l[h]=[])).push({[Ag]:v});return t=t||"union",a[Ag]?a[Ag]=vG[`${Ag}_${t}`](...Object.values(a[Ag])):Object.keys(a).forEach(z=>{a[z]=Object.keys(a[z]).map(se=>a[z][se]).reduce((se,ye)=>void 0===se?ye:vG[`${u[z]}_${t}`](se,ye))}),s=Object.keys(l),i&&s.length&&(a[r?"vlPoint":"vlMulti"]="union"===t?{or:s.reduce((se,ye)=>(se.push(...l[ye]),se),[])}:{and:s.map(se=>({or:l[se]}))}),a},yG),nu("vlSelectionTuples",function Lct(e,t){return e.map(i=>Po(t.fields?{values:t.fields.map(r=>J2e(r)(i.datum))}:{[Ag]:jw(i.datum)},t))});const Kft=d0(["rule"]),vve=d0(["group","image","rect"]);function IG(e){return(e+"").toLowerCase()}function Xw(e,t,i){i.endsWith(";")||(i="return("+i+");");const r=Function(...t.concat(i));return e&&e.functions?r.bind(e.functions):r}var Jft={operator:(e,t)=>Xw(e,["_"],t.code),parameter:(e,t)=>Xw(e,["datum","_"],t.code),event:(e,t)=>Xw(e,["event"],t.code),handler:(e,t)=>Xw(e,["_","event"],`var datum=event.item&&event.item.datum;return ${t.code};`),encode:(e,t)=>{const{marktype:i,channels:r}=t;let o="var o=item,datum=o.datum,m=0,$;";for(const s in r){const a="o["+Li(s)+"]";o+=`$=${r[s].code};if(${a}!==$)${a}=$,m=1;`}return o+=function Wft(e,t){let i="";return Kft[t]||(e.x2&&(e.x?(vve[t]&&(i+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),i+="o.width=o.x2-o.x;"):i+="o.x=o.x2-(o.width||0);"),e.xc&&(i+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(vve[t]&&(i+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),i+="o.height=o.y2-o.y;"):i+="o.y=o.y2-(o.height||0);"),e.yc&&(i+="o.y=o.yc-(o.height||0)/2;")),i}(r,i),o+="return m;",Xw(e,["item","_"],o)},codegen:{get(e){const t=`[${e.map(Li).join("][")}]`,i=Function("_",`return _${t};`);return i.path=t,i},comparator(e,t){let i;const o=Function("a","b","var u, v; return "+e.map((s,a)=>{const l=t[a];let u,c;return s.path?(u=`a${s.path}`,c=`b${s.path}`):((i=i||{})["f"+a]=s,u=`this.f${a}(a)`,c=`this.f${a}(b)`),function Zft(e,t,i,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${i}\n  : (u > v || v == null) && u != null ? ${r}\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${i}\n  : v !== v && u === u ? ${r} : `}(u,c,-l,l)}).join("")+"0;");return i?o.bind(i):o}}};function yve(e,t,i){if(!e||!Zi(e))return e;for(let s,r=0,o=_ve.length;r<o;++r)if(s=_ve[r],fr(e,s.key))return s.parse(e,t,i);return e}var _ve=[{key:"$ref",parse:function idt(e,t){return t.get(e.$ref)||Gn("Operator not defined: "+e.$ref)}},{key:"$key",parse:function odt(e,t){const i="k:"+e.$key+"_"+!!e.$flat;return t.fn[i]||(t.fn[i]=TU(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function rdt(e,t,i){e.$params&&t.parseParameters(e.$params,i);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=pd(t.parameterExpression(e.$expr),e.$fields))}},{key:"$field",parse:function sdt(e,t){if(!e.$field)return null;const i="f:"+e.$field+"_"+e.$name;return t.fn[i]||(t.fn[i]=oh(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function ldt(e,t){const i=e.$encode,r={};for(const o in i){const s=i[o];r[o]=pd(t.encodeExpression(s.$expr),s.$fields),r[o].output=s.$output}return r}},{key:"$compare",parse:function adt(e,t){const i="c:"+e.$compare+"_"+e.$order,r=er(e.$compare).map(o=>o&&o.$tupleid?zr:o);return t.fn[i]||(t.fn[i]=MU(r,e.$order,t.expr.codegen))}},{key:"$context",parse:function udt(e,t){return t}},{key:"$subflow",parse:function cdt(e,t){const i=e.$subflow;return function(r,o,s){const a=t.fork().parse(i),l=a.get(i.operators[0].id),u=a.signals.parent;return u&&u.set(s),l.detachSubflow=()=>t.detach(a),l}}},{key:"$tupleid",parse:function fdt(){return zr}}];const hdt={skip:!0};function wve(e,t,i,r){return new bve(e,t,i,r)}function bve(e,t,i,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||Jft,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},i&&(this.functions=Object.create(i),this.functions.context=this)}function Cve(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}bve.prototype=Cve.prototype={fork(){const e=new Cve(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(i=>i!==e);const t=Object.keys(e.nodes);for(const i of t)e.nodes[i]._targets=null;for(const i of t)e.nodes[i].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const i=this,r=i.dataflow,o=e.value;if(i.set(e.id,t),function Yft(e){return"collect"===IG(e)}(e.type)&&o&&(o.$ingest?r.ingest(t,o.$ingest,o.$format):o.$request?r.preload(t,o.$request,o.$format):r.pulse(t,r.changeset().insert(o))),e.root&&(i.root=t),e.parent){let s=i.get(e.parent.$ref);s?(r.connect(s,[t]),t.targets().add(s)):(i.unresolved=i.unresolved||[]).push(()=>{s=i.get(e.parent.$ref),r.connect(s,[t]),t.targets().add(s)})}if(e.signal&&(i.signals[e.signal]=t),e.scale&&(i.scales[e.scale]=t),e.data)for(const s in e.data){const a=i.data[s]||(i.data[s]={});e.data[s].forEach(l=>a[l]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[IG(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,i,r,o){this.dataflow.on(t,i,r,o,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function jft(e){const t=this,i=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),i.forEach(r=>t.parseOperator(r)),i.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()},parseOperator:function edt(e){const t=this;!function Xft(e){return"operator"===IG(e)}(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function tdt(e){const t=this;if(e.params){const i=t.get(e.id);i||Gn("Invalid operator id: "+e.id),t.dataflow.connect(i,i.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function ndt(e,t){t=t||{};const i=this;for(const r in e){const o=e[r];t[r]=Xn(o)?o.map(s=>yve(s,i,t)):yve(o,i,t)}return t},parseStream:function ddt(e){var o,t=this,i=null!=e.filter?t.eventExpression(e.filter):void 0,r=null!=e.stream?t.get(e.stream):void 0;e.source?r=t.events(e.source,e.type,i):e.merge&&(r=(o=e.merge.map(s=>t.get(s)))[0].merge.apply(o[0],o.slice(1))),e.between&&(o=e.between.map(s=>t.get(s)),r=r.between(o[0],o[1])),e.filter&&(r=r.filter(i)),null!=e.throttle&&(r=r.throttle(+e.throttle)),null!=e.debounce&&(r=r.debounce(+e.debounce)),null==r&&Gn("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)},parseUpdate:function Adt(e){var o,t=this,i=Zi(i=e.source)?i.$ref:i,r=t.get(i),s=e.update,a=void 0;r||Gn("Source not defined: "+e.source),o=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),s&&s.$expr&&(s.$params&&(a=t.parseParameters(s.$params)),s=t.handlerExpression(s.$expr)),t.update(e,r,o,s,a)},getState:function pdt(e){var t=this,i={};if(e.signals){var r=i.signals={};Object.keys(t.signals).forEach(s=>{const a=t.signals[s];e.signals(s,a)&&(r[s]=a.value)})}if(e.data){var o=i.data={};Object.keys(t.data).forEach(s=>{const a=t.data[s];e.data(s,a)&&(o[s]=a.input.value)})}return t.subcontext&&!1!==e.recurse&&(i.subcontext=t.subcontext.map(s=>s.getState(e))),i},setState:function gdt(e){var t=this,i=t.dataflow,r=e.data,o=e.signals;Object.keys(o||{}).forEach(s=>{i.update(t.signals[s],o[s],hdt)}),Object.keys(r||{}).forEach(s=>{i.pulse(t.data[s].input,i.changeset().remove(sh).insert(r[s]))}),(e.subcontext||[]).forEach((s,a)=>{const l=t.subcontext[a];l&&l.setState(s)})}};var eD,Jw,R8=0,Yw=0,Zw=0,Eve=1e3,tD=0,Z3=0,nD=0,eb="object"==typeof performance&&performance.now?performance:Date,xve="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function DG(){return Z3||(xve(mdt),Z3=eb.now()+nD)}function mdt(){Z3=0}function iD(){this._call=this._time=this._next=null}function Sve(){Z3=(tD=eb.now())+nD,R8=Yw=0;try{!function ydt(){DG(),++R8;for(var t,e=eD;e;)(t=Z3-e._time)>=0&&e._call.call(void 0,t),e=e._next;--R8}()}finally{R8=0,function wdt(){for(var e,i,t=eD,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:eD=i);Jw=e,TG(r)}(),Z3=0}}function _dt(){var e=eb.now(),t=e-tD;t>Eve&&(nD-=t,tD=e)}function TG(e){R8||(Yw&&(Yw=clearTimeout(Yw)),e-Z3>24?(e<1/0&&(Yw=setTimeout(Sve,e-eb.now()-nD)),Zw&&(Zw=clearInterval(Zw))):(Zw||(tD=eb.now(),Zw=setInterval(_dt,Eve)),R8=1,xve(Sve)))}function Bve(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}iD.prototype=function vdt(e,t,i){var r=new iD;return r.restart(e,t,i),r}.prototype={constructor:iD,restart:function(e,t,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?DG():+i)+(null==t?0:+t),!this._next&&Jw!==this&&(Jw?Jw._next=this:eD=this,Jw=this),this._call=e,this._time=i,TG()},stop:function(){this._call&&(this._call=null,this._time=1/0,TG())}};const FG="default";function OG(e,t){const i=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(i)return null==t?i.style.removeProperty("cursor"):i.style.cursor=t}function rD(e,t){var i=e._runtime.data;return fr(i,t)||Gn("Unrecognized data set: "+t),i[t]}function oD(e,t){efe(t)||Gn("Second argument to changes must be a changeset.");const i=rD(this,e);return i.modified=!0,this.pulse(i.input,t)}function Mve(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function Ive(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function sD(e){var t=e.padding(),i=e._origin;return[t.left+i[0],t.top+i[1]]}const kdt={trap:!1};function Tve(e,t,i,r){e._eventListeners.push({type:i,sources:er(t),handler:r})}function aD(e,t,i){const r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Zi(r)&&!r[i])||(e.warn(`Blocked ${t} ${i} event listener.`),!1)}function Fve(e){return e.item}function Ove(e){return e.item.mark.source}function kve(e){return function(t,i){return i.vega.view().changeset().encode(i.item,e)}}function wA(e,t,i){const r=document.createElement(e);for(const o in t)r.setAttribute(o,t[o]);return null!=i&&(r.textContent=i),r}const Hdt="vega-bind",Qdt="vega-bind-name",Vdt="vega-bind-radio";function zdt(e,t,i){if(!t)return;const r=i.param;let o=i.state;return o||(o=i.state={elements:null,active:!1,set:null,update:a=>{a!=e.signal(r.signal)&&e.runAsync(null,()=>{o.source=!0,e.signal(r.signal,a)})}},r.debounce&&(o.update=IU(r.debounce,o.update))),(null==r.input&&r.element?$dt:qdt)(o,t,r,e),o.active||(e.on(e._signals[r.signal],null,()=>{o.source?o.source=!1:o.set(e.signal(r.signal))}),o.active=!0),o}function $dt(e,t,i,r){const o=i.event||"input",s=()=>e.update(t.value);r.signal(i.signal,t.value),t.addEventListener(o,s),Tve(r,t,o,s),e.set=a=>{t.value=a,t.dispatchEvent(function Gdt(e){return typeof Event<"u"?new Event(e):{type:e}}(o))}}function qdt(e,t,i,r){const o=r.signal(i.signal),s=wA("div",{class:Hdt}),a="radio"===i.input?s:s.appendChild(wA("label"));a.appendChild(wA("span",{class:Qdt},i.name||i.signal)),t.appendChild(s);let l=jdt;switch(i.input){case"checkbox":l=Kdt;break;case"select":l=Wdt;break;case"radio":l=Xdt;break;case"range":l=Ydt}l(e,a,i,o)}function jdt(e,t,i,r){const o=wA("input");for(const s in i)"signal"!==s&&"element"!==s&&o.setAttribute("input"===s?"type":s,i[s]);o.setAttribute("name",i.signal),o.value=r,t.appendChild(o),o.addEventListener("input",()=>e.update(o.value)),e.elements=[o],e.set=s=>o.value=s}function Kdt(e,t,i,r){const o={type:"checkbox",name:i.signal};r&&(o.checked=!0);const s=wA("input",o);t.appendChild(s),s.addEventListener("change",()=>e.update(s.checked)),e.elements=[s],e.set=a=>s.checked=!!a||null}function Wdt(e,t,i,r){const o=wA("select",{name:i.signal}),s=i.labels||[];i.options.forEach((a,l)=>{const u={value:a};lD(a,r)&&(u.selected=!0),o.appendChild(wA("option",u,(s[l]||a)+""))}),t.appendChild(o),o.addEventListener("change",()=>{e.update(i.options[o.selectedIndex])}),e.elements=[o],e.set=a=>{for(let l=0,u=i.options.length;l<u;++l)if(lD(i.options[l],a))return void(o.selectedIndex=l)}}function Xdt(e,t,i,r){const o=wA("span",{class:Vdt}),s=i.labels||[];t.appendChild(o),e.elements=i.options.map((a,l)=>{const u={type:"radio",name:i.signal,value:a};lD(a,r)&&(u.checked=!0);const c=wA("input",u);c.addEventListener("change",()=>e.update(a));const f=wA("label",{},(s[l]||a)+"");return f.prepend(c),o.appendChild(f),c}),e.set=a=>{const l=e.elements,u=l.length;for(let c=0;c<u;++c)lD(l[c].value,a)&&(l[c].checked=!0)}}function Ydt(e,t,i,r){r=void 0!==r?r:(+i.max+ +i.min)/2;const o=null!=i.max?i.max:Math.max(100,+r)||100,s=i.min||Math.min(0,o,+r)||0,a=i.step||function Mlt(e,t,i){i=+i;const r=(t=+t)<(e=+e),o=r?Vme(t,e,i):Vme(e,t,i);return(r?-1:1)*(o<0?1/-o:o)}(s,o,100),l=wA("input",{type:"range",name:i.signal,min:s,max:o,step:a});l.value=r;const u=wA("span",{},+r);t.appendChild(l),t.appendChild(u);const c=()=>{u.textContent=l.value,e.update(+l.value)};l.addEventListener("input",c),l.addEventListener("change",c),e.elements=[l],e.set=f=>{l.value=f,u.textContent=f}}function lD(e,t){return e===t||e+""==t+""}function Nve(e,t,i,r,o,s){return(t=t||new r(e.loader())).initialize(i,Mve(e),Ive(e),sD(e),o,s).background(e.background())}function kG(e,t){return t?function(){try{t.apply(this,arguments)}catch(i){e.error(i)}}:null}function NG(e,t,i){if("string"==typeof t){if(!(typeof document<"u"))return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&i)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const tb=e=>+e||0;function Lve(e){return Zi(e)?{top:tb(e.top),bottom:tb(e.bottom),left:tb(e.left),right:tb(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(tb(e))}function LG(e,t,i,r){return RG.apply(this,arguments)}function RG(){return RG=Tt(function*(e,t,i,r){const o=_M(t),s=o&&o.headless;return s||Gn("Unrecognized renderer type: "+t),yield e.runAsync(),Nve(e,null,null,s,i,r).renderAsync(e._scenegraph.root)}),RG.apply(this,arguments)}function UG(){return UG=Tt(function*(e,t){e!==p2.Canvas&&e!==p2.SVG&&e!==p2.PNG&&Gn("Unrecognized image type: "+e);const i=yield LG(this,e,t);return e===p2.SVG?function nAt(e,t){const i=new Blob([e],{type:t});return window.URL.createObjectURL(i)}(i.svg(),"image/svg+xml"):i.canvas().toDataURL("image/png")}),UG.apply(this,arguments)}function PG(){return PG=Tt(function*(e,t){return(yield LG(this,p2.Canvas,e,t)).canvas()}),PG.apply(this,arguments)}function HG(){return HG=Tt(function*(e){return(yield LG(this,p2.SVG,e)).svg()}),HG.apply(this,arguments)}var Rve="width",Uve="height",QG="padding",Pve={skip:!0};function Hve(e,t){var i=e.autosize(),r=e.padding();return t-(i&&i.contains===QG?r.left+r.right:0)}function Qve(e,t){var i=e.autosize(),r=e.padding();return t-(i&&i.contains===QG?r.top+r.bottom:0)}function cAt(e,t){return t.modified&&Xn(t.input.value)&&!e.startsWith("_:vega:_")}function fAt(e,t){return!("parent"===e||t instanceof j6.proxy)}function hAt(e,t,i,r){const o=e.element();o&&o.setAttribute("title",function pAt(e){return null==e?"":Xn(e)?Vve(e):Zi(e)&&!Wm(e)?function gAt(e){return Object.keys(e).map(t=>{const i=e[t];return t+": "+(Xn(i)?Vve(i):zve(i))}).join("\n")}(e):e+""}(r))}function Vve(e){return"["+e.map(zve).join(", ")+"]"}function zve(e){return Xn(e)?"[\u2026]":Zi(e)&&!Wm(e)?"{\u2026}":e}function $ve(e,t){const i=this;if(t=t||{},q6.call(i),t.loader&&i.loader(t.loader),t.logger&&i.logger(t.logger),null!=t.logLevel&&i.logLevel(t.logLevel),t.locale||e.locale){const s=Po({},e.locale,t.locale);i.locale(Vce(s.number,s.time))}i._el=null,i._elBind=null,i._renderType=t.renderer||p2.Canvas,i._scenegraph=new _0e;const r=i._scenegraph.root;i._renderer=null,i._tooltip=t.tooltip||hAt,i._redraw=!0,i._handler=(new J_).scene(r),i._globalCursor=!1,i._preventDefault=!1,i._timers=[],i._eventListeners=[],i._resizeListeners=[],i._eventConfig=function Ndt(e){const t=Po({defaults:{}},e),i=(r,o)=>{o.forEach(s=>{Xn(r[s])&&(r[s]=d0(r[s]))})};return i(t.defaults,["prevent","allow"]),i(t,["view","window","selector"]),t}(e.eventConfig),i.globalCursor(i._eventConfig.globalCursor);const o=function oAt(e,t,i){return wve(e,j6,Ww,i).parse(t)}(i,e,t.expr);i._runtime=o,i._signals=o.signals,i._bind=(e.bindings||[]).map(s=>({state:null,param:Po({},s)})),o.root&&o.root.set(r),r.source=o.data.root.input,i.pulse(o.data.root.input,i.changeset().insert(r.items)),i._width=i.width(),i._height=i.height(),i._viewWidth=Hve(i,i._width),i._viewHeight=Qve(i,i._height),i._origin=[0,0],i._resize=0,i._autosize=1,function aAt(e){var t=e._signals,i=t[Rve],r=t[Uve],o=t[QG];function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,l=>{e._width=l.size,e._viewWidth=Hve(e,l.size),s()},{size:i}),e._resizeHeight=e.add(null,l=>{e._height=l.size,e._viewHeight=Qve(e,l.size),s()},{size:r});const a=e.add(null,s,{pad:o});e._resizeWidth.rank=i.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=o.rank+1}(i),function Edt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}(i),function xdt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:FG,item:null}));e.on(e.events("view","pointermove"),t,(i,r)=>{const o=t.value,s=o?Ji(o)?o:o.user:FG,a=r.item&&r.item.cursor||null;return o&&s===o.user&&a==o.item?o:{user:s,item:a}}),e.add(null,function(i){let r=i.cursor,o=this.value;return Ji(r)||(o=r.item,r=r.user),OG(e,r&&r!==FG?r:o||r),o},{cursor:t})}(i),i.description(e.description),t.hover&&i.hover(),t.container&&i.initialize(t.container,t.bind),t.watchPixelRatio&&i._watchPixelRatio()}function uD(e,t){return fr(e._signals,t)?e._signals[t]:Gn("Unrecognized signal name: "+Li(t))}function Gve(e,t){const i=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return i.length?i[0]:null}function qve(e,t,i,r){let o=Gve(i,r);return o||(o=kG(e,()=>r(t,i.value)),o.handler=r,e.on(i,null,o)),e}function jve(e,t,i){const r=Gve(t,i);return r&&t._targets.remove(r),e}$i($ve,q6,{evaluate(e,t,i){var r=this;return Tt(function*(){if(yield q6.prototype.evaluate.call(r,e,t),r._redraw||r._resize)try{r._renderer&&(r._resize&&(r._resize=0,function Idt(e){var t=sD(e),i=Mve(e),r=Ive(e);e._renderer.background(e.background()),e._renderer.resize(i,r,t),e._handler.origin(t),e._resizeListeners.forEach(o=>{try{o(i,r)}catch(s){e.error(s)}})}(r)),yield r._renderer.renderAsync(r._scenegraph.root)),r._redraw=!1}catch(o){r.error(o)}return i&&YS(r,i),r})()},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&Bve(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,i){const r=uD(this,e);return 1===arguments.length?r.value:this.update(r,t,i)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Lve(e)):Lve(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(_M(e)||Gn("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(q6.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(uD(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function lAt(e,t,i,r,o,s){this.runAfter(a=>{let l=0;a._autosize=0,a.width()!==i&&(l=1,a.signal(Rve,i,Pve),a._resizeWidth.skip(!0)),a.height()!==r&&(l=1,a.signal(Uve,r,Pve),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),(a._origin[0]!==o[0]||a._origin[1]!==o[1])&&(a._resize=1,a._origin=o),l&&a.run("enter"),s&&a.runAfter(u=>u.resize())},!1,1)},addEventListener(e,t,i){let r=t;return i&&!1===i.trap||(r=kG(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var o,s,i=this._handler.handlers(e),r=i.length;--r>=0;)if(o=i[r].handler,e===(s=i[r].type)&&(t===o||t===o.raw)){this._handler.off(s,o);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,i=t.indexOf(e);return i>=0&&t.splice(i,1),this},addSignalListener(e,t){return qve(this,e,uD(this,e),t)},removeSignalListener(e,t){return jve(this,uD(this,e),t)},addDataListener(e,t){return qve(this,e,rD(this,e).values,t)},removeDataListener(e,t){return jve(this,rD(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=OG(this,null);this._globalCursor=!!e,t&&OG(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function AAt(e,t){this._timers.push(function bdt(e,t,i){var r=new iD,o=t;return null==t?(r.restart(e,t,i),r):(r._restart=r.restart,r.restart=function(s,a,l){a=+a,l=null==l?DG():+l,r._restart(function u(c){c+=o,r._restart(u,o+=a,l),s(c)},a,l)},r.restart(e,t,i),r)}(function i(r){e({timestamp:Date.now(),elapsed:r})},t))},events:function Rdt(e,t,i){var a,r=this,o=new nB(i),s=function(c,f){r.runAsync(null,()=>{"view"===e&&function Ldt(e,t){var i=e._eventConfig.defaults,r=i.prevent,o=i.allow;return!1!==r&&!0!==o&&(!0===r||!1===o||(r?r[t]:o?!o[t]:e.preventDefault()))}(r,t)&&c.preventDefault(),o.receive(function Ddt(e,t,i){var s,l,r=e._renderer,o=r&&r.canvas();return o&&(l=sD(e),(s=aM(t.changedTouches?t.changedTouches[0]:t,o))[0]-=l[0],s[1]-=l[1]),t.dataflow=e,t.item=i,t.vega=function Tdt(e,t,i){const r=t?"group"===t.mark.marktype?t:t.mark.group:null;function o(a){var u,l=r;if(a)for(u=t;u;u=u.mark.group)if(u.mark.name===a){l=u;break}return l&&l.mark&&l.mark.interactive?l:{}}function s(a){if(!a)return i;Ji(a)&&(a=o(a));const l=i.slice();for(;a;)l[0]-=a.x||0,l[1]-=a.y||0,a=a.mark&&a.mark.group;return l}return{view:Kc(e),item:Kc(t||{}),group:o,xy:s,x:a=>s(a)[0],y:a=>s(a)[1]}}(e,i,s),t}(r,c,f))})};if("timer"===e)aD(r,"timer",t)&&r.timer(s,t);else if("view"===e)aD(r,"view",t)&&r.addEventListener(t,s,kdt);else if("window"===e?aD(r,"window",t)&&typeof window<"u"&&(a=[window]):typeof document<"u"&&aD(r,"selector",t)&&(a=Array.from(document.querySelectorAll(e))),a){for(var l=0,u=a.length;l<u;++l)a[l].addEventListener(t,s);Tve(r,a,t,s)}else r.warn("Can not resolve event source: "+e);return o},finalize:function Pdt(){var o,s,a,e=this._tooltip,t=this._timers,i=this._handler.handlers(),r=this._eventListeners;for(o=t.length;--o>=0;)t[o].stop();for(o=r.length;--o>=0;)for(s=(a=r[o]).sources.length;--s>=0;)a.sources[s].removeEventListener(a.type,a.handler);for(e&&e.call(this,this._handler,null,null,null),o=i.length;--o>=0;)this._handler.off(i[o].type,i[o].handler);return this},hover:function Udt(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","pointerover",Fve),Ove,kve(e)),this.on(this.events("view","pointerout",Fve),Ove,kve(t)),this},data:function Sdt(e,t){return arguments.length<2?rD(this,e).values.value:oD.call(this,e,g3().remove(sh).insert(t))},change:oD,insert:function Bdt(e,t){return oD.call(this,e,g3().insert(t))},remove:function Mdt(e,t){return oD.call(this,e,g3().remove(t))},scale:function sAt(e){var t=this._runtime.scales;return fr(t,e)||Gn("Unrecognized scale or projection: "+e),t[e].value},initialize:function Jdt(e,t){const i=this,r=i._renderType,o=i._eventConfig.bind,s=_M(r);e=i._el=e?NG(i,e,!0):null,function Cdt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Bve(t,e.description()))}(i),s||i.error("Unrecognized renderer type: "+r);const a=s.handler||J_,l=e?s.renderer:s.headless;return i._renderer=l?Nve(i,i._renderer,e,l):null,i._handler=function Zdt(e,t,i,r){const o=new r(e.loader(),kG(e,e.tooltip())).scene(e.scenegraph().root).initialize(i,sD(e),e);return t&&t.handlers().forEach(s=>{o.on(s.type,s.handler)}),o}(i,i._handler,e,a),i._redraw=!0,e&&"none"!==o&&(t=t?i._elBind=NG(i,t,!0):e.appendChild(wA("form",{class:"vega-bindings"})),i._bind.forEach(u=>{u.param.element&&"container"!==o&&(u.element=NG(i,u.param.element,!!u.param.input))}),i._bind.forEach(u=>{zdt(i,u.element||t,u)})),i},toImageURL:function tAt(e,t){return UG.apply(this,arguments)},toCanvas:function iAt(e,t){return PG.apply(this,arguments)},toSVG:function rAt(e){return HG.apply(this,arguments)},getState:function uAt(e){return this._runtime.getState(e||{data:cAt,signals:fAt,recurse:!0})},setState:function dAt(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this},_watchPixelRatio:function mAt(){if("canvas"===this.renderer()&&this._renderer._canvas){let e=null;const t=()=>{e?.();const i=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);i.addEventListener("change",t),e=()=>{i.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}});const vAt="view",cD="[",fD="]",Kve="{",Wve="}",yAt=":",Xve=",",_At="@",wAt=">",bAt=/[[\]{}]/,CAt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Yve,Zve;function F2(e,t,i){return Yve=t||vAt,Zve=i||CAt,Jve(e.trim()).map(VG)}function nb(e,t,i,r,o){const s=e.length;let l,a=0;for(;t<s;++t){if(l=e[t],!a&&l===i)return t;o&&o.indexOf(l)>=0?--a:r&&r.indexOf(l)>=0&&++a}return t}function Jve(e){const t=[],i=e.length;let r=0,o=0;for(;o<i;)o=nb(e,o,Xve,cD+Kve,fD+Wve),t.push(e.substring(r,o).trim()),r=++o;if(0===t.length)throw"Empty event selector: "+e;return t}function VG(e){return"["===e[0]?function xAt(e){const t=e.length;let r,i=1;if(i=nb(e,i,fD,cD,fD),i===t)throw"Empty between selector: "+e;if(r=Jve(e.substring(1,i)),2!==r.length)throw"Between selector must have two elements: "+e;if((e=e.slice(i+1).trim())[0]!==wAt)throw"Expected '>' after between selector: "+e;r=r.map(VG);const o=VG(e.slice(1).trim());return o.between?{between:r,stream:o}:(o.between=r,o)}(e):function SAt(e){const t={source:Yve},i=[];let u,c,r=[0,0],o=0,s=0,a=e.length,l=0;if(e[a-1]===Wve){if(l=e.lastIndexOf(Kve),!(l>=0))throw"Unmatched right brace: "+e;try{r=function BAt(e){const t=e.split(Xve);if(!e.length||t.length>2)throw e;return t.map(i=>{const r=+i;if(r!=r)throw e;return r})}(e.substring(l+1,a-1))}catch{throw"Invalid throttle specification: "+e}a=(e=e.slice(0,l).trim()).length,l=0}if(!a)throw e;if(e[0]===_At&&(o=++l),u=nb(e,l,yAt),u<a&&(i.push(e.substring(s,u).trim()),s=l=++u),l=nb(e,l,cD),l===a)i.push(e.substring(s,a).trim());else if(i.push(e.substring(s,l).trim()),c=[],s=++l,s===a)throw"Unmatched left bracket: "+e;for(;l<a;){if(l=nb(e,l,fD),l===a)throw"Unmatched left bracket: "+e;if(c.push(e.substring(s,l).trim()),l<a-1&&e[++l]!==cD)throw"Expected left bracket: "+e;s=++l}if(!(a=i.length)||bAt.test(i[a-1]))throw"Invalid event selector: "+e;return a>1?(t.type=i[1],o?t.markname=i[0].slice(1):function EAt(e){return Zve[e]}(i[0])?t.marktype=i[0]:t.source=i[0]):t.type=i[0],"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1)),null!=c&&(t.filter=c),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}(e)}function MAt(e){return Zi(e)?e:{type:e||"pad"}}const ib=e=>+e||0,IAt=e=>({top:e,bottom:e,left:e,right:e});function DAt(e){return Zi(e)?e.signal?e:{top:ib(e.top),bottom:ib(e.bottom),left:ib(e.left),right:ib(e.right)}:IAt(ib(e))}const qu=e=>Zi(e)&&!Xn(e)?Po({},e):{value:e};function e3e(e,t,i,r){return null!=i?(Zi(i)&&!Xn(i)||Xn(i)&&i.length&&Zi(i[0])?e.update[t]=i:e[r||"enter"][t]={value:i},1):0}function yc(e,t,i){for(const r in t)e3e(e,r,t[r]);for(const r in i)e3e(e,r,i[r],"update")}function U8(e,t,i){for(const r in t)i&&fr(i,r)||(e[r]=Po(e[r]||{},t[r]));return e}function P8(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const zG="mark",$G="frame",GG="scope",TAt="axis",FAt="axis-domain",OAt="axis-grid",kAt="axis-label",NAt="axis-tick",LAt="axis-title",RAt="legend",UAt="legend-band",PAt="legend-entry",HAt="legend-gradient",t3e="legend-label",QAt="legend-symbol",VAt="legend-title",zAt="title",$At="title-text",GAt="title-subtitle";function qG(e,t,i){e[t]=i&&i.signal?{signal:i.signal}:{value:i}}const n3e=e=>Ji(e)?Li(e):e.signal?`(${e.signal})`:i3e(e);function dD(e){if(null!=e.gradient)return function KAt(e){const t=[e.start,e.stop,e.count].map(i=>null==i?null:Li(i));for(;t.length&&null==ds(t);)t.pop();return t.unshift(n3e(e.gradient)),`gradient(${t.join(",")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function jAt(e){return e.c?AD("hcl",e.h,e.c,e.l):e.h||e.s?AD("hsl",e.h,e.s,e.l):e.l||e.a?AD("lab",e.l,e.a,e.b):e.r||e.g||e.b?AD("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?i3e(e.field):void 0!==e.value?Li(e.value):void 0;return null!=e.scale&&(t=function WAt(e,t){const i=n3e(e.scale);return null!=e.range?t=`lerp(_range(${i}), ${+e.range})`:(void 0!==t&&(t=`_scale(${i}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${i})`+(1==+e.band?"":"*"+hD(e.band)),e.extra&&(t=`(datum.extra ? _scale(${i}, datum.extra.value) : ${t})`)),null==t&&(t="0")),t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t=`pow(${t},${hD(e.exponent)})`),null!=e.mult&&(t+=`*${hD(e.mult)}`),null!=e.offset&&(t+=`+${hD(e.offset)}`),e.round&&(t=`round(${t})`),t}const AD=(e,t,i,r)=>`(${e}(${[t,i,r].map(dD).join(",")})+'')`;function hD(e){return Zi(e)?"("+dD(e)+")":e}function i3e(e){return r3e(Zi(e)?e:{datum:e})}function r3e(e){let t,i,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(i=Math.max(1,e.level||1),t="item";i-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Gn("Invalid field reference: "+Li(e));return e.signal||(r=Ji(r)?$p(r).map(Li).join("]["):r3e(r)),t+"["+r+"]"}function o3e(e,t,i,r,o,s){const a={};(s=s||{}).encoders={$encode:a},e=function qAt(e,t,i,r,o){const s={},a={};let l,u,c,f;for(u in u="lineBreak","text"===t&&null!=o[u]&&!P8(u,e)&&qG(s,u,o[u]),("legend"==i||String(i).startsWith("axis"))&&(i=null),f=i===$G?o.group:i===zG?Po({},o.mark,o[t]):null,f)c=P8(u,e)||("fill"===u||"stroke"===u)&&(P8("fill",e)||P8("stroke",e)),c||qG(s,u,f[u]);for(u in er(r).forEach(d=>{const h=o.style&&o.style[d];for(const g in h)P8(g,e)||qG(s,g,h[g])}),e=Po({},e),s)f=s[u],f.signal?(l=l||{})[u]=f:a[u]=f;return e.enter=Po(a,e.enter),l&&(e.update=Po(l,e.update)),e}(e,t,i,r,o.config);for(const l in e)a[l]=YAt(e[l],t,s,o);return s}function YAt(e,t,i,r){const o={},s={};for(const a in e)null!=e[a]&&(o[a]=JAt(ZAt(e[a]),r,i,s));return{$expr:{marktype:t,channels:o},$fields:Object.keys(s),$output:Object.keys(e)}}function ZAt(e){return Xn(e)?function XAt(e){let t="";return e.forEach(i=>{const r=dD(i);t+=i.test?`(${i.test})?${r}:`:r}),":"===ds(t)&&(t+="null"),t}(e):dD(e)}function JAt(e,t,i,r){const o=pg(e,t);return o.$fields.forEach(s=>r[s]=1),Po(i,o.$params),o.$expr}const eht="outer",tht=["value","update","init","react","bind"];function s3e(e,t){Gn(e+' for "outer" push: '+Li(t))}function a3e(e,t){const i=e.name;if(e.push===eht)t.signals[i]||s3e("No prior signal definition",i),tht.forEach(r=>{void 0!==e[r]&&s3e("Invalid property ",r)});else{const r=t.addSignal(i,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(i,e.bind)}}function jG(e,t,i,r){this.id=-1,this.type=e,this.value=t,this.params=i,r&&(this.parent=r)}function pD(e,t,i,r){return new jG(e,t,i,r)}function gD(e,t){return pD("operator",e,t)}function $r(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function rb(e,t){return t?{$field:e,$name:t}:{$field:e}}const KG=rb("key");function l3e(e,t){return{$compare:e,$order:t}}function mD(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const WG="scope",XG="view";function Du(e){return e&&e.signal}function vD(e){if(Du(e))return!0;if(Zi(e))for(const t in e)if(vD(e[t]))return!0;return!1}function F0(e,t){return e??t}function J3(e){return e&&e.signal||e}const u3e="timer";function ob(e,t){return(e.merge?lht:e.stream?uht:e.type?cht:Gn("Invalid stream specification: "+Li(e)))(e,t)}function lht(e,t){const r=YG({merge:e.merge.map(o=>ob(o,t))},e,t);return t.addStream(r).id}function uht(e,t){const r=YG({stream:ob(e.stream,t)},e,t);return t.addStream(r).id}function cht(e,t){let i;e.type===u3e?(i=t.event(u3e,e.throttle),e={between:e.between,filter:e.filter}):i=t.event(function aht(e){return e===WG?XG:e||XG}(e.source),e.type);const r=YG({stream:i},e,t);return 1===Object.keys(r).length?i:t.addStream(r).id}function YG(e,t,i){let r=t.between;return r&&(2!==r.length&&Gn('Stream "between" parameter must have 2 entries: '+Li(t)),e.between=[ob(r[0],i),ob(r[1],i)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function fht(e,t,i){const r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(i?"&&"+r+".mark.role==='"+i+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===WG&&r.push("inScope(event.item)"),r.length&&(e.filter=pg("("+r.join(")&&(")+")",i).$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}const dht={code:"_.$value",ast:{type:"Identifier",value:"value"}};function pht(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}const va=e=>(t,i,r)=>pD(e,i,t||void 0,r),c3e=va("aggregate"),mht=va("axisticks"),f3e=va("bound"),O0=va("collect"),d3e=va("compare"),vht=va("datajoin"),A3e=va("encode"),yht=va("expression"),_ht=va("facet"),wht=va("field"),bht=va("key"),Cht=va("legendentries"),Eht=va("load"),xht=va("mark"),Sht=va("multiextent"),Bht=va("multivalues"),Mht=va("overlap"),Iht=va("params"),h3e=va("prefacet"),Dht=va("projection"),Tht=va("proxy"),Fht=va("relay"),p3e=va("render"),Oht=va("scale"),e4=va("sieve"),kht=va("sortitems"),g3e=va("viewlayout"),Nht=va("values");let Lht=0;const m3e={min:"min",max:"max",count:"sum"};function Uht(e,t){const i=t.getScale(e.name).params;let r;for(r in i.domain=v3e(e.domain,e,t),null!=e.range&&(i.range=_3e(e,t,i)),null!=e.interpolate&&function Kht(e,t){t.interpolate=_h(e.type||e),null!=e.gamma&&(t.interpolateGamma=_h(e.gamma))}(e.interpolate,i),null!=e.nice&&(i.nice=function jht(e,t){return e.signal?t.signalRef(e.signal):Zi(e)?{interval:_h(e.interval),step:_h(e.step)}:_h(e)}(e.nice,t)),null!=e.bins&&(i.bins=function qht(e,t){return e.signal||Xn(e)?yD(e,t):t.objectProperty(e)}(e.bins,t)),e)fr(i,r)||"name"===r||(i[r]=_h(e[r],t))}function _h(e,t){return Zi(e)?e.signal?t.signalRef(e.signal):Gn("Unsupported object: "+Li(e)):e}function yD(e,t){return e.signal?t.signalRef(e.signal):e.map(i=>_h(i,t))}function _D(e){Gn("Can not find data set: "+Li(e))}function v3e(e,t,i){if(e)return e.signal?i.signalRef(e.signal):(Xn(e)?Pht:e.fields?Qht:Hht)(e,t,i);(null!=t.domainMin||null!=t.domainMax)&&Gn("No scale domain defined for domainMin/domainMax to override.")}function Pht(e,t,i){return e.map(r=>_h(r,i))}function Hht(e,t,i){const r=i.getData(e.data);return r||_D(e.data),n8(t.type)?r.valuesRef(i,e.field,y3e(e.sort,!1)):vhe(t.type)?r.domainRef(i,e.field):r.extentRef(i,e.field)}function Qht(e,t,i){const r=e.data,o=e.fields.reduce((s,a)=>(a=Ji(a)?{data:r,field:a}:Xn(a)||a.signal?function Vht(e,t){const i="_:vega:_"+Lht++,r=O0({});if(Xn(e))r.value={$ingest:e};else if(e.signal){const o="setdata("+Li(i)+","+e.signal+")";r.params.input=t.signalRef(o)}return t.addDataPipeline(i,[r,e4({})]),{data:i,field:"data"}}(a,i):a,s.push(a),s),[]);return(n8(t.type)?zht:vhe(t.type)?$ht:Ght)(e,i,o)}function zht(e,t,i){const r=y3e(e.sort,!0);let o,s;const a=i.map(c=>{const f=t.getData(c.data);return f||_D(c.data),f.countsRef(t,c.field,r)}),l={groupby:KG,pulse:a};r&&(o=r.op||"count",s=r.field?mD(o,r.field):"count",l.ops=[m3e[o]],l.fields=[t.fieldRef(s)],l.as=[s]),o=t.add(c3e(l));const u=t.add(O0({pulse:$r(o)}));return s=t.add(Nht({field:KG,sort:t.sortRef(r),pulse:$r(u)})),$r(s)}function y3e(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!m3e[e.op]&&Gn("Multiple domain scales can not be sorted using "+e.op):Gn("No field provided for sort aggregate op: "+e.op):Zi(e)?e.field="key":e={field:"key"}),e}function $ht(e,t,i){const r=i.map(o=>{const s=t.getData(o.data);return s||_D(o.data),s.domainRef(t,o.field)});return $r(t.add(Bht({values:r})))}function Ght(e,t,i){const r=i.map(o=>{const s=t.getData(o.data);return s||_D(o.data),s.extentRef(t,o.field)});return $r(t.add(Sht({extents:r})))}function _3e(e,t,i){const r=t.config.range;let o=e.range;if(o.signal)return t.signalRef(o.signal);if(Ji(o)){if(r&&fr(r,o))return _3e(e=Po({},e,{range:r[o]}),t,i);"width"===o?o=[0,{signal:"width"}]:"height"===o?o=n8(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Gn("Unrecognized scale range value: "+Li(o))}else{if(o.scheme)return i.scheme=Xn(o.scheme)?yD(o.scheme,t):_h(o.scheme,t),o.extent&&(i.schemeExtent=yD(o.extent,t)),void(o.count&&(i.schemeCount=_h(o.count,t)));if(o.step)return void(i.rangeStep=_h(o.step,t));if(n8(e.type)&&!Xn(o))return v3e(o,e,t);Xn(o)||Gn("Unsupported range type: "+Li(o))}return o.map(s=>(Xn(s)?yD:_h)(s,t))}function ZG(e,t,i){return Xn(e)?e.map(r=>ZG(r,t,i)):Zi(e)?e.signal?i.signalRef(e.signal):"fit"===t?e:Gn("Unsupported parameter object: "+Li(e)):e}const k0="top",H8="left",Q8="right",O2="bottom",Xht="vertical",Yht="start",Jht="end",JG="index",eq="label",e0t="offset",V8="perc",t0t="perc2",wh="value",sb="guide-label",tq="guide-title",n0t="group-title",i0t="group-subtitle",b3e="symbol",wD="gradient",nq="discrete",iq="size",rq=[iq,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],ab={name:1,style:1,interactive:1},ms={value:0},bh={value:1},bD="group",C3e="rect",oq="rule",r0t="symbol",t4="text";function lb(e){return e.type=bD,e.interactive=e.interactive||!1,e}function Md(e,t){const i=(r,o)=>F0(e[r],F0(t[r],o));return i.isVertical=r=>Xht===F0(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),i.gradientLength=()=>F0(e.gradientLength,t.gradientLength||t.gradientWidth),i.gradientThickness=()=>F0(e.gradientThickness,t.gradientThickness||t.gradientHeight),i.entryColumns=()=>F0(e.columns,F0(t.columns,+i.isVertical(!0))),i}function E3e(e,t){const i=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return i&&i.signal?i:i?i.value:null}function CD(e,t,i){return`item.anchor === '${Yht}' ? ${e} : item.anchor === '${Jht}' ? ${t} : ${i}`}const sq=CD(Li(H8),Li(Q8),Li("center"));function x3e(e,t){return t?e?Zi(e)?Object.assign({},e,{offset:x3e(e.offset,t)}):{value:e,offset:t}:t:e}function bA(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=U8(e.encode,t,ab)):e.interactive=!1,e}function a0t(e,t,i,r){const o=Md(e,i),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,f,d,h;s?(c=[0,1],f=[0,0],d=a,h=l):(c=[0,0],f=[1,0],d=l,h=a);const g={enter:u={opacity:ms,x:ms,y:ms,width:qu(d),height:qu(h)},update:Po({},u,{opacity:bh,fill:{gradient:t,start:c,stop:f}}),exit:{opacity:ms}};return yc(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),bA({type:C3e,role:HAt,encode:g},r)}function l0t(e,t,i,r,o){const s=Md(e,i),a=s.isVertical(),l=s.gradientThickness(),u=s.gradientLength();let c,f,d,h,g="";a?(c="y",d="y2",f="x",h="width",g="1-"):(c="x",d="x2",f="y",h="height");const v={opacity:ms,fill:{scale:t,field:wh}};v[c]={signal:g+"datum."+V8,mult:u},v[f]=ms,v[d]={signal:g+"datum."+t0t,mult:u},v[h]=qu(l);const y={enter:v,update:Po({},v,{opacity:bh}),exit:{opacity:ms}};return yc(y,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),bA({type:C3e,role:UAt,key:wh,from:o,encode:y},r)}const u0t=`datum.${V8}<=0?"${H8}":datum.${V8}>=1?"${Q8}":"center"`,c0t=`datum.${V8}<=0?"${O2}":datum.${V8}>=1?"${k0}":"middle"`;function S3e(e,t,i,r){const o=Md(e,t),s=o.isVertical(),a=qu(o.gradientThickness()),l=o.gradientLength();let c,f,d,h,u=o("labelOverlap"),g="";const v={enter:c={opacity:ms},update:f={opacity:bh,text:{field:eq}},exit:{opacity:ms}};return yc(v,{fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:F0(e.labelLimit,t.gradientLabelLimit)}),s?(c.align={value:"left"},c.baseline=f.baseline={signal:c0t},d="y",h="x",g="1-"):(c.align=f.align={signal:u0t},c.baseline={value:"top"},d="x",h="y"),c[d]=f[d]={signal:g+"datum."+V8,mult:l},c[h]=f[h]=a,a.offset=F0(e.labelOffset,t.gradientLabelOffset)||0,u=u?{separation:o("labelSeparation"),method:u,order:"datum."+JG}:void 0,bA({type:t4,role:t3e,style:sb,key:wh,from:r,encode:v,overlap:u},i)}function f0t(e,t,i,r,o){const s=Md(e,t),a=i.entries,l=!(!a||!a.interactive),u=a?a.name:void 0,c=s("clipHeight"),f=s("symbolOffset"),d={data:"value"},h=`(${o}) ? datum.${e0t} : datum.${iq}`,g=c?qu(c):{field:iq},v=`datum.${JG}`,y=`max(1, ${o})`;let b,E,M,k,P;g.mult=.5,b={enter:E={opacity:ms,x:{signal:h,mult:.5,offset:f},y:g},update:M={opacity:bh,x:E.x,y:E.y},exit:{opacity:ms}};let H=null,X=null;e.fill||(H=t.symbolBaseFillColor,X=t.symbolBaseStrokeColor),yc(b,{fill:s("symbolFillColor",H),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",X),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),rq.forEach(Ie=>{e[Ie]&&(M[Ie]=E[Ie]={scale:e[Ie],field:wh})});const z=bA({type:r0t,role:QAt,key:wh,from:d,clip:!!c||void 0,encode:b},i.symbols),se=qu(f);se.offset=s("labelOffset"),b={enter:E={opacity:ms,x:{signal:h,offset:se},y:g},update:M={opacity:bh,text:{field:eq},x:E.x,y:E.y},exit:{opacity:ms}},yc(b,{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});const ye=bA({type:t4,role:t3e,style:sb,key:wh,from:d,encode:b},i.labels);return b={enter:{noBound:{value:!c},width:ms,height:c?qu(c):ms,opacity:ms},exit:{opacity:ms},update:M={opacity:bh,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(k=`ceil(item.mark.items.length / ${y})`,M.row.signal=`${v}%${k}`,M.column.signal=`floor(${v} / ${k})`,P={field:["row",v]}):(M.row.signal=`floor(${v} / ${y})`,M.column.signal=`${v} % ${y}`,P={field:v}),M.column.signal=`(${o})?${M.column.signal}:${v}`,lb({role:GG,from:r={facet:{data:r,name:"value",groupby:JG}},encode:U8(b,a,ab),marks:[z,ye],name:u,interactive:l,sort:P})}const aq='item.orient === "left"',lq='item.orient === "right"',ED=`(${aq} || ${lq})`,A0t=`datum.vgrad && ${ED}`,h0t=CD('"top"','"bottom"','"middle"'),g0t=`datum.vgrad && ${lq} ? (${CD('"right"','"left"','"center"')}) : (${ED} && !(datum.vgrad && ${aq})) ? "left" : ${sq}`,m0t=`item._anchor || (${ED} ? "middle" : "start")`,v0t=`${A0t} ? (${aq} ? -90 : 90) : 0`,y0t=`${ED} ? (datum.vgrad ? (${lq} ? "bottom" : "top") : ${h0t}) : "top"`;function w0t(e,t){let i;return Zi(e)&&(e.signal?i=e.signal:e.path?i="pathShape("+B3e(e.path)+")":e.sphere&&(i="geoShape("+B3e(e.sphere)+', {type: "Sphere"})')),i?t.signalRef(i):!!e}function B3e(e){return Zi(e)&&e.signal?e.signal:Li(e)}function M3e(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===bD?GG:t||zG}function b0t(e){return{marktype:e.type,name:e.name||void 0,role:e.role||M3e(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function C0t(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function uq(e,t){const i=ufe(e.type);i||Gn("Unrecognized transform type: "+Li(e.type));const r=pD(i.type.toLowerCase(),null,I3e(i,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=i.metadata||{},r}function I3e(e,t,i){const r={},o=e.params.length;for(let s=0;s<o;++s){const a=e.params[s];r[a.name]=E0t(a,t,i)}return r}function E0t(e,t,i){const r=e.type,o=t[e.name];return"index"===r?function x0t(e,t,i){return Ji(t.from)||Gn('Lookup "from" parameter must be a string literal.'),i.getData(t.from).lookupRef(i,t.key)}(0,t,i):void 0!==o?"param"===r?function S0t(e,t,i){const r=t[e.name];return e.array?(Xn(r)||Gn("Expected an array of sub-parameters. Instead: "+Li(r)),r.map(o=>T3e(e,o,i))):T3e(e,r,i)}(e,t,i):"projection"===r?i.projectionRef(t[e.name]):e.array&&!Du(o)?o.map(s=>D3e(e,s,i)):D3e(e,o,i):void(e.required&&Gn("Missing required "+Li(t.type)+" parameter: "+Li(e.name)))}function D3e(e,t,i){const r=e.type;if(Du(t))return F3e(r)?Gn("Expression references can not be signals."):cq(r)?i.fieldRef(t):O3e(r)?i.compareRef(t):i.signalRef(t.signal);{const o=e.expr||cq(r);return o&&B0t(t)?i.exprRef(t.expr,t.as):o&&M0t(t)?rb(t.field,t.as):F3e(r)?pg(t,i):I0t(r)?$r(i.getData(t).values):cq(r)?rb(t):O3e(r)?i.compareRef(t):t}}function T3e(e,t,i){const r=e.params.length;let o;for(let a=0;a<r;++a){o=e.params[a];for(const l in o.key)if(o.key[l]!==t[l]){o=null;break}if(o)break}o||Gn("Unsupported parameter: "+Li(t));const s=Po(I3e(o,t,i),o.key);return $r(i.add(Iht(s)))}const B0t=e=>e&&e.expr,M0t=e=>e&&e.field,I0t=e=>"data"===e,F3e=e=>"expr"===e,cq=e=>"field"===e,O3e=e=>"compare"===e;function xD(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:$r(t.getData(e.data).output)}function n4(e,t,i,r,o){this.scope=e,this.input=t,this.output=i,this.values=r,this.aggregate=o,this.index={}}function k3e(e){return Ji(e)?e:null}function N3e(e,t,i){const r=mD(i.op,i.field);let o;if(t.ops){for(let s=0,a=t.as.length;s<a;++s)if(t.as[s]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];i.op&&(t.ops.push((o=i.op.signal)?e.signalRef(o):i.op),t.fields.push(e.fieldRef(i.field)),t.as.push(r))}function ub(e,t,i,r,o,s,a){const l=t[i]||(t[i]={}),u=function oht(e){return Zi(e)?("descending"===e.order?"-":"+")+mD(e.op,e.field):""}(s);let f,d,c=k3e(o);if(null!=c&&(e=t.scope,c+=u?"|"+u:"",f=l[c]),!f){const h=s?{field:KG,pulse:t.countsRef(e,o,s)}:{field:e.fieldRef(o),pulse:$r(t.output)};u&&(h.sort=e.sortRef(s)),d=e.add(pD(r,void 0,h)),a&&(t.index[o]=d),f=$r(d),null!=c&&(l[c]=f)}return f}function L3e(e,t,i){const r=e.remove,o=e.insert,s=e.toggle,a=e.modify,l=e.values,u=t.add(gD()),f=pg("if("+e.trigger+',modify("'+i+'",'+[o,r,s,a,l].map(d=>d??"null").join(",")+"),0)",t);u.update=f.$expr,u.params=f.$params}function SD(e,t){const i=M3e(e),r=e.type===bD,o=e.from&&e.from.facet,s=e.overlap;let l,u,c,f,d,h,g,a=e.layout||i===GG||i===$G;const v=i===zG||a||o,y=function D0t(e,t,i){let r,o,s,a,l;return e?(r=e.facet)&&(t||Gn("Only group marks can be faceted."),null!=r.field?a=l=xD(r,i):(e.data?l=$r(i.getData(e.data).aggregate):(s=uq(Po({type:"aggregate",groupby:er(r.groupby)},r.aggregate),i),s.params.key=i.keyRef(r.groupby),s.params.pulse=xD(r,i),a=l=$r(i.add(s))),o=i.keyRef(r.groupby,!0))):a=$r(i.add(O0(null,[{}]))),a||(a=xD(e,i)),{key:o,pulse:a,parent:l}}(e.from,r,t);u=t.add(vht({key:y.key||(e.key?rb(e.key):void 0),pulse:y.pulse,clean:!r}));const b=$r(u);u=c=t.add(O0({pulse:b})),u=t.add(xht({markdef:b0t(e),interactive:C0t(e.interactive,t),clip:w0t(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:$r(u)}));const E=$r(u);u=f=t.add(A3e(o3e(e.encode,e.type,i,e.style,t,{mod:!1,pulse:E}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(X=>{const z=uq(X,t),se=z.metadata;(se.generates||se.changes)&&Gn("Mark transforms should not generate new data."),se.nomod||(f.params.mod=!0),z.params.pulse=$r(u),t.add(u=z)}),e.sort&&(u=t.add(kht({sort:t.compareRef(e.sort),pulse:$r(u)})));const M=$r(u);(o||a)&&(a=t.add(g3e({layout:t.objectProperty(e.layout),legends:t.legends,mark:E,pulse:M})),h=$r(a));const k=t.add(f3e({mark:E,pulse:h||M}));g=$r(k),r&&(v&&(l=t.operators,l.pop(),a&&l.pop()),t.pushState(M,h||g,b),o?function T0t(e,t,i){const r=e.from.facet,o=r.name,s=xD(r,t);let a;r.name||Gn("Facet must have a name: "+Li(r)),r.data||Gn("Facet must reference a data set: "+Li(r)),r.field?a=t.add(h3e({field:t.fieldRef(r.field),pulse:s})):r.groupby?a=t.add(_ht({key:t.keyRef(r.groupby),group:$r(t.proxy(i.parent)),pulse:s})):Gn("Facet must specify groupby or field: "+Li(r));const l=t.fork(),u=l.add(O0()),c=l.add(e4({pulse:$r(u)}));l.addData(o,new n4(l,u,u,c)),l.addSignal("parent",null),a.params.subflow={$subflow:l.parse(e).toRuntime()}}(e,t,y):v?function F0t(e,t,i){const r=t.add(h3e({pulse:i.pulse})),o=t.fork();o.add(e4()),o.addSignal("parent",null),r.params.subflow={$subflow:o.parse(e).toRuntime()}}(e,t,y):t.parse(e),t.popState(),v&&(a&&l.push(a),l.push(k))),s&&(g=function O0t(e,t,i){const r=e.method,o=e.bound,s=e.separation,a={separation:Du(s)?i.signalRef(s.signal):s,method:Du(r)?i.signalRef(r.signal):r,pulse:t};if(e.order&&(a.sort=i.compareRef({field:e.order})),o){const l=o.tolerance;a.boundTolerance=Du(l)?i.signalRef(l.signal):+l,a.boundScale=i.scaleRef(o.scale),a.boundOrient=o.orient}return $r(i.add(Mht(a)))}(s,g,t));const P=t.add(p3e({pulse:g})),H=t.add(e4({pulse:$r(P)},void 0,t.parent()));null!=e.name&&(d=e.name,t.addData(d,new n4(t,c,P,H)),e.on&&e.on.forEach(X=>{(X.insert||X.remove||X.toggle)&&Gn("Marks only support modify triggers."),L3e(X,t,d)}))}function R0t(e,t,i){const r={enter:{},update:{}};return yc(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:i.strokeWidth,strokeDash:i.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function R3e(e,t,i){return t[e]?`scale("${t[e]}",datum)`:E3e(e,i[0].encode)}n4.fromEntries=function(e,t){const i=t.length,r=t[i-1],o=t[i-2];let s=t[0],a=null,l=1;for(s&&"load"===s.type&&(s=t[1]),e.add(t[0]);l<i;++l)t[l].params.pulse=$r(t[l-1]),e.add(t[l]),"aggregate"===t[l].type&&(a=t[l]);return new n4(e,s,o,r,a)},n4.prototype={countsRef(e,t,i){const r=this,o=r.counts||(r.counts={}),s=k3e(t);let a,l,u;return null!=s&&(e=r.scope,a=o[s]),a?i&&i.field&&N3e(e,a.agg.params,i):(u={groupby:e.fieldRef(t,"key"),pulse:$r(r.output)},i&&i.field&&N3e(e,u,i),l=e.add(c3e(u)),a=e.add(O0({pulse:$r(l)})),a={agg:l,ref:$r(a)},null!=s&&(o[s]=a)),a.ref},tuplesRef(){return $r(this.values)},extentRef(e,t){return ub(e,this,"extent","extent",t,!1)},domainRef(e,t){return ub(e,this,"domain","values",t,!1)},valuesRef(e,t,i){return ub(e,this,"vals","values",t,i||!0)},lookupRef(e,t){return ub(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return ub(e,this,"indata","tupleindex",t,!0,!0)}};const H0t=`item.orient==="${H8}"?-90:item.orient==="${Q8}"?90:0`;function z0t(e,t){const i={enter:{},update:{}};return yc(i,{orient:e("orient"),anchor:e("anchor"),align:{signal:sq},angle:{signal:H0t},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),U8(i,t,ab)}function i4(e){const t=O0({},e);return t.metadata={source:!0},t}function U3e(e,t){return Eht({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const P3e=e=>e===O2||e===k0,BD=(e,t,i)=>Du(e)?Y0t(e.signal,t,i):e===H8||e===k0?t:i,ju=(e,t,i)=>Du(e)?W0t(e.signal,t,i):P3e(e)?t:i,N0=(e,t,i)=>Du(e)?X0t(e.signal,t,i):P3e(e)?i:t,H3e=(e,t,i)=>Du(e)?Z0t(e.signal,t,i):e===k0?{value:t}:{value:i},K0t=(e,t,i)=>Du(e)?J0t(e.signal,t,i):e===Q8?{value:t}:{value:i},W0t=(e,t,i)=>Q3e(`${e} === '${k0}' || ${e} === '${O2}'`,t,i),X0t=(e,t,i)=>Q3e(`${e} !== '${k0}' && ${e} !== '${O2}'`,t,i),Y0t=(e,t,i)=>fq(`${e} === '${H8}' || ${e} === '${k0}'`,t,i),Z0t=(e,t,i)=>fq(`${e} === '${k0}'`,t,i),J0t=(e,t,i)=>fq(`${e} === '${Q8}'`,t,i),Q3e=(e,t,i)=>(t=null!=t?qu(t):t,i=null!=i?qu(i):i,V3e(t)&&V3e(i)?{signal:`${e} ? (${t=t?t.signal||Li(t.value):null}) : (${i=i?i.signal||Li(i.value):null})`}:[Po({test:e},t)].concat(i||[])),V3e=e=>null==e||1===Object.keys(e).length,fq=(e,t,i)=>({signal:`${e} ? (${z8(t)}) : (${z8(i)})`}),ept=(e,t,i,r,o)=>({signal:(null!=r?`${e} === '${H8}' ? (${z8(r)}) : `:"")+(null!=i?`${e} === '${O2}' ? (${z8(i)}) : `:"")+(null!=o?`${e} === '${Q8}' ? (${z8(o)}) : `:"")+(null!=t?`${e} === '${k0}' ? (${z8(t)}) : `:"")+"(null)"}),z8=e=>Du(e)?e.signal:null==e?null:Li(e),tpt=(e,t)=>0===t?0:Du(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},$8=(e,t)=>{const i=e.signal;return i&&i.endsWith("(null)")?{signal:i.slice(0,-6)+t.signal}:e};function G8(e,t,i,r){let o;if(t&&fr(t,e))return t[e];if(fr(i,e))return i[e];if(e.startsWith("title")){switch(e){case"titleColor":o="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":o=e[5].toLowerCase()+e.slice(6)}return r[tq][o]}if(e.startsWith("label")){switch(e){case"labelColor":o="fill";break;case"labelFont":case"labelFontSize":o=e[5].toLowerCase()+e.slice(6)}return r[sb][o]}return null}function z3e(e){const t={};for(const i of e)if(i)for(const r in i)t[r]=1;return Object.keys(t)}function $3e(e,t){return{scale:e.scale,range:t}}function dq(e,t,i,r,o){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+i+","+r+","+o+")"}}function cpt(e,t){const i=function npt(e,t){var l,u,c,i=t.config,r=i.style,o=i.axis,s="band"===t.scaleType(e.scale)&&i.axisBand,a=e.orient;if(Du(a)){const d=z3e([i.axisX,i.axisY]),h=z3e([i.axisTop,i.axisBottom,i.axisLeft,i.axisRight]);for(c of(l={},d))l[c]=ju(a,G8(c,i.axisX,o,r),G8(c,i.axisY,o,r));for(c of(u={},h))u[c]=ept(a.signal,G8(c,i.axisTop,o,r),G8(c,i.axisBottom,o,r),G8(c,i.axisLeft,o,r),G8(c,i.axisRight,o,r))}else l=a===k0||a===O2?i.axisX:i.axisY,u=i["axis"+a[0].toUpperCase()+a.slice(1)];return l||u||s?Po({},o,l,u,s):o}(e,t),r=e.encode||{},o=r.axis||{},s=o.name||void 0,a=o.interactive,l=o.style,u=Md(e,i),c=function s0t(e){const t=e("tickBand");let r,o,i=e("tickOffset");return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},o={signal:`(${t.signal}) === 'extent'`},Zi(i)||(i={signal:`(${t.signal}) === 'extent' ? 0 : ${i}`})):"extent"===t?(r=1,o=!0,i=0):(r=.5,o=!1):(r=e("bandPosition"),o=e("tickExtra")),{extra:o,band:r,offset:i}}(u),f={scale:e.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:null!=e.title},d=$r(t.add(O0({},[f]))),h=$r(t.add(mht({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),g=[];let v;return f.grid&&g.push(function rpt(e,t,i,r,o){const s=Md(e,t),a=e.orient,l=e.gridScale,u=BD(a,1,-1),c=function opt(e,t){if(1!==t)if(Zi(e)){let i=e=Po({},e);for(;null!=i.mult;){if(!Zi(i.mult))return i.mult=Du(t)?{signal:`(${i.mult}) * (${t.signal})`}:i.mult*t,e;i=i.mult=Po({},i.mult)}i.mult=t}else e=Du(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);return e}(e.offset,u);let f,d,h;const g={enter:f={opacity:ms},update:h={opacity:bh},exit:d={opacity:ms}};yc(g,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});const v={scale:e.scale,field:wh,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")},y=ju(a,{signal:"height"},{signal:"width"}),b=l?{scale:l,range:0,mult:u,offset:c}:{value:0,offset:c},E=l?{scale:l,range:1,mult:u,offset:c}:Po(y,{mult:u,offset:c});return f.x=h.x=ju(a,v,b),f.y=h.y=N0(a,v,b),f.x2=h.x2=N0(a,E),f.y2=h.y2=ju(a,E),d.x=ju(a,v),d.y=N0(a,v),bA({type:oq,role:OAt,key:wh,from:r,encode:g},i)}(e,i,r.grid,h,c)),f.ticks&&(v=u("tickSize"),g.push(function spt(e,t,i,r,o,s){const a=Md(e,t),l=e.orient,u=BD(l,-1,1);let c,f,d;const h={enter:c={opacity:ms},update:d={opacity:bh},exit:f={opacity:ms}};yc(h,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const g=qu(o);g.mult=u;const v={scale:e.scale,field:wh,band:s.band,extra:s.extra,offset:s.offset,round:a("tickRound")};return d.y=c.y=ju(l,ms,v),d.y2=c.y2=ju(l,g),f.x=ju(l,v),d.x=c.x=N0(l,ms,v),d.x2=c.x2=N0(l,g),f.y=N0(l,v),bA({type:oq,role:NAt,key:wh,from:r,encode:h},i)}(e,i,r.ticks,h,v,c))),f.labels&&(v=f.ticks?v:0,g.push(function apt(e,t,i,r,o,s){const a=Md(e,t),l=e.orient,u=e.scale,c=BD(l,-1,1),f=J3(a("labelFlush")),d=J3(a("labelFlushOffset")),h=a("labelAlign"),g=a("labelBaseline");let y,v=0===f||!!f;const b=qu(o);b.mult=c,b.offset=qu(a("labelPadding")||0),b.offset.mult=c;const E={scale:u,field:wh,band:.5,offset:x3e(s.offset,a("labelOffset"))},M=ju(l,v?dq(u,f,'"left"','"right"','"center"'):{value:"center"},K0t(l,"left","right")),k=ju(l,H3e(l,"bottom","top"),v?dq(u,f,'"top"','"bottom"','"middle"'):{value:"middle"}),P=dq(u,f,`-(${d})`,d,0);v=v&&d;const H={opacity:ms,x:ju(l,E,b),y:N0(l,E,b)},X={enter:H,update:y={opacity:bh,text:{field:eq},x:H.x,y:H.y,align:M,baseline:k},exit:{opacity:ms,x:H.x,y:H.y}};yc(X,{dx:!h&&v?ju(l,P):null,dy:!g&&v?N0(l,P):null}),yc(X,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:h,baseline:g});const z=a("labelBound");let se=a("labelOverlap");return se=se||z?{separation:a("labelSeparation"),method:se,order:"datum.index",bound:z?{scale:u,orient:l,tolerance:z}:null}:void 0,y.align!==M&&(y.align=$8(y.align,M)),y.baseline!==k&&(y.baseline=$8(y.baseline,k)),bA({type:t4,role:kAt,style:sb,key:wh,from:r,encode:X,overlap:se},i)}(e,i,r.labels,h,v,c))),f.domain&&g.push(function ipt(e,t,i,r){const o=Md(e,t),s=e.orient;let a,l;const u={enter:a={opacity:ms},update:l={opacity:bh},exit:{opacity:ms}};yc(u,{stroke:o("domainColor"),strokeCap:o("domainCap"),strokeDash:o("domainDash"),strokeDashOffset:o("domainDashOffset"),strokeWidth:o("domainWidth"),strokeOpacity:o("domainOpacity")});const c=$3e(e,0),f=$3e(e,1);return a.x=l.x=ju(s,c,ms),a.x2=l.x2=ju(s,f),a.y=l.y=N0(s,c,ms),a.y2=l.y2=N0(s,f),bA({type:oq,role:FAt,from:r,encode:u},i)}(e,i,r.domain,d)),f.title&&g.push(function lpt(e,t,i,r){const o=Md(e,t),s=e.orient,a=BD(s,-1,1);let l,u;const c={enter:l={opacity:ms,anchor:qu(o("titleAnchor",null)),align:{signal:sq}},update:u=Po({},l,{opacity:bh,text:qu(e.title)}),exit:{opacity:ms}},f={signal:`lerp(range("${e.scale}"), ${CD(0,1,.5)})`};return u.x=ju(s,f),u.y=N0(s,f),l.angle=ju(s,ms,tpt(a,90)),l.baseline=ju(s,H3e(s,O2,k0),{value:O2}),u.angle=l.angle,u.baseline=l.baseline,yc(c,{fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),angle:o("titleAngle"),baseline:o("titleBaseline")}),function upt(e,t,i,r){const o=(l,u)=>null!=l?(i.update[u]=$8(qu(l),i.update[u]),!1):!P8(u,r),s=o(e("titleX"),"x"),a=o(e("titleY"),"y");i.enter.auto=a===s?qu(a):ju(t,qu(a),qu(s))}(o,s,c,i),c.update.align=$8(c.update.align,l.align),c.update.angle=$8(c.update.angle,l.angle),c.update.baseline=$8(c.update.baseline,l.baseline),bA({type:t4,role:LAt,style:tq,from:r,encode:c},i)}(e,i,r.title,d)),SD(lb({role:TAt,from:d,encode:U8(fpt(u,e),o,ab),marks:g,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:s,interactive:a,style:l}),t)}function fpt(e,t){const i={enter:{},update:{}};return yc(i,{orient:e("orient"),offset:e("offset")||0,position:F0(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),i}function G3e(e,t,i){const r=er(e.signals),o=er(e.scales);return i||r.forEach(s=>a3e(s,t)),er(e.projections).forEach(s=>function Wht(e,t){const i=t.config.projection||{},r={};for(const o in e)"name"!==o&&(r[o]=ZG(e[o],o,t));for(const o in i)null==r[o]&&(r[o]=ZG(i[o],o,t));t.addProjection(e.name,r)}(s,t)),o.forEach(s=>function Rht(e,t){const i=e.type||"linear";phe(i)||Gn("Unrecognized scale type: "+Li(i)),t.addScale(e.name,{type:i,domain:void 0})}(s,t)),er(e.data).forEach(s=>function q0t(e,t){const i=[];e.transform&&e.transform.forEach(r=>{i.push(uq(r,t))}),e.on&&e.on.forEach(r=>{L3e(r,t,e.name)}),t.addDataPipeline(e.name,function j0t(e,t,i){const r=[];let l,u,c,f,d,o=null,s=!1,a=!1;for(e.values?Du(e.values)||vD(e.format)?(r.push(U3e(t,e)),r.push(o=i4())):r.push(o=i4({$ingest:e.values,$format:e.format})):e.url?vD(e.url)||vD(e.format)?(r.push(U3e(t,e)),r.push(o=i4())):r.push(o=i4({$request:e.url,$format:e.format})):e.source&&(o=l=er(e.source).map(h=>$r(t.getData(h).output)),r.push(null)),u=0,c=i.length;u<c;++u)f=i[u],d=f.metadata,!o&&!d.source&&r.push(o=i4()),r.push(f),d.generates&&(a=!0),d.modifies&&!a&&(s=!0),d.source?o=f:d.changes&&(o=null);return l&&(c=l.length-1,r[0]=Fht({derive:s,pulse:c?l:l[0]}),(s||c)&&r.splice(1,0,i4())),o||r.push(i4()),r.push(e4({})),r}(e,t,i))}(s,t)),o.forEach(s=>Uht(s,t)),(i||r).forEach(s=>function ght(e,t){const i=t.getSignal(e.name);let r=e.update;e.init&&(r?Gn("Signals can not include both init and update expressions."):(r=e.init,i.initonly=!0)),r&&(r=pg(r,t),i.update=r.$expr,i.params=r.$params),e.on&&e.on.forEach(o=>function Aht(e,t,i){const r=e.encode,o={target:i};let s=e.events,a=e.update,l=[];s||Gn("Signal update missing events specification."),Ji(s)&&(s=F2(s,t.isSubscope()?WG:XG)),s=er(s).filter(u=>u.signal||u.scale?(l.push(u),0):1),l.length>1&&(l=[pht(l)]),s.length&&l.push(s.length>1?{merge:s}:s[0]),null!=r&&(a&&Gn("Signal encode and update are mutually exclusive."),a="encode(item(),"+Li(r)+")"),o.update=Ji(a)?pg(a,t):null!=a.expr?pg(a.expr,t):null!=a.value?a.value:null!=a.signal?{$expr:dht,$params:{$value:t.signalRef(a.signal)}}:Gn("Invalid signal update specification."),e.force&&(o.options={force:!0}),l.forEach(u=>t.addUpdate(Po(function hht(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):ob(e,t)}}(u,t),o)))}(o,t,i.id))}(s,t)),er(e.axes).forEach(s=>cpt(s,t)),er(e.marks).forEach(s=>SD(s,t)),er(e.legends).forEach(s=>function k0t(e,t){const i=t.config.legend,r=e.encode||{},o=Md(e,i),s=r.legend||{},a=s.name||void 0,l=s.interactive,u=s.style,c={};let d,h,g,f=0;rq.forEach(k=>e[k]?(c[k]=e[k],f=f||e[k]):0),f||Gn("Missing valid scale for legend.");const v=function N0t(e,t){let i=e.type||b3e;return!e.type&&1===function L0t(e){return rq.reduce((t,i)=>t+(e[i]?1:0),0)}(e)&&(e.fill||e.stroke)&&(i=_Q(t)?wD:wQ(t)?nq:b3e),i!==wD?i:wQ(t)?nq:wD}(e,t.scaleType(f)),y={title:null!=e.title,scales:c,type:v,vgrad:"symbol"!==v&&o.isVertical()},b=$r(t.add(O0(null,[y]))),M=$r(t.add(Cht(h={type:v,scale:t.scaleRef(f),count:t.objectProperty(o("tickCount")),limit:t.property(o("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return v===wD?(g=[a0t(e,f,i,r.gradient),S3e(e,i,r.labels,M)],h.count=h.count||t.signalRef(`max(2,2*floor((${J3(o.gradientLength())})/100))`)):v===nq?g=[l0t(e,f,i,r.gradient,M),S3e(e,i,r.labels,M)]:(d=function d0t(e,t){const i=Md(e,t);return{align:i("gridAlign"),columns:i.entryColumns(),center:{row:!0,column:!1},padding:{row:i("rowPadding"),column:i("columnPadding")}}}(e,i),g=[f0t(e,i,r,M,J3(d.columns))],h.size=function U0t(e,t,i){const r=J3(R3e("size",e,i)),o=J3(R3e("strokeWidth",e,i)),s=J3(function P0t(e,t,i){return E3e("fontSize",e)||function o0t(e,t,i){const r=t.config.style[i];return r&&r[e]}("fontSize",t,i)}(i[1].encode,t,sb));return pg(`max(ceil(sqrt(${r})+${o}),${s})`,t)}(e,t,g[0].marks)),g=[lb({role:PAt,from:b,encode:{enter:{x:{value:0},y:{value:0}}},marks:g,layout:d,interactive:l})],y.title&&g.push(function _0t(e,t,i,r){const o=Md(e,t),s={enter:{opacity:ms},update:{opacity:bh,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:ms}};return yc(s,{orient:o("titleOrient"),_anchor:o("titleAnchor"),anchor:{signal:m0t},angle:{signal:v0t},align:{signal:g0t},baseline:{signal:y0t},text:e.title,fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),baseline:o("titleBaseline")}),bA({type:t4,role:VAt,style:tq,from:r,encode:s},i)}(e,i,r.title,b)),SD(lb({role:RAt,from:b,encode:U8(R0t(o,e,i),s,ab),marks:g,aria:o("aria"),description:o("description"),zindex:o("zindex"),name:a,interactive:l,style:u}),t)}(s,t)),e.title&&function Q0t(e,t){const i=Md(e=Ji(e)?{text:e}:e,t.config.title),r=e.encode||{},o=r.group||{},s=o.name||void 0,a=o.interactive,l=o.style,u=[],f=$r(t.add(O0(null,[{}])));return u.push(function $0t(e,t,i,r){const o={value:0},a={enter:{opacity:o},update:{opacity:{value:1}},exit:{opacity:o}};return yc(a,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),bA({type:t4,role:$At,style:n0t,from:r,encode:a},i)}(e,i,function V0t(e){const t=e.encode;return t&&t.title||Po({name:e.name,interactive:e.interactive,style:e.style},t)}(e),f)),e.subtitle&&u.push(function G0t(e,t,i,r){const o={value:0},a={enter:{opacity:o},update:{opacity:{value:1}},exit:{opacity:o}};return yc(a,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),bA({type:t4,role:GAt,style:i0t,from:r,encode:a},i)}(e,i,r.subtitle,f)),SD(lb({role:zAt,from:f,encode:z0t(i,o),marks:u,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}(e.title,t),t.parseLambdas(),t}const dpt=e=>U8({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function cb(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function q3e(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function j3e(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function Aq(e){return(Xn(e)?ppt:gpt)(e)}function ppt(e){const t=e.length;let i="[";for(let r=0;r<t;++r){const o=e[r];i+=(r>0?",":"")+(Zi(o)?o.signal||Aq(o):Li(o))}return i+"]"}function gpt(e){let r,o,t="{",i=0;for(r in e)o=e[r],t+=(++i>1?",":"")+Li(r)+":"+(Zi(o)?o.signal||Aq(o):Li(o));return t+"}"}function vpt(e,t,i){return Zi(e)||Gn("Input Vega specification must be an object."),function Apt(e,t){const i=t.config,r=$r(t.root=t.add(gD())),o=function hpt(e,t){const i=a=>F0(e[a],t[a]),r=[cb("background",i("background")),cb("autosize",MAt(i("autosize"))),cb("padding",DAt(i("padding"))),cb("width",i("width")||0),cb("height",i("height")||0)],o=r.reduce((a,l)=>(a[l.name]=l,a),{}),s={};return er(e.signals).forEach(a=>{fr(o,a.name)?a=Po(o[a.name],a):r.push(a),s[a.name]=a}),er(t.signals).forEach(a=>{!fr(s,a.name)&&!fr(o,a.name)&&r.push(a)}),r}(e,i);o.forEach(c=>a3e(c,t)),t.description=e.description||i.description,t.eventConfig=i.events,t.legends=t.objectProperty(i.legend&&i.legend.layout),t.locale=i.locale;const s=t.add(O0()),a=t.add(A3e(o3e(dpt(e.encode),bD,$G,e.style,t,{pulse:$r(s)}))),l=t.add(g3e({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:$r(a)}));t.operators.pop(),t.pushState($r(a),$r(l),null),G3e(e,t,o),t.operators.push(l);let u=t.add(f3e({mark:r,pulse:$r(l)}));return u=t.add(p3e({pulse:$r(u)})),u=t.add(e4({pulse:$r(u)})),t.addData("root",new n4(t,s,s,u)),t}(e,new q3e(t=O6(function mpt(){const e="sans-serif",r="#4c78a8",o="#000",s="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:o},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:o,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:o,font:e,fontSize:10},"guide-title":{fill:o,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:o,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:o,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:a},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:s,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:s,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:s,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),i)).toRuntime()}q3e.prototype=j3e.prototype={parse(e){return G3e(e,this)},fork(){return new j3e(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof jG?$r(e):e;return this.add(Tht({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function i(r,o,s){let a,l;r&&(a=r.data||(r.data={}),l=a[o]||(a[o]=[]),l.push(s))}for(e in this.data){t=this.data[e],i(t.input,e,"input"),i(t.output,e,"output"),i(t.values,e,"values");for(const r in t.index)i(t.index[r],e,"index:"+r)}return this},pushState(e,t,i){this._encode.push($r(this.add(e4({pulse:e})))),this._parent.push(t),this._lookup.push(i?$r(this.proxy(i)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return ds(this._parent)},encode(){return ds(this._encode)},lookup(){return ds(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Ji(e))return rb(e,t);e.signal||Gn("Unsupported field reference: "+Li(e));const i=e.signal;let r=this.field[i];if(!r){const o={name:this.signalRef(i)};t&&(o.as=t),this.field[i]=r=$r(this.add(wht(o)))}return r},compareRef(e){let t=!1;const i=s=>Du(s)?(t=!0,this.signalRef(s.signal)):function sht(e){return e&&e.expr}(s)?(t=!0,this.exprRef(s.expr)):s,r=er(e.field).map(i),o=er(e.order).map(i);return t?$r(this.add(d3e({fields:r,orders:o}))):l3e(r,o)},keyRef(e,t){let i=!1;const o=this.signals;return e=er(e).map(s=>Du(s)?(i=!0,$r(o[s.signal])):s),i?$r(this.add(bht({fields:e,flat:t}))):function nht(e,t){const i={$key:e};return t&&(i.$flat=!0),i}(e,t)},sortRef(e){if(!e)return e;const t=mD(e.op,e.field),i=e.order||"ascending";return i.signal?$r(this.add(d3e({fields:t,orders:this.signalRef(i.signal)}))):l3e(t,i)},event(e,t){const i=e+":"+t;if(!this.events[i]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[i]=r}return this.events[i]},hasOwnSignal(e){return fr(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Gn("Duplicate signal name: "+Li(e));const i=t instanceof jG?t:this.add(gD(t));return this.signals[e]=i},getSignal(e){return this.signals[e]||Gn("Unrecognized signal name: "+Li(e)),this.signals[e]},signalRef(e){return this.signals[e]?$r(this.signals[e]):(fr(this.lambdas,e)||(this.lambdas[e]=this.add(gD(null))),$r(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,i=e.length;t<i;++t){const r=e[t],o=pg(r,this),s=this.lambdas[r];s.params=o.$params,s.update=o.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&Zi(e)?this.signalRef(e.signal||Aq(e)):e},exprRef(e,t){const i={expr:pg(e,this)};return t&&(i.expr.$name=t),$r(this.add(yht(i)))},addBinding(e,t){this.bindings||Gn("Nested signals do not support binding: "+Li(e)),this.bindings.push(Po({signal:e},t))},addScaleProj(e,t){fr(this.scales,e)&&Gn("Duplicate scale or projection name: "+Li(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,Oht(t))},addProjection(e,t){this.addScaleProj(e,Dht(t))},getScale(e){return this.scales[e]||Gn("Unrecognized scale name: "+Li(e)),this.scales[e]},scaleRef(e){return $r(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return fr(this.data,e)&&Gn("Duplicate data set name: "+Li(e)),this.data[e]=t},getData(e){return this.data[e]||Gn("Undefined data set name: "+Li(e)),this.data[e]},addDataPipeline(e,t){return fr(this.data,e)&&Gn("Duplicate data set name: "+Li(e)),this.addData(e,n4.fromEntries(this,t))}};var ypt="5.33.0";Po(j6,Ln,F,dn,_n,De,qn,it,bn,Qi,Ht,Fe);var wpt={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},bpt={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},Cpt={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const Ept=Array.prototype.slice,r4=(e,t,i)=>{const r=i?i(t[0]):t[0];return r[e].apply(r,Ept.call(t,1))};var Spt={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,i)=>Math.max(t,Math.min(i,e)),now:Date.now,utc:Date.UTC,datetime:(e,t,i,r,o,s,a)=>new Date(e,t||0,i??1,r||0,o||0,s||0,a||0),date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return r4("join",arguments)},indexof:function(){return r4("indexOf",arguments)},lastindexof:function(){return r4("lastIndexOf",arguments)},slice:function(){return r4("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(N6),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return r4("substring",arguments,String)},split:function(){return r4("split",arguments,String)},replace:function(){return r4("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const Bpt=["view","item","group","xy","x","y"],hq=new Set([Function,eval,setTimeout,setInterval]);"function"==typeof setImmediate&&hq.add(setImmediate);const Mpt={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const i=t.name;return e.memberDepth>0?i:"datum"===i?e.datum:"event"===i?e.event:"item"===i?e.item:wpt[i]||e.params["$"+i]},MemberExpression:(e,t)=>{const i=!t.computed,r=e(t.object);i&&(e.memberDepth+=1);const o=e(t.property);if(i&&(e.memberDepth-=1),!hq.has(r[o]))return r[o];console.error(`Prevented interpretation of member "${o}" which could lead to insecure code execution`)},CallExpression:(e,t)=>{const i=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),"if"===r?e(i[0])?e(i[1]):e(i[2]):(e.fn[r]||Spt[r]).apply(e.fn,i.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>bpt[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>Cpt[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>"&&"===t.operator?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((i,r)=>{e.memberDepth+=1;const o=e(r.key);return e.memberDepth-=1,hq.has(e(r.value))?console.error(`Prevented interpretation of property "${o}" which could lead to insecure code execution`):i[o]=e(r.value),i},{})};function fb(e,t,i,r,o,s){const a=l=>Mpt[l.type](a,l);return a.memberDepth=0,a.fn=Object.create(t),a.params=i,a.datum=r,a.event=o,a.item=s,Bpt.forEach(l=>a.fn[l]=function(){return o.vega[l](...arguments)}),a(e)}var Ipt={operator(e,t){const i=t.ast,r=e.functions;return o=>fb(i,r,o)},parameter(e,t){const i=t.ast,r=e.functions;return(o,s)=>fb(i,r,s,o)},event(e,t){const i=t.ast,r=e.functions;return o=>fb(i,r,void 0,void 0,o)},handler(e,t){const i=t.ast,r=e.functions;return(o,s)=>fb(i,r,o,s.item&&s.item.datum,s)},encode(e,t){const{marktype:i,channels:r}=t,o=e.functions,s="group"===i||"image"===i||"rect"===i;return(a,l)=>{const u=a.datum;let f,c=0;for(const d in r)f=fb(r[d].ast,o,l,u,void 0,a),a[d]!==f&&(a[d]=f,c=1);return"rule"!==i&&function _pt(e,t,i){let r;t.x2&&(t.x?(i&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(i&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}(a,r,s),c}}};function pq(e){return Ei(e,"or")}function gq(e){return Ei(e,"and")}function mq(e){return Ei(e,"not")}function MD(e,t){if(mq(e))MD(e.not,t);else if(gq(e))for(const i of e.and)MD(i,t);else if(pq(e))for(const i of e.or)MD(i,t);else t(e)}function q8(e,t){return mq(e)?{not:q8(e.not,t)}:gq(e)?{and:e.and.map(i=>q8(i,t))}:pq(e)?{or:e.or.map(i=>q8(i,t))}:t(e)}const vo=structuredClone;function K3e(e){throw new Error(e)}function j8(e,t){const i={};for(const r of t)fr(e,r)&&(i[r]=e[r]);return i}function Id(e,t){const i={...e};for(const r of t)delete i[r];return i}function ss(e){if(Es(e))return e;const t=Ji(e)?e:_a(e);if(t.length<250)return t;let i=0;for(let r=0;r<t.length;r++)i=(i<<5)-i+t.charCodeAt(r),i|=0;return i}function vq(e){return!1===e||null===e}function es(e,t){return e.includes(t)}function K8(e,t){let i=0;for(const[r,o]of e.entries())if(t(o,r,i++))return!0;return!1}function yq(e,t){let i=0;for(const[r,o]of e.entries())if(!t(o,r,i++))return!1;return!0}function W3e(e,...t){for(const i of t)Tpt(e,i??{});return e}function Tpt(e,t){for(const i of oi(t))k6(e,i,t[i],!0)}function gg(e,t){const i=[],r={};let o;for(const s of e)o=t(s),!(o in r)&&(r[o]=1,i.push(s));return i}function Fpt(e,t){const i=oi(e),r=oi(t);if(i.length!==r.length)return!1;for(const o of i)if(e[o]!==t[o])return!1;return!0}function X3e(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function _q(e,t){for(const i of e)if(t.has(i))return!0;return!1}function wq(e){const t=new Set;for(const i of e){const o=$p(i).map((a,l)=>0===l?a:`[${a}]`),s=o.map((a,l)=>o.slice(0,l+1).join(""));for(const a of s)t.add(a)}return t}function bq(e,t){return void 0===e||void 0===t||_q(wq(e),wq(t))}function ya(e){return 0===oi(e).length}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>_a(e)).join(",")})`};const oi=Object.keys,_c=Object.values,k2=Object.entries;function db(e){return!0===e||!1===e}function vl(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Ab(e,t){return mq(e)?`!(${Ab(e.not,t)})`:gq(e)?`(${e.and.map(i=>Ab(i,t)).join(") && (")})`:pq(e)?`(${e.or.map(i=>Ab(i,t)).join(") || (")})`:t(e)}function ID(e,t){if(0===t.length)return!0;const i=t.shift();return i in e&&ID(e[i],t)&&delete e[i],ya(e)}function hb(e){return e.charAt(0).toUpperCase()+e.substr(1)}function Cq(e,t="datum"){const i=$p(e),r=[];for(let o=1;o<=i.length;o++){const s=`[${i.slice(0,o).map(Li).join("][")}]`;r.push(`${t}${s}`)}return r.join(" && ")}function Y3e(e,t="datum"){return`${t}[${Li($p(e).join("."))}]`}function sa(e){return`datum['${e.replaceAll("'","\\'")}']`}function Opt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Ch(e){return`${$p(e).map(Opt).join("\\.")}`}function o4(e,t,i){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),i)}function W8(e){return`${$p(e).join(".")}`}function X8(e){return e?$p(e).length:0}function iu(...e){return e.find(t=>void 0!==t)}let Z3e=42;function J3e(e){const t=++Z3e;return e?String(e)+t:t}function kpt(){Z3e=42}function e4e(e){return t4e(e)?e:`__${e}`}function t4e(e){return e.startsWith("__")}function pb(e){if(void 0!==e)return(e%360+360)%360}function DD(e){return!!Es(e)||!isNaN(e)&&!isNaN(parseFloat(e))}const n4e=Object.getPrototypeOf(structuredClone({}));function CA(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor.name!==t.constructor.name)return!1;let i,r;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;0!=r--;)if(!CA(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;for(const s of e.entries())if(!CA(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(i=e.length,i!=t.length)return!1;for(r=i;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==n4e.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==n4e.toString)return e.toString()===t.toString();const o=Object.keys(e);if(i=o.length,i!==Object.keys(t).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=i;0!=r--;){const s=o[r];if(!CA(e[s],t[s]))return!1}return!0}return e!=e&&t!=t}function _a(e){const t=[];return function i(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0===r)return;if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!=typeof r)return JSON.stringify(r);let o,s;if(Array.isArray(r)){for(s="[",o=0;o<r.length;o++)o&&(s+=","),s+=i(r[o])||"null";return s+"]"}if(null===r)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const a=t.push(r)-1,l=Object.keys(r).sort();for(s="",o=0;o<l.length;o++){const u=l[o],c=i(r[u]);c&&(s&&(s+=","),s+=JSON.stringify(u)+":"+c)}return t.splice(a,1),`{${s}}`}(e)}function Ei(e,t){return Zi(e)&&fr(e,t)&&void 0!==e[t]}const F1="row",O1="column",TD="facet",yl="x",Ku="y",L0="x2",mg="y2",N2="xOffset",Y8="yOffset",R0="radius",k1="radius2",Eh="theta",N1="theta2",U0="latitude",P0="longitude",H0="latitude2",xh="longitude2",L2="time",Dd="color",vg="fill",yg="stroke",Td="shape",L1="size",s4="angle",R1="opacity",R2="fillOpacity",U2="strokeOpacity",P2="strokeWidth",H2="strokeDash",gb="text",Z8="order",mb="detail",FD="key",a4="tooltip",OD="href",kD="url",ND="description",i4e={theta:1,theta2:1,radius:1,radius2:1};function r4e(e){return fr(i4e,e)}const Eq={longitude:1,longitude2:1,latitude:1,latitude2:1};function o4e(e){switch(e){case U0:return"y";case H0:return"y2";case P0:return"x";case xh:return"x2"}}function s4e(e){return fr(Eq,e)}const Lpt=oi(Eq),xq={x:1,y:1,x2:1,y2:1,...i4e,...Eq,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function J8(e){return e===Dd||e===vg||e===yg}const a4e={row:1,column:1,facet:1},Sh=oi(a4e),Sq={...xq,...a4e},Rpt=oi(Sq),{order:ARt,detail:hRt,tooltip:pRt,...l4e}=Sq,{row:gRt,column:mRt,facet:vRt,...u4e}=l4e;function Upt(e){return fr(u4e,e)}function c4e(e){return fr(Sq,e)}oi(l4e),oi(u4e);const Ppt=[L0,mg,H0,xh,N1,k1];function f4e(e){return l4(e)!==e}function l4(e){switch(e){case L0:return yl;case mg:return Ku;case H0:return U0;case xh:return P0;case N1:return Eh;case k1:return R0}return e}function Q2(e){if(r4e(e))switch(e){case Eh:return"startAngle";case N1:return"endAngle";case R0:return"outerRadius";case k1:return"innerRadius"}return e}function _g(e){switch(e){case yl:return L0;case Ku:return mg;case U0:return H0;case P0:return xh;case Eh:return N1;case R0:return k1}}function Fd(e){switch(e){case yl:case L0:return"width";case Ku:case mg:return"height"}}function d4e(e){switch(e){case yl:return"xOffset";case Ku:return"yOffset";case L0:return"x2Offset";case mg:return"y2Offset";case Eh:return"thetaOffset";case R0:return"radiusOffset";case N1:return"theta2Offset";case k1:return"radius2Offset"}}function Bq(e){switch(e){case yl:return"xOffset";case Ku:return"yOffset"}}function Hpt(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Qpt=oi(xq),{x:wRt,y:bRt,x2:CRt,y2:ERt,xOffset:xRt,yOffset:SRt,latitude:BRt,longitude:MRt,latitude2:IRt,longitude2:DRt,theta:TRt,theta2:FRt,radius:ORt,radius2:kRt,...Mq}=xq,Vpt=oi(Mq),Iq={x:1,y:1},U1=oi(Iq);function ru(e){return fr(Iq,e)}const Dq={theta:1,radius:1},zpt=oi(Dq);function LD(e){return"width"===e?yl:Ku}const Tq={xOffset:1,yOffset:1};function vb(e){return fr(Tq,e)}oi(Tq);const A4e={time:1};function Fq(e){return e in A4e}oi(A4e);const{text:RRt,tooltip:URt,href:PRt,url:HRt,description:QRt,detail:VRt,key:zRt,order:$Rt,...h4e}=Mq,$pt=oi(h4e),p4e={...Iq,...Dq,...Tq,...h4e},Oq=oi(p4e);function wg(e){return fr(p4e,e)}const g4e={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:GRt,...Kpt}=g4e;function kq(e){switch(e){case yl:case Ku:case Eh:case R0:case N2:case Y8:case L1:case s4:case P2:case R1:case R2:case U2:case L2:case L0:case mg:case N1:case k1:return;case TD:case F1:case O1:case Td:case H2:case gb:case a4:case OD:case kD:case ND:return"discrete";case Dd:case vg:case yg:return"flexible";case U0:case P0:case H0:case xh:case mb:case FD:case Z8:return}}const Xpt={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ypt={count:1,min:1,max:1};function P1(e){return Ei(e,"argmin")}function V2(e){return Ei(e,"argmax")}function Nq(e){return Ji(e)&&fr(Xpt,e)}const Zpt=new Set(["count","valid","missing","distinct"]);function RD(e){return Ji(e)&&Zpt.has(e)}const egt=new Set(["count","sum","distinct","valid","missing"]),tgt=new Set(["mean","average","median","q1","q3","min","max"]);function m4e(e){return Km(e)&&(e=iT(e,void 0)),"bin"+oi(e).map(t=>UD(e[t])?vl(`_${t}_${k2(e[t])}`):vl(`_${t}_${e[t]}`)).join("")}function Qa(e){return!0===e||u4(e)&&!e.binned}function wc(e){return"binned"===e||u4(e)&&!0===e.binned}function u4(e){return Zi(e)}function UD(e){return Ei(e,"param")}function v4e(e){switch(e){case F1:case O1:case L1:case Dd:case vg:case yg:case P2:case R1:case R2:case U2:case Td:return 6;case H2:return 4;default:return 10}}function yb(e){return Ei(e,"expr")}function bc(e,{level:t}={level:0}){const i=oi(e||{}),r={};for(const o of i)r[o]=0===t?EA(e[o]):bc(e[o],{level:t-1});return r}function y4e(e){const{anchor:t,frame:i,offset:r,orient:o,angle:s,limit:a,color:l,subtitleColor:u,subtitleFont:c,subtitleFontSize:f,subtitleFontStyle:d,subtitleFontWeight:h,subtitleLineHeight:g,subtitlePadding:v,...y}=e,E={...t?{anchor:t}:{},...i?{frame:i}:{},...r?{offset:r}:{},...o?{orient:o}:{},...void 0!==s?{angle:s}:{},...void 0!==a?{limit:a}:{}},M={...u?{subtitleColor:u}:{},...c?{subtitleFont:c}:{},...f?{subtitleFontSize:f}:{},...d?{subtitleFontStyle:d}:{},...h?{subtitleFontWeight:h}:{},...g?{subtitleLineHeight:g}:{},...v?{subtitlePadding:v}:{}};return{titleMarkConfig:{...y,...l?{fill:l}:{}},subtitleMarkConfig:j8(e,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:E,subtitle:M}}function z2(e){return Ji(e)||Xn(e)&&Ji(e[0])}function Rr(e){return Ei(e,"signal")}function c4(e){return Ei(e,"step")}function H1(e){return!Xn(e)&&Ei(e,"field")&&Ei(e,"data")}const rgt=oi({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),ogt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Lq=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function _4e(e){const t=Xn(e.condition)?e.condition.map(w4e):w4e(e.condition);return{...EA(e),condition:t}}function EA(e){if(yb(e)){const{expr:t,...i}=e;return{signal:t,...i}}return e}function w4e(e){if(yb(e)){const{expr:t,...i}=e;return{signal:t,...i}}return e}function nl(e){if(yb(e)){const{expr:t,...i}=e;return{signal:t,...i}}return Rr(e)?e:void 0!==e?{value:e}:void 0}function sgt(e){return Rr(e)?e.signal:Li(e)}function b4e(e){return Rr(e)?e.signal:Li(e.value)}function Q0(e){return Rr(e)?e.signal:null==e?null:Li(e)}function agt(e,t,i){for(const r of i){const o=bg(r,t.markDef,t.config);void 0!==o&&(e[r]=nl(o))}return e}function C4e(e){return[].concat(e.type,e.style??[])}function wa(e,t,i,r={}){const{vgChannel:o,ignoreVgConfig:s}=r;return o&&Ei(t,o)?t[o]:void 0!==t[e]?t[e]:!s||o&&o!==e?bg(e,t,i,r):void 0}function bg(e,t,i,{vgChannel:r}={}){const o=Rq(e,t,i.style);return iu(r?o:void 0,o,r?i[t.type][r]:void 0,i[t.type][e],r?i.mark[r]:i.mark[e])}function Rq(e,t,i){return E4e(e,C4e(t),i)}function E4e(e,t,i){let r;t=er(t);for(const o of t){const s=i[o];Ei(s,e)&&(r=s[e])}return r}function x4e(e,t){return er(e).reduce((i,r)=>(i.field.push(qi(r,t)),i.order.push(r.sort??"ascending"),i),{field:[],order:[]})}function S4e(e,t){const i=[...e];return t.forEach(r=>{for(const o of i)if(CA(o,r))return;i.push(r)}),i}function B4e(e,t){return CA(e,t)||!t?e:e?[...er(e),...er(t)].join(", "):t}function M4e(e,t){const i=e.value,r=t.value;if(null==i||null===r)return{explicit:e.explicit,value:null};if((z2(i)||Rr(i))&&(z2(r)||Rr(r)))return{explicit:e.explicit,value:B4e(i,r)};if(z2(i)||Rr(i))return{explicit:e.explicit,value:i};if(z2(r)||Rr(r))return{explicit:e.explicit,value:r};if(!(z2(i)||Rr(i)||z2(r)||Rr(r)))return{explicit:e.explicit,value:S4e(i,r)};throw new Error("It should never reach here")}function Uq(e){return`Invalid specification ${_a(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const lgt='Autosize "fit" only works for single views and layered views.';function I4e(e){return("width"==e?"Width":"Height")+' "container" only works for single views and layered views.'}function D4e(e){return`${"width"==e?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==e?"x":"y"}".`}function T4e(e){return e?`Dropping "fit-${e}" because spec has discrete ${Fd(e)}.`:'Dropping "fit" because spec has discrete size.'}function Pq(e){return`Unknown field for ${e}. Cannot calculate view size.`}function F4e(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function ugt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function O4e(e){return`Selection not supported for ${e} yet.`}function k4e(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const Hq="Animation involving facet, layer, or concat is currently unsupported.";function N4e(e,t,i){return`An ancestor parsed field "${e}" as ${i} but a child wants to parse the field as ${t}.`}function Sgt(e){return`Ignoring an invalid transform: ${_a(e)}.`}function L4e(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function Dgt(e){return`${e}Offset dropped because ${e} is continuous`}function R4e(e){return`Invalid field type "${e}".`}function U4e(e,t){const{fill:i,stroke:r}=t;return`Dropping color ${e} as the plot also has ${i&&r?"fill and stroke":i?"fill":"stroke"}.`}function Qq(e,t){return`Dropping ${_a(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}function PD(e,t,i){return`${e} dropped as it is incompatible with "${t}"${i?` when ${i}`:""}.`}function Lgt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function Rgt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function Ugt(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Vq(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`}function Ggt(e){return`Using unaggregated domain with raw field has no effect (${_a(e)}).`}function qgt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function jgt(e){return`Unaggregated domain is currently unsupported for log scale (${_a(e)}).`}function P4e(e,t,i){return`${i}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function H4e(e){return`The step for "${e}" is dropped because the ${"width"===e?"x":"y"} is continuous.`}const Q4e="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function HD(e,t){return`Invalid ${e}: ${_a(t)}.`}function V4e(e){return`1D error band does not support ${e}.`}function z4e(e){return`Channel ${e} is required for "binned" bin.`}const $4e=EU(CU);let Cg=$4e;function zq(...e){Cg.error(...e)}function Mi(...e){Cg.warn(...e)}function f4(e){if(e&&Zi(e))for(const t of Gq)if(Ei(e,t))return!0;return!1}const q4e=["january","february","march","april","may","june","july","august","september","october","november","december"],m1t=q4e.map(e=>e.substr(0,3)),j4e=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],v1t=j4e.map(e=>e.substr(0,3));function $q(e,t){const i=[];if(t&&void 0!==e.day&&oi(e).length>1&&(Mi(function a1t(e){return`Dropping day from datetime ${_a(e)} as day cannot be combined with other units.`}(e)),delete(e=vo(e)).day),i.push(void 0!==e.year?e.year:2012),void 0!==e.month){const r=t?function _1t(e){if(DD(e)&&(e=+e),Es(e))return e-1;{const t=e.toLowerCase(),i=q4e.indexOf(t);if(-1!==i)return i;const r=t.substr(0,3),o=m1t.indexOf(r);if(-1!==o)return o;throw new Error(HD("month",e))}}(e.month):e.month;i.push(r)}else if(void 0!==e.quarter){const r=t?function y1t(e){if(DD(e)&&(e=+e),Es(e))return e>4&&Mi(HD("quarter",e)),e-1;throw new Error(HD("quarter",e))}(e.quarter):e.quarter;i.push(Es(r)?3*r:`${r}*3`)}else i.push(0);if(void 0!==e.date)i.push(e.date);else if(void 0!==e.day){const r=t?function w1t(e){if(DD(e)&&(e=+e),Es(e))return e%7;{const t=e.toLowerCase(),i=j4e.indexOf(t);if(-1!==i)return i;const r=t.substr(0,3),o=v1t.indexOf(r);if(-1!==o)return o;throw new Error(HD("day",e))}}(e.day):e.day;i.push(Es(r)?r+1:`${r}+1`)}else i.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const o=e[r];i.push(typeof o>"u"?0:o)}return i}function d4(e){const i=$q(e,!0).join(", ");return e.utc?`utc(${i})`:`datetime(${i})`}const K4e={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Gq=oi(K4e);function A4(e){return Zi(e)?e.binned:W4e(e)}function W4e(e){return e&&e.startsWith("binned")}function qq(e){return e.startsWith("utc")}const S1t={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function QD(e){return Gq.filter(t=>Y4e(e,t))}function X4e(e){const t=QD(e);return t[t.length-1]}function Y4e(e,t){const i=e.indexOf(t);return!(i<0||i>0&&"seconds"===t&&"i"===e.charAt(i-1)||e.length>i+3&&"day"===t&&"o"===e.charAt(i+3)||i>0&&"year"===t&&"f"===e.charAt(i-1))}function Z4e(e){if(e)return`timeUnitSpecifier(${_a(QD(e))}, ${_a(S1t)})`}function Wu(e){if(!e)return;let t;return Ji(e)?t=W4e(e)?{unit:e.substring(6),binned:!0}:{unit:e}:Zi(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),qq(t.unit)&&(t.utc=!0,t.unit=function x1t(e){return e.substring(3)}(t.unit)),t}function J4e(e,t=(i=>i)){const i=Wu(e),r=X4e(i.unit);if(r&&"day"!==r){const o={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:s,part:a}=e5e(r,i.step);return`${t(d4({...o,[a]:+o[a]+s}))} - ${t(d4(o))}`}}const D1t={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function e5e(e,t=1){if(function T1t(e){return fr(D1t,e)}(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:3*t};case"week":return{part:"date",step:7*t}}}function jq(e){return!!e?.field&&void 0!==e.equal}function Kq(e){return!!e?.field&&void 0!==e.lt}function Wq(e){return!!e?.field&&void 0!==e.lte}function Xq(e){return!!e?.field&&void 0!==e.gt}function Yq(e){return!!e?.field&&void 0!==e.gte}function Zq(e){if(e?.field){if(Xn(e.range)&&2===e.range.length)return!0;if(Rr(e.range))return!0}return!1}function Jq(e){return!!e?.field&&(Xn(e.oneOf)||Xn(e.in))}function t5e(e){return Jq(e)||jq(e)||Zq(e)||Kq(e)||Xq(e)||Wq(e)||Yq(e)}function Eg(e,t){return rT(e,{timeUnit:t,wrapTime:!0})}function n5e(e,t=!0){const{field:i}=e,r=Wu(e.timeUnit),{unit:o,binned:s}=r||{},a=qi(e,{expr:"datum"}),l=o?`time(${s?a:function B1t(e,t,{end:i}={end:!1}){const r=Cq(t),o=qq(e)?"utc":"";function s(u){return"quarter"===u?`(${o}quarter(${r})-1)`:`${o}${u}(${r})`}let a;const l={};for(const u of Gq)Y4e(e,u)&&(l[u]=s(u),a=u);return i&&(l[a]+="+1"),function b1t(e){const i=$q(e,!1).join(", ");return e.utc?`utc(${i})`:`datetime(${i})`}(l)}(o,i)})`:a;if(jq(e))return`${l}===${Eg(e.equal,o)}`;if(Kq(e))return`${l}<${Eg(e.lt,o)}`;if(Xq(e))return`${l}>${Eg(e.gt,o)}`;if(Wq(e))return`${l}<=${Eg(e.lte,o)}`;if(Yq(e))return`${l}>=${Eg(e.gte,o)}`;if(Jq(e))return`indexof([${function k1t(e,t){return e.map(i=>Eg(i,t))}(e.oneOf,o).join(",")}], ${l}) !== -1`;if(function O1t(e){return!!e?.field&&void 0!==e.valid}(e))return VD(l,e.valid);if(Zq(e)){const{range:u}=bc(e),c=Rr(u)?{signal:`${u.signal}[0]`}:u[0],f=Rr(u)?{signal:`${u.signal}[1]`}:u[1];if(null!==c&&null!==f&&t)return"inrange("+l+", ["+Eg(c,o)+", "+Eg(f,o)+"])";const d=[];return null!==c&&d.push(`${l} >= ${Eg(c,o)}`),null!==f&&d.push(`${l} <= ${Eg(f,o)}`),d.length>0?d.join(" && "):"true"}throw new Error(`Invalid field predicate: ${_a(e)}`)}function VD(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function N1t(e){return t5e(e)&&e.timeUnit?{...e,timeUnit:Wu(e.timeUnit)}:e}const h4={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function L1t(e){return"quantitative"===e||"temporal"===e}function i5e(e){return"ordinal"===e||"nominal"===e}const p4=h4.quantitative,ej=h4.ordinal,e9=h4.temporal,tj=h4.nominal,t9=h4.geojson;oi(h4);const Cc={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},zD={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function U1t(e,t){const i=zD[e],r=zD[t];return i===r||"ordinal-position"===i&&"time"===r||"ordinal-position"===r&&"time"===i}oi(zD);const P1t={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function r5e(e){return P1t[e]}const o5e=new Set(["linear","log","pow","sqrt","symlog"]),s5e=new Set([...o5e,"time","utc"]);function a5e(e){return o5e.has(e)}const l5e=new Set(["quantile","quantize","threshold"]),H1t=new Set([...s5e,...l5e,"sequential","identity"]),Q1t=new Set(["ordinal","bin-ordinal","point","band"]);function Xu(e){return Q1t.has(e)}function V0(e){return H1t.has(e)}function xg(e){return s5e.has(e)}function n9(e){return l5e.has(e)}function u5e(e){return Ei(e,"param")}const c5e={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:dUt,domain:AUt,range:hUt,rangeMax:pUt,rangeMin:gUt,scheme:mUt,...q1t}=(oi(c5e),c5e),j1t=oi(q1t);function nj(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return xg(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return xg(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return xg(e);case"nice":return xg(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return V0(e)&&!es(["log","time","utc","threshold","quantile"],e)}}function f5e(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return J8(e)?void 0:function zgt(e){return`Cannot use the scale property "${e}" with non-color channel.`}(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}const uf={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},d5e=uf.arc,$D=uf.area,GD=uf.bar,Y1t=uf.image,qD=uf.line,jD=uf.point,Z1t=uf.rect,KD=uf.rule,A5e=uf.text,ij=uf.tick,J1t=uf.trail,rj=uf.circle,oj=uf.square,h5e=uf.geoshape;function G2(e){return["line","area","trail"].includes(e)}function wb(e){return["rect","bar","image","arc","tick"].includes(e)}const p5e=new Set(oi(uf));function z0(e){return Ei(e,"type")}const nmt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],g5e=oi({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),sj=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],imt={area:["line","point"],bar:sj,rect:sj,line:["point"],tick:["bandSize","thickness",...sj]},m5e=oi({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function g4(e){return Ei(e,"band")}const omt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},aj={binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},smt={...aj,binSpacing:1},amt={...aj,thickness:1};function v5e(e,{isPath:t}){return void 0===e||"break-paths-show-path-domains"===e?t?"break-paths-show-domains":"filter":null===e?"show":e}function lj({markDef:e,config:t,scaleChannel:i,scaleType:r,isCountAggregate:o}){if(!r||!V0(r)||o)return"always-valid";const s=v5e(wa("invalid",e,t),{isPath:G2(e.type)});return void 0!==t.scale?.invalid?.[i]?"show":s}function y5e({scaleName:e,scale:t,mode:i}){const r=`domain('${e}')`;if(!t||!e)return;const o=`${r}[0]`,s=`peek(${r})`,a=t.domainHasZero();return"definitely"===a?{scale:e,value:0}:"maybe"===a?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${"zeroOrMin"===i?o:s})`}:{signal:`scale('${e}', ${"zeroOrMin"===i?o:s})`}}function _5e({scaleChannel:e,channelDef:t,scale:i,scaleName:r,markDef:o,config:s}){const a=i?.get("type"),l=q0(t),c=lj({scaleChannel:e,markDef:o,config:s,scaleType:a,isCountAggregate:RD(l?.aggregate)});if(l&&"show"===c){const f=s.scale.invalid?.[e]??"zero-or-min";return{test:VD(qi(l,{expr:"datum"}),!1),...cmt(f,i,r)}}}function cmt(e,t,i){if(function X1t(e){return Zi(e)&&"value"in e}(e)){const{value:r}=e;return Rr(r)?{signal:r.signal}:{value:r}}return y5e({scale:t,scaleName:i,mode:"zeroOrMin"})}function uj(e){const{channel:t,channelDef:i,markDef:r,scale:o,scaleName:s,config:a}=e,l=l4(t),u=cj(e),c=_5e({scaleChannel:l,channelDef:i,scale:o,scaleName:s,markDef:r,config:a});return void 0!==c?[c,u]:u}function m4(e,t,i,r){const o={};if(t&&(o.scale=t),Sg(e)){const{datum:s}=e;f4(s)?o.signal=d4(s):Rr(s)?o.signal=s.signal:yb(s)?o.signal=s.expr:o.value=s}else o.field=qi(e,i);if(r){const{offset:s,band:a}=r;s&&(o.offset=s),a&&(o.band=a)}return o}function WD({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:i,offset:r,startSuffix:o,endSuffix:s="end",bandPosition:a=.5}){const l=!Rr(a)&&0<a&&a<1?"datum":void 0,u=qi(t,{expr:l,suffix:o}),c=void 0!==i?qi(i,{expr:l}):qi(t,{suffix:s,expr:l}),f={};if(0===a||1===a)f.scale=e,f.field=0===a?u:c;else{const d=Rr(a)?`(1-${a.signal}) * ${u} + ${a.signal} * ${c}`:`${1-a} * ${u} + ${a} * ${c}`;f.signal=`scale("${e}", ${d})`}return r&&(f.offset=r),f}function cj({channel:e,channelDef:t,channel2Def:i,markDef:r,config:o,scaleName:s,scale:a,stack:l,offset:u,defaultRef:c,bandPosition:f}){if(t){if(Bo(t)){const d=a?.get("type");if(jf(t)){f??(f=q2({fieldDef:t,fieldDef2:i,markDef:r,config:o}));const{bin:h,timeUnit:g,type:v}=t;if(Qa(h)||f&&g&&v===e9)return l?.impute?m4(t,s,{binSuffix:"mid"},{offset:u}):f&&!Xu(d)?WD({scaleName:s,fieldOrDatumDef:t,bandPosition:f,offset:u}):m4(t,s,Bb(t,e)?{binSuffix:"range"}:{},{offset:u});if(wc(h)){if(Fi(i))return WD({scaleName:s,fieldOrDatumDef:t,fieldOrDatumDef2:i,bandPosition:f,offset:u});Mi(z4e(e===yl?L0:mg))}}return m4(t,s,Xu(d)?{binSuffix:"range"}:{},{offset:u,band:"band"===d?f??t.bandPosition??.5:void 0})}if(G0(t)){const h=u?{offset:u}:{};return{...bb(e,t.value),...h}}}return Uo(c)&&(c=c()),c&&{...c,...u?{offset:u}:{}}}function bb(e,t){return es(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:es(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:nl(t)}function v4(e){return e&&"number"!==e&&"time"!==e}function w5e(e,t,i){return`${e}(${t}${i?`, ${_a(i)}`:""})`}const Amt=" \u2013 ";function fj({fieldOrDatumDef:e,format:t,formatType:i,expr:r,normalizeStack:o,config:s}){if(v4(i))return $0({fieldOrDatumDef:e,format:t,formatType:i,expr:r,config:s});const a=b5e(e,r,o),l=i9(e);if(void 0===t&&void 0===i&&s.customFormatTypes){if("quantitative"===l){if(o&&s.normalizedNumberFormatType)return $0({fieldOrDatumDef:e,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:r,config:s});if(s.numberFormatType)return $0({fieldOrDatumDef:e,format:s.numberFormat,formatType:s.numberFormatType,expr:r,config:s})}if("temporal"===l&&s.timeFormatType&&Fi(e)&&void 0===e.timeUnit)return $0({fieldOrDatumDef:e,format:s.timeFormat,formatType:s.timeFormatType,expr:r,config:s})}if(a9(e)){const u=function pmt({field:e,timeUnit:t,format:i,formatType:r,rawTimeFormat:o,isUTCScale:s}){return!t||i?!t&&r?`${r}(${e}, '${i}')`:`${s?"utc":"time"}Format(${e}, '${i=Ji(i)?i:o}')`:function M1t(e,t,i){if(!e)return;const r=Z4e(e);return`${i||qq(e)?"utc":"time"}Format(${t}, ${r})`}(t,e,s)}({field:a,timeUnit:Fi(e)?Wu(e.timeUnit)?.unit:void 0,format:t,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:y4(e)&&e.scale?.type===Cc.UTC});return u?{signal:u}:void 0}return t=dj({type:l,specifiedFormat:t,config:s,normalizeStack:o}),Fi(e)&&Qa(e.bin)?{signal:Cb(a,qi(e,{expr:r,binSuffix:"end"}),t,i,s)}:t||"quantitative"===i9(e)?{signal:`${x5e(a,t)}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function b5e(e,t,i){return Fi(e)?i?`${qi(e,{expr:t,suffix:"end"})}-${qi(e,{expr:t,suffix:"start"})}`:qi(e,{expr:t}):function fmt(e){const{datum:t}=e;return f4(t)?d4(t):`${_a(t)}`}(e)}function $0({fieldOrDatumDef:e,format:t,formatType:i,expr:r,normalizeStack:o,config:s,field:a}){return a??(a=b5e(e,r,o)),"datum.value"!==a&&Fi(e)&&Qa(e.bin)?{signal:Cb(a,qi(e,{expr:r,binSuffix:"end"}),t,i,s)}:{signal:w5e(i,a,t)}}function C5e(e,t,i,r,o,s){if(!(Ji(r)&&v4(r)||void 0===i&&void 0===r&&o.customFormatTypes&&"quantitative"===i9(e)&&(o.normalizedNumberFormatType&&r9(e)&&"normalize"===e.stack||o.numberFormatType))){if(r9(e)&&"normalize"===e.stack&&o.normalizedNumberFormat)return dj({type:"quantitative",config:o,normalizeStack:!0});if(a9(e)){const a=Fi(e)?Wu(e.timeUnit)?.unit:void 0;return void 0===a&&o.customFormatTypes&&o.timeFormatType?void 0:function hmt({specifiedFormat:e,timeUnit:t,config:i,omitTimeFormatConfig:r}){return e||(t?{signal:Z4e(t)}:r?void 0:i.timeFormat)}({specifiedFormat:i,timeUnit:a,config:o,omitTimeFormatConfig:s})}return dj({type:t,specifiedFormat:i,config:o})}}function E5e(e,t,i){return e&&(Rr(e)||"number"===e||"time"===e)?e:a9(t)&&"time"!==i&&"utc"!==i?Fi(t)&&Wu(t?.timeUnit)?.utc?"utc":"time":void 0}function dj({type:e,specifiedFormat:t,config:i,normalizeStack:r}){return Ji(t)?t:e===p4?r?i.normalizedNumberFormat:i.numberFormat:void 0}function x5e(e,t){return`format(${e}, "${t||""}")`}function S5e(e,t,i,r){return v4(i)?w5e(i,e,t):x5e(e,(Ji(t)?t:void 0)??r.numberFormat)}function Cb(e,t,i,r,o){if(void 0===i&&void 0===r&&o.customFormatTypes&&o.numberFormatType)return Cb(e,t,o.numberFormat,o.numberFormatType,o);const s=S5e(e,i,r,o),a=S5e(t,i,r,o);return`${VD(e,!1)} ? "null" : ${s} + "${Amt}" + ${a}`}const XD="min",gmt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function B5e(e){return fr(gmt,e)}function Q1(e){return e&&("count"===e.op||Ei(e,"field"))}function M5e(e){return e&&Xn(e)}function Eb(e){return Ei(e,"row")||Ei(e,"column")}function Aj(e){return Ei(e,"header")}function YD(e){return Ei(e,"facet")}function I5e(e){const{field:t,timeUnit:i,bin:r,aggregate:o}=e;return{...i?{timeUnit:i}:{},...r?{bin:r}:{},...o?{aggregate:o}:{},field:t}}function hj(e){return Ei(e,"sort")}function q2({fieldDef:e,fieldDef2:t,markDef:i,config:r}){if(Bo(e)&&void 0!==e.bandPosition)return e.bandPosition;if(Fi(e)){const{timeUnit:o,bin:s}=e;if(o&&!t)return bg("timeUnitBandPosition",i,r);if(Qa(s))return.5}}function D5e({channel:e,fieldDef:t,fieldDef2:i,markDef:r,config:o,scaleType:s,useVlSizeChannel:a}){const l=Fd(e),u=wa(a?"size":l,r,o,{vgChannel:l});if(void 0!==u)return u;if(Fi(t)){const{timeUnit:c,bin:f}=t;if(c&&!i)return{band:bg("timeUnitBandSize",r,o)};if(Qa(f)&&!Xu(s))return{band:1}}return wb(r.type)?s?Xu(s)?o[r.type]?.discreteBandSize||{band:1}:o[r.type]?.continuousBandSize:o[r.type]?.discreteBandSize:void 0}function T5e(e,t,i,r){return!!(Qa(e.bin)||e.timeUnit&&jf(e)&&"temporal"===e.type)&&void 0!==q2({fieldDef:e,fieldDef2:t,markDef:i,config:r})}function F5e(e){return Ei(e,"sort")&&!Ei(e,"field")}function xb(e){return Ei(e,"condition")}function ZD(e){const t=e?.condition;return!!t&&!Xn(t)&&Fi(t)}function Sb(e){const t=e?.condition;return!!t&&!Xn(t)&&Bo(t)}function Fi(e){return Ei(e,"field")||"count"===e?.aggregate}function i9(e){return e?.type}function Sg(e){return Ei(e,"datum")}function j2(e){return jf(e)&&!eT(e)||JD(e)}function O5e(e){return jf(e)&&"quantitative"===e.type&&!e.bin||JD(e)}function JD(e){return Sg(e)&&Es(e.datum)}function Bo(e){return Fi(e)||Sg(e)}function jf(e){return e&&(Ei(e,"field")||"count"===e.aggregate)&&Ei(e,"type")}function G0(e){return Ei(e,"value")}function y4(e){return Ei(e,"scale")||Ei(e,"sort")}function r9(e){return Ei(e,"axis")||Ei(e,"stack")||Ei(e,"impute")}function k5e(e){return Ei(e,"legend")}function N5e(e){return Ei(e,"format")||Ei(e,"formatType")}function wmt(e){return Id(e,["legend","axis","header","scale"])}function qi(e,t={}){let i=e.field;const r=t.prefix;let o=t.suffix,s="";if(function Emt(e){return"count"===e.aggregate}(e))i=e4e("count");else{let a;if(!t.nofn)if(function bmt(e){return Ei(e,"op")}(e))a=e.op;else{const{bin:l,aggregate:u,timeUnit:c}=e;Qa(l)?(a=m4e(l),o=(t.binSuffix??"")+(t.suffix??"")):u?V2(u)?(s=`["${i}"]`,i=`argmax_${u.argmax}`):P1(u)?(s=`["${i}"]`,i=`argmin_${u.argmin}`):a=String(u):c&&!A4(c)&&(a=function I1t(e){const{utc:t,...i}=Wu(e);return i.unit?(t?"utc":"")+oi(i).map(r=>vl(`${"unit"===r?"":`_${r}_`}${i[r]}`)).join(""):(t?"utc":"")+"timeunit"+oi(i).map(r=>vl(`_${r}_${i[r]}`)).join("")}(c),o=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}a&&(i=i?`${a}_${i}`:a)}return o&&(i=`${i}_${o}`),r&&(i=`${r}_${i}`),t.forAs?W8(i):t.expr?Y3e(i,t.expr)+s:Ch(i)+s}function eT(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Fi(e)&&!!e.bin;case"temporal":return!1}throw new Error(R4e(e.type))}const L5e=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function Smt(e){const{aggregate:t,bin:i,timeUnit:r,field:o}=e;if(V2(t))return`${o} for argmax(${t.argmax})`;if(P1(t))return`${o} for argmin(${t.argmin})`;const s=r&&!A4(r)?Wu(r):void 0,a=t||s?.unit||s?.maxbins&&"timeunit"||Qa(i)&&"bin";return a?`${a.toUpperCase()}(${o})`:o}(e);default:return function xmt(e,t){const{field:i,bin:r,timeUnit:o,aggregate:s}=e;if("count"===s)return t.countTitle;if(Qa(r))return`${i} (binned)`;if(o&&!A4(o)){const a=Wu(o)?.unit;if(a)return`${i} (${QD(a).join("-")})`}else if(s)return V2(s)?`${i} for max ${s.argmax}`:P1(s)?`${i} for min ${s.argmin}`:`${hb(s)} of ${i}`;return i}(e,t)}};let R5e=L5e;function U5e(e){R5e=e}function o9(e,t,{allowDisabling:i,includeDefault:r=!0}){const o=pj(e)?.title;if(!Fi(e))return o??e.title;const s=e,a=r?gj(s,t):void 0;return i?iu(o,s.title,a):o??s.title??a}function pj(e){return r9(e)&&e.axis?e.axis:k5e(e)&&e.legend?e.legend:Aj(e)&&e.header?e.header:void 0}function gj(e,t){return R5e(e,t)}function tT(e){if(N5e(e)){const{format:t,formatType:i}=e;return{format:t,formatType:i}}{const t=pj(e)??{},{format:i,formatType:r}=t;return{format:i,formatType:r}}}function q0(e){return Fi(e)?e:ZD(e)?e.condition:void 0}function Tu(e){return Bo(e)?e:Sb(e)?e.condition:void 0}function P5e(e,t,i,r={}){return Ji(e)||Es(e)||Km(e)?(Mi(function Tgt(e,t,i){return`Channel ${e} is a ${t}. Converted to {value: ${_a(i)}}.`}(t,Ji(e)?"string":Es(e)?"number":"boolean",e)),{value:e}):Bo(e)?nT(e,t,i,r):Sb(e)?{...e,condition:nT(e.condition,t,i,r)}:e}function nT(e,t,i,r){if(N5e(e)){const{format:o,formatType:s,...a}=e;if(v4(s)&&!i.customFormatTypes)return Mi(L4e(t)),nT(a,t,i,r)}else{const o=r9(e)?"axis":k5e(e)?"legend":Aj(e)?"header":null;if(o&&e[o]){const{format:s,formatType:a,...l}=e[o];if(v4(a)&&!i.customFormatTypes)return Mi(L4e(t)),nT({...e,[o]:l},t,i,r)}}return Fi(e)?mj(e,t,r):function Imt(e){let t=e.type;if(t)return e;const{datum:i}=e;return t=Es(i)?"quantitative":Ji(i)?"nominal":f4(i)?"temporal":void 0,{...e,type:t}}(e)}function mj(e,t,{compositeMark:i=!1}={}){const{aggregate:r,timeUnit:o,bin:s,field:a}=e,l={...e};if(!i&&r&&!Nq(r)&&!V2(r)&&!P1(r)&&(Mi(function Ogt(e){return`Invalid aggregation operator "${e}".`}(r)),delete l.aggregate),o&&(l.timeUnit=Wu(o)),a&&(l.field=`${a}`),Qa(s)&&(l.bin=iT(s,t)),wc(s)&&!ru(t)&&Mi(function f1t(e){return`Channel ${e} should not be used with "binned" bin.`}(t)),jf(l)){const{type:u}=l,c=function R1t(e){if(e)switch(e=e.toLowerCase(),e){case"q":case p4:return"quantitative";case"t":case e9:return"temporal";case"o":case ej:return"ordinal";case"n":case tj:return"nominal";case t9:return"geojson"}}(u);u!==c&&(l.type=c),"quantitative"!==u&&RD(r)&&(Mi(function Fgt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}(u,r)),l.type="quantitative")}else if(!f4e(t)){const u=function Mmt(e,t){switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(hj(e)&&Xn(e.sort))return"ordinal";const{aggregate:i,bin:r,timeUnit:o}=e;if(o)return"temporal";if(r||i&&!V2(i)&&!P1(i))return"quantitative";if(y4(e)&&e.scale?.type)switch(zD[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}(l,t);l.type=u}if(jf(l)){const{compatible:u,warning:c}=function Dmt(e,t){const i=e.type;if("geojson"===i&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case F1:case O1:case TD:return eT(e)?s9:{compatible:!1,warning:Rgt(t)};case yl:case Ku:case N2:case Y8:case Dd:case vg:case yg:case gb:case mb:case FD:case a4:case OD:case kD:case s4:case Eh:case R0:case ND:return s9;case P0:case xh:case U0:case H0:return i!==p4?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:s9;case R1:case R2:case U2:case P2:case L1:case N1:case k1:case L0:case mg:case L2:return"nominal"!==i||e.sort?s9:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case Td:case H2:return eT(e)||function Cmt(e){return y4(e)&&n9(e.scale?.type)}(e)?s9:{compatible:!1,warning:Ugt(t)};case Z8:return"nominal"!==e.type||"sort"in e?s9:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(l,t)||{};!1===u&&Mi(c)}if(hj(l)&&Ji(l.sort)){const{sort:u}=l;if(B5e(u))return{...l,sort:{encoding:u}};const c=u.substring(1);if("-"===u.charAt(0)&&B5e(c))return{...l,sort:{encoding:c,order:"descending"}}}if(Aj(l)){const{header:u}=l;if(u){const{orient:c,...f}=u;if(c)return{...l,header:{...f,labelOrient:u.labelOrient||c,titleOrient:u.titleOrient||c}}}}return l}function iT(e,t){return Km(e)?{maxbins:v4e(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:{...e,maxbins:v4e(t)}}const s9={compatible:!0};function a9(e){const{formatType:t}=tT(e);return"time"===t||!t&&function Tmt(e){return e&&("temporal"===e.type||Fi(e)&&!!e.timeUnit)}(e)}function rT(e,{timeUnit:t,type:i,wrapTime:r,undefinedIfExprNotRequired:o}){const s=t&&Wu(t)?.unit;let l,a=s||"temporal"===i;return yb(e)?l=e.expr:Rr(e)?l=e.signal:f4(e)?(a=!0,l=d4(e)):(Ji(e)||Es(e))&&a&&(l=`datetime(${_a(e)})`,function E1t(e){return fr(K4e,e)}(s)&&(Es(e)&&e<1e4||Ji(e)&&isNaN(Date.parse(e)))&&(l=d4({[s]:e}))),l?r&&a?`time(${l})`:l:o?void 0:_a(e)}function H5e(e,t){const{type:i}=e;return t.map(r=>{const s=rT(r,{timeUnit:Fi(e)&&!A4(e.timeUnit)?e.timeUnit:void 0,type:i,undefinedIfExprNotRequired:!0});return void 0!==s?{signal:s}:r})}function Bb(e,t){return Qa(e.bin)?wg(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const Q5e={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Mb(e){return e?.condition}const V5e=["domain","grid","labels","ticks","title"],Fmt={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},z5e={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},$5e={...z5e,style:1,labelExpr:1,encoding:1};function G5e(e){return fr($5e,e)}oi($5e);const q5e=oi({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function V1(e){return Ei(e,"mark")}class oT{constructor(t,i){this.name=t,this.run=i}hasMatchingType(t){return!!V1(t)&&function lmt(e){return z0(e)?e.type:e}(t.mark)===this.name}}function _4(e,t){const i=e&&e[t];return!!i&&(Xn(i)?K8(i,r=>!!r.field):Fi(i)||ZD(i))}function j5e(e,t){const i=e&&e[t];return!!i&&(Xn(i)?K8(i,r=>!!r.field):Fi(i)||Sg(i)||Sb(i))}function K5e(e,t){if(ru(t)){const i=e[t];if((Fi(i)||Sg(i))&&(i5e(i.type)||Fi(i)&&i.timeUnit))return j5e(e,Bq(t))}return!1}function W5e(e){return K8(Rpt,t=>{if(_4(e,t)){const i=e[t];if(Xn(i))return K8(i,r=>!!r.aggregate);{const r=q0(i);return r&&!!r.aggregate}}return!1})}function X5e(e,t){const i=[],r=[],o=[],s=[],a={};return vj(e,(l,u)=>{if(Fi(l)){const{field:c,aggregate:f,bin:d,timeUnit:h,...g}=l;if(f||h||d){const y=pj(l)?.title;let b=qi(l,{forAs:!0});const E={...y?[]:{title:o9(l,t,{allowDisabling:!0})},...g,field:b};if(f){let M;if(V2(f)?(M="argmax",b=qi({op:"argmax",field:f.argmax},{forAs:!0}),E.field=`${b}.${c}`):P1(f)?(M="argmin",b=qi({op:"argmin",field:f.argmin},{forAs:!0}),E.field=`${b}.${c}`):"boxplot"!==f&&"errorbar"!==f&&"errorband"!==f&&(M=f),M){const k={op:M,as:b};c&&(k.field=c),s.push(k)}}else if(i.push(b),jf(l)&&Qa(d))r.push({bin:d,field:c,as:b}),i.push(qi(l,{binSuffix:"end"})),Bb(l,u)&&i.push(qi(l,{binSuffix:"range"})),ru(u)&&(a[`${u}2`]={field:`${b}_end`}),E.bin="binned",f4e(u)||(E.type=p4);else if(h&&!A4(h)){o.push({timeUnit:h,field:c,as:b});const M=jf(l)&&l.type!==e9&&"time";M&&(u===gb||u===a4?E.formatType=M:function Gpt(e){return fr(Mq,e)}(u)?E.legend={formatType:M,...E.legend}:ru(u)&&(E.axis={formatType:M,...E.axis}))}a[u]=E}else i.push(c),a[u]=e[u]}else a[u]=e[u]}),{bins:r,timeUnits:o,aggregate:s,groupby:i,encoding:a}}function Omt(e,t,i){const r=function jpt(e,t){return function Wpt(e){switch(e){case Dd:case vg:case yg:case ND:case mb:case FD:case a4:case OD:case Z8:case R1:case R2:case U2:case P2:case TD:case F1:case O1:return g4e;case yl:case Ku:case N2:case Y8:case U0:case P0:case L2:return Kpt;case L0:case mg:case H0:case xh:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case L1:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case H2:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Td:return{point:"always",geoshape:"always"};case gb:return{text:"always"};case s4:return{point:"always",square:"always",text:"always"};case kD:return{image:"always"};case Eh:case R0:return{text:"always",arc:"always"};case N1:case k1:return{arc:"always"}}}(e)[t]}(t,i);if(!r)return!1;if("binned"===r){const o=e[t===L0?yl:Ku];return!!(Fi(o)&&Fi(e[t])&&wc(o.bin))}return!0}function sT(e,t){const i={};for(const r of oi(e)){const o=P5e(e[r],r,t,{compositeMark:!0});i[r]=o}return i}function vj(e,t,i){if(e)for(const r of oi(e)){const o=e[r];if(Xn(o))for(const s of o)t.call(i,s,r);else t.call(i,o,r)}}function Y5e(e,t){return oi(t).reduce((i,r)=>{switch(r){case yl:case Ku:case OD:case ND:case kD:case L0:case mg:case N2:case Y8:case Eh:case N1:case R0:case k1:case L2:case U0:case P0:case H0:case xh:case gb:case Td:case s4:case a4:return i;case Z8:if("line"===e||"trail"===e)return i;case mb:case FD:{const o=t[r];if(Xn(o)||Fi(o))for(const s of er(o))s.aggregate||i.push(qi(s,{}));return i}case L1:if("trail"===e)return i;case Dd:case vg:case yg:case R1:case R2:case U2:case H2:case P2:{const o=q0(t[r]);return o&&!o.aggregate&&i.push(qi(o,{})),i}}},[])}function yj(e,t,i,r=!0){if("tooltip"in i)return{tooltip:i.tooltip};const o=e.map(({fieldPrefix:a,titlePrefix:l})=>{const u=r?` of ${_j(t)}`:"";return{field:a+t.field,type:t.type,title:Rr(l)?{signal:`${l}"${escape(u)}"`}:l+u}}),s=function Nmt(e){const t=[];for(const i of oi(e))if(_4(e,i)){const o=er(e[i]);for(const s of o)Fi(s)?t.push(s):ZD(s)&&t.push(s.condition)}return t}(i).map(wmt);return{tooltip:[...o,...gg(s,ss)]}}function _j(e){const{title:t,field:i}=e;return iu(t,i)}function wj(e,t,i,r,o){const{scale:s,axis:a}=i;return({partName:l,mark:u,positionPrefix:c,endPositionPrefix:f,extraEncoding:d={}})=>{const h=_j(i);return Z5e(e,l,o,{mark:u,encoding:{[t]:{field:`${c}_${i.field}`,type:i.type,...void 0!==h?{title:h}:{},...void 0!==s?{scale:s}:{},...void 0!==a?{axis:a}:{}},...Ji(f)?{[`${t}2`]:{field:`${f}_${i.field}`}}:{},...r,...d}})}}function Z5e(e,t,i,r){const{clip:o,color:s,opacity:a}=e,l=e.type;return e[t]||void 0===e[t]&&i[t]?[{...r,mark:{...i[t],...o?{clip:o}:{},...s?{color:s}:{},...a?{opacity:a}:{},...z0(r.mark)?r.mark:{type:r.mark},style:`${l}-${String(t)}`,...Km(e[t])?{}:e[t]}}]:[]}function J5e(e,t,i){const{encoding:r}=e,o="vertical"===t?"y":"x",a=r[`${o}2`],l=r[`${o}Error`],u=r[`${o}Error2`];return{continuousAxisChannelDef:aT(r[o],i),continuousAxisChannelDef2:aT(a,i),continuousAxisChannelDefError:aT(l,i),continuousAxisChannelDefError2:aT(u,i),continuousAxis:o}}function aT(e,t){if(e?.aggregate){const{aggregate:i,...r}=e;return i!==t&&Mi(function c1t(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}(i,t)),r}return e}function e6e(e,t){const{mark:i,encoding:r}=e,{x:o,y:s}=r;if(z0(i)&&i.orient)return i.orient;if(j2(o)){if(j2(s)){const a=Fi(o)&&o.aggregate,l=Fi(s)&&s.aggregate;if(!a&&l===t)return"vertical";if(!l&&a===t)return"horizontal";if(a===t&&l===t)throw new Error("Both x and y cannot have aggregate");return a9(s)&&!a9(o)?"horizontal":"vertical"}return"horizontal"}if(j2(s))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}const lT="boxplot",Pmt=new oT(lT,n6e);function t6e(e){return Es(e)?"tukey":e}function n6e(e,{config:t}){e={...e,encoding:sT(e.encoding,t)};const{mark:i,encoding:r,params:o,projection:s,...a}=e,l=z0(i)?i:{type:i};o&&Mi(O4e("boxplot"));const u=l.extent??t.boxplot.extent,c=wa("size",l,t),f=l.invalid,d=t6e(u),{bins:h,timeUnits:g,transform:v,continuousAxisChannelDef:y,continuousAxis:b,groupby:E,aggregate:M,encodingWithoutContinuousAxis:k,ticksOrient:P,boxOrient:H,customTooltipWithoutAggregatedField:X}=function Hmt(e,t,i){const r=e6e(e,lT),{continuousAxisChannelDef:o,continuousAxis:s}=J5e(e,r,lT),a=o.field,l=W8(a),u=t6e(t),c=[...i6e(a),{op:"median",field:a,as:`mid_box_${l}`},{op:"min",field:a,as:("min-max"===u?"lower_whisker_":"min_")+l},{op:"max",field:a,as:("min-max"===u?"upper_whisker_":"max_")+l}],f="min-max"===u||"tukey"===u?[]:[{calculate:`${sa(`upper_box_${l}`)} - ${sa(`lower_box_${l}`)}`,as:`iqr_${l}`},{calculate:`min(${sa(`upper_box_${l}`)} + ${sa(`iqr_${l}`)} * ${t}, ${sa(`max_${l}`)})`,as:`upper_whisker_${l}`},{calculate:`max(${sa(`lower_box_${l}`)} - ${sa(`iqr_${l}`)} * ${t}, ${sa(`min_${l}`)})`,as:`lower_whisker_${l}`}],{[s]:d,...h}=e.encoding,{customTooltipWithoutAggregatedField:g,filteredEncoding:v}=function Rmt(e){const{tooltip:t,...i}=e;if(!t)return{filteredEncoding:i};let r,o;if(Xn(t)){for(const s of t)s.aggregate?(r||(r=[]),r.push(s)):(o||(o=[]),o.push(s));r&&(i.tooltip=r)}else t.aggregate?i.tooltip=t:o=t;return Xn(o)&&1===o.length&&(o=o[0]),{customTooltipWithoutAggregatedField:o,filteredEncoding:i}}(h),{bins:y,timeUnits:b,aggregate:E,groupby:M,encoding:k}=X5e(v,i),P="vertical"===r?"horizontal":"vertical",H=r;return{bins:y,timeUnits:b,transform:[...y,...b,{aggregate:[...E,...c],groupby:M},...f],groupby:M,aggregate:E,continuousAxisChannelDef:o,continuousAxis:s,encodingWithoutContinuousAxis:k,ticksOrient:P,boxOrient:H,customTooltipWithoutAggregatedField:g}}(e,u,t),z=W8(y.field),{color:se,size:ye,...Ie}=k,Ee=qr=>wj(l,b,y,qr,t.boxplot),Je=Ee(Ie),Ze=Ee(k),W=(Zi(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",Z=Ee({...Ie,...ye?{size:ye}:{},color:{condition:{test:`${sa(`lower_box_${y.field}`)} >= ${sa(`upper_box_${y.field}`)}`,...se||{value:W}}}}),te=yj([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],y,k),Ce={type:"tick",color:"black",opacity:1,orient:P,invalid:f,aria:!1},ce="min-max"===d?te:yj([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],y,k),we=[...Je({partName:"rule",mark:{type:"rule",invalid:f,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:ce}),...Je({partName:"rule",mark:{type:"rule",invalid:f,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:ce}),...Je({partName:"ticks",mark:Ce,positionPrefix:"lower_whisker",extraEncoding:ce}),...Je({partName:"ticks",mark:Ce,positionPrefix:"upper_whisker",extraEncoding:ce})],Be=[..."tukey"!==d?we:[],...Ze({partName:"box",mark:{type:"bar",...c?{size:c}:{},orient:H,invalid:f,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:te}),...Z({partName:"median",mark:{type:"tick",invalid:f,...Zi(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...c?{size:c}:{},orient:P,aria:!1},positionPrefix:"mid_box",extraEncoding:te})];if("min-max"===d)return{...a,transform:(a.transform??[]).concat(v),layer:Be};const tt=sa(`lower_box_${y.field}`),lt=sa(`upper_box_${y.field}`),Mt=`(${lt} - ${tt})`,bt=`${tt} - ${u} * ${Mt}`,Vt=`${lt} + ${u} * ${Mt}`,Vn=sa(y.field),sn={joinaggregate:i6e(y.field),groupby:E},fi={transform:[{filter:`(${bt} <= ${Vn}) && (${Vn} <= ${Vt})`},{aggregate:[{op:"min",field:y.field,as:`lower_whisker_${z}`},{op:"max",field:y.field,as:`upper_whisker_${z}`},{op:"min",field:`lower_box_${y.field}`,as:`lower_box_${z}`},{op:"max",field:`upper_box_${y.field}`,as:`upper_box_${z}`},...M],groupby:E}],layer:we},{tooltip:wt,...ln}=Ie,{scale:wn,axis:ut}=y,di=_j(y),xi=Id(ut,["title"]),yr=Z5e(l,"outliers",t.boxplot,{transform:[{filter:`(${Vn} < ${bt}) || (${Vn} > ${Vt})`}],mark:"point",encoding:{[b]:{field:y.field,type:y.type,...void 0!==di?{title:di}:{},...void 0!==wn?{scale:wn}:{},...ya(xi)?{}:{axis:xi}},...ln,...se?{color:se}:{},...X?{tooltip:X}:{}}})[0];let ji;const pi=[...h,...g,sn];return yr?ji={transform:pi,layer:[yr,fi]}:(ji=fi,ji.transform.unshift(...pi)),{...a,layer:[ji,{transform:v,layer:Be}]}}function i6e(e){const t=W8(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}const bj="errorbar",Vmt=new oT(bj,r6e);function r6e(e,{config:t}){e={...e,encoding:sT(e.encoding,t)};const{transform:i,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:s,ticksOrient:a,markDef:l,outerSpec:u,tooltipEncoding:c}=o6e(e,bj,t);delete s.size;const f=wj(l,o,r,s,t.errorbar),d=l.thickness,h=l.size,g={type:"tick",orient:a,aria:!1,...void 0!==d?{thickness:d}:{},...void 0!==h?{size:h}:{}},v=[...f({partName:"ticks",mark:g,positionPrefix:"lower",extraEncoding:c}),...f({partName:"ticks",mark:g,positionPrefix:"upper",extraEncoding:c}),...f({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...void 0!==d?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return{...u,transform:i,...v.length>1?{layer:v}:{...v[0]}}}function o6e(e,t,i){const{mark:r,encoding:o,params:s,projection:a,...l}=e,u=z0(r)?r:{type:r};s&&Mi(O4e(t));const{orient:c,inputType:f}=function zmt(e,t){const{encoding:i}=e;if(function $mt(e){return(Bo(e.x)||Bo(e.y))&&!Bo(e.x2)&&!Bo(e.y2)&&!Bo(e.xError)&&!Bo(e.xError2)&&!Bo(e.yError)&&!Bo(e.yError2)}(i))return{orient:e6e(e,t),inputType:"raw"};const r=function Gmt(e){return Bo(e.x2)||Bo(e.y2)}(i),o=function qmt(e){return Bo(e.xError)||Bo(e.xError2)||Bo(e.yError)||Bo(e.yError2)}(i),s=i.x,a=i.y;if(r){if(o)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const l=i.x2,u=i.y2;if(Bo(l)&&Bo(u))throw new Error(`${t} cannot have both x2 and y2`);if(Bo(l)){if(j2(s))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}if(Bo(u)){if(j2(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}{const l=i.xError,c=i.yError,f=i.yError2;if(Bo(i.xError2)&&!Bo(l))throw new Error(`${t} cannot have xError2 without xError`);if(Bo(f)&&!Bo(c))throw new Error(`${t} cannot have yError2 without yError`);if(Bo(l)&&Bo(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Bo(l)){if(j2(s))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Bo(c)){if(j2(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:h,continuousAxisChannelDefError:g,continuousAxisChannelDefError2:v,continuousAxis:y}=J5e(e,c,t),{errorBarSpecificAggregate:b,postAggregateCalculates:E,tooltipSummary:M,tooltipTitleWithFieldName:k}=function jmt(e,t,i,r,o,s,a,l){let u=[],c=[];const f=t.field;let d,h=!1;if("raw"===s){const g=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":l.errorbar.center,v=e.extent?e.extent:"mean"===g?"stderr":"iqr";if("median"===g!=("iqr"===v)&&Mi(function u1t(e,t,i){return`${e} is not usually used with ${t} for ${i}.`}(g,v,a)),"stderr"===v||"stdev"===v)u=[{op:v,field:f,as:`extent_${f}`},{op:g,field:f,as:`center_${f}`}],c=[{calculate:`${sa(`center_${f}`)} + ${sa(`extent_${f}`)}`,as:`upper_${f}`},{calculate:`${sa(`center_${f}`)} - ${sa(`extent_${f}`)}`,as:`lower_${f}`}],d=[{fieldPrefix:"center_",titlePrefix:hb(g)},{fieldPrefix:"upper_",titlePrefix:s6e(g,v,"+")},{fieldPrefix:"lower_",titlePrefix:s6e(g,v,"-")}],h=!0;else{let y,b,E;"ci"===v?(y="mean",b="ci0",E="ci1"):(y="median",b="q1",E="q3"),u=[{op:b,field:f,as:`lower_${f}`},{op:E,field:f,as:`upper_${f}`},{op:y,field:f,as:`center_${f}`}],d=[{fieldPrefix:"upper_",titlePrefix:o9({field:f,aggregate:E,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:o9({field:f,aggregate:b,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:o9({field:f,aggregate:y,type:"quantitative"},l,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Mi(function l1t(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}(e.center,e.extent)),"aggregated-upper-lower"===s?(d=[],c=[{calculate:sa(i.field),as:`upper_${f}`},{calculate:sa(f),as:`lower_${f}`}]):"aggregated-error"===s&&(d=[{fieldPrefix:"",titlePrefix:f}],c=[{calculate:`${sa(f)} + ${sa(r.field)}`,as:`upper_${f}`}],c.push(o?{calculate:`${sa(f)} + ${sa(o.field)}`,as:`lower_${f}`}:{calculate:`${sa(f)} - ${sa(r.field)}`,as:`lower_${f}`}));for(const g of c)d.push({fieldPrefix:g.as.substring(0,6),titlePrefix:o4(o4(g.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:u,tooltipSummary:d,tooltipTitleWithFieldName:h}}(u,d,h,g,v,f,t,i),{[y]:P,["x"===y?"x2":"y2"]:H,["x"===y?"xError":"yError"]:X,["x"===y?"xError2":"yError2"]:z,...se}=o,{bins:ye,timeUnits:Ie,aggregate:Ee,groupby:Je,encoding:Ze}=X5e(se,i),W=[...Ee,...b],Z="raw"!==f?[]:Je,te=yj(M,d,Ze,k);return{transform:[...l.transform??[],...ye,...Ie,...0===W.length?[]:[{aggregate:W,groupby:Z}],...E],groupby:Z,continuousAxisChannelDef:d,continuousAxis:y,encodingWithoutContinuousAxis:Ze,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:u,outerSpec:l,tooltipEncoding:te}}function s6e(e,t,i){return`${hb(e)} ${i} ${t}`}const Cj="errorband",Wmt=new oT(Cj,a6e);function a6e(e,{config:t}){e={...e,encoding:sT(e.encoding,t)};const{transform:i,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:s,markDef:a,outerSpec:l,tooltipEncoding:u}=o6e(e,Cj,t),c=a,f=wj(c,o,r,s,t.errorband),d=void 0!==e.encoding.x&&void 0!==e.encoding.y;let h={type:d?"area":"rect"},g={type:d?"line":"rule"};const v={...c.interpolate?{interpolate:c.interpolate}:{},...c.tension&&c.interpolate?{tension:c.tension}:{}};return d?(h={...h,...v,ariaRoleDescription:"errorband"},g={...g,...v,aria:!1}):c.interpolate?Mi(V4e("interpolate")):c.tension&&Mi(V4e("tension")),{...l,transform:i,layer:[...f({partName:"band",mark:h,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...f({partName:"borders",mark:g,positionPrefix:"lower",extraEncoding:u}),...f({partName:"borders",mark:g,positionPrefix:"upper",extraEncoding:u})]}}const Ej={};function xj(e,t,i){const r=new oT(e,t);Ej[e]={normalizer:r,parts:i}}xj(lT,n6e,["box","median","outliers","rule","ticks"]),xj(bj,r6e,["ticks","rule"]),xj(Cj,a6e,["band","borders"]);const Ymt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],l6e={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},u6e={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Zmt=oi(l6e),Jmt=oi(u6e),c6e=oi({header:1,headerRow:1,headerColumn:1,headerFacet:1}),f6e=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],d6e={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},j0=(oi(d6e),"_vgsid_"),t2t={point:{on:"click",fields:[j0],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Sj(e){return"legend"===e||!!e?.legend}function Bj(e){return Sj(e)&&Zi(e)}function Mj(e){return!!e?.select}function A6e(e){const t=[];for(const i of e||[]){if(Mj(i))continue;const{expr:r,bind:o,...s}=i;if(o&&r){const a={...s,bind:o,init:r};t.push(a)}else{const a={...s,...r?{update:r}:{},...o?{bind:o}:{}};t.push(a)}}return t}function Ij(e){return Ei(e,"concat")}function uT(e){return Ei(e,"vconcat")}function Dj(e){return Ei(e,"hconcat")}function h6e({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Bg(e){return Ei(e,"step")}function p6e(e){return Ei(e,"view")||Ei(e,"width")||Ei(e,"height")}const i2t=oi({align:1,bounds:1,center:1,columns:1,spacing:1});function Tj(e,t){return e[t]??e["width"===t?"continuousWidth":"continuousHeight"]}function Fj(e,t){const i=cT(e,t);return Bg(i)?i.step:m6e}function cT(e,t){return iu(e[t]??e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}const m6e=20,s2t={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:m6e},mark:{color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},arc:{},area:{},bar:smt,circle:{},geoshape:{},image:{},line:{},point:{},rect:aj,rule:{color:"black"},square:{},text:{color:"black"},tick:amt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:t2t,style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},z1=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],v6e={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},y6e={blue:z1[0],orange:z1[1],red:z1[2],teal:z1[3],green:z1[4],yellow:z1[5],purple:z1[6],pink:z1[7],brown:z1[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function _6e(e){const t=oi(e||{}),i={};for(const r of t){const o=e[r];i[r]=Mb(o)?_4e(o):EA(o)}return i}const f2t=[...m5e,...q5e,...c6e,"background","padding","legend","lineBreak","scale","style","title","view"];function w6e(e={}){const{color:t,font:i,fontSize:r,selection:o,...s}=e,a=O6({},vo(s2t),i?function u2t(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}(i):{},t?function a2t(e={}){return{signals:[{name:"color",value:Zi(e)?{...y6e,...e}:y6e}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(t):{},r?function l2t(e){return{signals:[{name:"fontSize",value:Zi(e)?{...v6e,...e}:v6e}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(r):{},s||{});o&&k6(a,"selection",o,!0);const l=Id(a,f2t);for(const u of["background","lineBreak","padding"])a[u]&&(l[u]=EA(a[u]));for(const u of m5e)a[u]&&(l[u]=bc(a[u]));for(const u of q5e)a[u]&&(l[u]=_6e(a[u]));for(const u of c6e)a[u]&&(l[u]=bc(a[u]));if(a.legend&&(l.legend=bc(a.legend)),a.scale){const{invalid:u,...c}=a.scale,f=bc(u,{level:1});l.scale={...bc(c),...oi(f).length>0?{invalid:f}:{}}}return a.style&&(l.style=function c2t(e){const t=oi(e),i={};for(const r of t)i[r]=_6e(e[r]);return i}(a.style)),a.title&&(l.title=bc(a.title)),a.view&&(l.view=bc(a.view)),l}const d2t=new Set(["view",...p5e]),A2t=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],h2t={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...imt};function m2t(e,t,i,r){"view"===t&&(i="cell");const s={...r?e[t][r]:e[t],...e.style[i??t]};ya(s)||(e.style[i??t]=s),r||delete e[t]}function fT(e){return Ei(e,"layer")}class Oj{map(t,i){return YD(t)?this.mapFacet(t,i):function v2t(e){return Ei(e,"repeat")}(t)?this.mapRepeat(t,i):Dj(t)?this.mapHConcat(t,i):uT(t)?this.mapVConcat(t,i):Ij(t)?this.mapConcat(t,i):this.mapLayerOrUnit(t,i)}mapLayerOrUnit(t,i){if(fT(t))return this.mapLayer(t,i);if(V1(t))return this.mapUnit(t,i);throw new Error(Uq(t))}mapLayer(t,i){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,i))}}mapHConcat(t,i){return{...t,hconcat:t.hconcat.map(r=>this.map(r,i))}}mapVConcat(t,i){return{...t,vconcat:t.vconcat.map(r=>this.map(r,i))}}mapConcat(t,i){const{concat:r,...o}=t;return{...o,concat:r.map(s=>this.map(s,i))}}mapFacet(t,i){return{...t,spec:this.map(t.spec,i)}}mapRepeat(t,i){return{...t,spec:this.map(t.spec,i)}}}const _2t={zero:1,center:1,normalize:1},b2t=new Set([d5e,GD,$D,KD,jD,rj,oj,qD,A5e,ij]),C2t=new Set([GD,$D,d5e]);function l9(e){return Fi(e)&&"quantitative"===i9(e)&&!e.bin}function b6e(e,t,{orient:i,type:r}){const o="x"===t?"y":"radius",s="x"===t&&["bar","area"].includes(r),a=e[t],l=e[o];if(Fi(a)&&Fi(l))if(l9(a)&&l9(l)){if(a.stack)return t;if(l.stack)return o;const u=Fi(a)&&!!a.aggregate;if(u!==(Fi(l)&&!!l.aggregate))return u?t:o;if(s){if("vertical"===i)return o;if("horizontal"===i)return t}}else{if(l9(a))return t;if(l9(l))return o}else{if(l9(a))return s&&"vertical"===i?void 0:t;if(l9(l))return s&&"horizontal"===i?void 0:o}}function C6e(e,t){const i=z0(e)?e:{type:e},r=i.type;if(!b2t.has(r))return null;const o=b6e(t,"x",i)||b6e(t,"theta",i);if(!o)return null;const s=t[o],a=Fi(s)?qi(s,{}):void 0,l=function E2t(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(o),u=[],c=new Set;if(t[l]){const y=t[l],b=Fi(y)?qi(y,{}):void 0;b&&b!==a&&(u.push(l),c.add(b))}const f="x"===l?"xOffset":"yOffset",d=t[f],h=Fi(d)?qi(d,{}):void 0;h&&h!==a&&(u.push(f),c.add(h));const g=Vpt.reduce((y,b)=>{if("tooltip"!==b&&_4(t,b)){const E=t[b];for(const M of er(E)){const k=q0(M);if(k.aggregate)continue;const P=qi(k,{});(!P||!c.has(P))&&y.push({channel:b,fieldDef:k})}}return y},[]);let v;return void 0!==s.stack?v=Km(s.stack)?s.stack?"zero":null:s.stack:C2t.has(r)&&(v="zero"),!v||!function w2t(e){return fr(_2t,e)}(v)||W5e(t)&&0===g.length?null:(s?.scale?.type&&s?.scale?.type!==Cc.LINEAR&&s?.stack&&Mi(function o1t(e){return`Stack is applied to a non-linear scale (${e}).`}(s.scale.type)),Bo(t[_g(o)])?(void 0!==s.stack&&Mi(function r1t(e){return`Cannot stack "${e}" if there is already "${e}2".`}(o)),null):(Fi(s)&&s.aggregate&&!egt.has(s.aggregate)&&Mi(function s1t(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}(s.aggregate)),{groupbyChannels:u,groupbyFields:c,fieldChannel:o,impute:null!==s.impute&&G2(r),stackBy:g,offset:v}))}function E6e(e,t,i){const r=bc(e),o=wa("orient",r,i);if(r.orient=function M2t(e,t,i){switch(e){case jD:case rj:case oj:case A5e:case Z1t:case Y1t:return}const{x:r,y:o,x2:s,y2:a}=t;switch(e){case GD:if(Fi(r)&&(wc(r.bin)||Fi(o)&&o.aggregate&&!r.aggregate))return"vertical";if(Fi(o)&&(wc(o.bin)||Fi(r)&&r.aggregate&&!o.aggregate))return"horizontal";if(a||s){if(i)return i;if(!s)return(Fi(r)&&r.type===p4&&!Qa(r.bin)||JD(r))&&Fi(o)&&wc(o.bin)?"horizontal":"vertical";if(!a)return(Fi(o)&&o.type===p4&&!Qa(o.bin)||JD(o))&&Fi(r)&&wc(r.bin)?"vertical":"horizontal"}case KD:if(s&&(!Fi(r)||!wc(r.bin))&&a&&(!Fi(o)||!wc(o.bin)))return;case $D:if(a)return Fi(o)&&wc(o.bin)?"horizontal":"vertical";if(s)return Fi(r)&&wc(r.bin)?"vertical":"horizontal";if(e===KD){if(r&&!o)return"vertical";if(o&&!r)return"horizontal"}case qD:case ij:{const l=O5e(r),u=O5e(o);if(i)return i;if(l&&!u)return"tick"!==e?"horizontal":"vertical";if(!l&&u)return"tick"!==e?"vertical":"horizontal";if(l&&u)return"vertical";{const c=jf(r)&&r.type===e9,f=jf(o)&&o.type===e9;if(c&&!f)return"vertical";if(!c&&f)return"horizontal"}return}}return"vertical"}(r.type,t,o),void 0!==o&&o!==r.orient&&Mi(function Vgt(e,t){return`Specified orient "${e}" overridden with "${t}".`}(r.orient,o)),"bar"===r.type&&r.orient){const u=wa("cornerRadiusEnd",r,i);if(void 0!==u){const c="horizontal"===r.orient&&t.x2||"vertical"===r.orient&&t.y2?["cornerRadius"]:omt[r.orient];for(const f of c)r[f]=u;void 0!==r.cornerRadiusEnd&&delete r.cornerRadiusEnd}}const s=wa("opacity",r,i),a=wa("fillOpacity",r,i);return void 0===s&&void 0===a&&(r.opacity=function S2t(e,t){if(es([jD,ij,rj,oj],e)&&!W5e(t))return.7}(r.type,t)),void 0===wa("cursor",r,i)&&(r.cursor=function x2t(e,t,i){return t.href||e.href||wa("href",e,i)?"pointer":e.cursor}(r,t,i)),r}function I2t(e){const{point:t,line:i,...r}=e;return oi(r).length>1?r:r.type}function D2t(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Id(e[t],["point","line"])});return e}function kj(e,t={},i){return"transparent"===e.point?{opacity:0}:e.point?Zi(e.point)?e.point:{}:void 0!==e.point?null:t.point||i.shape?Zi(t.point)?t.point:{}:void 0}function x6e(e,t={}){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class T2t{constructor(){this.name="path-overlay"}hasMatchingType(t,i){if(V1(t)){const{mark:r,encoding:o}=t,s=z0(r)?r:{type:r};switch(s.type){case"line":case"rule":case"trail":return!!kj(s,i[s.type],o);case"area":return!!kj(s,i[s.type],o)||!!x6e(s,i[s.type])}}return!1}run(t,i,r){const{config:o}=i,{params:s,projection:a,mark:l,name:u,encoding:c,...f}=t,d=sT(c,o),h=z0(l)?l:{type:l},g=kj(h,o[h.type],d),v="area"===h.type&&x6e(h,o[h.type]),y=[{name:u,...s?{params:s}:{},mark:I2t({..."area"===h.type&&void 0===h.opacity&&void 0===h.fillOpacity?{opacity:.7}:{},...h}),encoding:Id(d,["shape"])}],b=C6e(E6e(h,d,o),d);let E=d;if(b){const{fieldChannel:M,offset:k}=b;E={...d,[M]:{...d[M],...k?{stack:k}:{}}}}return E=Id(E,["y2","x2"]),v&&y.push({...a?{projection:a}:{},mark:{type:"line",...j8(h,["clip","interpolate","tension","tooltip"]),...v},encoding:E}),g&&y.push({...a?{projection:a}:{},mark:{type:"point",opacity:1,filled:!0,...j8(h,["clip","tooltip"]),...g},encoding:E}),r({...f,layer:y},{...i,config:D2t(o)})}}function F2t(e,t){return t?Eb(e)?I6e(e,t):S6e(e,t):e}function Nj(e,t){return t?I6e(e,t):e}function Lj(e,t,i){const r=t[e];return function ymt(e){return!Ji(e)&&Ei(e,"repeat")}(r)?r.repeat in i?{...t,[e]:i[r.repeat]}:void Mi(function ygt(e){return`Unknown repeated value "${e}".`}(r.repeat)):t}function S6e(e,t){if(void 0!==(e=Lj("field",e,t))){if(null===e)return null;if(hj(e)&&Q1(e.sort)){const i=Lj("field",e.sort,t);e={...e,...i?{sort:i}:{}}}return e}}function B6e(e,t){if(Fi(e))return S6e(e,t);{const i=Lj("datum",e,t);return i!==e&&!i.type&&(i.type="nominal"),i}}function M6e(e,t){if(!Bo(e)){if(Sb(e)){const i=B6e(e.condition,t);if(i)return{...e,condition:i};{const{condition:r,...o}=e;return o}}return e}{const i=B6e(e,t);if(i)return i;if(xb(e))return{condition:e.condition}}}function I6e(e,t){const i={};for(const r in e)if(Ei(e,r)){const o=e[r];if(Xn(o))i[r]=o.map(s=>M6e(s,t)).filter(s=>s);else{const s=M6e(o,t);void 0!==s&&(i[r]=s)}}return i}class O2t{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(V1(t)){const{encoding:i,mark:r}=t;if("line"===r||z0(r)&&"line"===r.type)for(const o of Ppt){const a=i[l4(o)];if(i[o]&&(Fi(a)&&!wc(a.bin)||Sg(a)))return!0}}return!1}run(t,i,r){const{encoding:o,mark:s}=t;return Mi(function Qgt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}(!!o.x2,!!o.y2)),r({...t,mark:Zi(s)?{...s,type:"rule"}:"rule"},i)}}function D6e({parentEncoding:e,encoding:t={},layer:i}){let r={};if(e){const o=new Set([...oi(e),...oi(t)]);for(const s of o){const a=t[s],l=e[s];if(Bo(a)){const u={...l,...a};r[s]=u}else Sb(a)?r[s]={...a,condition:{...l,...a.condition}}:a||null===a?r[s]=a:(i||G0(l)||Rr(l)||Bo(l)||Xn(l))&&(r[s]=l)}}else r=t;return!r||ya(r)?void 0:r}function T6e(e){const{parentProjection:t,projection:i}=e;return t&&i&&Mi(function Mgt(e){const{parentProjection:t,projection:i}=e;return`Layer's shared projection ${_a(t)} is overridden by a child projection ${_a(i)}.`}({parentProjection:t,projection:i})),i??t}function Rj(e){return Ei(e,"filter")}function N2t(e){return Ei(e,"stop")}function F6e(e){return Ei(e,"lookup")}function U2t(e){return Ei(e,"pivot")}function P2t(e){return Ei(e,"density")}function H2t(e){return Ei(e,"quantile")}function Q2t(e){return Ei(e,"regression")}function V2t(e){return Ei(e,"loess")}function z2t(e){return Ei(e,"sample")}function $2t(e){return Ei(e,"window")}function G2t(e){return Ei(e,"joinaggregate")}function q2t(e){return Ei(e,"flatten")}function j2t(e){return Ei(e,"calculate")}function O6e(e){return Ei(e,"bin")}function K2t(e){return Ei(e,"impute")}function W2t(e){return Ei(e,"timeUnit")}function X2t(e){return Ei(e,"aggregate")}function Y2t(e){return Ei(e,"stack")}function Z2t(e){return Ei(e,"fold")}function J2t(e){return Ei(e,"extent")&&!Ei(e,"density")&&!Ei(e,"regression")}function k6e(e,t){const{transform:i,...r}=e;return i?{...r,transform:i.map(s=>{if(Rj(s))return{filter:Uj(s,t)};if(O6e(s)&&u4(s.bin))return{...s,bin:L6e(s.bin)};if(F6e(s)){const{selection:a,...l}=s.from;return a?{...s,from:{param:a,...l}}:s}return s})}:e}function N6e(e,t){const i=vo(e);if(Fi(i)&&u4(i.bin)&&(i.bin=L6e(i.bin)),y4(i)&&i.scale?.domain?.selection){const{selection:r,...o}=i.scale.domain;i.scale.domain={...o,...r?{param:r}:{}}}if(xb(i))if(Xn(i.condition))i.condition=i.condition.map(r=>{const{selection:o,param:s,test:a,...l}=r;return s?r:{...l,test:Uj(r,t)}});else{const{selection:r,param:o,test:s,...a}=N6e(i.condition,t);i.condition=o?i.condition:{...a,test:Uj(i.condition,t)}}return i}function L6e(e){const t=e.extent;if(t?.selection){const{selection:i,...r}=t;return{...e,extent:{...r,param:i}}}return e}function Uj(e,t){const i=r=>q8(r,o=>{var s;const l={param:o,empty:t.emptySelections[o]??!0};return(s=t.selectionPredicates)[o]??(s[o]=[]),t.selectionPredicates[o].push(l),l});return e.selection?i(e.selection):q8(e.test||e.filter,r=>r.selection?i(r.selection):r)}class Pj extends Oj{map(t,i){const r=i.selections??[];if(t.params&&!V1(t)){const o=[];for(const s of t.params)Mj(s)?r.push(s):o.push(s);t.params=o}return i.selections=r,super.map(t,i)}mapUnit(t,i){const r=i.selections;if(!r||!r.length)return t;const o=(i.path??[]).concat(t.name),s=[];for(const a of r)if(a.views&&a.views.length)for(const l of a.views)(Ji(l)&&(l===t.name||o.includes(l))||Xn(l)&&l.map(u=>o.indexOf(u)).every((u,c,f)=>-1!==u&&(0===c||u>f[c-1])))&&s.push(a);else s.push(a);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=Pj.prototype[e];Pj.prototype[e]=function(i,r){return t.call(this,i,nvt(i,r))}}function nvt(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function R6e(e,t){void 0===t&&(t=w6e(e.config));const i=function svt(e,t={}){const i={config:t};return ovt.map(ivt.map(rvt.map(e,i),i),i)}(e,t),{width:r,height:o}=e,s=function avt(e,t,i){let{width:r,height:o}=t;const s=V1(e)||fT(e),a={};s?"container"==r&&"container"==o?(a.type="fit",a.contains="padding"):"container"==r?(a.type="fit-x",a.contains="padding"):"container"==o&&(a.type="fit-y",a.contains="padding"):("container"==r&&(Mi(I4e("width")),r=void 0),"container"==o&&(Mi(I4e("height")),o=void 0));const l={type:"pad",...a,...i?U6e(i.autosize):{},...U6e(e.autosize)};if("fit"===l.type&&!s&&(Mi(lgt),l.type="pad"),"container"==r&&!("fit"==l.type||"fit-x"==l.type)&&Mi(D4e("width")),"container"==o&&!("fit"==l.type||"fit-y"==l.type)&&Mi(D4e("height")),!CA(l,{type:"pad"}))return l}(i,{width:r,height:o,autosize:e.autosize},t);return{...i,...s?{autosize:s}:{}}}const ivt=new class k2t extends Oj{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[Pmt,Vmt,Wmt,new T2t,new O2t]}map(t,i){if(V1(t)){const r=_4(t.encoding,F1),o=_4(t.encoding,O1),s=_4(t.encoding,TD);if(r||o||s)return this.mapFacetedUnit(t,i)}return super.map(t,i)}mapUnit(t,i){const{parentEncoding:r,parentProjection:o}=i,s=Nj(t.encoding,i.repeater),a={...t,...t.name?{name:[i.repeaterPrefix,t.name].filter(u=>u).join("_")}:{},...s?{encoding:s}:{}};if(r||o)return this.mapUnitWithParentEncodingOrProjection(a,i);const l=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(a,i.config))return u.run(a,i,l);return a}mapRepeat(t,i){return function y2t(e){return!Xn(e.repeat)&&Ei(e.repeat,"layer")}(t)?this.mapLayerRepeat(t,i):this.mapNonLayerRepeat(t,i)}mapLayerRepeat(t,i){const{repeat:r,spec:o,...s}=t,{row:a,column:l,layer:u}=r,{repeater:c={},repeaterPrefix:f=""}=i;return a||l?this.mapRepeat({...t,repeat:{...a?{row:a}:{},...l?{column:l}:{}},spec:{repeat:{layer:u},spec:o}},i):{...s,layer:u.map(d=>{const h={...c,layer:d},g=`${(o.name?`${o.name}_`:"")+f}child__layer_${vl(d)}`,v=this.mapLayerOrUnit(o,{...i,repeater:h,repeaterPrefix:g});return v.name=g,v})}}mapNonLayerRepeat(t,i){const{repeat:r,spec:o,data:s,...a}=t;!Xn(r)&&t.columns&&(t=Id(t,["columns"]),Mi(k4e("repeat")));const l=[],{repeater:u={},repeaterPrefix:c=""}=i,f=!Xn(r)&&r.row||[u?u.row:null],d=!Xn(r)&&r.column||[u?u.column:null],h=Xn(r)&&r||[u?u.repeat:null];for(const v of h)for(const y of f)for(const b of d){const E={repeat:v,row:y,column:b,layer:u.layer},M=(o.name?`${o.name}_`:"")+c+"child__"+(Xn(r)?`${vl(v)}`:(r.row?`row_${vl(y)}`:"")+(r.column?`column_${vl(b)}`:"")),k=this.map(o,{...i,repeater:E,repeaterPrefix:M});k.name=M,l.push(Id(k,["data"]))}const g=Xn(r)?t.columns:r.column?r.column.length:1;return{data:o.data??s,align:"all",...a,columns:g,concat:l}}mapFacet(t,i){const{facet:r}=t;return Eb(r)&&t.columns&&(t=Id(t,["columns"]),Mi(k4e("facet"))),super.mapFacet(t,i)}mapUnitWithParentEncodingOrProjection(t,i){const{encoding:r,projection:o}=t,{parentEncoding:s,parentProjection:a,config:l}=i,u=T6e({parentProjection:a,projection:o}),c=D6e({parentEncoding:s,encoding:Nj(r,i.repeater)});return this.mapUnit({...t,...u?{projection:u}:{},...c?{encoding:c}:{}},{config:l})}mapFacetedUnit(t,i){const{row:r,column:o,facet:s,...a}=t.encoding,{mark:l,width:u,projection:c,height:f,view:d,params:h,encoding:g,...v}=t,{facetMapping:y,layout:b}=this.getFacetMappingAndLayout({row:r,column:o,facet:s},i),E=Nj(a,i.repeater);return this.mapFacet({...v,...b,facet:y,spec:{...u?{width:u}:{},...f?{height:f}:{},...d?{view:d}:{},...c?{projection:c}:{},mark:l,encoding:E,...h?{params:h}:{}}},i)}getFacetMappingAndLayout(t,i){const{row:r,column:o,facet:s}=t;if(r||o){s&&Mi(function Pgt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}([...r?[F1]:[],...o?[O1]:[]]));const a={},l={};for(const u of[F1,O1]){const c=t[u];if(c){const{align:f,center:d,spacing:h,columns:g,...v}=c;a[u]=v;for(const y of["align","center","spacing"])void 0!==c[y]&&(l[y]??(l[y]={}),l[y][u]=c[y])}}return{facetMapping:a,layout:l}}{const{align:a,center:l,spacing:u,columns:c,...f}=s;return{facetMapping:F2t(f,i.repeater),layout:{...a?{align:a}:{},...l?{center:l}:{},...u?{spacing:u}:{},...c?{columns:c}:{}}}}}mapLayer(t,{parentEncoding:i,parentProjection:r,...o}){const{encoding:s,projection:a,...l}=t,u={...o,parentEncoding:D6e({parentEncoding:i,encoding:s,layer:!0}),parentProjection:T6e({parentProjection:r,projection:a})};return super.mapLayer({...l,...t.name?{name:[u.repeaterPrefix,t.name].filter(c=>c).join("_")}:{}},u)}},rvt=new class tvt extends Oj{map(t,i){return i.emptySelections??(i.emptySelections={}),i.selectionPredicates??(i.selectionPredicates={}),t=k6e(t,i),super.map(t,i)}mapLayerOrUnit(t,i){if((t=k6e(t,i)).encoding){const r={};for(const[o,s]of k2(t.encoding))r[o]=N6e(s,i);t={...t,encoding:r}}return super.mapLayerOrUnit(t,i)}mapUnit(t,i){const{selection:r,...o}=t;return r?{...o,params:k2(r).map(([s,a])=>{const{init:l,bind:u,empty:c,...f}=a;"single"===f.type?(f.type="point",f.toggle=!1):"multi"===f.type&&(f.type="point"),i.emptySelections[s]="none"!==c;for(const d of _c(i.selectionPredicates[s]??{}))d.empty="none"!==c;return{name:s,value:l,select:f,bind:u}})}:t}},ovt=new Pj;function U6e(e){return Ji(e)?{type:e}:e??{}}const cvt=["background","padding"];function P6e(e,t){const i={};for(const r of cvt)e&&void 0!==e[r]&&(i[r]=EA(e[r]));return t&&(i.params=e.params),i}class $1{constructor(t={},i={}){this.explicit=t,this.implicit=i}clone(){return new $1(vo(this.explicit),vo(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return iu(this.explicit[t],this.implicit[t])}getWithExplicit(t){return void 0!==this.explicit[t]?{explicit:!0,value:this.explicit[t]}:void 0!==this.implicit[t]?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:i,explicit:r}){void 0!==i&&this.set(t,i,r)}set(t,i,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=i,this}copyKeyFromSplit(t,{explicit:i,implicit:r}){void 0!==i[t]?this.set(t,i[t],!0):void 0!==r[t]&&this.set(t,r[t],!1)}copyKeyFromObject(t,i){void 0!==i[t]&&this.set(t,i[t],!0)}copyAll(t){for(const i of oi(t.combine())){const r=t.getWithExplicit(i);this.setWithExplicit(i,r)}}}function Mg(e){return{explicit:!0,value:e}}function xA(e){return{explicit:!1,value:e}}function H6e(e){return(t,i,r,o)=>{const s=e(t.value,i.value);return s>0?t:s<0?i:dT(t,i,r,o)}}function dT(e,t,i,r){return e.explicit&&t.explicit&&Mi(function Ygt(e,t,i,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${_a(i)} and ${_a(r)}). Using ${_a(i)}.`}(i,r,e.value,t.value)),e}function K2(e,t,i,r,o=dT){return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:CA(e.value,t.value)?e:o(e,t,i,r)}class fvt extends $1{constructor(t={},i={},r=!1){super(t,i),this.explicit=t,this.implicit=i,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function u9(e){return Ei(e,"url")}function Ib(e){return Ei(e,"values")}function Q6e(e){return Ei(e,"name")&&!u9(e)&&!Ib(e)&&!W2(e)}function W2(e){return e&&(V6e(e)||z6e(e)||Hj(e))}function V6e(e){return Ei(e,"sequence")}function z6e(e){return Ei(e,"sphere")}function Hj(e){return Ei(e,"graticule")}var Gl=function(e){return e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid",e}(Gl||{});function $6e({invalid:e,isPath:t}){switch(v5e(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}class aa{constructor(t,i){this.debugName=i,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,i){this._children.includes(t)?Mi("Attempt to add the same child twice."):void 0!==i?this._children.splice(i,0,t):this._children.push(t)}removeChild(t){const i=this._children.indexOf(t);return this._children.splice(i,1),i}remove(){let t=this._parent.removeChild(this);for(const i of this._children)i._parent=this._parent,this._parent.addChild(i,t++)}insertAsParentOf(t){const i=t.parent;i.removeChild(this),this.parent=i,t.parent=this}swapWithParent(){const t=this._parent,i=t.parent;for(const o of this._children)o.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=i,i.addChild(this,r),t.parent=this}}class Od extends aa{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,i,r,o){super(t,i),this.type=r,this.refCounts=o,this._source=this._name=i,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash=`Output ${J3e()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function Qj(e){return void 0!==e.as}function G6e(e){return`${e}_end`}class Ig extends aa{clone(){return new Ig(null,vo(this.timeUnits))}constructor(t,i){super(t),this.timeUnits=i}static makeFromEncoding(t,i){const r=i.reduceFieldDef((o,s,a)=>{const{field:l,timeUnit:u}=s;if(u){let c;if(A4(u)){if(Nl(i)){const{mark:f,markDef:d,config:h}=i,g=q2({fieldDef:s,markDef:d,config:h});(wb(f)||g)&&(c={timeUnit:Wu(u),field:l})}}else c={as:qi(s,{forAs:!0}),field:l,timeUnit:u};if(Nl(i)){const{mark:f,markDef:d,config:h}=i,g=q2({fieldDef:s,markDef:d,config:h});wb(f)&&ru(a)&&.5!==g&&(c.rectBandPosition=g)}c&&(o[ss(c)]=c)}return o},{});return ya(r)?null:new Ig(t,r)}static makeFromTransform(t,i){const{timeUnit:r,...o}={...i},a={...o,timeUnit:Wu(r)};return new Ig(t,{[ss(a)]:a})}merge(t){this.timeUnits={...this.timeUnits};for(const i in t.timeUnits)this.timeUnits[i]||(this.timeUnits[i]=t.timeUnits[i]);for(const i of t.children)t.removeChild(i),i.parent=this;t.remove()}removeFormulas(t){const i={};for(const[r,o]of k2(this.timeUnits)){const s=Qj(o)?o.as:`${o.field}_end`;t.has(s)||(i[r]=o)}this.timeUnits=i}producedFields(){return new Set(_c(this.timeUnits).map(t=>Qj(t)?t.as:G6e(t.field)))}dependentFields(){return new Set(_c(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${ss(this.timeUnits)}`}assemble(){const t=[];for(const i of _c(this.timeUnits)){const{rectBandPosition:r}=i,o=Wu(i.timeUnit);if(Qj(i)){const{field:s,as:a}=i,{unit:l,utc:u,...c}=o,f=[a,`${a}_end`];t.push({field:Ch(s),type:"timeunit",...l?{units:QD(l)}:{},...u?{timezone:"utc"}:{},...c,as:f}),t.push(...j6e(f,r,o))}else if(i){const{field:s}=i,a=s.replaceAll("\\.","."),l=q6e({timeUnit:o,field:a}),u=G6e(a);t.push({type:"formula",expr:l,as:u}),t.push(...j6e([a,u],r,o))}}return t}}const AT="offsetted_rect_start",hT="offsetted_rect_end";function q6e({timeUnit:e,field:t,reverse:i}){const{unit:r,utc:o}=e,s=X4e(r),{part:a,step:l}=e5e(s,e.step);return`${o?"utcOffset":"timeOffset"}('${a}', ${sa(t)}, ${i?-l:l})`}function j6e([e,t],i,r){if(void 0!==i&&.5!==i){const o=sa(e),s=sa(t);return[{type:"formula",expr:K6e([q6e({timeUnit:r,field:e,reverse:!0}),o],i+.5),as:`${e}_${AT}`},{type:"formula",expr:K6e([o,s],i+.5),as:`${e}_${hT}`}]}return[]}function K6e([e,t],i){return`${1-i} * ${e} + ${i} * ${t}`}const Db="_tuple_fields";class Avt{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const hvt={defined:()=>!0,parse:(e,t,i)=>{const r=t.name,o=t.project??(t.project=new Avt),s={},a={},l=new Set,u=(v,y)=>{const b="visual"===y?v.channel:v.field;let E=vl(`${r}_${b}`);for(let M=1;l.has(E);M++)E=vl(`${r}_${b}_${M}`);return l.add(E),{[y]:E}},c=t.type,f=e.config.selection[c],d=void 0!==i.value?er(i.value):null;let{fields:h,encodings:g}=Zi(i.select)?i.select:{};if(!h&&!g&&d)for(const v of d)if(Zi(v))for(const y of oi(v))Upt(y)?(g||(g=[])).push(y):"interval"===c?(Mi('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),g=f.encodings):(h??(h=[])).push(y);!h&&!g&&(g=f.encodings,"fields"in f&&(h=f.fields));for(const v of g??[]){const y=e.fieldDef(v);if(y){let b=y.field;if(y.aggregate){Mi(ugt(v,y.aggregate));continue}if(!b){Mi(F4e(v));continue}if(y.timeUnit&&!A4(y.timeUnit)){b=e.vgField(v);const E={timeUnit:y.timeUnit,as:b,field:y.field};a[ss(E)]=E}if(!s[b]){const M={field:b,channel:v,type:"interval"===c&&wg(v)&&V0(e.getScaleComponent(v).get("type"))?"R":y.bin?"R-RE":"E",index:o.items.length};M.signals={...u(M,"data"),...u(M,"visual")},o.items.push(s[b]=M),o.hasField[b]=s[b],o.hasSelectionId=o.hasSelectionId||b===j0,s4e(v)?(M.geoChannel=v,M.channel=o4e(v),o.hasChannel[M.channel]=s[b]):o.hasChannel[v]=s[b]}}else Mi(F4e(v))}for(const v of h??[]){if(o.hasField[v])continue;const y={type:"E",field:v,index:o.items.length};y.signals={...u(y,"data")},o.items.push(y),o.hasField[v]=y,o.hasSelectionId=o.hasSelectionId||v===j0}d&&(t.init=d.map(v=>o.items.map(y=>Zi(v)?void 0!==v[y.geoChannel||y.channel]?v[y.geoChannel||y.channel]:v[y.field]:v))),ya(a)||(o.timeUnit=new Ig(null,a))},signals:(e,t,i)=>{const r=t.name+Db;return i.filter(s=>s.name===r).length>0||t.project.hasSelectionId?i:i.concat({name:r,value:t.project.items.map(Z6e)})}},pT="anim_value",c9="anim_clock",Vj="eased_anim_clock",X6e="min_extent",Y6e="max_range_extent",zj="last_tick_at",$j="is_playing",mvt={defined:e=>"point"===e.type,topLevelSignals:(e,t,i)=>(Dg(t)&&(i=i.concat([{name:c9,init:"0",on:[{events:{type:"timer",throttle:16.666666666666668},update:`${$j} ? (${c9} + (now() - ${zj}) > ${Y6e} ? 0 : ${c9} + (now() - ${zj})) : ${c9}`}]},{name:zj,init:"now()",on:[{events:[{signal:c9},{signal:$j}],update:"now()"}]},{name:$j,init:"true"}])),i),signals:(e,t,i)=>{const r=t.name,o=r+Db,s=t.project,a="(item().isVoronoi ? datum.datum : datum)",l=_c(e.component.selection??{}).reduce((f,d)=>"interval"===d.type?f.concat(d.name+f9):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),u="datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0"+(l?` && ${l}`:"");let c=`unit: ${C4(e)}, `;if(t.project.hasSelectionId?c+=`${j0}: ${a}[${Li(j0)}]`:Dg(t)?c+=`fields: ${o}, values: [${pT} ? ${pT} : ${X6e}]`:c+=`fields: ${o}, values: [${s.items.map(d=>e.fieldDef(d.channel)?.bin?`[${a}[${Li(e.vgField(d.channel,{}))}], ${a}[${Li(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${a}[${Li(d.field)}]`).join(", ")}]`,Dg(t))return i.concat(((e,t)=>[{name:Vj,update:c9},{name:`${e}_domain`,init:`domain('${t}')`},{name:X6e,init:`extent(${e}_domain)[0]`},{name:Y6e,init:`extent(range('${t}'))[1]`},{name:pT,update:`invert('${t}', ${Vj})`}])(t.name,e.scaleName(L2)),[{name:r+j1,on:[{events:[{signal:Vj},{signal:pT}],update:`{${c}}`,force:!0}]}]);{const f=t.events;return i.concat([{name:r+j1,on:f?[{events:f,update:`${u} ? {${c}} : null`,force:!0}]:[]}])}}};function Z6e(e){const{signals:t,hasLegend:i,index:r,...o}=e;return o.field=Ch(o.field),o}function w4(e,t=!0,i=qc){if(Xn(e)){const r=e.map(o=>w4(o,t,i));return t?`[${r.join(", ")}]`:r}return f4(e)?i(t?d4(e):function C1t(e){const t=$q(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}(e)):t?i(_a(e)):e}function vvt(e,t){for(const i of _c(e.component.selection??{})){const r=i.name;let o=`${r}${j1}, ${"global"===i.resolve?"true":`{unit: ${C4(e)}}`}`;for(const s of _T)s.defined(i)&&(s.signals&&(t=s.signals(e,i,t)),s.modifyExpr&&(o=s.modifyExpr(e,i,o)));t.push({name:r+qvt,on:[{events:{signal:i.name+j1},update:`modify(${Li(i.name+b4)}, ${o})`}]})}return Gj(t)}function yvt(e,t){if(e.component.selection&&oi(e.component.selection).length){const i=Li(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:F2("pointermove","scope"),update:`isTuple(facet) ? facet : group(${i}).datum`}]})}return Gj(t)}function J6e(e,t){for(const i of _c(e.component.selection??{}))for(const r of _T)r.defined(i)&&r.marks&&(t=r.marks(e,i,t));return t}function Gj(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const G1={defined:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t)=>{const i=t.scales=[];for(const r of t.project.items){const o=r.channel;if(!wg(o))continue;const s=e.getScaleComponent(o),a=s?s.get("type"):void 0;"sequential"==a&&Mi("Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc"),s&&V0(a)?(s.set("selectionExtent",{param:t.name,field:r.field},!0),i.push(r)):Mi("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(e,t,i)=>{const r=t.scales.filter(a=>0===i.filter(l=>l.name===a.signals.data).length);if(!e.parent||jj(e)||0===r.length)return i;const o=i.find(a=>a.name===t.name);let s=o.update;if(s.includes(C8e))o.update=`{${r.map(a=>`${Li(Ch(a.field))}: ${a.signals.data}`).join(", ")}}`;else{for(const a of r){const l=`${Li(Ch(a.field))}: ${a.signals.data}`;s.includes(l)||(s=`${s.substring(0,s.length-1)}, ${l}}`)}o.update=s}return i.concat(r.map(a=>({name:a.signals.data})))},signals:(e,t,i)=>{if(e.parent&&!jj(e))for(const r of t.scales){const o=i.find(s=>s.name===r.signals.data);o.push="outer",delete o.value,delete o.update}return i}};function qj(e,t){return`domain(${Li(e.scaleName(t))})`}function jj(e){return e.parent&&w9(e.parent)&&(!e.parent.parent||jj(e.parent.parent))}const f9="_brush",e8e="_scale_trigger",Tb="geo_interval_init_tick",xvt={defined:e=>"interval"===e.type,parse:(e,t,i)=>{var r;if(e.hasProjection){const o={...Zi(i.select)?i.select:{}};o.fields=[j0],o.encodings||(o.encodings=i.value?oi(i.value):[P0,U0]),i.select={type:"interval",...o}}if(t.translate&&!G1.defined(t)){const o=`!event.item || event.item.mark.name !== ${Li(t.name+f9)}`;for(const s of t.events){if(!s.between){Mi(`${s} is not an ordered event stream for interval selections.`);continue}const a=er((r=s.between[0]).filter??(r.filter=[]));a.includes(o)||a.push(o)}}},signals:(e,t,i)=>{const r=t.name,o=r+j1,s=_c(t.project.hasChannel).filter(l=>l.channel===yl||l.channel===Ku),a=t.init?t.init[0]:null;if(i.push(...s.reduce((l,u)=>l.concat(function Svt(e,t,i,r){const o=!e.hasProjection,s=i.channel,a=i.signals.visual,l=Li(o?e.scaleName(s):e.projectionName()),u=h=>`scale(${l}, ${h})`,c=e.getSizeSignalRef(s===yl?"width":"height").signal,f=`${s}(unit)`,d=t.events.reduce((h,g)=>[...h,{events:g.between[0],update:`[${f}, ${f}]`},{events:g,update:`[${a}[0], clamp(${f}, 0, ${c})]`}],[]);if(o){const h=i.signals.data,g=G1.defined(t),v=e.getScaleComponent(s),y=v?v.get("type"):void 0,b=r?{init:w4(r,!0,u)}:{value:[]};return d.push({events:{signal:t.name+e8e},update:V0(y)?`[${u(`${h}[0]`)}, ${u(`${h}[1]`)}]`:"[0, 0]"}),g?[{name:h,on:[]}]:[{name:a,...b,on:d},{name:h,...r?{init:w4(r)}:{},on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${l}, ${a})`}]}]}{const h=s===yl?0:1,g=t.name+"_init";return[{name:a,...r?{init:`[${g}[0][${h}], ${g}[1][${h}]]`}:{value:[]},on:d}]}}(e,t,u,a&&a[u.index])),[])),e.hasProjection){const l=Li(e.projectionName()),u=e.projectionName()+"_center",{x:c,y:f}=t.project.hasChannel,d=c&&c.signals.visual,h=f&&f.signals.visual,g=c?a&&a[c.index]:`${u}[0]`,v=f?a&&a[f.index]:`${u}[1]`,y=H=>e.getSizeSignalRef(H).signal,b=`[[${d?d+"[0]":"0"}, ${h?h+"[0]":"0"}],[${d?d+"[1]":y("width")}, ${h?h+"[1]":y("height")}]]`;a&&(i.unshift({name:r+"_init",init:`[scale(${l}, [${c?g[0]:g}, ${f?v[0]:v}]), scale(${l}, [${c?g[1]:g}, ${f?v[1]:v}])]`}),(!c||!f)&&(i.find(X=>X.name===u)||i.unshift({name:u,update:`invert(${l}, [${y("width")}/2, ${y("height")}/2])`})));const k=`vlSelectionTuples(intersect(${b}, {markname: ${Li(e.getName("marks"))}}, unit.mark), {unit: ${C4(e)}})`,P=s.map(H=>H.signals.visual);return i.concat({name:o,on:[{events:[...P.length?[{signal:P.join(" || ")}]:[],...a?[{signal:Tb}]:[]],update:k}]})}{if(!G1.defined(t)){const c=r+e8e,f=s.map(d=>{const h=d.channel,{data:g,visual:v}=d.signals,y=Li(e.scaleName(h)),E=V0(e.getScaleComponent(h).get("type"))?"+":"";return`(!isArray(${g}) || (${E}invert(${y}, ${v})[0] === ${E}${g}[0] && ${E}invert(${y}, ${v})[1] === ${E}${g}[1]))`});f.length&&i.push({name:c,value:{},on:[{events:s.map(d=>({scale:e.scaleName(d.channel)})),update:f.join(" && ")+` ? ${c} : {}`}]})}const l=s.map(c=>c.signals.data),u=`unit: ${C4(e)}, fields: ${r+Db}, values`;return i.concat({name:o,...a?{init:`{${u}: ${w4(a)}}`}:{},...l.length?{on:[{events:[{signal:l.join(" || ")}],update:`${l.join(" && ")} ? {${u}: [${l}]} : null`}]}:{}})}},topLevelSignals:(e,t,i)=>(Nl(e)&&e.hasProjection&&t.init&&(i.filter(o=>o.name===Tb).length||i.unshift({name:Tb,value:null,on:[{events:"timer{1}",update:`${Tb} === null ? {} : ${Tb}`}]})),i),marks:(e,t,i)=>{const r=t.name,{x:o,y:s}=t.project.hasChannel,a=o?.signals.visual,l=s?.signals.visual,u=`data(${Li(t.name+b4)})`;if(G1.defined(t)||!o&&!s)return i;const c={x:void 0!==o?{signal:`${a}[0]`}:{value:0},y:void 0!==s?{signal:`${l}[0]`}:{value:0},x2:void 0!==o?{signal:`${a}[1]`}:{field:{group:"width"}},y2:void 0!==s?{signal:`${l}[1]`}:{field:{group:"height"}}};if("global"===t.resolve)for(const b of oi(c))c[b]=[{test:`${u}.length && ${u}[0].unit === ${C4(e)}`,...c[b]},{value:0}];const{fill:f,fillOpacity:d,cursor:h,...g}=t.mark,v=oi(g).reduce((b,E)=>(b[E]=[{test:[void 0!==o&&`${a}[0] !== ${a}[1]`,void 0!==s&&`${l}[0] !== ${l}[1]`].filter(M=>M).join(" && "),value:g[E]},{value:null}],b),{}),y=h??(t.translate?"move":null);return[{name:`${r+f9}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:f},fillOpacity:{value:d}},update:c}},...i,{name:r+f9,type:"rect",clip:!0,encode:{enter:{...y?{cursor:{value:y}}:{},fill:{value:"transparent"}},update:{...c,...v}}}]}};function d9({model:e,channelDef:t,vgChannel:i,invalidValueRef:r,mainRefFn:o}){const s=xb(t)&&t.condition;let a=[];s&&(a=er(s).map(c=>{const f=o(c);if(function vmt(e){return Ei(e,"param")}(c)){const{param:d,empty:h}=c;return{test:H8e(e,{param:d,empty:h}),...f}}return{test:BT(e,c.test),...f}})),void 0!==r&&a.push(r);const l=o(t);return void 0!==l&&a.push(l),a.length>1||1===a.length&&a[0].test?{[i]:a}:1===a.length?{[i]:a[0]}:{}}function Kj(e,t="text"){return d9({model:e,channelDef:e.encoding[t],vgChannel:t,mainRefFn:r=>gT(r,e.config),invalidValueRef:void 0})}function gT(e,t,i="datum"){if(e){if(G0(e))return nl(e.value);if(Bo(e)){const{format:r,formatType:o}=tT(e);return fj({fieldOrDatumDef:e,format:r,formatType:o,expr:i,config:t})}}}function n8e(e,t={}){const{encoding:i,markDef:r,config:o,stack:s}=e,a=i.tooltip;if(Xn(a))return{tooltip:r8e({tooltip:a},s,o,t)};{const l=t.reactiveGeom?"datum.datum":"datum";return d9({model:e,channelDef:a,vgChannel:"tooltip",mainRefFn:c=>{const f=gT(c,o,l);if(f)return f;if(null===c)return;let d=wa("tooltip",r,o);return!0===d&&(d={content:"encoding"}),Ji(d)?{value:d}:Zi(d)?Rr(d)?d:"encoding"===d.content?r8e(i,s,o,t):{signal:l}:void 0},invalidValueRef:void 0})}}function i8e(e,t,i,{reactiveGeom:r}={}){const o={...i,...i.tooltipFormat},s=new Set,a=r?"datum.datum":"datum",l=[];function u(f,d){const h=l4(d),g=jf(f)?f:{...f,type:e[h].type},y=er(g.title||gj(g,o)).join(", ").replaceAll(/"/g,'\\"');let b;if(ru(d)){const E="x"===d?"x2":"y2",M=q0(e[E]);if(wc(g.bin)&&M){const k=qi(g,{expr:a}),P=qi(M,{expr:a}),{format:H,formatType:X}=tT(g);b=Cb(k,P,H,X,o),s.add(E)}}if((ru(d)||d===Eh||d===R0)&&t&&t.fieldChannel===d&&"normalize"===t.offset){const{format:E,formatType:M}=tT(g);b=fj({fieldOrDatumDef:g,format:E,formatType:M,expr:a,config:o,normalizeStack:!0}).signal}b??(b=gT(g,o,a).signal),l.push({channel:d,key:y,value:b})}vj(e,(f,d)=>{Fi(f)?u(f,d):ZD(f)&&u(f.condition,d)});const c={};for(const{channel:f,key:d,value:h}of l)!s.has(f)&&!c[d]&&(c[d]=h);return c}function r8e(e,t,i,{reactiveGeom:r}={}){const o=i8e(e,t,i,{reactiveGeom:r}),s=k2(o).map(([a,l])=>`"${a}": ${l}`);return s.length>0?{signal:`{${s.join(", ")}}`}:void 0}function Bvt(e){const{markDef:t,config:i}=e,r=wa("aria",t,i);return!1===r?{}:{...r?{aria:r}:{},...Mvt(e),...Ivt(e)}}function Mvt(e){const{mark:t,markDef:i,config:r}=e;if(!1===r.aria)return{};const o=wa("ariaRoleDescription",i,r);return null!=o?{ariaRoleDescription:{value:o}}:fr(ogt,t)?{}:{ariaRoleDescription:{value:t}}}function Ivt(e){const{encoding:t,markDef:i,config:r,stack:o}=e,s=t.description;if(s)return d9({model:e,channelDef:s,vgChannel:"description",mainRefFn:u=>gT(u,e.config),invalidValueRef:void 0});const a=wa("description",i,r);if(null!=a)return{description:nl(a)};if(!1===r.aria)return{};const l=i8e(t,o,r);return ya(l)?void 0:{description:{signal:k2(l).map(([u,c],f)=>`"${f>0?"; ":""}${u}: " + (${c})`).join(" + ")}}}function Ec(e,t,i={}){const{markDef:r,encoding:o,config:s}=t,{vgChannel:a}=i;let{defaultRef:l,defaultValue:u}=i;const c=o[e];void 0===l&&(u??(u=wa(e,r,s,{vgChannel:a,ignoreVgConfig:!xb(c)})),void 0!==u&&(l=nl(u)));const f={markDef:r,config:s,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=_5e({...f,scaleChannel:e,channelDef:c});return d9({model:t,channelDef:c,vgChannel:a??e,invalidValueRef:d,mainRefFn:g=>cj({...f,channel:e,channelDef:g,stack:null,defaultRef:l})})}function o8e(e,t={filled:void 0}){const{markDef:i,encoding:r,config:o}=e,{type:s}=i,a=t.filled??wa("filled",i,o),l=es(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,u=wa(!0===a?"color":void 0,i,o,{vgChannel:"fill"})??o.mark[!0===a&&"color"]??l,c=wa(!1===a?"color":void 0,i,o,{vgChannel:"stroke"})??o.mark[!1===a&&"color"],f=a?"fill":"stroke",d={...u?{fill:nl(u)}:{},...c?{stroke:nl(c)}:{}};return i.color&&(a?i.fill:i.stroke)&&Mi(U4e("property",{fill:"fill"in i,stroke:"stroke"in i})),{...d,...Ec("color",e,{vgChannel:f,defaultValue:a?u:c}),...Ec("fill",e,{defaultValue:r.fill?u:void 0}),...Ec("stroke",e,{defaultValue:r.stroke?c:void 0})}}function Dvt(e){const{encoding:t,mark:i}=e,r=t.order;return!G2(i)&&G0(r)?d9({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:o=>nl(o.value),invalidValueRef:void 0}):{}}function A9({channel:e,markDef:t,encoding:i={},model:r,bandPosition:o}){const s=`${e}Offset`,a=t[s],l=i[s];if(("xOffset"===s||"yOffset"===s)&&l)return{offsetType:"encoding",offset:cj({channel:s,channelDef:l,markDef:t,config:r?.config,scaleName:r.scaleName(s),scale:r.getScaleComponent(s),stack:null,defaultRef:nl(a),bandPosition:o})};const u=t[s];return u?{offsetType:"visual",offset:u}:{}}function Kf(e,t,{defaultPos:i,vgChannel:r}){const{encoding:o,markDef:s,config:a,stack:l}=t,u=o[e],c=o[_g(e)],f=t.scaleName(e),d=t.getScaleComponent(e),{offset:h,offsetType:g}=A9({channel:e,markDef:s,encoding:o,model:t,bandPosition:.5}),v=Wj({model:t,defaultPos:i,channel:e,scaleName:f,scale:d}),y=!u&&ru(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function Tvt(e){const{channel:t,channelDef:i,scaleName:r,stack:o,offset:s,markDef:a}=e;if(Bo(i)&&o&&t===o.fieldChannel){if(Fi(i)){let l=i.bandPosition;if(void 0===l&&"text"===a.type&&("radius"===t||"theta"===t)&&(l=.5),void 0!==l)return WD({scaleName:r,fieldOrDatumDef:i,startSuffix:"start",bandPosition:l,offset:s})}return m4(i,r,{suffix:"end"},{offset:s})}return uj(e)}({channel:e,channelDef:u,channel2Def:c,markDef:s,config:a,scaleName:f,scale:d,stack:l,offset:h,defaultRef:v,bandPosition:"encoding"===g?0:void 0});return y?{[r||e]:y}:void 0}function Wj({model:e,defaultPos:t,channel:i,scaleName:r,scale:o}){const{markDef:s,config:a}=e;return()=>{const l=l4(i),u=Q2(i),c=wa(i,s,a,{vgChannel:u});if(void 0!==c)return bb(i,c);switch(t){case"zeroOrMin":return s8e({scaleName:r,scale:o,mode:"zeroOrMin",mainChannel:l,config:a});case"zeroOrMax":return s8e({scaleName:r,scale:o,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:l,config:a});case"mid":return{...e[Fd(i)],mult:.5}}}}function s8e({mainChannel:e,config:t,...i}){const r=y5e(i),{mode:o}=i;if(r)return r;switch(e){case"radius":{if("zeroOrMin"===o)return{value:0};const{widthSignal:s,heightSignal:a}=o.zeroOrMax;return{signal:`min(${s},${a})/2`}}case"theta":return"zeroOrMin"===o?{value:0}:{signal:"2*PI"};case"x":return"zeroOrMin"===o?{value:0}:{field:{group:"width"}};case"y":return"zeroOrMin"===o?{field:{group:"height"}}:{value:0}}}const Fvt={left:"x",center:"xc",right:"x2"},Ovt={top:"y",middle:"yc",bottom:"y2"};function a8e(e,t,i,r="middle"){if("radius"===e||"theta"===e)return Q2(e);const o="x"===e?"align":"baseline",s=wa(o,t,i);let a;return Rr(s)?(Mi(function Hgt(e){return`The ${e} for range marks cannot be an expression`}(o)),a=void 0):a=s,"x"===e?Fvt[a||("top"===r?"left":"center")]:Ovt[a||r]}function mT(e,t,{defaultPos:i,defaultPos2:r,range:o}){return o?l8e(e,t,{defaultPos:i,defaultPos2:r}):Kf(e,t,{defaultPos:i})}function l8e(e,t,{defaultPos:i,defaultPos2:r}){const{markDef:o,config:s}=t,a=_g(e),l=Fd(e),u=function kvt(e,t,i){const{encoding:r,mark:o,markDef:s,stack:a,config:l}=e,u=l4(i),c=Fd(i),f=Q2(i),d=r[u],h=e.scaleName(u),g=e.getScaleComponent(u),{offset:v}=A9(i in r||i in s?{channel:i,markDef:s,encoding:r,model:e}:{channel:u,markDef:s,encoding:r,model:e});if(!d&&("x2"===i||"y2"===i)&&(r.latitude||r.longitude)){const b=Fd(i),E=e.markDef[b];return null!=E?{[b]:{value:E}}:{[f]:{field:e.getName(i)}}}const y=function Nvt({channel:e,channelDef:t,channel2Def:i,markDef:r,config:o,scaleName:s,scale:a,stack:l,offset:u,defaultRef:c}){return Bo(t)&&l&&e.charAt(0)===l.fieldChannel.charAt(0)?m4(t,s,{suffix:"start"},{offset:u}):uj({channel:e,channelDef:i,scaleName:s,scale:a,stack:l,markDef:r,config:o,offset:u,defaultRef:c})}({channel:i,channelDef:d,channel2Def:r[i],markDef:s,config:l,scaleName:h,scale:g,stack:a,offset:v,defaultRef:void 0});return void 0!==y?{[f]:y}:vT(i,s)||vT(i,{[i]:Rq(i,s,l.style),[c]:Rq(c,s,l.style)})||vT(i,l[o])||vT(i,l.mark)||{[f]:Wj({model:e,defaultPos:t,channel:i,scaleName:h,scale:g})()}}(t,r,a);return{...Kf(e,t,{defaultPos:i,vgChannel:u[l]?a8e(e,o,s):Q2(e)}),...u}}function vT(e,t){const i=Fd(e),r=Q2(e);if(void 0!==t[r])return{[r]:bb(e,t[r])};if(void 0!==t[e])return{[r]:bb(e,t[e])};if(t[i]){const o=t[i];if(!g4(o))return{[i]:bb(e,o)};Mi(function kgt(e){return`Position range does not support relative band size for ${e}.`}(i))}}function q1(e,t){const{config:i,encoding:r,markDef:o}=e,s=o.type,a=_g(t),l=Fd(t),u=r[t],c=r[a],f=e.getScaleComponent(t),d=f?f.get("type"):void 0,h=o.orient,g=r[l]??r.size??wa("size",o,i,{vgChannel:l}),v=d4e(t),y="bar"===s&&("x"===t?"vertical"===h:"horizontal"===h)||"tick"===s&&("y"===t?"vertical"===h:"horizontal"===h);return!Fi(u)||!(Qa(u.bin)||wc(u.bin)||u.timeUnit&&!c)||g&&!g4(g)||r[v]||Xu(d)?(Bo(u)&&Xu(d)||y)&&!c?function Rvt(e,t,i){const{markDef:r,encoding:o,config:s,stack:a}=i,l=r.orient,u=i.scaleName(t),c=i.getScaleComponent(t),f=Fd(t),d=_g(t),h=d4e(t),g=i.scaleName(h),v=i.getScaleComponent(Bq(t)),y="tick"===r.type||"horizontal"===l&&"y"===t||"vertical"===l&&"x"===t;let b;(o.size||r.size)&&(y?b=Ec("size",i,{vgChannel:f,defaultRef:nl(r.size)}):Mi(function Kgt(e){return`Cannot apply size to non-oriented mark "${e}".`}(r.type)));const E=!!b,M=D5e({channel:t,fieldDef:e,markDef:r,config:s,scaleType:(c||v)?.get("type"),useVlSizeChannel:y});b=b||{[f]:Lvt(f,g||u,v||c,s,M,!!e,r.type)};const P=a8e(t,r,s,"band"===(c||v)?.get("type")&&g4(M)&&!E?"top":"middle"),H="xc"===P||"yc"===P,{offset:X,offsetType:z}=A9({channel:t,markDef:r,encoding:o,model:i,bandPosition:H?.5:0}),se=uj({channel:t,channelDef:e,markDef:r,config:s,scaleName:u,scale:c,stack:a,offset:X,defaultRef:Wj({model:i,defaultPos:"mid",channel:t,scaleName:u,scale:c}),bandPosition:H?"encoding"===z?0:.5:Rr(M)?{signal:`(1-${M})/2`}:g4(M)?(1-M.band)/2:0});if(f)return{[P]:se,...b};{const ye=Q2(d),Ie=b[f],Ee=X?{...Ie,offset:X}:Ie;return{[P]:se,[ye]:Xn(se)?[se[0],{...se[1],offset:Ee}]:{...se,offset:Ee}}}}(u,t,e):l8e(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function Uvt({fieldDef:e,fieldDef2:t,channel:i,model:r}){const{config:o,markDef:s,encoding:a}=r,l=r.getScaleComponent(i),u=r.scaleName(i),c=l?l.get("type"):void 0,f=l.get("reverse"),d=D5e({channel:i,fieldDef:e,markDef:s,config:o,scaleType:c}),g=r.component.axes[i]?.[0]?.get("translate")??.5,v=ru(i)?wa("binSpacing",s,o)??0:0,y=_g(i),b=Q2(i),E=Q2(y),M=bg("minBandSize",s,o),{offset:k}=A9({channel:i,markDef:s,encoding:a,model:r,bandPosition:0}),{offset:P}=A9({channel:y,markDef:s,encoding:a,model:r,bandPosition:0}),H=function dmt({scaleName:e,fieldDef:t}){const i=qi(t,{expr:"datum"});return`abs(scale("${e}", ${qi(t,{expr:"datum",suffix:"end"})}) - scale("${e}", ${i}))`}({fieldDef:e,scaleName:u}),X=u8e(i,v,f,g,k,M,H),z=u8e(y,v,f,g,P??k,M,H),se=Rr(d)?{signal:`(1-${d.signal})/2`}:g4(d)?(1-d.band)/2:.5,ye=q2({fieldDef:e,fieldDef2:t,markDef:s,config:o});if(Qa(e.bin)||e.timeUnit){const Ie=e.timeUnit&&.5!==ye;return{[E]:c8e({fieldDef:e,scaleName:u,bandPosition:se,offset:z,useRectOffsetField:Ie}),[b]:c8e({fieldDef:e,scaleName:u,bandPosition:Rr(se)?{signal:`1-${se.signal}`}:1-se,offset:X,useRectOffsetField:Ie})}}if(wc(e.bin)){const Ie=m4(e,u,{},{offset:z});if(Fi(t))return{[E]:Ie,[b]:m4(t,u,{},{offset:X})};if(u4(e.bin)&&e.bin.step)return{[E]:Ie,[b]:{signal:`scale("${u}", ${qi(e,{expr:"datum"})} + ${e.bin.step})`,offset:X}}}Mi(z4e(y))}({fieldDef:u,fieldDef2:c,channel:t,model:e})}function Lvt(e,t,i,r,o,s,a){if(g4(o)){if(!i)return{mult:o.band,field:{group:e}};{const u=i.get("type");if("band"===u){let c=`bandwidth('${t}')`;1!==o.band&&(c=`${o.band} * ${c}`);const f=bg("minBandSize",{type:a},r);return{signal:f?`max(${Q0(f)}, ${c})`:c}}1!==o.band&&(Mi(function $gt(e){return`Cannot use the relative band size with ${e} scale.`}(u)),o=void 0)}}else{if(Rr(o))return o;if(o)return{value:o}}if(i){const u=i.get("range");if(c4(u)&&Es(u.step))return{value:u.step-2}}if(!s){const{bandPaddingInner:u,barBandPaddingInner:c,rectBandPaddingInner:f,tickBandPaddingInner:d}=r.scale,h=iu(u,"tick"===a?d:"bar"===a?c:f);if(Rr(h))return{signal:`(1 - (${h.signal})) * ${e}`};if(Es(h))return{signal:`${1-h} * ${e}`}}return{value:Fj(r.view,e)-2}}function u8e(e,t,i,r,o,s,a){if(r4e(e))return 0;const l="x"===e||"y2"===e,u=l?-t/2:t/2;if(Rr(i)||Rr(o)||Rr(r)||s){const c=Q0(i),f=Q0(o),d=Q0(r),h=Q0(s),v=s?`(${a} < ${h} ? ${l?"":"-"}0.5 * (${h} - (${a})) : ${u})`:u;return{signal:(d?`${d} + `:"")+(c?`(${c} ? -1 : 1) * `:"")+(f?`(${f} + ${v})`:v)}}return o=o||0,r+(i?-o-u:+o+u)}function c8e({fieldDef:e,scaleName:t,bandPosition:i,offset:r,useRectOffsetField:o}){return WD({scaleName:t,fieldOrDatumDef:e,bandPosition:i,offset:r,...o?{startSuffix:AT,endSuffix:hT}:{}})}const Pvt=new Set(["aria","width","height"]);function Bh(e,t){const{fill:i,stroke:r}="include"===t.color?o8e(e):{};return{...Hvt(e.markDef,t),...f8e("fill",i),...f8e("stroke",r),...Ec("opacity",e),...Ec("fillOpacity",e),...Ec("strokeOpacity",e),...Ec("strokeWidth",e),...Ec("strokeDash",e),...Dvt(e),...n8e(e),...Kj(e,"href"),...Bvt(e)}}function f8e(e,t){return t?{[e]:t}:{}}function Hvt(e,t){return rgt.reduce((i,r)=>(!Pvt.has(r)&&Ei(e,r)&&"ignore"!==t[r]&&(i[r]=nl(e[r])),i),{})}function Xj(e){const{config:t,markDef:i}=e,r=new Set;if(e.forEachFieldDef((o,s)=>{let a;if(!wg(s)||!(a=e.getScaleType(s)))return;const l=RD(o.aggregate);if(function umt(e){return"break-paths-filter-domains"===e||"break-paths-show-domains"===e}(lj({scaleChannel:s,markDef:i,config:t,scaleType:a,isCountAggregate:l}))){const c=e.vgField(s,{expr:"datum",binSuffix:e.stack?.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(s=>VD(s,!0)).join(" && ")}}}function d8e(e,t){if(void 0!==t)return{[e]:nl(t)}}const Yj="voronoi",A8e={defined:e=>"point"===e.type&&e.nearest,parse:(e,t)=>{if(t.events)for(const i of t.events)i.markname=e.getName(Yj)},marks:(e,t,i)=>{const{x:r,y:o}=t.project.hasChannel,s=e.mark;if(G2(s))return Mi(function cgt(e){return`The "nearest" transform is not supported for ${e} marks.`}(s)),i;const a={name:e.getName(Yj),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...n8e(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!o?"datum.datum.x || 0":"0"},y:{expr:o||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let l=0,u=!1;return i.forEach((c,f)=>{const d=c.name??"";d===e.component.mark[0].name?l=f:d.includes(Yj)&&(u=!0)}),u||i.splice(l+1,0,a),i}},h8e={defined:e=>"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!Sj(e.bind),parse:(e,t,i)=>E8e(t,i),topLevelSignals:(e,t,i)=>{const r=t.name,o=t.project,s=t.bind,a=t.init&&t.init[0],l=A8e.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return o.items.forEach((u,c)=>{const f=vl(`${r}_${u.field}`);i.filter(h=>h.name===f).length||i.unshift({name:f,...a?{init:w4(a[c])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${l}[${Li(u.field)}] : null`}]:[],bind:s[u.field]??s[u.channel]??s})}),i},signals:(e,t,i)=>{const r=t.name,o=t.project,s=i.find(c=>c.name===r+j1),a=r+Db,l=o.items.map(c=>vl(`${r}_${c.field}`)),u=l.map(c=>`${c} !== null`).join(" && ");return l.length&&(s.update=`${u} ? {fields: ${a}, values: [${l.join(", ")}]} : null`),delete s.value,delete s.on,i}},yT="_toggle",p8e={defined:e=>"point"===e.type&&!Dg(e)&&!!e.toggle,signals:(e,t,i)=>i.concat({name:t.name+yT,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const i=t.name+j1,r=t.name+yT;return`${r} ? null : ${i}, `+("global"===t.resolve?`${r} ? null : true, `:`${r} ? null : {unit: ${C4(e)}}, `)+`${r} ? ${i} : null`}},Qvt={defined:e=>void 0!==e.clear&&!1!==e.clear&&!Dg(e),parse:(e,t)=>{t.clear&&(t.clear=Ji(t.clear)?F2(t.clear,"view"):t.clear)},topLevelSignals:(e,t,i)=>{if(h8e.defined(t))for(const r of t.project.items){const o=i.findIndex(s=>s.name===vl(`${t.name}_${r.field}`));-1!==o&&i[o].on.push({events:t.clear,update:"null"})}return i},signals:(e,t,i)=>{function r(o,s){-1!==o&&i[o].on&&i[o].on.push({events:t.clear,update:s})}if("interval"===t.type)for(const o of t.project.items){const s=i.findIndex(a=>a.name===o.signals.visual);r(s,"[0, 0]"),-1===s&&r(i.findIndex(l=>l.name===o.signals.data),"null")}else{let o=i.findIndex(s=>s.name===t.name+j1);r(o,"null"),p8e.defined(t)&&(o=i.findIndex(s=>s.name===t.name+yT),r(o,"false"))}return i}},g8e={defined:e=>{const t="global"===e.resolve&&e.bind&&Sj(e.bind),i=1===e.project.items.length&&e.project.items[0].field!==j0;return t&&!i&&Mi("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&i},parse:(e,t,i)=>{const r=vo(i);if(r.select=Ji(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},E8e(t,r),Zi(i.select)&&(i.select.on||i.select.clear)){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const l of t.events)l.filter=er(l.filter??[]),l.filter.includes(a)||l.filter.push(a)}const o=Bj(t.bind)?t.bind.legend:"click",s=Ji(o)?F2(o,"view"):er(o);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,i)=>{const r=t.name,o=Bj(t.bind)&&t.bind.legend,s=a=>l=>{const u=vo(l);return u.markname=a,u};for(const a of t.project.items){if(!a.hasLegend)continue;const l=`${vl(a.field)}_legend`,u=`${r}_${l}`;if(0===i.filter(f=>f.name===u).length){const f=o.merge.map(s(`${l}_symbols`)).concat(o.merge.map(s(`${l}_labels`))).concat(o.merge.map(s(`${l}_entries`)));i.unshift({name:u,...t.init?{}:{value:null},on:[{events:f,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:o.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]})}}return i},signals:(e,t,i)=>{const r=t.name,o=t.project,s=i.find(h=>h.name===r+j1),a=r+Db,l=o.items.filter(h=>h.hasLegend).map(h=>vl(`${r}_${vl(h.field)}_legend`)),c=`${l.map(h=>`${h} !== null`).join(" && ")} ? {fields: ${a}, values: [${l.join(", ")}]} : null`;t.events&&l.length>0?s.on.push({events:l.map(h=>({signal:h})),update:c}):l.length>0&&(s.update=c,delete s.value,delete s.on);const f=i.find(h=>h.name===r+yT),d=Bj(t.bind)&&t.bind.legend;return f&&(t.events?f.on.push({...f.on[0],events:d}):f.on[0].events=d),i}},m8e="_translate_anchor",v8e="_translate_delta",$vt={defined:e=>"interval"===e.type&&e.translate,signals:(e,t,i)=>{const r=t.name,o=G1.defined(t),s=r+m8e,{x:a,y:l}=t.project.hasChannel;let u=F2(t.translate,"scope");return o||(u=u.map(c=>(c.between[0].markname=r+f9,c))),i.push({name:s,value:{},on:[{events:u.map(c=>c.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==a?`, extent_x: ${o?qj(e,yl):`slice(${a.signals.visual})`}`:"")+(void 0!==l?`, extent_y: ${o?qj(e,Ku):`slice(${l.signals.visual})`}`:"")+"}"}]},{name:r+v8e,value:{},on:[{events:u,update:`{x: ${s}.x - x(unit), y: ${s}.y - y(unit)}`}]}),void 0!==a&&y8e(e,t,a,"width",i),void 0!==l&&y8e(e,t,l,"height",i),i}};function y8e(e,t,i,r,o){const s=t.name,a=s+m8e,l=s+v8e,u=i.channel,c=G1.defined(t),f=o.find(H=>H.name===i.signals[c?"data":"visual"]),d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(u),g=h&&h.get("type"),v=h&&h.get("reverse"),b=`${a}.extent_${u}`,P=`${c&&h?"log"===g?"panLog":"symlog"===g?"panSymlog":"pow"===g?"panPow":"panLinear":"panLinear"}(${b}, ${c?u===yl?v?"":"-":v?"-":"":""}${l}.${u} / ${c?`${d}`:`span(${b})`}${c?"pow"===g?`, ${h.get("exponent")??1}`:"symlog"===g?`, ${h.get("constant")??1}`:"":""})`;f.on.push({events:{signal:l},update:c?P:`clampRange(${P}, 0, ${d})`})}const _8e="_zoom_anchor",w8e="_zoom_delta",Gvt={defined:e=>"interval"===e.type&&e.zoom,signals:(e,t,i)=>{const r=t.name,o=G1.defined(t),s=r+w8e,{x:a,y:l}=t.project.hasChannel,u=Li(e.scaleName(yl)),c=Li(e.scaleName(Ku));let f=F2(t.zoom,"scope");return o||(f=f.map(d=>(d.markname=r+f9,d))),i.push({name:r+_8e,on:[{events:f,update:o?"{"+[u?`x: invert(${u}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:s,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==a&&b8e(e,t,a,"width",i),void 0!==l&&b8e(e,t,l,"height",i),i}};function b8e(e,t,i,r,o){const s=t.name,a=i.channel,l=G1.defined(t),u=o.find(M=>M.name===i.signals[l?"data":"visual"]),c=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(a),d=f&&f.get("type"),h=l?qj(e,a):u.name,g=s+w8e,E=`${l&&f?"log"===d?"zoomLog":"symlog"===d?"zoomSymlog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear"}(${h}, ${s}${_8e}.${a}, ${g}${l?"pow"===d?`, ${f.get("exponent")??1}`:"symlog"===d?`, ${f.get("constant")??1}`:"":""})`;u.on.push({events:{signal:g},update:l?E:`clampRange(${E}, 0, ${c})`})}const b4="_store",j1="_tuple",qvt="_modify",C8e="vlSelectionResolve",_T=[mvt,xvt,hvt,p8e,h8e,G1,g8e,Qvt,$vt,Gvt,A8e];function C4(e,{escape:t}={escape:!0}){let i=t?Li(e.name):e.name;const r=function jvt(e){let t=e.parent;for(;t&&!SA(t);)t=t.parent;return t}(e);if(r){const{facet:o}=r;for(const s of Sh)o[s]&&(i+=` + '__facet_${s}_' + (facet[${Li(r.vgField(s))}])`)}return i}function Zj(e){return _c(e.component.selection??{}).reduce((t,i)=>t||i.project.hasSelectionId,!1)}function E8e(e,t){(Ji(t.select)||!t.select.on)&&delete e.events,(Ji(t.select)||!t.select.clear)&&delete e.clear,(Ji(t.select)||!t.select.toggle)&&delete e.toggle}function Dg(e){return e.events?.find(t=>"type"in t&&"timer"===t.type)}function K0(e){this.type=e}K0.prototype.visit=function(e){let t,i,r;if(e(this))return 1;for(t=function s3t(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),i=0,r=t.length;i<r;++i)if(t[i].visit(e))return 1};var Tg,Nr,Qn,cf,la,wT=1,Fb=2,E4=3,X2=4,bT=5,x4=6,kd=7,Ob=8;(Tg={})[wT]="Boolean",Tg[Fb]="<end>",Tg[E4]="Identifier",Tg[X2]="Keyword",Tg[bT]="Null",Tg[x4]="Numeric",Tg[kd]="Punctuator",Tg[Ob]="String",Tg[9]="RegularExpression";var l3t="ArrayExpression",u3t="BinaryExpression",c3t="CallExpression",f3t="ConditionalExpression",x8e="Identifier",d3t="Literal",A3t="LogicalExpression",h3t="MemberExpression",p3t="ObjectExpression",g3t="Property",m3t="UnaryExpression",Yu="Unexpected token %0",v3t="Unexpected number",y3t="Unexpected string",_3t="Unexpected identifier",w3t="Unexpected reserved word",b3t="Unexpected end of input",Jj="Invalid regular expression",eK="Invalid regular expression: missing /",S8e="Octal literals are not allowed in strict mode.",C3t="Duplicate data property in object literal not allowed in strict mode",xc="ILLEGAL",kb="Disabled.",E3t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),x3t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function CT(e,t){if(!e)throw new Error("ASSERT: "+t)}function K1(e){return e>=48&&e<=57}function tK(e){return"0123456789abcdefABCDEF".includes(e)}function Nb(e){return"01234567".includes(e)}function S3t(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Lb(e){return 10===e||13===e||8232===e||8233===e}function Rb(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&E3t.test(String.fromCharCode(e))}function ET(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&x3t.test(String.fromCharCode(e))}const B3t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function B8e(){for(;Qn<cf;){const e=Nr.charCodeAt(Qn);if(!S3t(e)&&!Lb(e))break;++Qn}}function nK(e){var t,i,r,o=0;for(i="u"===e?4:2,t=0;t<i;++t)Qn<cf&&tK(Nr[Qn])?(r=Nr[Qn++],o=16*o+"0123456789abcdef".indexOf(r.toLowerCase())):Is({},Yu,xc);return String.fromCharCode(o)}function M3t(){var e,t;for(t=0,"}"===(e=Nr[Qn])&&Is({},Yu,xc);Qn<cf&&tK(e=Nr[Qn++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&Is({},Yu,xc),t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}function M8e(){var e,t;for(e=Nr.charCodeAt(Qn++),t=String.fromCharCode(e),92===e&&(117!==Nr.charCodeAt(Qn)&&Is({},Yu,xc),++Qn,(!(e=nK("u"))||"\\"===e||!Rb(e.charCodeAt(0)))&&Is({},Yu,xc),t=e);Qn<cf&&ET(e=Nr.charCodeAt(Qn));)++Qn,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Nr.charCodeAt(Qn)&&Is({},Yu,xc),++Qn,(!(e=nK("u"))||"\\"===e||!ET(e.charCodeAt(0)))&&Is({},Yu,xc),t+=e);return t}function iK(){var i,o,s,a,e=Qn,t=Nr.charCodeAt(Qn),r=Nr[Qn];switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Qn,{type:kd,value:String.fromCharCode(t),start:e,end:Qn};default:if(61===(i=Nr.charCodeAt(Qn+1)))switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Qn+=2,{type:kd,value:String.fromCharCode(t)+String.fromCharCode(i),start:e,end:Qn};case 33:case 61:return 61===Nr.charCodeAt(Qn+=2)&&++Qn,{type:kd,value:Nr.slice(e,Qn),start:e,end:Qn}}}return">>>="===(a=Nr.substr(Qn,4))?{type:kd,value:a,start:e,end:Qn+=4}:">>>"===(s=a.substr(0,3))||"<<="===s||">>="===s?{type:kd,value:s,start:e,end:Qn+=3}:r===(o=s.substr(0,2))[1]&&"+-<>&|".includes(r)||"=>"===o?{type:kd,value:o,start:e,end:Qn+=2}:("//"===o&&Is({},Yu,xc),"<>=!+-*%&|^/".includes(r)?(++Qn,{type:kd,value:r,start:e,end:Qn}):void Is({},Yu,xc))}function I8e(){var e,t,i;if(CT(K1((i=Nr[Qn]).charCodeAt(0))||"."===i,"Numeric literal must start with a decimal digit or a decimal point"),t=Qn,e="","."!==i){if(e=Nr[Qn++],i=Nr[Qn],"0"===e){if("x"===i||"X"===i)return++Qn,function T3t(e){let t="";for(;Qn<cf&&tK(Nr[Qn]);)t+=Nr[Qn++];return 0===t.length&&Is({},Yu,xc),Rb(Nr.charCodeAt(Qn))&&Is({},Yu,xc),{type:x4,value:parseInt("0x"+t,16),start:e,end:Qn}}(t);if(Nb(i))return function F3t(e){let t="0"+Nr[Qn++];for(;Qn<cf&&Nb(Nr[Qn]);)t+=Nr[Qn++];return(Rb(Nr.charCodeAt(Qn))||K1(Nr.charCodeAt(Qn)))&&Is({},Yu,xc),{type:x4,value:parseInt(t,8),octal:!0,start:e,end:Qn}}(t);i&&K1(i.charCodeAt(0))&&Is({},Yu,xc)}for(;K1(Nr.charCodeAt(Qn));)e+=Nr[Qn++];i=Nr[Qn]}if("."===i){for(e+=Nr[Qn++];K1(Nr.charCodeAt(Qn));)e+=Nr[Qn++];i=Nr[Qn]}if("e"===i||"E"===i)if(e+=Nr[Qn++],("+"===(i=Nr[Qn])||"-"===i)&&(e+=Nr[Qn++]),K1(Nr.charCodeAt(Qn)))for(;K1(Nr.charCodeAt(Qn));)e+=Nr[Qn++];else Is({},Yu,xc);return Rb(Nr.charCodeAt(Qn))&&Is({},Yu,xc),{type:x4,value:parseFloat(e),start:t,end:Qn}}function D8e(){if(B8e(),Qn>=cf)return{type:Fb,start:Qn,end:Qn};const e=Nr.charCodeAt(Qn);return Rb(e)?function D3t(){var e,t;return e=Qn,t=92===Nr.charCodeAt(Qn)?M8e():function I3t(){var e,t;for(e=Qn++;Qn<cf;){if(92===(t=Nr.charCodeAt(Qn)))return Qn=e,M8e();if(!ET(t))break;++Qn}return Nr.slice(e,Qn)}(),{type:1===t.length?E4:B3t.hasOwnProperty(t)?X2:"null"===t?bT:"true"===t||"false"===t?wT:E4,value:t,start:e,end:Qn}}():40===e||41===e||59===e?iK():39===e||34===e?function O3t(){var t,i,r,o,e="",s=!1;for(CT("'"===(t=Nr[Qn])||'"'===t,"String literal must starts with a quote"),i=Qn,++Qn;Qn<cf;){if((r=Nr[Qn++])===t){t="";break}if("\\"===r)if((r=Nr[Qn++])&&Lb(r.charCodeAt(0)))"\r"===r&&"\n"===Nr[Qn]&&++Qn;else switch(r){case"u":case"x":"{"===Nr[Qn]?(++Qn,e+=M3t()):e+=nK(r);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Nb(r)?(0!==(o="01234567".indexOf(r))&&(s=!0),Qn<cf&&Nb(Nr[Qn])&&(s=!0,o=8*o+"01234567".indexOf(Nr[Qn++]),"0123".includes(r)&&Qn<cf&&Nb(Nr[Qn])&&(o=8*o+"01234567".indexOf(Nr[Qn++]))),e+=String.fromCharCode(o)):e+=r}else{if(Lb(r.charCodeAt(0)))break;e+=r}}return""!==t&&Is({},Yu,xc),{type:Ob,value:e,octal:s,start:i,end:Qn}}():46===e?K1(Nr.charCodeAt(Qn+1))?I8e():iK():K1(e)?I8e():iK()}function Nd(){const e=la;return Qn=e.end,la=D8e(),Qn=e.end,e}function T8e(){const e=Qn;la=D8e(),Qn=e}function F8e(e,t,i){const r=new K0("||"===e||"&&"===e?A3t:u3t);return r.operator=e,r.left=t,r.right=i,r}function H3t(e,t){const i=new K0(c3t);return i.callee=e,i.arguments=t,i}function rK(e){const t=new K0(x8e);return t.name=e,t}function Ub(e){const t=new K0(d3t);return t.value=e.value,t.raw=Nr.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function O8e(e,t,i){const r=new K0(h3t);return r.computed="["===e,r.object=t,r.property=i,r.computed||(i.member=!0),r}function k8e(e,t,i){const r=new K0(g3t);return r.key=t,r.value=i,r.kind=e,r}function Is(e,t){var i,r=Array.prototype.slice.call(arguments,2),o=t.replace(/%(\d)/g,(s,a)=>(CT(a<r.length,"Message reference must be in range"),r[a]));throw(i=new Error(o)).index=Qn,i.description=o,i}function xT(e){e.type===Fb&&Is(e,b3t),e.type===x4&&Is(e,v3t),e.type===Ob&&Is(e,y3t),e.type===E4&&Is(e,_3t),e.type===X2&&Is(e,w3t),Is(e,Yu,e.value)}function ff(e){const t=Nd();(t.type!==kd||t.value!==e)&&xT(t)}function il(e){return la.type===kd&&la.value===e}function oK(e){return la.type===X2&&la.value===e}function N8e(){Qn=la.start;const e=Nd();return e.type===Ob||e.type===x4?(e.octal&&Is(e,S8e),Ub(e)):rK(e.value)}function G3t(){var e,t,i;return Qn=la.start,(e=la).type===E4?(i=N8e(),ff(":"),k8e("init",i,S4())):e.type!==Fb&&e.type!==kd?(t=N8e(),ff(":"),k8e("init",t,S4())):void xT(e)}const K3t={if:1};function W3t(){var e,t,i;if(il("("))return function j3t(){ff("(");const e=sK();return ff(")"),e}();if(il("["))return function $3t(){const e=[];for(Qn=la.start,ff("[");!il("]");)il(",")?(Nd(),e.push(null)):(e.push(S4()),il("]")||ff(","));return Nd(),function P3t(e){const t=new K0(l3t);return t.elements=e,t}(e)}();if(il("{"))return function q3t(){var t,r,e=[],o={},s=String;for(Qn=la.start,ff("{");!il("}");)r="$"+((t=G3t()).key.type===x8e?t.key.name:s(t.key.value)),Object.prototype.hasOwnProperty.call(o,r)?Is({},C3t):o[r]=!0,e.push(t),il("}")||ff(",");return ff("}"),function V3t(e){const t=new K0(p3t);return t.properties=e,t}(e)}();if(Qn=la.start,(e=la.type)===E4||K3t[la.value])i=rK(Nd().value);else if(e===Ob||e===x4)la.octal&&Is(la,S8e),i=Ub(Nd());else{if(e===X2)throw new Error(kb);e===wT?((t=Nd()).value="true"===t.value,i=Ub(t)):e===bT?((t=Nd()).value=null,i=Ub(t)):il("/")||il("/=")?(i=Ub(function R3t(){var e,t,i,r;return la=null,B8e(),e=Qn,t=function N3t(){var e,t,i,r;for(CT("/"===(e=Nr[Qn]),"Regular expression literal must start with a slash"),t=Nr[Qn++],i=!1,r=!1;Qn<cf;)if(t+=e=Nr[Qn++],"\\"===e)Lb((e=Nr[Qn++]).charCodeAt(0))&&Is({},eK),t+=e;else if(Lb(e.charCodeAt(0)))Is({},eK);else if(i)"]"===e&&(i=!1);else{if("/"===e){r=!0;break}"["===e&&(i=!0)}return r||Is({},eK),{value:t.substr(1,t.length-2),literal:t}}(),i=function L3t(){var e,t,i;for(t="",i="";Qn<cf&&ET((e=Nr[Qn]).charCodeAt(0));)++Qn,"\\"===e&&Qn<cf?Is({},Yu,xc):(i+=e,t+=e);return i.search(/[^gimuy]/g)>=0&&Is({},Jj,i),{value:i,literal:t}}(),r=function k3t(e,t){let i=e;t.includes("u")&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,o)=>{if(parseInt(o,16)<=1114111)return"x";Is({},Jj)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(i)}catch{Is({},Jj)}try{return new RegExp(e,t)}catch{return null}}(t.value,i.value),{literal:t.literal+i.literal,value:r,regex:{pattern:t.value,flags:i.value},start:e,end:Qn}}()),T8e()):xT(Nd())}return i}function X3t(){const e=[];if(ff("("),!il(")"))for(;Qn<cf&&(e.push(S4()),!il(")"));)ff(",");return ff(")"),e}function Y3t(){Qn=la.start;const e=Nd();return function U3t(e){return e.type===E4||e.type===X2||e.type===wT||e.type===bT}(e)||xT(e),rK(e.value)}function J3t(){ff("[");const e=sK();return ff("]"),e}function L8e(){const e=function e4t(){var e;for(e=W3t();;)if(il("."))ff("."),e=O8e(".",e,Y3t());else if(il("("))e=H3t(e,X3t());else{if(!il("["))break;e=O8e("[",e,J3t())}return e}();if(la.type===kd&&(il("++")||il("--")))throw new Error(kb);return e}function ST(){var e,t;if(la.type!==kd&&la.type!==X2)t=L8e();else{if(il("++")||il("--"))throw new Error(kb);if(il("+")||il("-")||il("~")||il("!"))e=Nd(),t=ST(),t=function z3t(e,t){const i=new K0(m3t);return i.operator=e,i.argument=t,i.prefix=!0,i}(e.value,t);else{if(oK("delete")||oK("void")||oK("typeof"))throw new Error(kb);t=L8e()}}return t}function R8e(e){let t=0;if(e.type!==kd&&e.type!==X2)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function S4(){var e,t;return e=function t4t(){var e,t,i,r,o,s,a,l,u,c;if(e=la,u=ST(),0===(o=R8e(r=la)))return u;for(r.prec=o,Nd(),t=[e,la],s=[u,r,a=ST()];(o=R8e(la))>0;){for(;s.length>2&&o<=s[s.length-2].prec;)a=s.pop(),l=s.pop().value,u=s.pop(),t.pop(),i=F8e(l,u,a),s.push(i);(r=Nd()).prec=o,s.push(r),t.push(la),i=ST(),s.push(i)}for(i=s[c=s.length-1],t.pop();c>1;)t.pop(),i=F8e(s[c-1].value,s[c-2],i),c-=2;return i}(),il("?")&&(Nd(),t=S4(),ff(":"),e=function Q3t(e,t,i){const r=new K0(f3t);return r.test=e,r.consequent=t,r.alternate=i,r}(e,t,S4())),e}function sK(){const e=S4();if(il(","))throw new Error(kb);return e}function aK(e){const t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push(...aK(e.object)),t.push(...aK(e.property))),t)}function U8e(e){return"MemberExpression"===e.object.type?U8e(e.object):"datum"===e.object.name}function P8e(e){const t=function n4t(e){Qn=0,cf=(Nr=e).length,la=null,T8e();const t=sK();if(la.type!==Fb)throw new Error("Unexpect token after expression.");return t}(e),i=new Set;return t.visit(r=>{"MemberExpression"===r.type&&U8e(r)&&i.add(aK(r).slice(1).join("."))}),i}class h9 extends aa{clone(){return new h9(null,this.model,vo(this.filter))}constructor(t,i,r){super(t),this.model=i,this.filter=r,this.expr=BT(this.model,this.filter,this),this._dependentFields=P8e(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function H8e(e,t,i,r="datum"){const o=Ji(t)?t:t.param,s=vl(o),a=Li(s+b4);let l;try{l=e.getSelectionComponent(s,o)}catch{return`!!${s}`}if(l.project.timeUnit){const h=i??e.component.data.raw,g=l.project.timeUnit.clone();h.parent?g.insertAsParentOf(h):h.parent=g}const f=`${l.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest("}${a}, ${r}${"global"===l.resolve?")":`, ${Li(l.resolve)})`}`,d=`length(data(${a}))`;return!1===t.empty?`${d} && ${f}`:`!${d} || ${f}`}function Q8e(e,t,i){const r=vl(t),o=i.encoding;let a,s=i.field;try{a=e.getSelectionComponent(r,t)}catch{return r}if(o||s){if(o&&!s){const l=a.project.items.filter(u=>u.channel===o);!l.length||l.length>1?(s=a.project.items[0].field,Mi(function bgt(e,t,i,r){return(e.length?"Multiple ":"No ")+`matching ${Li(t)} encoding found for selection ${Li(i.param)}. Using "field": ${Li(r)}.`}(l,o,i,s))):s=l[0].field}}else s=a.project.items[0].field,a.project.items.length>1&&Mi(function wgt(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Li(e)}.`}(s));return`${a.name}[${Li(Ch(s))}]`}function BT(e,t,i){return Ab(t,r=>Ji(r)?r:function F1t(e){return Ei(e,"param")}(r)?H8e(e,r,i):n5e(r))}function lK(e,t,i,r){var o,s;e.encode??(e.encode={}),(o=e.encode)[t]??(o[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[i]=r}function Pb(e,t,i,r={header:!1}){const{disable:o,orient:s,scale:a,labelExpr:l,title:u,zindex:c,...f}=e.combine();if(!o){for(const d in f){const h=d,g=Fmt[h],v=f[h];if(g&&g!==t&&"both"!==g)delete f[h];else if(Mb(v)){const{condition:y,...b}=v,E=er(y),M=Q5e[h];if(M){const{vgProp:k,part:P}=M;lK(f,P,k,[...E.map(X=>{const{test:z,...se}=X;return{test:BT(null,z),...se}}),b]),delete f[h]}else if(null===M){const k={signal:E.map(P=>{const{test:H,...X}=P;return`${BT(null,H)} ? ${b4e(X)} : `}).join("")+b4e(b)};f[h]=k}}else if(Rr(v)){const y=Q5e[h];if(y){const{vgProp:b,part:E}=y;lK(f,E,b,v),delete f[h]}}es(["labelAlign","labelBaseline"],h)&&null===f[h]&&delete f[h]}if("grid"===t){if(!f.grid)return;if(f.encode){const{grid:d}=f.encode;f.encode={...d?{grid:d}:{}},ya(f.encode)&&delete f.encode}return{scale:a,orient:s,...f,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:iu(c,0)}}{if(!r.header&&e.mainExtracted)return;if(void 0!==l){let h=l;f.encode?.labels?.update&&Rr(f.encode.labels.update.text)&&(h=o4(l,"datum.label",f.encode.labels.update.text.signal)),lK(f,"labels","text",{signal:h})}if(null===f.labelAlign&&delete f.labelAlign,f.encode){for(const h of V5e)e.hasAxisPart(h)||delete f.encode[h];ya(f.encode)&&delete f.encode}const d=function l4t(e,t){if(e)return Xn(e)&&!z2(e)?e.map(i=>gj(i,t)).join(", "):e}(u,i);return{scale:a,orient:s,grid:!1,...d?{title:d}:{},...f,...!1===i.aria?{aria:!1}:{},zindex:iu(c,0)}}}}function V8e(e){const{axes:t}=e.component,i=[];for(const r of U1)if(t[r])for(const o of t[r])if(!o.get("disable")&&!o.get("gridScale")){const s="x"===r?"height":"width",a=e.getSizeSignalRef(s).signal;s!==a&&i.push({name:s,update:a})}return i}function z8e(e,t,i,r){return Object.assign.apply(null,[{},...e.map(o=>{if("axisOrient"===o){const s="x"===i?"bottom":"left",a=t["x"===i?"axisBottom":"axisLeft"]||{},l=t["x"===i?"axisTop":"axisRight"]||{},u=new Set([...oi(a),...oi(l)]),c={};for(const f of u.values())c[f]={signal:`${r.signal} === "${s}" ? ${Q0(a[f])} : ${Q0(l[f])}`};return c}return t[o]})])}function f4t(e,t){const i=[{}];for(const r of e){let o=t[r]?.style;if(o){o=er(o);for(const s of o)i.push(t.style[s])}}return Object.assign.apply(null,i)}function uK(e,t,i,r={}){const o=E4e(e,i,t);if(void 0!==o)return{configFrom:"style",configValue:o};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(void 0!==r[s]?.[e])return{configFrom:s,configValue:r[s][e]};return{}}const $8e={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:i})=>t.grid??function d4t(e,t){return!Xu(e)&&Fi(t)&&!Qa(t?.bin)&&!wc(t?.bin)}(i,e),gridScale:({model:e,channel:t})=>function A4t(e,t){const i="x"===t?"y":"x";if(e.getScaleComponent(i))return e.scaleName(i)}(e,t),labelAlign:({axis:e,labelAngle:t,orient:i,channel:r})=>e.labelAlign||q8e(t,i,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:i,channel:r})=>e.labelBaseline||G8e(t,i,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:i})=>e.labelFlush??function p4t(e,t){if("x"===t&&es(["quantitative","temporal"],e))return!0}(t.type,i),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:i})=>e.labelOverlap??function g4t(e,t,i,r){if(i&&!Zi(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy"}(t.type,i,Fi(t)&&!!t.timeUnit,Fi(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:i,fieldOrDatumDef:r,scaleType:o})=>{const s="x"===e?"width":"y"===e?"height":void 0,a=s?t.getSizeSignalRef(s):void 0;return i.tickCount??function v4t({fieldOrDatumDef:e,scaleType:t,size:i,values:r}){if(!r&&!Xu(t)&&"log"!==t){if(Fi(e)){if(Qa(e.bin))return{signal:`ceil(${i.signal}/10)`};if(e.timeUnit&&es(["month","hours","day","quarter"],Wu(e.timeUnit)?.unit))return}return{signal:`ceil(${i.signal}/40)`}}}({fieldOrDatumDef:r,scaleType:o,size:a,values:i.values})},tickMinStep:function y4t({format:e,fieldOrDatumDef:t}){if("d"===e)return 1;if(Fi(t)){const{timeUnit:i}=t;if(i){const r=J4e(i);if(r)return{signal:r}}}},title:({axis:e,model:t,channel:i})=>{if(void 0!==e.title)return e.title;const r=j8e(t,i);if(void 0!==r)return r;const o=t.typedFieldDef(i),a=t.fieldDef("x"===i?"x2":"y2");return S4e(o?[I5e(o)]:[],Fi(a)?[I5e(a)]:[])},values:({axis:e,fieldOrDatumDef:t})=>function _4t(e,t){const i=e.values;return Xn(i)?H5e(t,i):Rr(i)?i:void 0}(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:i})=>e.zindex??function w4t(e,t){return"rect"===e&&eT(t)?1:0}(i,t)};function cK(e){return`(((${e.signal} % 360) + 360) % 360)`}function G8e(e,t,i,r){if(void 0!==e){if("x"===i){if(Rr(e)){const o=cK(e);return{signal:`(45 < ${o} && ${o} < 135) || (225 < ${o} && ${o} < 315) ? "middle" :(${o} <= 45 || 315 <= ${o}) === ${Rr(t)?`(${t.signal} === "top")`:"top"===t} ? "bottom" : "top"`}}return 45<e&&e<135||225<e&&e<315?"middle":Rr(t)?{signal:`${t.signal} ${e<=45||315<=e?"===":"!=="} "top" ? "bottom" : "top"`}:(e<=45||315<=e)==("top"===t)?"bottom":"top"}if(Rr(e)){const o=cK(e);return{signal:`${o} <= 45 || 315 <= ${o} || (135 <= ${o} && ${o} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${o} && ${o} <= 135) === ${Rr(t)?`(${t.signal} === "left")`:"left"===t} ? "top" : "bottom"`}}return e<=45||315<=e||135<=e&&e<=225?r?"middle":null:Rr(t)?{signal:`${t.signal} ${45<=e&&e<=135?"===":"!=="} "left" ? "top" : "bottom"`}:(45<=e&&e<=135)==("left"===t)?"top":"bottom"}}function q8e(e,t,i){if(void 0===e)return;const r="x"===i,o=r?0:90,s=r?"bottom":"left";if(Rr(e)){const a=cK(e);return{signal:`(${o?`(${a} + 90)`:a} % 180 === 0) ? ${r?null:'"center"'} :(${o} < ${a} && ${a} < ${180+o}) === ${Rr(t)?`(${t.signal} === "${s}")`:t===s} ? "left" : "right"`}}return(e+o)%180==0?r?null:"center":Rr(t)?{signal:`${t.signal} ${o<e&&e<180+o?"===":"!=="} "${s}" ? "left" : "right"`}:(o<e&&e<180+o)==(t===s)?"left":"right"}function j8e(e,t){const i="x"===t?"x2":"y2",r=e.fieldDef(t),o=e.fieldDef(i),s=r?r.title:void 0,a=o?o.title:void 0;return s&&a?B4e(s,a):s||a||(void 0!==s?s:void 0!==a?a:void 0)}class p9 extends aa{clone(){return new p9(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i,this._dependentFields=P8e(this.transform.calculate)}static parseAllForSortIndex(t,i){return i.forEachFieldDef((r,o)=>{if(y4(r)&&M5e(r.sort)){const{field:s,timeUnit:a}=r,l=r.sort,u=l.map((c,f)=>`${n5e({field:s,timeUnit:a,equal:c})} ? ${f} : `).join("")+l.length;t=new p9(t,{calculate:u,as:g9(r,o,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${ss(this.transform)}`}}function g9(e,t,i){return qi(e,{prefix:t,suffix:"sort_index",...i})}function MT(e,t){return es(["top","bottom"],t)?"column":es(["left","right"],t)||"row"===e?"row":"column"}function m9(e,t,i,r){return iu((t||{})[e],("row"===r?i.headerRow:"column"===r?i.headerColumn:i.headerFacet)[e],i.header[e])}function IT(e,t,i,r){const o={};for(const s of e){const a=m9(s,t||{},i,r);void 0!==a&&(o[s]=a)}return o}const fK=["row","column"],dK=["header","footer"];function b4t(e,t){const i=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,o=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:s,titleAngle:a,titleOrient:l}=IT(["titleAnchor","titleAngle","titleOrient"],o.header,r,t),u=MT(t,l),c=pb(a);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:{text:i,..."row"===t?{orient:"left"}:{},style:"guide-title",...W8e(c,u),...K8e(u,c,s),...X8e(r,o,t,Zmt,l6e)}}}function K8e(e,t,i="middle"){switch(i){case"start":return{align:"left"};case"end":return{align:"right"}}const r=q8e(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function W8e(e,t){const i=G8e(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return i?{baseline:i}:{}}function C4t(e,t){const i=e.component.layoutHeaders[t],r=[];for(const o of dK)if(i[o])for(const s of i[o]){const a=x4t(e,t,o,i,s);null!=a&&r.push(a)}return r}function E4t(e,t){const{sort:i}=e;return Q1(i)?{field:qi(i,{expr:"datum"}),order:i.order??"ascending"}:Xn(i)?{field:g9(e,t,{expr:"datum"}),order:"ascending"}:{field:qi(e,{expr:"datum"}),order:i??"ascending"}}function AK(e,t,i){const{format:r,formatType:o,labelAngle:s,labelAnchor:a,labelOrient:l,labelExpr:u}=IT(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,i,t),c=fj({fieldOrDatumDef:e,format:r,formatType:o,expr:"parent",config:i}).signal,f=MT(t,l);return{text:{signal:u?o4(o4(u,"datum.label",c),"datum.value",qi(e,{expr:"parent"})):c},..."row"===t?{orient:"left"}:{},style:"guide-label",frame:"group",...W8e(s,f),...K8e(f,s,a),...X8e(i,e,t,Jmt,u6e)}}function x4t(e,t,i,r,o){if(o){let s=null;const{facetFieldDef:a}=r,l=e.config?e.config:void 0;if(a&&o.labels){const{labelOrient:d}=IT(["labelOrient"],a.header,l,t);("row"===t&&!es(["top","bottom"],d)||"column"===t&&!es(["left","right"],d))&&(s=AK(a,t,l))}const u=SA(e)&&!Eb(e.facet),c=o.axes,f=c?.length>0;if(s||f){const d="row"===t?"height":"width";return{name:e.getName(`${t}_${i}`),type:"group",role:`${t}-${i}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:E4t(a,t)}:{},...f&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...s?{title:s}:{},...o.sizeSignal?{encode:{update:{[d]:o.sizeSignal}}}:{},...f?{axes:c}:{}}}}return null}const S4t={column:{start:0,end:1},row:{start:1,end:0}};function B4t(e,t){return S4t[t][e]}function X8e(e,t,i,r,o){const s={};for(const a of r){if(!o[a])continue;const l=m9(a,t?.header,e,i);void 0!==l&&(s[o[a]]=l)}return s}function hK(e){return[...DT(e,"width"),...DT(e,"height"),...DT(e,"childWidth"),...DT(e,"childHeight")]}function DT(e,t){const i="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];const o=e.getSizeSignalRef(t).signal;if("step"===r){const s=e.getScaleComponent(i);if(s){const a=s.get("type"),l=s.get("range");if(Xu(a)&&c4(l)){const u=e.scaleName(i);return SA(e.parent)&&"independent"===e.parent.component.resolve.scale[i]?[Y8e(u,l)]:[Y8e(u,l),{name:o,update:Z8e(u,s,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){const s=o.endsWith("width"),a=s?"containerSize()[0]":"containerSize()[1]",u=`isFinite(${a}) ? ${a} : ${Tj(e.config.view,s?"width":"height")}`;return[{name:o,init:u,on:[{update:u,events:"window:resize"}]}]}return[{name:o,value:r}]}function Y8e(e,t){const i=`${e}_step`;return Rr(t.step)?{name:i,update:t.step.signal}:{name:i,value:t.step}}function Z8e(e,t,i){const r=t.get("type"),o=t.get("padding"),s=iu(t.get("paddingOuter"),o);let a=t.get("paddingInner");return a="band"===r?void 0!==a?a:o:1,`bandspace(${i}, ${Q0(a)}, ${Q0(s)}) * ${e}_step`}function J8e(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function e9e(e,t){return oi(e).reduce((i,r)=>({...i,...d9({model:t,channelDef:e[r],vgChannel:r,mainRefFn:o=>nl(o.value),invalidValueRef:void 0})}),{})}function t9e(e,t){if(SA(t))return"theta"===e?"independent":"shared";if(w9(t))return"shared";if(DK(t))return ru(e)||"theta"===e||"radius"===e?"independent":"shared";throw new Error("invalid model type for resolve")}function pK(e,t){const i=e.scale[t],r=ru(t)?"axis":"legend";return"independent"===i?("shared"===e[r][t]&&Mi(function Jgt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}(t)),"independent"):e[r][t]||"shared"}const I4t={...d6e,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},n9e=oi(I4t);class D4t extends $1{}const i9e={symbols:function T4t(e,{fieldOrDatumDef:t,model:i,channel:r,legendCmpt:o,legendType:s}){if("symbol"!==s)return;const{markDef:a,encoding:l,config:u,mark:c}=i,f=a.filled&&"trail"!==c;let d={...agt({},i,nmt),...o8e(i,{filled:f})};const h=o.get("symbolOpacity")??u.legend.symbolOpacity,g=o.get("symbolFillColor")??u.legend.symbolFillColor,v=o.get("symbolStrokeColor")??u.legend.symbolStrokeColor,y=void 0===h?r9e(l.opacity)??a.opacity:void 0;if(d.fill)if("fill"===r||f&&r===Dd)delete d.fill;else if(Ei(d.fill,"field"))g?delete d.fill:(d.fill=nl(u.legend.symbolBaseFillColor??"black"),d.fillOpacity=nl(y??1));else if(Xn(d.fill)){const b=gK(l.fill??l.color)??a.fill??(f&&a.color);b&&(d.fill=nl(b))}if(d.stroke)if("stroke"===r||!f&&r===Dd)delete d.stroke;else if(Ei(d.stroke,"field")||v)delete d.stroke;else if(Xn(d.stroke)){const b=iu(gK(l.stroke||l.color),a.stroke,f?a.color:void 0);b&&(d.stroke={value:b})}if(r!==R1){const b=Fi(t)&&s9e(0,o,t);b?d.opacity=[{test:b,...nl(y??1)},nl(u.legend.unselectedOpacity)]:y&&(d.opacity=nl(y))}return d={...d,...e},ya(d)?void 0:d},gradient:function F4t(e,{model:t,legendType:i,legendCmpt:r}){if("gradient"!==i)return;const{config:o,markDef:s,encoding:a}=t;let l={};const c=void 0===(r.get("gradientOpacity")??o.legend.gradientOpacity)?r9e(a.opacity)||s.opacity:void 0;return c&&(l.opacity=nl(c)),l={...l,...e},ya(l)?void 0:l},labels:function O4t(e,{fieldOrDatumDef:t,model:i,channel:r,legendCmpt:o}){const s=i.legend(r)||{},a=i.config,l=Fi(t)?s9e(0,o,t):void 0,u=l?[{test:l,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:c,formatType:f}=s;let d;v4(f)?d=$0({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:f,config:a}):void 0===c&&void 0===f&&a.customFormatTypes&&("quantitative"===t.type&&a.numberFormatType?d=$0({fieldOrDatumDef:t,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a}):"temporal"===t.type&&a.timeFormatType&&Fi(t)&&void 0===t.timeUnit&&(d=$0({fieldOrDatumDef:t,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})));const h={...u?{opacity:u}:{},...d?{text:d}:{},...e};return ya(h)?void 0:h},entries:function k4t(e,{legendCmpt:t}){return t.get("selections")?.length?{...e,fill:{value:"transparent"}}:e}};function r9e(e){return o9e(e,(t,i)=>Math.max(t,i.value))}function gK(e){return o9e(e,(t,i)=>iu(t,i.value))}function o9e(e,t){return function _mt(e){const t=e?.condition;return!!t&&(Xn(t)||G0(t))}(e)?er(e.condition).reduce(t,e.value):G0(e)?e.value:void 0}function s9e(e,t,i){const r=t.get("selections");if(!r?.length)return;const o=Li(i.field);return r.map(s=>`(!length(data(${Li(vl(s)+b4)})) || (${s}[${o}] && indexof(${s}[${o}], datum.value) >= 0))`).join(" || ")}const a9e={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:i})=>{const{format:r,formatType:o}=t;return C5e(e,e.type,r,o,i,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:i})=>{const{formatType:r}=e;return E5e(r,t,i)},gradientLength:e=>{const{legend:t,legendConfig:i}=e;return t.gradientLength??i.gradientLength??function Q4t({legendConfig:e,model:t,direction:i,orient:r,scaleType:o}){const{gradientHorizontalMaxLength:s,gradientHorizontalMinLength:a,gradientVerticalMaxLength:l,gradientVerticalMinLength:u}=e;if(xg(o))return"horizontal"===i?"top"===r||"bottom"===r?l9e(t,"width",a,s):a:l9e(t,"height",u,l)}(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:i})=>e.labelOverlap??t.labelOverlap??function V4t(e){if(es(["quantile","threshold","log","symlog"],e))return"greedy"}(i),symbolType:({legend:e,markDef:t,channel:i,encoding:r})=>e.symbolType??function L4t(e,t,i,r){if("shape"!==t){const o=gK(i)??r;if(o)return o}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(t.type,i,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>o9(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:i})=>{if(J8(i)&&xg(t)){if("gradient"===e)return}else if("symbol"===e)return;return e},values:({fieldOrDatumDef:e,legend:t})=>function N4t(e,t){const i=e.values;return Xn(i)?H5e(t,i):Rr(i)?i:void 0}(t,e)};function l9e(e,t,i,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${i}, ${r})`}}function u9e(e){const t=Nl(e)?function z4t(e){const{encoding:t}=e,i={};for(const r of[Dd,...f6e]){const o=Tu(t[r]);!o||!e.getScaleComponent(r)||r===Td&&Fi(o)&&o.type===t9||(i[r]=q4t(e,r))}return i}(e):function j4t(e){const{legends:t,resolve:i}=e.component;for(const r of e.children){u9e(r);for(const o of oi(r.component.legends))i.legend[o]=pK(e.component.resolve,o),"shared"===i.legend[o]&&(t[o]=c9e(t[o],r.component.legends[o]),t[o]||(i.legend[o]="independent",delete t[o]))}for(const r of oi(t))for(const o of e.children)o.component.legends[r]&&"shared"===i.legend[r]&&delete o.component.legends[r];return t}(e);return e.component.legends=t,t}function G4t(e,t,i,r){switch(t){case"disable":return void 0!==i;case"values":return!!i?.values;case"title":if("title"===t&&e===r?.title)return!0}return e===(i||{})[t]}function q4t(e,t){let i=e.legend(t);const{markDef:r,encoding:o,config:s}=e,a=s.legend,l=new D4t({},function $4t(e,t){const i=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:i};if("size"===t)return{strokeWidth:i}}return"color"===t?e.markDef.filled?{fill:i}:{stroke:i}:{[t]:i}}(e,t));!function zvt(e,t,i){const r=e.fieldDef(t)?.field;for(const o of _c(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&g8e.defined(o)){const a=i.get("selections")??[];a.push(o.name),i.set("selections",a,!1),s.hasLegend=!0}}}(e,t,l);const u=void 0!==i?!i:a.disable;if(l.set("disable",u,void 0!==i),u)return l;i=i||{};const c=e.getScaleComponent(t).get("type"),f=Tu(o[t]),d=Fi(f)?Wu(f.timeUnit)?.unit:void 0,h=i.orient||s.legend.orient||"right",g=function R4t(e){const{legend:t}=e;return iu(t.type,function U4t({channel:e,timeUnit:t,scaleType:i}){if(J8(e)){if(es(["quarter","month","day"],t))return"symbol";if(xg(i))return"gradient"}return"symbol"}(e))}({legend:i,channel:t,timeUnit:d,scaleType:c}),v=function P4t({legendConfig:e,legendType:t,orient:i,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??function H4t(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(i,t)}({legend:i,legendType:g,orient:h,legendConfig:a}),y={legend:i,channel:t,model:e,markDef:r,encoding:o,fieldOrDatumDef:f,legendConfig:a,config:s,scaleType:c,orient:h,legendType:g,direction:v};for(const P of n9e){if("gradient"===g&&P.startsWith("symbol")||"symbol"===g&&P.startsWith("gradient"))continue;const H=P in a9e?a9e[P](y):i[P];if(void 0!==H){const X=G4t(H,P,i,e.fieldDef(t));(X||void 0===s.legend[P])&&l.set(P,H,X)}}const b=i?.encoding??{},E=l.get("selections"),M={},k={fieldOrDatumDef:f,model:e,channel:t,legendCmpt:l,legendType:g};for(const P of["labels","legend","title","symbols","gradient","entries"]){const H=e9e(b[P]??{},e),X=P in i9e?i9e[P](H,k):H;void 0!==X&&!ya(X)&&(M[P]={...E?.length&&Fi(f)?{name:`${vl(f.field)}_legend_${P}`}:{},...E?.length?{interactive:!!E}:{},update:X})}return ya(M)||l.set("encode",M,!!i?.encoding),l}function c9e(e,t){if(!e)return t.clone();const i=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(i.explicit&&r.explicit&&i.value!==r.value)return;let o=!1;for(const s of n9e){const a=K2(e.getWithExplicit(s),t.getWithExplicit(s),s,"legend",(l,u)=>{switch(s){case"symbolType":return K4t(l,u);case"title":return M4e(l,u);case"type":return o=!0,xA("symbol")}return dT(l,u,s,"legend")});e.setWithExplicit(s,a)}return o&&(e.implicit?.encode?.gradient&&ID(e.implicit,["encode","gradient"]),e.explicit?.encode?.gradient&&ID(e.explicit,["encode","gradient"])),e}function K4t(e,t){return"circle"===t.value?t:e}function f9e(e){const t=e.component.legends,i={};for(const o of oi(t)){const a=_a(e.getScaleComponent(o).get("domains"));if(i[a])for(const l of i[a])c9e(l,t[o])||i[a].push(t[o]);else i[a]=[t[o].clone()]}return _c(i).flat().map(o=>function X4t(e,t){const{disable:i,labelExpr:r,selections:o,...s}=e.combine();if(!i){if(!1===t.aria&&null==s.aria&&(s.aria=!1),s.encode?.symbols){const a=s.encode.symbols.update;a.fill&&"transparent"!==a.fill.value&&!a.stroke&&!s.stroke&&(a.stroke={value:"transparent"});for(const l of f6e)s[l]&&delete a[l]}if(s.title||delete s.title,void 0!==r){let a=r;s.encode?.labels?.update&&Rr(s.encode.labels.update.text)&&(a=o4(r,"datum.label",s.encode.labels.update.text.signal)),function W4t(e,t,i,r){var o,s;e.encode??(e.encode={}),(o=e.encode)[t]??(o[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[i]=r}(s,"labels","text",{signal:a})}return s}}(o,e.config)).filter(o=>void 0!==o)}function d9e(e){const t=e.component.projection;if(!t||t.merged)return[];const i=t.combine(),{name:r}=i;if(t.data){const o={signal:`[${t.size.map(a=>a.signal).join(", ")}]`},s=t.data.reduce((a,l)=>{const u=Rr(l)?l.signal:`data('${e.lookupDataSource(l)}')`;return es(a,u)||a.push(u),a},[]);if(s.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:o,fit:{signal:s.length>1?`[${s.join(", ")}]`:s[0]},...i}]}return[{name:r,translate:{signal:"[width / 2, height / 2]"},...i}]}const J4t=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class A9e extends $1{constructor(t,i,r,o){super({...i},{name:t}),this.specifiedProjection=i,this.size=r,this.data=o,this.merged=!1}get isFit(){return!!this.data}}function h9e(e){e.component.projection=Nl(e)?function e5t(e){if(e.hasProjection){const t=bc(e.specifiedProjection),i=!(t&&(null!=t.scale||null!=t.translate)),r=i?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=i?function t5t(e){const t=[],{encoding:i}=e;for(const r of[[P0,U0],[xh,H0]])(Tu(i[r[0]])||Tu(i[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Td)&&e.typedFieldDef(Td).type===t9&&t.push({signal:e.getName(`geojson_${t.length}`)}),0===t.length&&t.push(e.requestDataName(Gl.Main)),t}(e):void 0,s=new A9e(e.projectionName(!0),{...bc(e.config.projection),...t},r,o);return s.get("type")||s.set("type","equalEarth",!1),s}}(e):function i5t(e){if(0===e.children.length)return;let t;for(const r of e.children)h9e(r);const i=yq(e.children,r=>{const o=r.component.projection;if(o){if(t){const s=function n5t(e,t){const i=yq(J4t,o=>!!(!fr(e.explicit,o)&&!fr(t.explicit,o)||fr(e.explicit,o)&&fr(t.explicit,o)&&CA(e.get(o),t.get(o))));if(CA(e.size,t.size)){if(i)return e;if(CA(e.explicit,{}))return t;if(CA(t.explicit,{}))return e}return null}(t,o);return s&&(t=s),!!s}return t=o,!0}return!0});if(t&&i){const r=e.projectionName(!0),o=new A9e(r,t.specifiedProjection,t.size,vo(t.data));for(const s of e.children){const a=s.component.projection;a&&(a.isFit&&o.data.push(...s.component.projection.data),s.renameProjection(a.get("name"),r),a.merged=!0)}return o}}(e)}function r5t(e,t,i,r){if(Bb(t,i)){const o=Nl(e)?e.axis(i)??e.legend(i)??{}:{},s=qi(t,{expr:"datum"}),a=qi(t,{expr:"datum",binSuffix:"end"});return{formulaAs:qi(t,{binSuffix:"range",forAs:!0}),formula:Cb(s,a,o.format,o.formatType,r)}}return{}}function p9e(e,t){return`${m4e(e)}_${t}`}function mK(e,t,i){const o=p9e(iT(i,void 0)??{},t);return e.getName(`${o}_bins`)}function g9e(e,t,i){let r,o;r=function s5t(e){return"as"in e}(e)?Ji(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:[qi(e,{forAs:!0}),qi(e,{binSuffix:"end",forAs:!0})];const s={...iT(t,void 0)},a=p9e(s,e.field),{signal:l,extentSignal:u}=function o5t(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}(i,a);if(UD(s.extent)){const f=s.extent;o=Q8e(i,f.param,f),delete s.extent}return{key:a,binComponent:{bin:s,field:e.field,as:[r],...l?{signal:l}:{},...u?{extentSignal:u}:{},...o?{span:o}:{}}}}class Fg extends aa{clone(){return new Fg(null,vo(this.bins))}constructor(t,i){super(t),this.bins=i}static makeFromEncoding(t,i){const r=i.reduceFieldDef((o,s,a)=>{if(jf(s)&&Qa(s.bin)){const{key:l,binComponent:u}=g9e(s,s.bin,i);o[l]={...u,...o[l],...r5t(i,s,a,i.config)}}return o},{});return ya(r)?null:new Fg(t,r)}static makeFromTransform(t,i,r){const{key:o,binComponent:s}=g9e(i,i.bin,r);return new Fg(t,{[o]:s})}merge(t,i){for(const r of oi(t.bins))r in this.bins?(i(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=gg([...this.bins[r].as,...t.bins[r].as],ss)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(_c(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(_c(this.bins).map(t=>t.field))}hash(){return`Bin ${ss(this.bins)}`}assemble(){return _c(this.bins).flatMap(t=>{const i=[],[r,...o]=t.as,{extent:s,...a}=t.bin,l={type:"bin",field:Ch(t.field),as:r,signal:t.signal,...UD(s)?{extent:null}:{extent:s},...t.span?{span:{signal:`span(${t.span})`}}:{},...a};!s&&t.extentSignal&&(i.push({type:"extent",field:Ch(t.field),signal:t.extentSignal}),l.extent={signal:t.extentSignal}),i.push(l);for(const u of o)for(let c=0;c<2;c++)i.push({type:"formula",expr:qi({field:r[c]},{expr:"datum"}),as:u[c]});return t.formula&&i.push({type:"formula",expr:t.formula,as:t.formulaAs}),i})}}class W0 extends aa{clone(){return new W0(null,new Set(this.dimensions),vo(this.measures))}constructor(t,i,r){super(t),this.dimensions=i,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,i){let r=!1;i.forEachFieldDef(a=>{a.aggregate&&(r=!0)});const o={},s=new Set;return r&&(i.forEachFieldDef((a,l)=>{const{aggregate:u,field:c}=a;if(u)if("count"===u)o["*"]??(o["*"]={}),o["*"].count=new Set([qi(a,{forAs:!0})]);else{if(P1(u)||V2(u)){const f=P1(u)?"argmin":"argmax",d=u[f];o[d]??(o[d]={}),o[d][f]=new Set([qi({op:f,field:d},{forAs:!0})])}else o[c]??(o[c]={}),o[c][u]=new Set([qi(a,{forAs:!0})]);wg(l)&&"unaggregated"===i.scaleDomain(l)&&(o[c]??(o[c]={}),o[c].min=new Set([qi({field:c,aggregate:"min"},{forAs:!0})]),o[c].max=new Set([qi({field:c,aggregate:"max"},{forAs:!0})]))}else!function a5t(e,t,i,r){const o=Nl(r)?r.encoding[_g(t)]:void 0;if(jf(i)&&Nl(r)&&T5e(i,o,r.markDef,r.config)){e.add(qi(i,{})),e.add(qi(i,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,u=q2({fieldDef:i,markDef:a,config:l});wb(s)&&.5!==u&&ru(t)&&(e.add(qi(i,{suffix:AT})),e.add(qi(i,{suffix:hT}))),i.bin&&Bb(i,t)&&e.add(qi(i,{binSuffix:"range"}))}else if(s4e(t)){const s=o4e(t);e.add(r.getName(s))}else e.add(qi(i));return y4(i)&&function G1t(e){return Zi(e)&&"field"in e}(i.scale?.range)&&e.add(i.scale.range.field),e}(s,l,a,i)}),s.size+oi(o).length!==0)?new W0(t,s,o):null}static makeFromTransform(t,i){var r;const o=new Set,s={};for(const a of i.aggregate){const{op:l,field:u,as:c}=a;l&&("count"===l?(s["*"]??(s["*"]={}),s["*"].count=new Set([c||qi(a,{forAs:!0})])):(s[u]??(s[u]={}),(r=s[u])[l]??(r[l]=new Set),s[u][l].add(c||qi(a,{forAs:!0}))))}for(const a of i.groupby??[])o.add(a);return o.size+oi(s).length===0?null:new W0(t,o,s)}merge(t){return X3e(this.dimensions,t.dimensions)?(function l5t(e,t){for(const i of oi(t)){const r=t[i];for(const o of oi(r))i in e?e[i][o]=new Set([...e[i][o]??[],...r[o]]):e[i]={[o]:r[o]}}}(this.measures,t.measures),!0):(function g1t(...e){Cg.debug(...e)}("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...oi(this.measures)])}producedFields(){const t=new Set;for(const i of oi(this.measures))for(const r of oi(this.measures[i])){const o=this.measures[i][r];0===o.size?t.add(`${r}_${i}`):o.forEach(t.add,t)}return t}hash(){return`Aggregate ${ss({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],i=[],r=[];for(const s of oi(this.measures))for(const a of oi(this.measures[s]))for(const l of this.measures[s][a])r.push(l),t.push(a),i.push("*"===s?null:Ch(s));return{type:"aggregate",groupby:[...this.dimensions].map(Ch),ops:t,fields:i,as:r}}}class v9 extends aa{constructor(t,i,r,o){super(t),this.model=i,this.name=r,this.data=o;for(const s of Sh){const a=i.facet[s];if(a){const{bin:l,sort:u}=a;this[s]={name:i.getName(`${s}_domain`),fields:[qi(a),...Qa(l)?[qi(a,{binSuffix:"end"})]:[]],...Q1(u)?{sortField:u}:Xn(u)?{sortIndexField:g9(a,s)}:{}}}}this.childModel=i.child}hash(){let t="Facet";for(const i of Sh)this[i]&&(t+=` ${i.charAt(0)}:${ss(this[i])}`);return t}get fields(){const t=[];for(const i of Sh)this[i]?.fields&&t.push(...this[i].fields);return t}dependentFields(){const t=new Set(this.fields);for(const i of Sh)this[i]&&(this[i].sortField&&t.add(this[i].sortField.field),this[i].sortIndexField&&t.add(this[i].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const i of U1){const r=this.childModel.component.scales[i];if(r&&!r.merged){const o=r.get("type"),s=r.get("range");if(Xu(o)&&c4(s)){const l=MK(FT(this.childModel,i));l?t[i]=l:Mi(Pq(i))}}}return t}assembleRowColumnHeaderData(t,i,r){const o={row:"y",column:"x",facet:void 0}[t],s=[],a=[],l=[];o&&r&&r[o]&&(i?(s.push(`distinct_${r[o]}`),a.push("max")):(s.push(r[o]),a.push("distinct")),l.push(`distinct_${r[o]}`));const{sortField:u,sortIndexField:c}=this[t];if(u){const{op:f=XD,field:d}=u;s.push(d),a.push(f),l.push(qi(u,{forAs:!0}))}else c&&(s.push(c),a.push("max"),l.push(c));return{name:this[t].name,source:i??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...s.length?{fields:s,ops:a,as:l}:{}}]}}assembleFacetHeaderData(t){const{columns:i}=this.model.layout,{layoutHeaders:r}=this.model.component,o=[],s={};for(const u of fK){for(const c of dK){const f=(r[u]&&r[u][c])??[];for(const d of f)if(d.axes?.length>0){s[u]=!0;break}}if(s[u]){const c=`length(data("${this.facet.name}"))`;o.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:"row"===u?i?{signal:`ceil(${c} / ${i})`}:1:i?{signal:`min(${c}, ${i})`}:{signal:c}}]})}}const{row:a,column:l}=s;return(a||l)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,t)),o}assemble(){const t=[];let i=null;const r=this.getChildIndependentFieldsWithStep(),{column:o,row:s,facet:a}=this;if(o&&s&&(r.x||r.y)){i=`cross_${this.column.name}_${this.row.name}`;const l=[].concat(r.x??[],r.y??[]),u=l.map(()=>"distinct");t.push({name:i,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:u}]})}for(const l of[O1,F1])this[l]&&t.push(this.assembleRowColumnHeaderData(l,i,r));if(a){const l=this.assembleFacetHeaderData(r);l&&t.push(...l)}return t}}function m9e(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function c5t(e){const t={};return MD(e.filter,i=>{if(t5e(i)){let r=null;jq(i)?r=EA(i.equal):Wq(i)?r=EA(i.lte):Kq(i)?r=EA(i.lt):Xq(i)?r=EA(i.gt):Yq(i)?r=EA(i.gte):Zq(i)?r=i.range[0]:Jq(i)&&(r=(i.oneOf??i.in)[0]),r&&(f4(r)?t[i.field]="date":Es(r)?t[i.field]="number":Ji(r)&&(t[i.field]="string")),i.timeUnit&&(t[i.field]="date")}}),t}class df extends aa{clone(){return new df(null,vo(this._parse))}constructor(t,i){super(t),this._parse=i}hash(){return`Parse ${ss(this._parse)}`}static makeExplicit(t,i,r){let o={};const s=i.data;return!W2(s)&&s?.format?.parse&&(o=s.format.parse),this.makeWithAncestors(t,o,{},r)}static makeWithAncestors(t,i,r,o){for(const l of oi(r)){const u=o.getWithExplicit(l);void 0!==u.value&&(u.explicit||u.value===r[l]||"derived"===u.value||"flatten"===r[l]?delete r[l]:Mi(N4e(l,r[l],u.value)))}for(const l of oi(i)){const u=o.get(l);void 0!==u&&(u===i[l]?delete i[l]:Mi(N4e(l,i[l],u)))}const s=new $1(i,r);o.copyAll(s);const a={};for(const l of oi(s.combine())){const u=s.get(l);null!==u&&(a[l]=u)}return 0===oi(a).length||o.parseNothing?null:new df(t,a)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const i of oi(this._parse)){const r=this._parse[i];1===X8(i)&&(t[i]=r)}return t}producedFields(){return new Set(oi(this._parse))}dependentFields(){return new Set(oi(this._parse))}assembleTransforms(t=!1){return oi(this._parse).filter(i=>!t||X8(i)>1).map(i=>{const r=function u5t(e,t){const i=Cq(e);return"number"===t?`toNumber(${i})`:"boolean"===t?`toBoolean(${i})`:"string"===t?`toString(${i})`:"date"===t?`toDate(${i})`:"flatten"===t?i:t.startsWith("date:")?`timeParse(${i},'${m9e(t.slice(5,t.length))}')`:t.startsWith("utc:")?`utcParse(${i},'${m9e(t.slice(4,t.length))}')`:(Mi(function Egt(e){return`Unrecognized parse "${e}".`}(t)),null)}(i,this._parse[i]);return r?{type:"formula",expr:r,as:W8(i)}:null}).filter(i=>null!==i)}}class Y2 extends aa{clone(){return new Y2(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([j0])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:j0}}}class Hb extends aa{clone(){return new Hb(null,this.params)}constructor(t,i){super(t),this.params=i}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${ss(this.params)}`}assemble(){return{type:"graticule",...!0===this.params?{}:this.params}}}class Qb extends aa{clone(){return new Qb(null,this.params)}constructor(t,i){super(t),this.params=i}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${ss(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class B4 extends aa{constructor(t){let i;if(super(null),t??(t={name:"source"}),W2(t)||(i=t.format?{...Id(t.format,["parse"])}:{}),Ib(t))this._data={values:t.values};else if(u9(t)){if(this._data={url:t.url},!i.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];es(["json","csv","tsv","dsv","topojson"],r)||(r="json"),i.type=r}}else z6e(t)?this._data={values:[{type:"Sphere"}]}:(Q6e(t)||W2(t))&&(this._data={});this._generator=W2(t),t.name&&(this._name=t.name),i&&!ya(i)&&(this._data.format=i)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var Vb,v9e=function(e,t,i,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,i):o?o.value=i:t.set(e,i),i};function vK(e){return e instanceof B4||e instanceof Hb||e instanceof Qb}class yK{constructor(){Vb.set(this,void 0),v9e(this,Vb,!1,"f")}setModified(){v9e(this,Vb,!0,"f")}get modifiedFlag(){return function(e,t,i,r){if("function"==typeof t||!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}(this,Vb)}}Vb=new WeakMap;class M4 extends yK{getNodeDepths(t,i,r){r.set(t,i);for(const o of t.children)this.getNodeDepths(o,i+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((o,s)=>s[1]-o[1]);for(const o of r)this.run(o[0]);return this.modifiedFlag}}class _K extends yK{optimize(t){this.run(t);for(const i of t.children)this.optimize(i);return this.modifiedFlag}}class h5t extends _K{mergeNodes(t,i){const r=i.shift();for(const o of i)t.removeChild(o),o.parent=r,o.remove()}run(t){const i=t.children.map(o=>o.hash()),r={};for(let o=0;o<i.length;o++)void 0===r[i[o]]?r[i[o]]=[t.children[o]]:r[i[o]].push(t.children[o]);for(const o of oi(r))r[o].length>1&&(this.setModified(),this.mergeNodes(t,r[o]))}}class p5t extends _K{constructor(t){super(),this.requiresSelectionId=t&&Zj(t)}run(t){t instanceof Y2&&(this.requiresSelectionId&&(vK(t.parent)||t.parent instanceof W0||t.parent instanceof df)||(this.setModified(),t.remove()))}}class g5t extends yK{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,i){let r=new Set;t instanceof Ig&&(r=t.producedFields(),_q(r,i)&&(this.setModified(),t.removeFormulas(i),0===t.producedFields.length&&t.remove()));for(const o of t.children)this.run(o,new Set([...i,...r]))}}class m5t extends _K{constructor(){super()}run(t){t instanceof Od&&!t.isRequired()&&(this.setModified(),t.remove())}}class v5t extends M4{run(t){if(!(vK(t)||t.numChildren()>1))for(const i of t.children)if(i instanceof df)if(t instanceof df)this.setModified(),t.merge(i);else{if(bq(t.producedFields(),i.dependentFields()))continue;this.setModified(),i.swapWithParent()}}}class y5t extends M4{run(t){const i=[...t.children],r=t.children.filter(o=>o instanceof df);if(t.numChildren()>1&&r.length>=1){const o={},s=new Set;for(const a of r){const l=a.parse;for(const u of oi(l))u in o?o[u]!==l[u]&&s.add(u):o[u]=l[u]}for(const a of s)delete o[a];if(!ya(o)){this.setModified();const a=new df(t,o);for(const l of i){if(l instanceof df)for(const u of oi(o))delete l.parse[u];t.removeChild(l),l.parent=a,l instanceof df&&0===oi(l.parse).length&&l.remove()}}}}}class _5t extends M4{run(t){t instanceof Od||t.numChildren()>0||t instanceof v9||t instanceof B4||(this.setModified(),t.remove())}}class w5t extends M4{run(t){const i=t.children.filter(o=>o instanceof Ig),r=i.pop();for(const o of i)this.setModified(),r.merge(o)}}class b5t extends M4{run(t){const i=t.children.filter(o=>o instanceof W0),r={};for(const o of i){const s=ss(o.groupBy);s in r||(r[s]=[]),r[s].push(o)}for(const o of oi(r)){const s=r[o];if(s.length>1){const a=s.pop();for(const l of s)a.merge(l)&&(t.removeChild(l),l.parent=a,l.remove(),this.setModified())}}}}class C5t extends M4{constructor(t){super(),this.model=t}run(t){const i=!(vK(t)||t instanceof h9||t instanceof df||t instanceof Y2),r=[],o=[];for(const s of t.children)s instanceof Fg&&(i&&!bq(t.producedFields(),s.dependentFields())?r.push(s):o.push(s));if(r.length>0){const s=r.pop();for(const a of r)s.merge(a,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Fg?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(o.length>1){const s=o.pop();for(const a of o)s.merge(a,this.model.renameSignal.bind(this.model));this.setModified()}}}class E5t extends M4{run(t){const i=[...t.children];if(!K8(i,a=>a instanceof Od)||t.numChildren()<=1)return;const o=[];let s;for(const a of i)if(a instanceof Od){let l=a;for(;1===l.numChildren();){const[u]=l.children;if(!(u instanceof Od))break;l=u}o.push(...l.children),s?(t.removeChild(a),a.parent=s.parent,s.parent.removeChild(s),s.parent=l,this.setModified()):s=l}else o.push(a);if(o.length){this.setModified();for(const a of o)a.parent.removeChild(a),a.parent=s}}}class I4 extends aa{clone(){return new I4(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i}addDimensions(t){this.transform.groupby=gg(this.transform.groupby.concat(t),i=>i)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(i=>i.field).filter(i=>void 0!==i).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??qi(t)}hash(){return`JoinAggregateTransform ${ss(this.transform)}`}assemble(){const t=[],i=[],r=[];for(const s of this.transform.joinaggregate)i.push(s.op),r.push(this.getDefaultName(s)),t.push(void 0===s.field?null:s.field);const o=this.transform.groupby;return{type:"joinaggregate",as:r,ops:i,fields:t,...void 0!==o?{groupby:o}:{}}}}class y9 extends aa{clone(){return new y9(null,{...this.filter})}constructor(t,i){super(t),this.filter=i}static make(t,i,r){const{config:o,markDef:s}=i,{marks:a,scales:l}=r;if("include-invalid-values"===a&&"include-invalid-values"===l)return null;const u=i.reduceFieldDef((c,f,d)=>{const h=wg(d)&&i.getScaleComponent(d);if(h){const g=h.get("type"),{aggregate:v}=f,y=lj({scaleChannel:d,markDef:s,config:o,scaleType:g,isCountAggregate:RD(v)});"show"!==y&&"always-valid"!==y&&(c[f.field]=f)}return c},{});return oi(u).length?new y9(t,u):null}dependentFields(){return new Set(oi(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${ss(this.filter)}`}assemble(){const t=oi(this.filter).reduce((i,r)=>{const o=this.filter[r],s=qi(o,{expr:"datum"});return null!==o&&("temporal"===o.type?i.push(`(isDate(${s}) || (${wK(s)}))`):"quantitative"===o.type&&i.push(wK(s))),i},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function wK(e){return`isValid(${e}) && isFinite(+${e})`}class W1 extends aa{clone(){return new W1(null,vo(this._stack))}constructor(t,i){super(t),this._stack=i}static makeFromTransform(t,i){const{stack:r,groupby:o,as:s,offset:a="zero"}=i,l=[],u=[];if(void 0!==i.sort)for(const d of i.sort)l.push(d.field),u.push(iu(d.order,"ascending"));const c={field:l,order:u};let f;return f=function S5t(e){return Xn(e)&&e.every(t=>Ji(t))&&e.length>1}(s)?s:Ji(s)?[s,`${s}_end`]:[`${i.stack}_start`,`${i.stack}_end`],new W1(t,{dimensionFieldDefs:[],stackField:r,groupby:o,offset:a,sort:c,facetby:[],as:f})}static makeFromEncoding(t,i){const r=i.stack,{encoding:o}=i;if(!r)return null;const{groupbyChannels:s,fieldChannel:a,offset:l,impute:u}=r,c=s.map(g=>q0(o[g])).filter(g=>!!g),f=function x5t(e){return e.stack.stackBy.reduce((t,i)=>{const o=qi(i.fieldDef);return o&&t.push(o),t},[])}(i),d=i.encoding.order;let h;if(Xn(d)||Fi(d))h=x4e(d);else{const g=F5e(d)?d.sort:"y"===a?"descending":"ascending";h=f.reduce((v,y)=>(v.field.includes(y)||(v.field.push(y),v.order.push(g)),v),{field:[],order:[]})}return new W1(t,{dimensionFieldDefs:c,stackField:i.vgField(a),facetby:[],stackby:f,sort:h,offset:l,impute:u,as:[i.vgField(a,{suffix:"start",forAs:!0}),i.vgField(a,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${ss(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:i,groupby:r}=this._stack;return t.length>0?t.map(o=>o.bin?i?[qi(o,{binSuffix:"mid"})]:[qi(o,{}),qi(o,{binSuffix:"end"})]:[qi(o)]).flat():r??[]}assemble(){const t=[],{facetby:i,dimensionFieldDefs:r,stackField:o,stackby:s,sort:a,offset:l,impute:u,as:c}=this._stack;if(u)for(const f of r){const{bandPosition:d=.5,bin:h}=f;if(h){const g=qi(f,{expr:"datum"}),v=qi(f,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${wK(g)} ? ${d}*${g}+${1-d}*${v} : ${g}`,as:qi(f,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:o,groupby:[...s,...i],key:qi(f,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...i],field:o,sort:a,as:c,offset:l}),t}}class _9 extends aa{clone(){return new _9(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i}addDimensions(t){this.transform.groupby=gg(this.transform.groupby.concat(t),i=>i)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(i=>t.add(i.field)),this.transform.window.map(i=>i.field).filter(i=>void 0!==i).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??qi(t)}hash(){return`WindowTransform ${ss(this.transform)}`}assemble(){const t=[],i=[],r=[],o=[];for(const d of this.transform.window)i.push(d.op),r.push(this.getDefaultName(d)),o.push(void 0===d.param?null:d.param),t.push(void 0===d.field?null:d.field);const s=this.transform.frame,a=this.transform.groupby;if(s&&null===s[0]&&null===s[1]&&i.every(d=>Nq(d)))return{type:"joinaggregate",as:r,ops:i,fields:t,...void 0!==a?{groupby:a}:{}};const l=[],u=[];if(void 0!==this.transform.sort)for(const d of this.transform.sort)l.push(d.field),u.push(d.order??"ascending");const f=this.transform.ignorePeers;return{type:"window",params:o,as:r,ops:i,fields:t,sort:{field:l,order:u},...void 0!==f?{ignorePeers:f}:{},...void 0!==a?{groupby:a}:{},...void 0!==s?{frame:s}:{}}}}function bK(e){if(e instanceof v9)if(1!==e.numChildren()||e.children[0]instanceof Od){const t=e.model.component.data.main;y9e(t);const i=function B5t(e){return function t(i){if(!(i instanceof v9)){const r=i.clone();if(r instanceof Od){const o=CK+r.getSource();r.setSource(o),e.model.component.data.outputNodes[o]=r}else(r instanceof W0||r instanceof W1||r instanceof _9||r instanceof I4)&&r.addDimensions(e.fields);for(const o of i.children.flatMap(t))o.parent=r;return[r]}return i.children.flatMap(t)}}(e),r=e.children.map(i).flat();for(const o of r)o.parent=t}else{const t=e.children[0];(t instanceof W0||t instanceof W1||t instanceof _9||t instanceof I4)&&t.addDimensions(e.fields),t.swapWithParent(),bK(e)}else e.children.map(bK)}function y9e(e){if(e instanceof Od&&e.type===Gl.Main&&1===e.numChildren()){const t=e.children[0];t instanceof v9||(t.swapWithParent(),y9e(e))}}const CK="scale_",TT=5;function EK(e){for(const t of e){for(const i of t.children)if(i.parent!==t)return!1;if(!EK(t.children))return!1}return!0}function X0(e,t){let i=!1;for(const r of t)i=e.optimize(r)||i;return i}function _9e(e,t,i){let r=e.sources,o=!1;return o=X0(new m5t,r)||o,o=X0(new p5t(t),r)||o,r=r.filter(s=>s.numChildren()>0),o=X0(new _5t,r)||o,r=r.filter(s=>s.numChildren()>0),i||(o=X0(new v5t,r)||o,o=X0(new C5t(t),r)||o,o=X0(new g5t,r)||o,o=X0(new y5t,r)||o,o=X0(new b5t,r)||o,o=X0(new w5t,r)||o,o=X0(new h5t,r)||o,o=X0(new E5t,r)||o),e.sources=r,o}class Zu{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,i){return new Zu(()=>t(i))}}function w9e(e){Nl(e)?function I5t(e){const t=e.component.scales;for(const i of oi(t)){const r=F5t(e,i);if(t[i].setWithExplicit("domains",r),k5t(e,i),e.component.data.isFaceted){let s=e;for(;!SA(s)&&s.parent;)s=s.parent;if("shared"===s.component.resolve.scale[i])for(const l of r.value)H1(l)&&(l.data=CK+l.data.replace(CK,""))}}}(e):function D5t(e){for(const i of e.children)w9e(i);const t=e.component.scales;for(const i of oi(t)){let r,o=null;for(const s of e.children){const a=s.component.scales[i];if(a){r=void 0===r?a.getWithExplicit("domains"):K2(r,a.getWithExplicit("domains"),"domains","scale",BK);const l=a.get("selectionExtent");o&&l&&o.param!==l.param&&Mi("The same selection must be used to override scale domains in a layered view."),o=l}}t[i].setWithExplicit("domains",r),o&&t[i].set("selectionExtent",o,!0)}}(e)}function F5t(e,t){const i=e.getScaleComponent(t).get("type"),{encoding:r}=e,o=function T5t(e,t,i,r){if("unaggregated"===e){const{valid:o,reason:s}=b9e(t,i);if(!o)return void Mi(s)}else if(void 0===e&&r.useUnaggregatedDomain){const{valid:o}=b9e(t,i);if(o)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),i,e.config.scale);return o!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:o}),"x"===t&&Tu(r.x2)?Tu(r.x)?K2(Z2(i,o,e,"x"),Z2(i,o,e,"x2"),"domain","scale",BK):Z2(i,o,e,"x2"):"y"===t&&Tu(r.y2)?Tu(r.y)?K2(Z2(i,o,e,"y"),Z2(i,o,e,"y2"),"domain","scale",BK):Z2(i,o,e,"y2"):Z2(i,o,e,t)}function xK(e,t,i){const r=Wu(i)?.unit;return"temporal"===t||r?function O5t(e,t,i){return e.map(r=>({signal:`{data: ${rT(r,{timeUnit:i,type:t})}}`}))}(e,t,r):[e]}function Z2(e,t,i,r){const{encoding:o,markDef:s,mark:a,config:l,stack:u}=i,c=Tu(o[r]),{type:f}=c,d=c.timeUnit,h=function dvt(e){const{marks:t,scales:i}=$6e(e);return t===i?Gl.Main:"include-invalid-values"===i?Gl.PreFilterInvalid:Gl.PostFilterInvalid}({invalid:bg("invalid",s,l),isPath:G2(a)});if(function $1t(e){return Ei(e,"unionWith")}(t)){const y=Z2(e,void 0,i,r);return Mg([...xK(t.unionWith,f,d),...y.value])}if(Rr(t))return Mg([t]);if(t&&"unaggregated"!==t&&!u5e(t))return Mg(xK(t,f,d));if(u&&r===u.fieldChannel){if("normalize"===u.offset)return xA([[0,1]]);const y=i.requestDataName(h);return xA([{data:y,field:i.vgField(r,{suffix:"start"})},{data:y,field:i.vgField(r,{suffix:"end"})}])}const g=wg(r)&&Fi(c)?function N5t(e,t,i){if(!Xu(i))return;const r=e.fieldDef(t),o=r.sort;if(M5e(o))return{op:"min",field:g9(r,t),order:"ascending"};const{stack:s}=e,a=s?new Set([...s.groupbyFields,...s.stackBy.map(l=>l.fieldDef.field)]):void 0;if(Q1(o))return SK(o,s&&!a.has(o.field));if(function mmt(e){return Ei(e,"encoding")}(o)){const{encoding:l,order:u}=o,c=e.fieldDef(l),{aggregate:f,field:d}=c,h=s&&!a.has(d);if(P1(f)||V2(f))return SK({field:qi(c),order:u},h);if(Nq(f)||!f)return SK({op:f,field:d,order:u},h)}else{if("descending"===o)return{op:"min",field:e.vgField(t),order:"descending"};if(es(["ascending",void 0],o))return!0}}(i,r,e):void 0;if(Sg(c))return xA(xK([c.datum],f,d));const v=c;if("unaggregated"===t){const{field:y}=c;return xA([{data:i.requestDataName(h),field:qi({field:y,aggregate:"min"})},{data:i.requestDataName(h),field:qi({field:y,aggregate:"max"})}])}if(Qa(v.bin)){if(Xu(e))return xA("bin-ordinal"===e?[]:[{data:db(g)?i.requestDataName(h):i.requestDataName(Gl.Raw),field:i.vgField(r,Bb(v,r)?{binSuffix:"range"}:{}),sort:!0!==g&&Zi(g)?g:{field:i.vgField(r,{}),op:"min"}}]);{const{bin:y}=v;if(Qa(y)){const b=mK(i,v.field,y);return xA([new Zu(()=>{const E=i.getSignalName(b);return`[${E}.start, ${E}.stop]`})])}return xA([{data:i.requestDataName(h),field:i.vgField(r,{})}])}}if(v.timeUnit&&es(["time","utc"],e)){const y=o[_g(r)];if(T5e(v,y,s,l)){const b=i.requestDataName(h),E=q2({fieldDef:v,fieldDef2:y,markDef:s,config:l}),M=wb(a)&&.5!==E&&ru(r);return xA([{data:b,field:i.vgField(r,M?{suffix:AT}:{})},{data:b,field:i.vgField(r,{suffix:M?hT:"end"})}])}}return xA(g?[{data:db(g)?i.requestDataName(h):i.requestDataName(Gl.Raw),field:i.vgField(r),sort:g}]:[{data:i.requestDataName(h),field:i.vgField(r)}])}function SK(e,t){const{op:i,field:r,order:o}=e;return{op:i??(t?"sum":XD),...r?{field:Ch(r)}:{},...o?{order:o}:{}}}function k5t(e,t){const i=e.component.scales[t],r=e.specifiedScales[t].domain,o=e.fieldDef(t)?.bin,s=u5e(r)?r:void 0,a=u4(o)&&UD(o.extent)?o.extent:void 0;(s||a)&&i.set("selectionExtent",s??a,!0)}function b9e(e,t){const{aggregate:i,type:r}=e;return i?Ji(i)&&!tgt.has(i)?{valid:!1,reason:qgt(i)}:"quantitative"===r&&"log"===t?{valid:!1,reason:jgt(e)}:{valid:!0}:{valid:!1,reason:Ggt(e)}}function BK(e,t,i,r){return e.explicit&&t.explicit&&Mi(function Zgt(e,t,i,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${_a(i)} and ${_a(r)}). Using the union of the two domains.`}(i,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function MK(e){if(H1(e)&&Ji(e.field))return e.field;if(function ngt(e){return!Xn(e)&&Ei(e,"fields")&&!Ei(e,"data")}(e)){let t;for(const i of e.fields)if(H1(i)&&Ji(i.field))if(t){if(t!==i.field)return Mi("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=i.field;return Mi("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),t}if(function igt(e){return!Xn(e)&&Ei(e,"fields")&&Ei(e,"data")}(e)){Mi("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");const t=e.fields[0];return Ji(t)?t:void 0}}function FT(e,t){return function L5t(e){const t=gg(e.map(a=>{if(H1(a)){const{sort:l,...u}=a;return u}return a}),ss),i=gg(e.map(a=>{if(H1(a)){const l=a.sort;return void 0!==l&&!db(l)&&("op"in l&&"count"===l.op&&delete l.field,"ascending"===l.order&&delete l.order),l}}).filter(a=>void 0!==a),ss);if(0===t.length)return;if(1===t.length){const a=e[0];if(H1(a)&&i.length>0){let l=i[0];if(i.length>1){Mi(Q4e);const u=i.filter(c=>Zi(c)&&"op"in c&&"min"!==c.op);l=!i.every(c=>Zi(c)&&"op"in c)||1!==u.length||u[0]}else Zi(l)&&"field"in l&&a.field===l.field&&(l=!l.order||{order:l.order});return{...a,sort:l}}return a}const r=gg(i.map(a=>db(a)||!("op"in a)||Ji(a.op)&&fr(Ypt,a.op)?a:(Mi(function e1t(e){return`Dropping sort property ${_a(e)} as unioned domains only support boolean or op "count", "min", and "max".`}(a)),!0)),ss);let o;1===r.length?o=r[0]:r.length>1&&(Mi(Q4e),o=!0);const s=gg(e.map(a=>H1(a)?a.data:null),a=>a);return 1===s.length&&null!==s[0]?{data:s[0],fields:t.map(l=>l.field),...o?{sort:o}:{}}:{fields:t,...o?{sort:o}:{}}}(e.component.scales[t].get("domains").map(o=>(H1(o)&&(o.data=e.lookupDataSource(o.data)),o)))}function C9e(e){return w9(e)||DK(e)?e.children.reduce((t,i)=>t.concat(C9e(i)),E9e(e)):E9e(e)}function E9e(e){return oi(e.component.scales).reduce((t,i)=>{const r=e.component.scales[i];if(r.merged)return t;const o=r.combine(),{name:s,type:a,selectionExtent:l,domains:u,range:c,reverse:f,...d}=o,h=function R5t(e,t,i,r){if(ru(i)){if(c4(e))return{step:{signal:`${t}_step`}}}else if(Zi(e)&&H1(e))return{...e,data:r.lookupDataSource(e.data)};return e}(o.range,s,i,e),g=FT(e,i),v=l?function Cvt(e,t,i,r){const o=Q8e(e,t.param,t);return{signal:V0(i.get("type"))&&Xn(r)&&r[0]>r[1]?`isValid(${o}) && reverse(${o})`:o}}(e,l,r,g):null;return t.push({name:s,type:a,...g?{domain:g}:{},...v?{domainRaw:v}:{},range:h,...void 0!==f?{reverse:f}:{},...d}),t},[])}class x9e extends $1{constructor(t,i){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",i)}domainHasZero(){const t=this.get("type");if(es([Cc.LOG,Cc.TIME,Cc.UTC],t))return"definitely-not";const i=this.get("zero");if(!0===i||void 0===i&&es([Cc.LINEAR,Cc.SQRT,Cc.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let o=!1,s=!1,a=!1;for(const l of r){if(Xn(l)){const u=l[0],c=l[l.length-1];if(Es(u)&&Es(c)){if(u<=0&&c>=0){o=!0;continue}s=!0;continue}}a=!0}if(o)return"definitely";if(s&&!a)return"definitely-not"}return"maybe"}}const U5t=["range","scheme"];function S9e(e,t){const i=e.fieldDef(t);if(i?.bin){const{bin:r,field:o}=i,s=Fd(t),a=e.getName(s);if(Zi(r)&&r.binned&&void 0!==r.step)return new Zu(()=>{const l=e.scaleName(t),u=`(domain("${l}")[1] - domain("${l}")[0]) / ${r.step}`;return`${e.getSignalName(a)} / (${u})`});if(Qa(r)){const l=mK(e,o,r);return new Zu(()=>{const u=e.getSignalName(l),c=`(${u}.stop - ${u}.start) / ${u}.step`;return`${e.getSignalName(a)} / (${c})`})}}}function H5t(e,t){const i=t.specifiedScales[e],{size:r}=t,s=t.getScaleComponent(e).get("type");for(const d of U5t)if(void 0!==i[d]){const h=nj(s,d),g=f5e(e,d);if(h)if(g)Mi(g);else switch(d){case"range":{const v=i.range;if(Xn(v)){if(ru(e))return Mg(v.map(y=>{if("width"===y||"height"===y){const b=t.getName(y),E=t.getSignalName.bind(t);return Zu.fromName(E,b)}return y}))}else if(Zi(v))return Mg({data:t.requestDataName(Gl.Main),field:v.field,sort:{op:"min",field:t.vgField(e)}});return Mg(v)}case"scheme":return Mg(Q5t(i[d]))}else Mi(P4e(s,d,e))}const a=e===yl||"xOffset"===e?"width":"height",l=r[a];if(Bg(l))if(ru(e))if(Xu(s)){const d=M9e(l,t,e);if(d)return Mg({step:d})}else Mi(H4e(a));else if(vb(e)&&"band"===t.getScaleComponent(e===N2?"x":"y").get("type")){const v=I9e(l,s);if(v)return Mg(v)}const{rangeMin:u,rangeMax:c}=i,f=function V5t(e,t){const{size:i,config:r,mark:o,encoding:s}=t,{type:a}=Tu(s[e]),u=t.getScaleComponent(e).get("type"),{domain:c,domainMid:f}=t.specifiedScales[e];switch(e){case yl:case Ku:if(es(["point","band"],u)){const d=D9e(e,i,r.view);if(Bg(d))return{step:M9e(d,t,e)}}return B9e(e,t,u);case N2:case Y8:return function z5t(e,t,i){const r=e===N2?"x":"y",o=t.getScaleComponent(r);if(!o)return B9e(r,t,i,{center:!0});const s=o.get("type"),a=t.scaleName(r),{markDef:l,config:u}=t;if("band"===s){const c=D9e(r,t.size,t.config.view);if(Bg(c)){const f=I9e(c,i);if(f)return f}return[0,{signal:`bandwidth('${a}')`}]}{const c=t.encoding[r];if(Fi(c)&&c.timeUnit){const f=J4e(c.timeUnit,v=>`scale('${a}', ${v})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,h=q2({fieldDef:c,markDef:l,config:u})-.5,g=0!==h?` + ${h}`:"";return d?[{signal:`${Rr(d)?`${d.signal}/2`+g:`${d/2+h}`} * (${f})`},{signal:`${Rr(d)?`(1 - ${d.signal}/2)`+g:`${1-d/2+h}`} * (${f})`}]:[0,{signal:f}]}return K3e(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}(e,t,u);case L1:{const d=function q5t(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(PD("size",e))}(o,r),h=function j5t(e,t,i,r){const o={x:S9e(i,"x"),y:S9e(i,"y")};switch(e){case"bar":case"tick":{if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;const s=F9e(t,o,r.view);return Es(s)?s-1:new Zu(()=>`${s.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const s=F9e(t,o,r.view);return Es(s)?Math.pow(T9e*s,2):new Zu(()=>`pow(${T9e} * ${s.signal}, 2)`)}}throw new Error(PD("size",e))}(o,i,t,r);return n9(u)?function G5t(e,t,i){const r=()=>{const o=Q0(t),s=Q0(e),a=`(${o} - ${s}) / (${i} - 1)`;return`sequence(${s}, ${o} + ${a}, ${a})`};return Rr(t)?new Zu(r):{signal:r()}}(d,h,function $5t(e,t,i,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==i&&Xn(i)?i.length+1:(Mi(function d1t(e){return`Domain for ${e} is required for threshold scale.`}(r)),3)}}(u,r,c,e)):[d,h]}case Eh:return[0,2*Math.PI];case s4:return[0,360];case R0:return[0,new Zu(()=>`min(${t.getSignalName(SA(t.parent)?"child_width":"width")},${t.getSignalName(SA(t.parent)?"child_height":"height")})/2`)];case L2:return{step:1e3/r.scale.framesPerSecond};case P2:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case H2:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Td:return"symbol";case Dd:case vg:case yg:return"ordinal"===u?"nominal"===a?"category":"ordinal":void 0!==f?"diverging":"rect"===o||"geoshape"===o?"heatmap":"ramp";case R1:case R2:case U2:return[r.scale.minOpacity,r.scale.maxOpacity]}}(e,t);return(void 0!==u||void 0!==c)&&nj(s,"rangeMin")&&Xn(f)&&2===f.length?Mg([u??f[0],c??f[1]]):xA(f)}function Q5t(e){return function z1t(e){return!Ji(e)&&Ei(e,"name")}(e)?{scheme:e.name,...Id(e,["name"])}:{scheme:e}}function B9e(e,t,i,{center:r}={}){const o=Fd(e),s=t.getName(o),a=t.getSignalName.bind(t);return e===Ku&&V0(i)?r?[Zu.fromName(l=>`${a(l)}/2`,s),Zu.fromName(l=>`-${a(l)}/2`,s)]:[Zu.fromName(a,s),0]:r?[Zu.fromName(l=>`-${a(l)}/2`,s),Zu.fromName(l=>`${a(l)}/2`,s)]:[0,Zu.fromName(a,s)]}function M9e(e,t,i){const{encoding:r}=t,o=t.getScaleComponent(i),s=Bq(i),a=r[s];if("offset"===h6e({step:e,offsetIsDiscrete:Bo(a)&&i5e(a.type)})&&j5e(r,s)){const u=t.getScaleComponent(s);let f=`domain('${t.scaleName(s)}').length`;"band"===u.get("type")&&(f=`bandspace(${f}, ${u.get("paddingInner")??u.get("padding")??0}, ${u.get("paddingOuter")??u.get("padding")??0})`);const d=o.get("paddingInner")??o.get("padding");return{signal:`${e.step} * ${f} / (1-${sgt(d)})`}}return e.step}function I9e(e,t){if("offset"===h6e({step:e,offsetIsDiscrete:Xu(t)}))return{step:e.step}}function D9e(e,t,i){const r=e===yl?"width":"height";return t[r]||cT(i,r)}const T9e=.95;function F9e(e,t,i){const r=Bg(e.width)?e.width.step:Fj(i,"width"),o=Bg(e.height)?e.height.step:Fj(i,"height");return t.x||t.y?new Zu(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:o].join(", ")})`):Math.min(r,o)}function O9e(e,t){Nl(e)?function K5t(e,t){const i=e.component.scales,{config:r,encoding:o,markDef:s,specifiedScales:a}=e;for(const l of oi(i)){const u=a[l],c=i[l],f=e.getScaleComponent(l),d=Tu(o[l]),h=u[t],g=f.get("type"),v=f.get("padding"),y=f.get("paddingInner"),b=nj(g,t),E=f5e(l,t);if(void 0!==h&&(b?E&&Mi(E):Mi(P4e(g,t,l))),b&&void 0===E)if(void 0!==h){const M=d.timeUnit,k=d.type;switch(t){case"domainMax":case"domainMin":f4(u[t])||"temporal"===k||M?c.set(t,{signal:rT(u[t],{type:k,timeUnit:M})},!0):c.set(t,u[t],!0);break;default:c.copyKeyFromObject(t,u)}}else{const M=Ei(k9e,t)?k9e[t]({model:e,channel:l,fieldOrDatumDef:d,scaleType:g,scalePadding:v,scalePaddingInner:y,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:s,config:r,hasNestedOffsetScale:K5e(o,l),hasSecondaryRangeChannel:!!o[_g(l)]}):r.scale[t];void 0!==M&&c.set(t,M,!1)}}}(e,t):L9e(e,t)}const k9e={bins:({model:e,fieldOrDatumDef:t})=>Fi(t)?function W5t(e,t){const i=t.bin;if(Qa(i)){const r=mK(e,t.field,i);return new Zu(()=>e.getSignalName(r))}if(wc(i)&&u4(i)&&void 0!==i.step)return{step:i.step}}(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>function X5t(e,t){if(es([Dd,vg,yg],e)&&"nominal"!==t)return"hcl"}(e,t.type),nice:({scaleType:e,channel:t,domain:i,domainMin:r,domainMax:o,fieldOrDatumDef:s})=>function Y5t(e,t,i,r,o,s){if(!(q0(s)?.bin||Xn(i)||null!=o||null!=r||es([Cc.TIME,Cc.UTC],e)))return!!ru(t)||void 0}(e,t,i,r,o,s),padding:({channel:e,scaleType:t,fieldOrDatumDef:i,markDef:r,config:o})=>function Z5t(e,t,i,r,o,s){if(ru(e)){if(xg(t)){if(void 0!==i.continuousPadding)return i.continuousPadding;const{type:a,orient:l}=o;if("bar"===a&&(!Fi(r)||!r.bin&&!r.timeUnit)&&("vertical"===l&&"x"===e||"horizontal"===l&&"y"===e))return s.continuousBandSize}if(t===Cc.POINT)return i.pointPadding}}(e,t,o.scale,i,r,o.bar),paddingInner:({scalePadding:e,channel:t,markDef:i,scaleType:r,config:o,hasNestedOffsetScale:s})=>function J5t(e,t,i,r,o,s=!1){if(void 0===e){if(ru(t)){const{bandPaddingInner:a,barBandPaddingInner:l,rectBandPaddingInner:u,tickBandPaddingInner:c,bandWithNestedOffsetPaddingInner:f}=o;return s?f:iu(a,"bar"===i?l:"tick"===i?c:u)}if(vb(t)&&r===Cc.BAND)return o.offsetBandPaddingInner}}(e,t,i.type,r,o.scale,s),paddingOuter:({scalePadding:e,channel:t,scaleType:i,scalePaddingInner:r,config:o,hasNestedOffsetScale:s})=>function e6t(e,t,i,r,o,s=!1){if(void 0===e)if(ru(t)){const{bandPaddingOuter:a,bandWithNestedOffsetPaddingOuter:l}=o;if(s)return l;if(i===Cc.BAND)return iu(a,Rr(r)?{signal:`${r.signal}/2`}:r/2)}else if(vb(t)){if(i===Cc.POINT)return.5;if(i===Cc.BAND)return o.offsetBandPaddingOuter}}(e,t,i,r,o.scale,s),reverse:({fieldOrDatumDef:e,scaleType:t,channel:i,config:r})=>function t6t(e,t,i,r){return"x"===i&&void 0!==r.xReverse?V0(e)&&"descending"===t?Rr(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse:!(!V0(e)||"descending"!==t)||void 0}(t,Fi(e)?e.sort:void 0,i,r.scale),zero:({channel:e,fieldOrDatumDef:t,domain:i,markDef:r,scaleType:o,config:s,hasSecondaryRangeChannel:a})=>function n6t(e,t,i,r,o,s,a){if(i&&"unaggregated"!==i&&V0(o)){if(Xn(i)){const u=i[0],c=i[i.length-1];if(Es(u)&&u<=0&&Es(c)&&c>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!n9(o))return!0;if((!Fi(t)||!t.bin)&&es([...U1,...zpt],e)){const{orient:u,type:c}=r;return(!es(["bar","area","line","trail"],c)||!("horizontal"===u&&"y"===e||"vertical"===u&&"x"===e))&&(!(!es(["bar","area"],c)||a)||s?.zero)}return!1}(e,t,i,r,o,s.scale,a)};function N9e(e){Nl(e)?function P5t(e){const t=e.component.scales;for(const i of Oq){const r=t[i];if(!r)continue;const o=H5t(i,e);r.setWithExplicit("range",o)}}(e):L9e(e,"range")}function L9e(e,t){const i=e.component.scales;for(const r of e.children)"range"===t?N9e(r):O9e(r,t);for(const r of oi(i)){let o;for(const s of e.children){const a=s.component.scales[r];a&&(o=K2(o,a.getWithExplicit(t),t,"scale",H6e((u,c)=>"range"===t&&u.step&&c.step?u.step-c.step:0)))}i[r].setWithExplicit(t,o)}}function i6t(e,t,i,r,o=!1){const s=function r6t(e,t,i,r){switch(t.type){case"nominal":case"ordinal":if(J8(e)||"discrete"===kq(e))return"shape"===e&&"ordinal"===t.type&&Mi(Vq(e,"ordinal")),"ordinal";if(Fq(e))return"band";if(ru(e)||vb(e)){if(es(["rect","bar","image","rule","tick"],i.type)||r)return"band"}else if("arc"===i.type&&e in Dq)return"band";return g4(i[Fd(e)])||r9(t)&&t.axis?.tickBand?"band":"point";case"temporal":return J8(e)?"time":"discrete"===kq(e)?(Mi(Vq(e,"temporal")),"ordinal"):Fi(t)&&t.timeUnit&&Wu(t.timeUnit).utc?"utc":Fq(e)?"band":"time";case"quantitative":return J8(e)?Fi(t)&&Qa(t.bin)?"bin-ordinal":"linear":"discrete"===kq(e)?(Mi(Vq(e,"quantitative")),"ordinal"):Fq(e)?"band":"linear";case"geojson":return}throw new Error(R4e(t.type))}(t,i,r,o),{type:a}=e;return wg(t)?void 0!==a?function W1t(e,t,i=!1){if(!wg(e))return!1;switch(e){case yl:case Ku:case N2:case Y8:case Eh:case R0:return!(!xg(t)&&"band"!==t)||"point"===t&&!i;case L2:return es(["linear","band"],t);case L1:case P2:case R1:case R2:case U2:case s4:return xg(t)||n9(t)||es(["band","point","ordinal"],t);case Dd:case vg:case yg:return"band"!==t;case H2:case Td:return"ordinal"===t||n9(t)}}(t,a)?Fi(i)&&!function K1t(e,t){return es([ej,tj],t)?void 0===e||Xu(e):t===e9?es([Cc.TIME,Cc.UTC,void 0],e):t!==p4||a5e(e)||n9(e)||void 0===e}(a,i.type)?(Mi(function Xgt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}(a,s)),s):a:(Mi(function Wgt(e,t,i){return`Channel "${e}" does not work with "${t}" scale. We are using "${i}" scale instead.`}(t,a,s)),s):s:null}function R9e(e){e.component.scales=Nl(e)?function s6t(e){const{encoding:t,mark:i,markDef:r}=e,o={};for(const s of Oq){const a=Tu(t[s]);if(a&&i===h5e&&s===Td&&a.type===t9)continue;let l=a&&a.scale;if(a&&null!==l&&!1!==l){l??(l={});const c=i6t(l,s,a,r,K5e(t,s));o[s]=new x9e(e.scaleName(`${s}`,!0),{value:c,explicit:l.type===c})}}return o}(e):function l6t(e){var t;const i=e.component.scales={},r={},o=e.component.resolve;for(const s of e.children){R9e(s);for(const a of oi(s.component.scales))if((t=o.scale)[a]??(t[a]=t9e(a,e)),"shared"===o.scale[a]){const l=r[a],u=s.component.scales[a].getWithExplicit("type");l?U1t(l.value,u.value)?r[a]=K2(l,u,"type","scale",a6t):(o.scale[a]="independent",delete r[a]):r[a]=u}}for(const s of oi(r)){const a=e.scaleName(s,!0);i[s]=new x9e(a,r[s]);for(const u of e.children){const c=u.component.scales[s];c&&(u.renameScale(c.get("name"),a),c.merged=!0)}}return i}(e)}const a6t=H6e((e,t)=>r5e(e)-r5e(t));class IK{constructor(){this.nameMap={}}rename(t,i){this.nameMap[t]=i}has(t){return void 0!==this.nameMap[t]}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Nl(e){return"unit"===e?.type}function SA(e){return"facet"===e?.type}function DK(e){return"concat"===e?.type}function w9(e){return"layer"===e?.type}class TK{constructor(t,i,r,o,s,a,l){this.type=i,this.parent=r,this.config=s,this.parent=r,this.config=s,this.view=bc(l),this.name=t.name??o,this.title=z2(t.title)?{text:t.title}:t.title?bc(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new IK,this.projectionNameMap=r?r.projectionNameMap:new IK,this.signalNameMap=r?r.signalNameMap:new IK,this.data=t.data,this.description=t.description,this.transforms=function evt(e){return e.map(t=>Rj(t)?{filter:q8(t.filter,N1t)}:t)}(t.transform??[]),this.layout="layer"===i||"unit"===i?{}:function r2t(e,t,i){const r=i[t],o={},{spacing:s,columns:a}=r;void 0!==s&&(o.spacing=s),void 0!==a&&(YD(e)&&!Eb(e.facet)||Ij(e))&&(o.columns=a),uT(e)&&(o.columns=1);for(const l of i2t)if(void 0!==e[l])if("spacing"===l){const u=e[l];o[l]=Es(u)?u:{row:u.row??s,column:u.column??s}}else o[l]=e[l];return o}(t,i,s),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:YD(t)||r?.component.data.isFaceted&&void 0===t.data},layoutSize:new $1,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...a?vo(a):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function o6t(e,{ignoreRange:t}={}){R9e(e),w9e(e);for(const i of j1t)O9e(e,i);t||N9e(e)}(this)}parseProjection(){h9e(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){u9e(this)}assembleEncodeFromView(t){const{style:i,...r}=t,o={};for(const s of oi(r)){const a=r[s];void 0!==a&&(o[s]=nl(a))}return o}assembleGroupEncodeEntry(t){let i={};return this.view&&(i=this.assembleEncodeFromView(this.view)),t||(this.description&&(i.description=nl(this.description)),"unit"!==this.type&&"layer"!==this.type)?ya(i)?void 0:i:{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...i}}assembleLayout(){if(!this.layout)return;const{spacing:t,...i}=this.layout,{component:r,config:o}=this,s=function M4t(e,t){const i={};for(const r of Sh){const o=e[r];if(o?.facetFieldDef){const{titleAnchor:s,titleOrient:a}=IT(["titleAnchor","titleOrient"],o.facetFieldDef.header,t,r),l=MT(r,a),u=B4t(s,l);void 0!==u&&(i[l]=u)}}return ya(i)?void 0:i}(r.layoutHeaders,o);return{padding:t,...this.assembleDefaultLayout(),...i,...s?{titleBand:s}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let i=[];for(const r of Sh)t[r].title&&i.push(b4t(this,r));for(const r of fK)i=i.concat(C4t(this,r));return i}assembleAxes(){return function u4t(e,t){const{x:i=[],y:r=[]}=e;return[...i.map(o=>Pb(o,"grid",t)),...r.map(o=>Pb(o,"grid",t)),...i.map(o=>Pb(o,"main",t)),...r.map(o=>Pb(o,"main",t))].filter(o=>o)}(this.component.axes,this.config)}assembleLegends(){return f9e(this)}assembleProjections(){return function Y4t(e){return w9(e)||DK(e)?function Z4t(e){return e.children.reduce((t,i)=>t.concat(i.assembleProjections()),d9e(e))}(e):d9e(e)}(this)}assembleTitle(){const{encoding:t,...i}=this.title??{},r={...y4e(this.config.title).nonMarkTitleProperties,...i,...t?{encode:{update:t}}:{}};if(r.text)return es(["unit","layer"],this.type)?es(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),ya(r)?void 0:r}assembleGroup(t=[]){const i={};(t=t.concat(this.assembleSignals())).length>0&&(i.signals=t);const r=this.assembleLayout();r&&(i.layout=r),i.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const o=!this.parent||SA(this.parent)?C9e(this):[];o.length>0&&(i.scales=o);const s=this.assembleAxes();s.length>0&&(i.axes=s);const a=this.assembleLegends();return a.length>0&&(i.legends=a),i}getName(t){return vl((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Gl[t].toLowerCase())}requestDataName(t){const i=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[i]=(r[i]||0)+1,i}getSizeSignalRef(t){if(SA(this.parent)){const r=LD(J8e(t)),o=this.component.scales[r];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(Xu(s)&&c4(a)){const l=o.get("name"),c=MK(FT(this,r));return c?{signal:Z8e(l,o,qi({aggregate:"distinct",field:c},{expr:"datum"}))}:(Mi(Pq(r)),null)}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const i=this.component.data.outputNodes[t];return i?i.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,i){this.signalNameMap.rename(t,i)}renameScale(t,i){this.scaleNameMap.rename(t,i)}renameProjection(t,i){this.projectionNameMap.rename(t,i)}scaleName(t,i){return i?this.getName(t):c4e(t)&&wg(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t))?this.scaleNameMap.get(this.getName(t)):void 0}projectionName(t){return t?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const i=this.component.scales[t];return i&&!i.merged?i:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const i=this.getScaleComponent(t);return i?i.get("type"):void 0}getSelectionComponent(t,i){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,i)),!r)throw new Error(function fgt(e){return`Cannot find a selection named "${e}".`}(i));return r}hasAxisOrientSignalRef(){return this.component.axes.x?.some(t=>t.hasOrientSignalRef())||this.component.axes.y?.some(t=>t.hasOrientSignalRef())}}class U9e extends TK{vgField(t,i={}){const r=this.fieldDef(t);if(r)return qi(r,i)}reduceFieldDef(t,i){return function Lmt(e,t,i,r){return e?oi(e).reduce((o,s)=>{const a=e[s];return Xn(a)?a.reduce((l,u)=>t.call(r,l,u,s),o):t.call(r,o,a,s)},i):i}(this.getMapping(),(r,o,s)=>{const a=q0(o);return a?t(r,a,s):r},i)}forEachFieldDef(t,i){vj(this.getMapping(),(r,o)=>{const s=q0(r);s&&t(s,o)},i)}}class OT extends aa{clone(){return new OT(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=vo(i);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"],this.transform.resolve=this.transform.resolve??"shared"}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${ss(this.transform)}`}assemble(){const{density:t,...i}=this.transform,r={type:"kde",field:t,...i};return r.resolve=this.transform.resolve,r}}class kT extends aa{clone(){return new kT(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=vo(i)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${ss(this.transform)}`}assemble(){const{extent:t,param:i}=this.transform;return{type:"extent",field:t,signal:i}}}class NT extends aa{clone(){return new NT(this.parent,vo(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=vo(i);const{flatten:r,as:o=[]}=this.transform;this.transform.as=r.map((s,a)=>o[a]??s)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${ss(this.transform)}`}assemble(){const{flatten:t,as:i}=this.transform;return{type:"flatten",fields:t,as:i}}}class LT extends aa{clone(){return new LT(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=vo(i);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${ss(this.transform)}`}assemble(){const{fold:t,as:i}=this.transform;return{type:"fold",fields:t,as:i}}}class b9 extends aa{clone(){return new b9(null,vo(this.fields),this.geojson,this.signal)}static parseAll(t,i){if(i.component.projection&&!i.component.projection.isFit)return t;let r=0;for(const o of[[P0,U0],[xh,H0]]){const s=o.map(a=>{const l=Tu(i.encoding[a]);return Fi(l)?l.field:Sg(l)?{expr:`${l.datum}`}:G0(l)?{expr:`${l.value}`}:void 0});(s[0]||s[1])&&(t=new b9(t,s,null,i.getName("geojson_"+r++)))}if(i.channelHasField(Td)){const o=i.typedFieldDef(Td);o.type===t9&&(t=new b9(t,null,o.field,i.getName("geojson_"+r++)))}return t}constructor(t,i,r,o){super(t),this.fields=i,this.geojson=r,this.signal=o}dependentFields(){const t=(this.fields??[]).filter(Ji);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${ss(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class zb extends aa{clone(){return new zb(null,this.projection,vo(this.fields),vo(this.as))}constructor(t,i,r,o){super(t),this.projection=i,this.fields=r,this.as=o}static parseAll(t,i){if(!i.projectionName())return t;for(const r of[[P0,U0],[xh,H0]]){const o=r.map(a=>{const l=Tu(i.encoding[a]);return Fi(l)?l.field:Sg(l)?{expr:`${l.datum}`}:G0(l)?{expr:`${l.value}`}:void 0}),s=r[0]===xh?"2":"";(o[0]||o[1])&&(t=new zb(t,i.projectionName(),o,[i.getName(`x${s}`),i.getName(`y${s}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Ji))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${ss(this.fields)} ${ss(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class D4 extends aa{clone(){return new D4(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:i=0,stop:r,step:o}=t;return{signal:`sequence(${[i,r,...o?[o]:[]].join(",")})`}}static makeFromTransform(t,i){return new D4(t,i)}static makeFromEncoding(t,i){const r=i.encoding,o=r.x,s=r.y;if(Fi(o)&&Fi(s)){const a=o.impute?o:s.impute?s:void 0;if(void 0===a)return;const l=o.impute?s:s.impute?o:void 0,{method:u,value:c,frame:f,keyvals:d}=a.impute,h=Y5e(i.mark,r);return new D4(t,{impute:a.field,key:l.field,...u?{method:u}:{},...void 0!==c?{value:c}:{},...f?{frame:f}:{},...void 0!==d?{keyvals:d}:{},...h.length?{groupby:h}:{}})}return null}hash(){return`Impute ${ss(this.transform)}`}assemble(){const{impute:t,key:i,keyvals:r,method:o,groupby:s,value:a,frame:l=[null,null]}=this.transform,u={type:"impute",field:t,key:i,...r?{keyvals:N2t(r)?this.processSequence(r):r}:{},method:"value",...s?{groupby:s}:{},value:o&&"value"!==o?null:a};return o&&"value"!==o?[u,{type:"window",as:[`imputed_${t}_value`],ops:[o],fields:[t],frame:l,ignorePeers:!1,...s?{groupby:s}:{}},{type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t}]:[u]}}class RT extends aa{clone(){return new RT(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=vo(i);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??i.on,r[1]??i.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${ss(this.transform)}`}assemble(){const{loess:t,on:i,...r}=this.transform;return{type:"loess",x:i,y:t,...r}}}class $b extends aa{clone(){return new $b(null,vo(this.transform),this.secondary)}constructor(t,i,r){super(t),this.transform=i,this.secondary=r}static make(t,i,r,o){const s=i.component.data.sources,{from:a}=r;let l=null;if(function L2t(e){return Ei(e,"data")}(a)){let u=V9e(a.data,s);u||(u=new B4(a.data),s.push(u));const c=i.getName(`lookup_${o}`);l=new Od(u,c,Gl.Lookup,i.component.data.outputNodeRefCounts),i.component.data.outputNodes[c]=l}else if(function R2t(e){return Ei(e,"param")}(a)){const u=a.param;let c;r={as:u,...r};try{c=i.getSelectionComponent(vl(u),u)}catch{throw new Error(function pgt(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}(u))}if(l=c.materialized,!l)throw new Error(function ggt(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}(u))}return new $b(t,r,l.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?er(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${ss({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:er(this.transform.as)}:{}};else{let i=this.transform.as;Ji(i)||(Mi('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),i="_lookup"),t={as:[i]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class UT extends aa{clone(){return new UT(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=vo(i);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${ss(this.transform)}`}assemble(){const{quantile:t,...i}=this.transform;return{type:"quantile",field:t,...i}}}class PT extends aa{clone(){return new PT(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i,this.transform=vo(i);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??i.on,r[1]??i.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${ss(this.transform)}`}assemble(){const{regression:t,on:i,...r}=this.transform;return{type:"regression",x:i,y:t,...r}}}class HT extends aa{clone(){return new HT(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i}addDimensions(t){this.transform.groupby=gg((this.transform.groupby??[]).concat(t),i=>i)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${ss(this.transform)}`}assemble(){const{pivot:t,value:i,groupby:r,limit:o,op:s}=this.transform;return{type:"pivot",field:t,value:i,...void 0!==o?{limit:o}:{},...void 0!==s?{op:s}:{},...void 0!==r?{groupby:r}:{}}}}class QT extends aa{clone(){return new QT(null,vo(this.transform))}constructor(t,i){super(t),this.transform=i}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${ss(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function P9e(e){let t=0;return function i(r,o){if(r instanceof B4&&!r.isGenerator&&!u9(r.data)&&(e.push(o),o={name:null,source:o.name,transform:[]}),r instanceof df&&(r.parent instanceof B4&&!o.source?(o.format={...o.format,parse:r.assembleFormatParse()},o.transform.push(...r.assembleTransforms(!0))):o.transform.push(...r.assembleTransforms())),r instanceof v9)return o.name||(o.name="data_"+t++),!o.source||o.transform.length>0?(e.push(o),r.data=o.name):r.data=o.source,void e.push(...r.assemble());switch((r instanceof Hb||r instanceof Qb||r instanceof y9||r instanceof h9||r instanceof p9||r instanceof zb||r instanceof W0||r instanceof $b||r instanceof _9||r instanceof I4||r instanceof LT||r instanceof NT||r instanceof OT||r instanceof RT||r instanceof UT||r instanceof PT||r instanceof Y2||r instanceof QT||r instanceof HT||r instanceof kT)&&o.transform.push(r.assemble()),(r instanceof Fg||r instanceof Ig||r instanceof D4||r instanceof W1||r instanceof b9)&&o.transform.push(...r.assemble()),r instanceof Od&&(o.source&&0===o.transform.length?r.setSource(o.source):r.parent instanceof Od?r.setSource(o.name):(o.name||(o.name="data_"+t++),r.setSource(o.name),1===r.numChildren()&&(e.push(o),o={name:null,source:o.name,transform:[]}))),r.numChildren()){case 0:r instanceof Od&&(!o.source||o.transform.length>0)&&e.push(o);break;case 1:i(r.children[0],o);break;default:{o.name||(o.name="data_"+t++);let s=o.name;!o.source||o.transform.length>0?e.push(o):s=o.source;for(const a of r.children)i(a,{name:null,source:s,transform:[]});break}}}}function f6t(e){return"top"===e||"left"===e||Rr(e)?"header":"footer"}function A6t(e,t){const{facet:i,config:r,child:o,component:s}=e;if(e.channelHasField(t)){const a=i[t],l=m9("title",null,r,t);let u=o9(a,r,{allowDisabling:!0,includeDefault:void 0===l||!!l});o.component.layoutHeaders[t].title&&(u=Xn(u)?u.join(", "):u,u+=` / ${o.component.layoutHeaders[t].title}`,o.component.layoutHeaders[t].title=null);const c=m9("labelOrient",a.header,r,t),f=null!==a.header&&iu(a.header?.labels,r.header.labels,!0),d=es(["bottom","right"],c)?"footer":"header";s.layoutHeaders[t]={title:null!==a.header?u:null,facetFieldDef:a,[d]:"facet"===t?[]:[H9e(e,t,f)]}}}function H9e(e,t,i){const r="row"===t?"height":"width";return{labels:i,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Q9e(e,t){const{child:i}=e;if(i.component.axes[t]){const{layoutHeaders:r,resolve:o}=e.component;if(o.axis[t]=pK(o,t),"shared"===o.axis[t]){const s="x"===t?"column":"row",a=r[s];for(const l of i.component.axes[t]){const u=f6t(l.get("orient"));a[u]??(a[u]=[H9e(e,s,!1)]);const c=Pb(l,"main",e.config,{header:!0});c&&a[u][0].axes.push(c),l.mainExtracted=!0}}}}function FK(e){for(const t of e.children)t.parseLayoutSize()}function VT(e,t){const i=J8e(t),r=LD(i),o=e.component.resolve,s=e.component.layoutSize;let a;for(const l of e.children){const u=l.component.layoutSize.getWithExplicit(i),c=o.scale[r]??t9e(r,e);if("independent"===c&&"step"===u.value){a=void 0;break}if(a){if("independent"===c&&a.value!==u.value){a=void 0;break}a=K2(a,u,i,"")}else a=u}if(a){for(const l of e.children)e.renameSignal(l.getName(i),e.getName(t)),l.component.layoutSize.set(i,"merged",!1);s.setWithExplicit(t,a)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function m6t(e,t){const r=e.config,o=e.getScaleComponent("width"===t?"x":"y");if(o){const s=o.get("type"),a=o.get("range");if(Xu(s)){const l=cT(r.view,t);return c4(a)||Bg(l)?"step":l}return Tj(r.view,t)}if(e.hasProjection||"arc"===e.mark)return Tj(r.view,t);{const s=cT(r.view,t);return Bg(s)?s.step:s}}function OK(e,t,i){return qi(t,{suffix:`by_${qi(e)}`,...i})}class Gb extends U9e{constructor(t,i,r,o){super(t,"facet",i,r,o,t.resolve),this.child=UK(t.spec,this,this.getName("child"),void 0,o),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!Eb(t))return{facet:this.initFacetFieldDef(t,"facet")};const i=oi(t),r={};for(const o of i){if(![F1,O1].includes(o)){Mi(PD(o,"facet"));break}const s=t[o];if(void 0===s.field){Mi(Qq(s,o));break}r[o]=this.initFacetFieldDef(s,o)}return r}initFacetFieldDef(t,i){const r=mj(t,i);return r.header?r.header=bc(r.header):null===r.header&&(r.header=null),r}channelHasField(t){return Ei(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=zT(this),this.child.parseData()}parseLayoutSize(){FK(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>Dg(t))&&zq(Hq)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function d6t(e){for(const t of Sh)A6t(e,t);Q9e(e,"x"),Q9e(e,"y")}(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const i of Sh)for(const r of dK){const o=this.component.layoutHeaders[i],s=o[r],{facetFieldDef:a}=o;if(a){const l=m9("titleOrient",a.header,this.config,i);if(["right","bottom"].includes(l)){const u=MT(i,l);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[u]="end"}}if(s?.[0]){const u="header"===r?"headerBand":"footerBand";"facet"!==i&&!this.child.component.layoutSize.get("row"===i?"height":"width")&&(t[u]??(t[u]={}),t[u][i]=.5),o.title&&(t.offset??(t.offset={}),t.offset["row"===i?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:i}=this.facet,r=t?this.columnDistinctSignal():i?1:void 0;let o="all";return(!i&&"independent"===this.component.resolve.scale.x||!t&&"independent"===this.component.resolve.scale.y)&&(o="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:o}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Gb))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof Gb?{...this.channelHasField("column")?{encode:{update:{columns:{field:qi(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],i=[],r=[];if(this.child instanceof Gb){if(this.child.channelHasField("column")){const o=qi(this.child.facet.column);t.push(o),i.push("distinct"),r.push(`distinct_${o}`)}}else for(const o of U1){const s=this.child.component.scales[o];if(s&&!s.merged){const a=s.get("type"),l=s.get("range");if(Xu(a)&&c4(l)){const c=MK(FT(this.child,o));c?(t.push(c),i.push("distinct"),r.push(`distinct_${c}`)):Mi(Pq(o))}}}return{fields:t,ops:i,as:r}}assembleFacet(){const{name:t,data:i}=this.component.data.facetRoot,{row:r,column:o}=this.facet,{fields:s,ops:a,as:l}=this.getCardinalityAggregateForChild(),u=[];for(const f of Sh){const d=this.facet[f];if(d){u.push(qi(d));const{bin:h,sort:g}=d;if(Qa(h)&&u.push(qi(d,{binSuffix:"end"})),Q1(g)){const{field:v,op:y=XD}=g,b=OK(d,g);r&&o?(s.push(b),a.push("max"),l.push(b)):(s.push(v),a.push(y),l.push(b))}else if(Xn(g)){const v=g9(d,f);s.push(v),a.push("max"),l.push(v)}}}const c=!!r&&!!o;return{name:t,data:i,groupby:u,...c||s.length>0?{aggregate:{...c?{cross:c}:{},...s.length?{fields:s,ops:a,as:l}:{}}}:{}}}facetSortFields(t){const{facet:i}=this,r=i[t];return r?Q1(r.sort)?[OK(r,r.sort,{expr:"datum"})]:Xn(r.sort)?[g9(r,t,{expr:"datum"})]:[qi(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:i}=this,r=i[t];if(r){const{sort:o}=r;return[(Q1(o)?o.order:!Xn(o)&&o)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:i}=this;if(t.facet)return AK(t.facet,"facet",i);const r={row:["top","bottom"],column:["left","right"]};for(const o of fK)if(t[o]){const s=m9("labelOrient",t[o]?.header,i,o);if(r[o].includes(s))return AK(t[o],o,i)}}assembleMarks(){const{child:t}=this,r=function u6t(e){const t=[],i=P9e(t);for(const r of e.children)i(r,{source:e.name,name:null,transform:[]});return t}(this.component.data.facetRoot),o=t.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||t.assembleTitle(),a=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...a?{style:a}:{},from:{facet:this.assembleFacet()},sort:{field:Sh.map(u=>this.facetSortFields(u)).flat(),order:Sh.map(u=>this.facetSortOrder(u)).flat()},...r.length>0?{data:r}:{},...o?{encode:{update:o}}:{},...t.assembleGroup(yvt(this,[]))}]}getMapping(){return this.facet}}function V9e(e,t){for(const i of t){const r=i.data;if(e.name&&i.hasName()&&e.name!==i.dataName)continue;const o=e.format?.mesh,s=r.format?.feature;if(o&&s)continue;const a=e.format?.feature;if((a||s)&&a!==s)continue;const l=r.format?.mesh;if(!o&&!l||o===l)if(Ib(e)&&Ib(r)){if(CA(e.values,r.values))return i}else if(u9(e)&&u9(r)){if(e.url===r.url)return i}else if(Q6e(e)&&e.name===i.dataName)return i}return null}function zT(e){let t=function y6t(e,t){if(e.data||!e.parent){if(null===e.data){const r=new B4({values:[]});return t.push(r),r}const i=V9e(e.data,t);if(i)return W2(e.data)||(i.data.format=W3e({},e.data.format,i.data.format)),!i.hasName()&&e.data.name&&(i.dataName=e.data.name),i;{const r=new B4(e.data);return t.push(r),r}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources);const{outputNodes:i,outputNodeRefCounts:r}=e.component.data,o=e.data,a=o&&(W2(o)||u9(o)||Ib(o))||!e.parent?new fvt:e.parent.component.data.ancestorParse.clone();W2(o)?(V6e(o)?t=new Qb(t,o.sequence):Hj(o)&&(t=new Hb(t,o.graticule)),a.parseNothing=!0):null===o?.format?.parse&&(a.parseNothing=!0),t=df.makeExplicit(t,e,a)??t,t=new Y2(t);const l=e.parent&&w9(e.parent);(Nl(e)||SA(e))&&l&&(t=Fg.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=function _6t(e,t,i){let r=0;for(const o of t.transforms){let s,a;if(j2t(o))a=e=new p9(e,o),s="derived";else if(Rj(o)){const l=c5t(o);a=e=df.makeWithAncestors(e,{},l,i)??e,e=new h9(e,t,o.filter)}else if(O6e(o))a=e=Fg.makeFromTransform(e,o,t),s="number";else if(W2t(o))s="date",void 0===i.getWithExplicit(o.field).value&&(e=new df(e,{[o.field]:s}),i.set(o.field,s,!1)),a=e=Ig.makeFromTransform(e,o);else if(X2t(o))a=e=W0.makeFromTransform(e,o),s="number",Zj(t)&&(e=new Y2(e));else if(F6e(o))a=e=$b.make(e,t,o,r++),s="derived";else if($2t(o))a=e=new _9(e,o),s="number";else if(G2t(o))a=e=new I4(e,o),s="number";else if(Y2t(o))a=e=W1.makeFromTransform(e,o),s="derived";else if(Z2t(o))a=e=new LT(e,o),s="derived";else if(J2t(o))a=e=new kT(e,o),s="derived";else if(q2t(o))a=e=new NT(e,o),s="derived";else if(U2t(o))a=e=new HT(e,o),s="derived";else if(z2t(o))e=new QT(e,o);else if(K2t(o))a=e=D4.makeFromTransform(e,o),s="derived";else if(P2t(o))a=e=new OT(e,o),s="derived";else if(H2t(o))a=e=new UT(e,o),s="derived";else if(Q2t(o))a=e=new PT(e,o),s="derived";else{if(!V2t(o)){Mi(Sgt(o));continue}a=e=new RT(e,o),s="derived"}if(a&&void 0!==s)for(const l of a.producedFields()??[])i.set(l,s,!1)}return e}(t,e,a));const u=function d5t(e){const t={};if(Nl(e)&&e.component.selection)for(const i of oi(e.component.selection)){const r=e.component.selection[i];for(const o of r.project.items)!o.channel&&X8(o.field)>1&&(t[o.field]="flatten")}return t}(e),c=function f5t(e){const t={};function i(r){a9(r)?t[r.field]="date":"quantitative"===r.type&&function Jpt(e){return Ji(e)&&es(["min","max"],e)}(r.aggregate)?t[r.field]="number":X8(r.field)>1?r.field in t||(t[r.field]="flatten"):y4(r)&&Q1(r.sort)&&X8(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Nl(e)||SA(e))&&e.forEachFieldDef((r,o)=>{if(jf(r))i(r);else{const s=l4(o),a=e.fieldDef(s);i({...r,type:a.type})}}),Nl(e)){const{mark:r,markDef:o,encoding:s}=e;if(G2(r)&&!e.encoding.order){const l=s["horizontal"===o.orient?"y":"x"];Fi(l)&&"quantitative"===l.type&&!(l.field in t)&&(t[l.field]="number")}}return t}(e);t=df.makeWithAncestors(t,{},{...u,...c},a)??t,Nl(e)&&(t=b9.parseAll(t,e),t=zb.parseAll(t,e)),(Nl(e)||SA(e))&&(l||(t=Fg.makeFromEncoding(t,e)??t),t=Ig.makeFromEncoding(t,e)??t,t=p9.parseAllForSortIndex(t,e));const f=t=$T(Gl.Raw,e,t);if(Nl(e)){const b=W0.makeFromEncoding(t,e);b&&(t=b,Zj(e)&&(t=new Y2(t))),t=D4.makeFromEncoding(t,e)??t,t=W1.makeFromEncoding(t,e)??t}let d,h;if(Nl(e)){const{markDef:b,mark:E,config:M}=e,k=wa("invalid",b,M),{marks:P,scales:H}=h=$6e({invalid:k,isPath:G2(E)});P!==H&&"include-invalid-values"===H&&(d=t=$T(Gl.PreFilterInvalid,e,t)),"exclude-invalid-values"===P&&(t=y9.make(t,e,h)??t)}const g=t=$T(Gl.Main,e,t);let v;if(Nl(e)&&h){const{marks:b,scales:E}=h;"include-invalid-values"===b&&"exclude-invalid-values"===E&&(t=y9.make(t,e,h)??t,v=t=$T(Gl.PostFilterInvalid,e,t))}Nl(e)&&function a4t(e,t){for(const[i,r]of k2(e.component.selection??{})){const o=e.getName(`lookup_${i}`);e.component.data.outputNodes[o]=r.materialized=new Od(new h9(t,e,{param:i}),o,Gl.Lookup,e.component.data.outputNodeRefCounts)}}(e,g);let y=null;if(SA(e)){const b=e.getName("facet");t=function v6t(e,t){const{row:i,column:r}=t;if(i&&r){let o=null;for(const s of[i,r])if(Q1(s.sort)){const{field:a,op:l=XD}=s.sort;e=o=new I4(e,{joinaggregate:[{op:l,field:a,as:OK(s,s.sort,{forAs:!0})}],groupby:[qi(s)]})}return o}return null}(t,e.facet)??t,y=new v9(t,e,b,g.getSource()),i[b]=y}return{...e.component.data,outputNodes:i,outputNodeRefCounts:r,raw:f,main:g,facetRoot:y,ancestorParse:a,preFilterInvalid:d,postFilterInvalid:v}}function $T(e,t,i){const{outputNodes:r,outputNodeRefCounts:o}=t.component.data,s=t.getDataName(e),a=new Od(i,s,e,o);return r[s]=a,a}class w6t extends TK{constructor(t,i,r,o){super(t,"concat",i,r,o,t.resolve),("shared"===t.resolve?.axis?.x||"shared"===t.resolve?.axis?.y)&&Mi("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),this.children=this.getChildren(t).map((s,a)=>UK(s,this,this.getName(`concat_${a}`),void 0,o))}parseData(){this.component.data=zT(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const i of oi(t.component.selection))this.component.selection[i]=t.component.selection[i]}Object.values(this.component.selection).some(t=>Dg(t))&&zq(Hq)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return uT(t)?t.vconcat:Dj(t)?t.hconcat:t.concat}parseLayoutSize(){!function p6t(e){FK(e);const i=void 0===e.layout.columns?"height":"childHeight";VT(e,1===e.layout.columns?"width":"childWidth"),VT(e,i)}(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((i,r)=>r.assembleSelectionTopLevelSignals(i),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=hK(this);for(const i of this.children)t.push(...i.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((i,r)=>r.assembleSelectionData(i),t)}assembleMarks(){return this.children.map(t=>{const i=t.assembleTitle(),r=t.assembleGroupStyle(),o=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...i?{title:i}:{},...r?{style:r}:{},...o?{encode:{update:o}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...null!=t?{columns:t}:{},bounds:"full",align:"each"}}}const C6t={disable:1,gridScale:1,scale:1,...z5e,labelExpr:1,encode:1},z9e=oi(C6t);class kK extends $1{constructor(t={},i={},r=!1){super(),this.explicit=t,this.implicit=i,this.mainExtracted=r}clone(){return new kK(vo(this.explicit),vo(this.implicit),this.mainExtracted)}hasAxisPart(t){return"axis"===t||("grid"===t||"title"===t?!!this.get(t):!function b6t(e){return!1===e||null===e}(this.get(t)))}hasOrientSignalRef(){return Rr(this.explicit.orient)}}const S6t={bottom:"top",top:"bottom",left:"right",right:"left"};function M6t(e,t){if(!e)return t.map(i=>i.clone());{if(e.length!==t.length)return;const i=e.length;for(let r=0;r<i;r++){const o=e[r],s=t[r];if(!!o!=!!s)return;if(o&&s){const a=o.getWithExplicit("orient"),l=s.getWithExplicit("orient");if(a.explicit&&l.explicit&&a.value!==l.value)return;e[r]=I6t(o,s)}}}return e}function I6t(e,t){for(const i of z9e){const r=K2(e.getWithExplicit(i),t.getWithExplicit(i),i,"axis",(o,s)=>{switch(i){case"title":return M4e(o,s);case"gridScale":return{explicit:o.explicit,value:iu(o.value,s.value)}}return dT(o,s,i,"axis")});e.setWithExplicit(i,r)}return e}function D6t(e,t,i,r,o){if("disable"===t)return void 0!==i;switch(i=i||{},t){case"titleAngle":case"labelAngle":return e===(Rr(i.labelAngle)?i.labelAngle:pb(i.labelAngle));case"values":return!!i.values;case"encode":return!!i.encoding||!!i.labelAngle;case"title":if(e===j8e(r,o))return!0}return e===i[t]}const T6t=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function F6t(e,t){let i=t.axis(e);const r=new kK,o=Tu(t.encoding[e]),{mark:s,config:a}=t,l=i?.orient||a["x"===e?"axisX":"axisY"]?.orient||a.axis?.orient||function m4t(e){return"x"===e?"bottom":"left"}(e),u=t.getScaleComponent(e).get("type"),c=function c4t(e,t,i,r){const o="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:a5e(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],s="x"===e?"axisX":"axisY",a=Rr(i)?"axisOrient":`axis${hb(i)}`,l=[...o,...o.map(c=>s+c.substr(4))],u=["axis",a,s];return{vlOnlyAxisConfig:z8e(l,r,e,i),vgAxisConfig:z8e(u,r,e,i),axisConfigStyle:f4t([...u,...l],r)}}(e,u,l,t.config),f=void 0!==i?!i:uK("disable",a.style,i?.style,c).configValue;if(r.set("disable",f,void 0!==i),f)return r;i=i||{};const d=function h4t(e,t,i,r,o){const s=t?.labelAngle;if(void 0!==s)return Rr(s)?s:pb(s);{const{configValue:a}=uK("labelAngle",r,t?.style,o);return void 0!==a?pb(a):i!==yl||!es([tj,ej],e.type)||Fi(e)&&e.timeUnit?void 0:270}}(o,i,e,a.style,c),h=E5e(i.formatType,o,u),g=C5e(o,o.type,i.format,i.formatType,a,!0),v={fieldOrDatumDef:o,axis:i,channel:e,model:t,scaleType:u,orient:l,labelAngle:d,format:g,formatType:h,mark:s,config:a};for(const E of z9e){const M=E in $8e?$8e[E](v):G5e(E)?i[E]:void 0,k=void 0!==M,P=D6t(M,E,i,t,e);if(k&&P)r.set(E,M,P);else{const{configValue:H,configFrom:X}=G5e(E)&&"values"!==E?uK(E,a.style,i.style,c):{},z=void 0!==H;k&&!z?r.set(E,M,P):("vgAxisConfig"!==X||T6t.has(E)&&z||Mb(H)||Rr(H))&&r.set(E,H,!1)}}const y=i.encoding??{},b=V5e.reduce((E,M)=>{if(!r.hasAxisPart(M))return E;const k=e9e(y[M]??{},t),P="labels"===M?function E6t(e,t,i){const{encoding:r,config:o}=e,s=Tu(r[t])??Tu(r[_g(t)]),a=e.axis(t)||{},{format:l,formatType:u}=a;if(v4(u))return{text:$0({fieldOrDatumDef:s,field:"datum.value",format:l,formatType:u,config:o}),...i};if(void 0===l&&void 0===u&&o.customFormatTypes){if("quantitative"===i9(s)){if(r9(s)&&"normalize"===s.stack&&o.normalizedNumberFormatType)return{text:$0({fieldOrDatumDef:s,field:"datum.value",format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,config:o}),...i};if(o.numberFormatType)return{text:$0({fieldOrDatumDef:s,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}),...i}}if("temporal"===i9(s)&&o.timeFormatType&&Fi(s)&&!s.timeUnit)return{text:$0({fieldOrDatumDef:s,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o}),...i}}return i}(t,e,k):k;return void 0!==P&&!ya(P)&&(E[M]={update:P}),E},{});return ya(b)||r.set("encode",b,!!i.encoding||void 0!==i.labelAngle),r}const k6t={vgMark:"arc",encodeEntry:e=>({...Bh(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Kf("x",e,{defaultPos:"mid"}),...Kf("y",e,{defaultPos:"mid"}),...q1(e,"radius"),...q1(e,"theta")})},N6t={vgMark:"area",encodeEntry:e=>({...Bh(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...mT("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient}),...mT("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient}),...Xj(e)})},L6t={vgMark:"rect",encodeEntry:e=>({...Bh(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...q1(e,"x"),...q1(e,"y")})},R6t={vgMark:"shape",encodeEntry:e=>({...Bh(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,i=t.shape;return[{type:"geoshape",projection:e.projectionName(),...i&&Fi(i)&&i.type===t9?{field:qi(i,{expr:"datum"})}:{}}]}},U6t={vgMark:"image",encodeEntry:e=>({...Bh(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...q1(e,"x"),...q1(e,"y"),...Kj(e,"url")})},P6t={vgMark:"line",encodeEntry:e=>({...Bh(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Kf("x",e,{defaultPos:"mid"}),...Kf("y",e,{defaultPos:"mid"}),...Ec("size",e,{vgChannel:"strokeWidth"}),...Xj(e)})},H6t={vgMark:"trail",encodeEntry:e=>({...Bh(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Kf("x",e,{defaultPos:"mid"}),...Kf("y",e,{defaultPos:"mid"}),...Ec("size",e),...Xj(e)})};function NK(e,t){const{config:i}=e;return{...Bh(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Kf("x",e,{defaultPos:"mid"}),...Kf("y",e,{defaultPos:"mid"}),...Ec("size",e),...Ec("angle",e),...Q6t(e,0,t)}}function Q6t(e,t,i){return i?{shape:{value:i}}:Ec("shape",e)}const V6t={vgMark:"symbol",encodeEntry:e=>NK(e)},z6t={vgMark:"symbol",encodeEntry:e=>NK(e,"circle")},$6t={vgMark:"symbol",encodeEntry:e=>NK(e,"square")},G6t={vgMark:"rect",encodeEntry:e=>({...Bh(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...q1(e,"x"),...q1(e,"y")})},q6t={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,i=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?{...Bh(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...mT("x",e,{defaultPos:"horizontal"===i?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==i}),...mT("y",e,{defaultPos:"vertical"===i?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==i}),...Ec("size",e,{vgChannel:"strokeWidth"})}:{}}},j6t={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:i}=e;return{...Bh(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Kf("x",e,{defaultPos:"mid"}),...Kf("y",e,{defaultPos:"mid"}),...Kj(e),...Ec("size",e,{vgChannel:"fontSize"}),...Ec("angle",e),...d8e("align",K6t(e.markDef,0,t)),...d8e("baseline",W6t(e.markDef,0,t)),...Kf("radius",e,{defaultPos:null}),...Kf("theta",e,{defaultPos:null})}}};function K6t(e,t,i){if(void 0===wa("align",e,i))return"center"}function W6t(e,t,i){if(void 0===wa("baseline",e,i))return"middle"}const GT={arc:k6t,area:N6t,bar:L6t,circle:z6t,geoshape:R6t,image:U6t,line:P6t,point:V6t,rect:G6t,rule:q6t,square:$6t,text:j6t,tick:{vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:i}=e,r=i.orient,o="horizontal"===r?"x":"y",s="horizontal"===r?"y":"x",a="horizontal"===r?"height":"width";return{...Bh(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...q1(e,o),...Kf(s,e,{defaultPos:"mid",vgChannel:"y"===s?"yc":"xc"}),[a]:nl(wa("thickness",i,t))}}},trail:H6t};const $9e="faceted_path_",G9e="stack_group_";function LK(e,t={fromPrefix:""}){const{mark:i,markDef:r,encoding:o,config:s}=e,a=iu(r.clip,function e8t(e){const t=e.getScaleComponent("x"),i=e.getScaleComponent("y");return!(!t?.get("selectionExtent")&&!i?.get("selectionExtent"))||void 0}(e),function t8t(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}(e)),l=C4e(r),u=o.key,c=function J6t(e){const{encoding:t,stack:i,mark:r,markDef:o,config:s}=e,a=t.order;if(!(!Xn(a)&&G0(a)&&vq(a.value)||!a&&vq(wa("order",o,s)))){if((Xn(a)||Fi(a))&&!i)return x4e(a,{expr:"datum"});if(G2(r)){const l="horizontal"===o.orient?"y":"x";if(Fi(t[l]))return{field:l}}}}(e),f=function n8t(e){if(!e.component.selection)return null;const t=oi(e.component.selection).length;let i=t,r=e.parent;for(;r&&0===i;)i=oi(r.component.selection).length,r=r.parent;return i?{interactive:t>0||"geoshape"===e.mark||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}(e),d=wa("aria",r,s),h=GT[i].postEncodingTransform?GT[i].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:GT[i].vgMark,...a?{clip:a}:{},...l?{style:l}:{},...u?{key:u.field}:{},...c?{sort:c}:{},...f||{},...!1===d?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(Gl.Main)},encode:{update:GT[i].encodeEntry(e)},...h?{transform:h}:{}}]}class q9e extends U9e{constructor(t,i,r,o={},s){super(t,"unit",i,r,s,void 0,p6e(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=c=>(c.from?.data&&(c.from.data=this.lookupDataSource(c.from.data),"time"in this.encoding&&(c.from.data=c.from.data+"_curr")),c.from?.facet?.data&&(c.from.facet.data=this.lookupDataSource(c.from.facet.data)),c);const a=z0(t.mark)?{...t.mark}:{type:t.mark},l=a.type;void 0===a.filled&&(a.filled=function B2t(e,t,{graticule:i}){if(i)return!1;const r=bg("filled",e,t),o=e.type;return iu(r,o!==jD&&o!==qD&&o!==KD)}(a,s,{graticule:t.data&&Hj(t.data)}));const u=this.encoding=function kmt(e,t,i,r){const o={};for(const s of oi(e))c4e(s)||Mi(Lgt(s));for(let s of Qpt){if(!e[s])continue;const a=e[s];if(vb(s)){const l=Hpt(s),u=o[l];if(Fi(u)&&L1t(u.type)&&Fi(a)&&!u.timeUnit){Mi(Dgt(l));continue}}if("angle"===s&&"arc"===t&&!e.theta&&(Mi("Arc marks uses theta channel rather than angle, replacing angle with theta."),s=Eh),Omt(e,s,t))if(s===L1&&"line"===t&&q0(e[s])?.aggregate)Mi("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");else if(s===Dd&&(i?"fill"in e:"stroke"in e))Mi(U4e("encoding",{fill:"fill"in e,stroke:"stroke"in e}));else if(s===mb||s===Z8&&!Xn(a)&&!G0(a)||s===a4&&Xn(a)){if(a){if(s===Z8){const l=e[s];if(F5e(l)){o[s]=l;continue}}o[s]=er(a).reduce((l,u)=>(Fi(u)?l.push(mj(u,s)):Mi(Qq(u,s)),l),[])}}else{if(s===a4&&null===a)o[s]=null;else if(!(Fi(a)||Sg(a)||G0(a)||xb(a)||Rr(a))){Mi(Qq(a,s));continue}o[s]=P5e(a,s,r)}else Mi(PD(s,t))}return o}(t.encoding||{},l,a.filled,s);this.markDef=E6e(a,u,s),this.size=function O6t({encoding:e,size:t}){for(const i of U1){const r=Fd(i);Bg(t[r])&&j2(e[i])&&(delete t[r],Mi(H4e(r)))}return t}({encoding:u,size:p6e(t)?{...o,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:o}),this.stack=C6e(this.markDef,u),this.specifiedScales=this.initScales(l,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(c=>Mj(c))}get hasProjection(){const{encoding:t}=this,i=this.mark===h5e,r=t&&Lpt.some(o=>Bo(t[o]));return i||r}scaleDomain(t){const i=this.specifiedScales[t];return i?i.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,i){return Oq.reduce((r,o)=>{const s=Tu(i[o]);return s&&(r[o]=this.initScale(s.scale??{})),r},{})}initScale(t){const{domain:i,range:r}=t,o=bc(t);return Xn(i)&&(o.domain=i.map(EA)),Xn(r)&&(o.range=r.map(EA)),o}initAxes(t){return U1.reduce((i,r)=>{const o=t[r];if(Bo(o)||r===yl&&Bo(t.x2)||r===Ku&&Bo(t.y2)){const s=Bo(o)?o.axis:void 0;i[r]=s&&this.initAxis({...s})}return i},{})}initAxis(t){const i=oi(t),r={};for(const o of i){const s=t[o];r[o]=Mb(s)?_4e(s):EA(s)}return r}initLegends(t){return $pt.reduce((i,r)=>{const o=Tu(t[r]);if(o&&function qpt(e){switch(e){case Dd:case vg:case yg:case L1:case Td:case R1:case P2:case H2:return!0;case R2:case U2:case s4:case L2:return!1}}(r)){const s=o.legend;i[r]=s&&bc(s)}return i},{})}parseData(){this.component.data=zT(this)}parseLayoutSize(){!function g6t(e){const{size:t,component:i}=e;for(const r of U1){const o=Fd(r);if(t[o]){const s=t[o];i.layoutSize.set(o,Bg(s)?"step":s,!0)}else{const s=m6t(e,o);i.layoutSize.set(o,s,!1)}}}(this)}parseSelections(){this.component.selection=function s4t(e,t){const i={},r=e.config.selection;if(!t||!t.length)return i;let o=0;for(const s of t){const a=vl(s.name),l=s.select,u=Ji(l)?l:l.type,c=Zi(l)?vo(l):{type:u},f=r[u];for(const g in f)"fields"===g||"encodings"===g||("mark"===g&&(c.mark={...f.mark,...c.mark}),(void 0===c[g]||!0===c[g])&&(c[g]=vo(f[g]??c[g])));const d=i[a]={...c,name:a,type:u,init:s.value,bind:s.bind,events:Ji(c.on)?F2(c.on,"scope"):er(vo(c.on))};if(Dg(d)&&(o++,o>1)){delete i[a];continue}const h=vo(s);for(const g of _T)g.defined(d)&&g.parse&&g.parse(e,d,h)}return o>1&&Mi("Multiple timer selections in one unit spec are not supported. Ignoring all but the first."),i}(this,this.selection)}parseMarkGroup(){this.component.mark=function X6t(e){if(es([qD,$D,J1t],e.mark)){const t=Y5e(e.mark,e.encoding);if(t.length>0)return function Y6t(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:$9e+e.requestDataName(Gl.Main),data:e.requestDataName(Gl.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:LK(e,{fromPrefix:$9e})}]}(e,t)}else if(e.mark===GD){const t=Lq.some(i=>wa(i,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return function Z6t(e){const[t]=LK(e,{fromPrefix:G9e}),i=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),o=(c,f)=>`${c}(${[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})].map(h=>`scale('${i}',${h})`).join(",")})`;let s,a;"x"===e.stack.fieldChannel?(s={...j8(t.encode.update,["y","yc","y2","height",...Lq]),x:{signal:o("min","datum")},x2:{signal:o("max","datum")},clip:{value:!0}},a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Id(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(s={...j8(t.encode.update,["x","xc","x2","width"]),y:{signal:o("min","datum")},y2:{signal:o("max","datum")},clip:{value:!0}},a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Id(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of Lq){const f=bg(c,e.markDef,e.config);t.encode.update[c]?(s[c]=t.encode.update[c],delete t.encode.update[c]):f&&(s[c]=nl(f)),f&&(t.encode.update[c]={value:0})}const l=[];if(e.stack.groupbyChannels?.length>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=qi(f);d&&l.push(d),(f?.bin||f?.timeUnit)&&l.push(qi(f,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=bg(f,e.markDef,e.config);return void 0!==d?{...c,[f]:nl(d)}:c}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Gl.Main),name:G9e+e.requestDataName(Gl.Main),groupby:l,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:a},marks:[t]}]}]}(e)}return LK(e)}(this)}parseAxesAndHeaders(){this.component.axes=function x6t(e){return U1.reduce((t,i)=>(e.component.scales[i]&&(t[i]=[F6t(i,e)]),t),{})}(this)}assembleSelectionTopLevelSignals(t){return function _vt(e,t){let i=!1;for(const r of _c(e.component.selection??{})){const o=r.name,s=Li(o+b4);if(0===t.filter(l=>l.name===o).length){const u="point"===r.type?", true, true)":")";t.push({name:r.name,update:`${C8e}(${s}, ${Li("global"===r.resolve?"union":r.resolve)}${u}`})}i=!0;for(const l of _T)l.defined(r)&&l.topLevelSignals&&(t=l.topLevelSignals(e,r,t))}return i&&0===t.filter(o=>"unit"===o.name).length&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),Gj(t)}(this,t)}assembleSignals(){return[...V8e(this),...vvt(this,[])]}assembleSelectionData(t){return function wvt(e,t){const i=[],r=[],o=C4(e,{escape:!1});for(const s of _c(e.component.selection??{})){const a={name:s.name+b4};if(s.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:j0}}]),s.init){const u=s.project.items.map(Z6e);a.values=s.init.map(s.project.hasSelectionId?c=>({unit:o,[j0]:w4(c,!1)[0]}):c=>({unit:o,fields:u,values:w4(c,!1)}))}if([...i,...t].filter(u=>u.name===s.name+b4).length||i.push(a),Dg(s)&&t.length){const u=e.lookupDataSource(e.getDataName(Gl.Main)),c=t.find(d=>d.name===u),f=c.transform.find(d=>"filter"===d.type&&d.expr.includes("vlSelectionTest"));f&&(c.transform=c.transform.filter(h=>h!==f),r.push({name:c.name+"_curr",source:c.name,transform:[f]}))}}return i.concat(t,r)}(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return hK(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!w9(this.parent))&&(t=J6e(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return void 0!==t?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return _4(this.encoding,t)}fieldDef(t){return q0(this.encoding[t])}typedFieldDef(t){const i=this.fieldDef(t);return jf(i)?i:null}}class RK extends TK{constructor(t,i,r,o,s){super(t,"layer",i,r,s,t.resolve,t.view);const a={...o,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((l,u)=>{if(fT(l))return new RK(l,this,this.getName(`layer_${u}`),a,s);if(V1(l))return new q9e(l,this,this.getName(`layer_${u}`),a,s);throw new Error(Uq(l))})}parseData(){this.component.data=zT(this);for(const t of this.children)t.parseData()}parseLayoutSize(){!function h6t(e){FK(e),VT(e,"width"),VT(e,"height")}(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const i of oi(t.component.selection))this.component.selection[i]=t.component.selection[i]}Object.values(this.component.selection).some(t=>Dg(t))&&zq(Hq)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){!function B6t(e){const{axes:t,resolve:i}=e.component,r={top:0,bottom:0,right:0,left:0};for(const o of e.children){o.parseAxesAndHeaders();for(const s of oi(o.component.axes))i.axis[s]=pK(e.component.resolve,s),"shared"===i.axis[s]&&(t[s]=M6t(t[s],o.component.axes[s]),t[s]||(i.axis[s]="independent",delete t[s]))}for(const o of U1){for(const s of e.children)if(s.component.axes[o]){if("independent"===i.axis[o]){t[o]=(t[o]??[]).concat(s.component.axes[o]);for(const a of s.component.axes[o]){const{value:l,explicit:u}=a.getWithExplicit("orient");if(!Rr(l)){if(r[l]>0&&!u){const c=S6t[l];r[l]>r[c]&&a.set("orient",c,!1)}r[l]++}}}delete s.component.axes[o]}if("independent"===i.axis[o]&&t[o]&&t[o].length>1)for(const[s,a]of(t[o]||[]).entries())s>0&&a.get("grid")&&!a.explicit.grid&&(a.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((i,r)=>r.assembleSelectionTopLevelSignals(i),t)}assembleSignals(){return this.children.reduce((t,i)=>t.concat(i.assembleSignals()),V8e(this))}assembleLayoutSignals(){return this.children.reduce((t,i)=>t.concat(i.assembleLayoutSignals()),hK(this))}assembleSelectionData(t){return this.children.reduce((i,r)=>r.assembleSelectionData(i),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const o of er(r.assembleGroupStyle()))t.add(o);const i=Array.from(t);return i.length>1?i:1===i.length?i[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const i of this.children)if(t=i.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return function bvt(e,t){for(const i of e.children)Nl(i)&&(t=J6e(i,t));return t}(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,i)=>t.concat(i.assembleLegends()),f9e(this))}}function UK(e,t,i,r,o){if(YD(e))return new Gb(e,t,i,o);if(fT(e))return new RK(e,t,i,r,o);if(V1(e))return new q9e(e,t,i,r,o);if(function n2t(e){return uT(e)||Dj(e)||Ij(e)}(e))return new w6t(e,t,i,o);throw new Error(Uq(e))}function i8t(e,t={}){t.logger&&function p1t(e){Cg=e}(t.logger),t.fieldTitle&&U5e(t.fieldTitle);try{const i=w6e(O6(t.config,e.config)),r=R6e(e,i),o=UK(r,null,"",void 0,i);return o.parse(),function M5t(e,t){EK(e.sources);let i=0,r=0;for(let o=0;o<TT&&_9e(e,t,!0);o++)i++;e.sources.map(bK);for(let o=0;o<TT&&_9e(e,t,!1);o++)r++;EK(e.sources),Math.max(i,r)===TT&&Mi(`Maximum optimization runs(${TT}) reached.`)}(o.component.data,o),{spec:o8t(o,r8t(e,r.autosize,i,o),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&function G4e(){return Cg=$4e,Cg}(),t.fieldTitle&&function Bmt(){U5e(L5e)}()}}function r8t(e,t,i,r){const o=r.component.layoutSize.get("width"),s=r.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Ji(t)&&(t={type:t}),o&&s&&function lvt(e){return["fit","fit-x","fit-y"].includes(e)}(t.type))if("step"===o&&"step"===s)Mi(T4e()),t.type="pad";else if("step"===o||"step"===s){const a="step"===o?"width":"height";Mi(T4e(LD(a))),t.type=function uvt(e){return e?`fit-${LD(e)}`:"fit"}("width"===a?"height":"width")}return{...1===oi(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t},...P6e(i,!1),...P6e(e,!0)}}function o8t(e,t,i={},r){const o=e.config?function p2t(e){e=vo(e);for(const t of A2t)delete e[t];if(e.axis)for(const t in e.axis)Mb(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of Ymt)delete e.legend[t];if(e.mark){for(const t of g5e)delete e.mark[t];e.mark.tooltip&&Zi(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(A6e(e.params)),delete e.params);for(const t of d2t){for(const r of g5e)delete e[t][r];const i=h2t[t];if(i)for(const r of i)delete e[t][r];m2t(e,t)}for(const t of function Xmt(){return oi(Ej)}())delete e[t];!function g2t(e){const{titleMarkConfig:t,subtitleMarkConfig:i,subtitle:r}=y4e(e.title);ya(t)||(e.style["group-title"]={...e.style["group-title"],...t}),ya(i)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...i}),ya(r)?delete e.title:e.title=r}(e);for(const t in e)Zi(e[t])&&ya(e[t])&&delete e[t];return ya(e)?void 0:e}(e.config):void 0,s=function c6t(e,t){const i=[],r=P9e(i);let o=0;for(const a of e.sources){a.hasName()||(a.dataName="source_"+o++);const l=a.assemble();r(a,l)}for(const a of i)0===a.transform.length&&delete a.transform;let s=0;for(const[a,l]of i.entries())0===(l.transform??[]).length&&!l.source&&i.splice(s++,0,i.splice(a,1)[0]);for(const a of i)for(const l of a.transform??[])"lookup"===l.type&&(l.from=e.outputNodes[l.from].getSource());for(const a of i)a.name in t&&(a.values=t[a.name]);return i}(e.component.data,i),a=e.assembleSelectionData(s),l=e.assembleProjections(),u=e.assembleTitle(),c=e.assembleGroupStyle(),f=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(v=>"width"!==v.name&&"height"!==v.name||void 0===v.value||(t[v.name]=+v.value,!1));const{params:h,...g}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...g,...u?{title:u}:{},...c?{style:c}:{},...f?{encode:{update:f}}:{},data:a,...l.length>0?{projections:l}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...A6e(h)]),...o?{config:o}:{},...r?{usermeta:r}:{}}}const s8t="5.23.0",j9e=function a8t(e){const[t,i]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:i}};const C9="#fff",B8t={background:"#333",view:{stroke:"#888"},title:{color:C9,subtitleColor:C9},style:{"guide-label":{fill:C9},"guide-title":{fill:C9}},axis:{domainColor:C9,gridColor:"#888",tickColor:C9}},T4="#4572a7",M8t={background:"#fff",arc:{fill:T4},area:{fill:T4},line:{stroke:T4,strokeWidth:2},path:{stroke:T4},rect:{fill:T4},shape:{stroke:T4},symbol:{fill:T4,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},F4="#30a2da",PK="#cbcbcb",T8t={arc:{fill:F4},area:{fill:F4},axis:{domainColor:PK,grid:!0,gridColor:PK,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:PK,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:F4,strokeWidth:2},path:{stroke:F4,strokeWidth:.5},rect:{fill:F4},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:F4},bar:{binSpacing:2,fill:F4,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},O4="#000",F8t={group:{fill:"#e5e5e5"},arc:{fill:O4},area:{fill:O4},line:{stroke:O4},path:{stroke:O4},rect:{fill:O4},shape:{stroke:O4},symbol:{fill:O4,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Y9e="Benton Gothic, sans-serif",k4="#82c6df",HK="Benton Gothic Bold, sans-serif",qb={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},L8t={background:"#ffffff",title:{anchor:"start",color:"#000000",font:HK,fontSize:22,fontWeight:"normal"},arc:{fill:k4},area:{fill:k4},line:{stroke:k4,strokeWidth:2},path:{stroke:k4},rect:{fill:k4},shape:{stroke:k4},symbol:{fill:k4,size:30},axis:{labelFont:Y9e,labelFontSize:11.5,labelFontWeight:"normal",titleFont:HK,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Y9e,labelFontSize:11.5,symbolType:"square",titleFont:HK,titleFontSize:13,titleFontWeight:"normal"},range:{category:qb["category-6"],diverging:qb["fireandice-6"],heatmap:qb["fire-7"],ordinal:qb["fire-7"],ramp:qb["fire-7"]}},N4="#ab5787",qT="#979797",R8t={background:"#f9f9f9",arc:{fill:N4},area:{fill:N4},line:{stroke:N4},path:{stroke:N4},rect:{fill:N4},shape:{stroke:N4},symbol:{fill:N4,size:30},axis:{domainColor:qT,domainWidth:.5,gridWidth:.2,labelColor:qT,tickColor:qT,tickWidth:.2,titleColor:qT},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},L4="#3e5c69",U8t={background:"#fff",arc:{fill:L4},area:{fill:L4},line:{stroke:L4},path:{stroke:L4},rect:{fill:L4},shape:{stroke:L4},symbol:{fill:L4},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Mh="#1696d2",jT="Lato",QK="Lato",jb={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},z8t={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:jT},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:QK,labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:jT},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:QK,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:jT,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:QK,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:jT,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:jb["six-groups-cat-1"],diverging:jb["diverging-colors"],heatmap:jb["diverging-colors"],ordinal:jb["six-groups-seq"],ramp:jb["shades-blue"]},area:{fill:Mh},rect:{fill:Mh},line:{color:Mh,stroke:Mh,strokeWidth:5},trail:{color:Mh,stroke:Mh,strokeWidth:0,size:1},path:{stroke:Mh,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:Mh,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Mh,stroke:null}},arc:{fill:Mh},shape:{stroke:Mh},symbol:{fill:Mh,size:30}},R4="#3366CC",KT="Arial, sans-serif",$8t={arc:{fill:R4},area:{fill:R4},path:{stroke:R4},rect:{fill:R4},shape:{stroke:R4},symbol:{stroke:R4},circle:{fill:R4},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:KT,fontSize:12},"guide-title":{font:KT,fontSize:12},"group-title":{font:KT,fontSize:12}},title:{font:KT,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},VK=e=>e*(1/3+1),iye=VK(9),rye=VK(10),oye=VK(12),Kb="Segoe UI",sye="wf_standard-font, helvetica, arial, sans-serif",Wb="#605E5C",lye="transparent",Y0="#118DFF",fye=["#DEEFFF",Y0],J8t={view:{stroke:lye},background:lye,font:Kb,header:{titleFont:sye,titleFontSize:oye,titleColor:"#252423",labelFont:Kb,labelFontSize:rye,labelColor:Wb},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Wb,labelFontSize:iye,titleFont:sye,titleColor:"#252423",titleFontSize:oye,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:"#C8C6C4",gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Y0},line:{stroke:Y0,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Kb,fontSize:iye,fill:Wb},arc:{fill:Y0},area:{fill:Y0,line:!0,opacity:.6},path:{stroke:Y0},rect:{fill:Y0},point:{fill:Y0,filled:!0,size:75},shape:{stroke:Y0},symbol:{fill:Y0,strokeWidth:1.5,size:50},legend:{titleFont:Kb,titleFontWeight:"bold",titleColor:Wb,labelFont:Kb,labelFontSize:rye,labelColor:Wb,symbolType:"circle",symbolSize:75},range:{category:[Y0,"#12239E","#E66C37","#6B007B","#E044A7","#744EC2","#D9B300","#D64550"],diverging:fye,heatmap:fye,ordinal:["#DEEFFF","#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Y0]}},zK='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',WT={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},t9t=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],n9t=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function XT({theme:e,background:t}){const i=["white","g10"].includes(e)?"light":"dark",r=WT.gridBg[e],o=WT.textPrimary[e],s=WT.textSecondary[e],l="dark"===i?"#d4bbff":"#6929c4";return{background:t,arc:{fill:l},area:{fill:l},path:{stroke:l},rect:{fill:l},shape:{stroke:l},symbol:{stroke:l},circle:{fill:l},view:{fill:r,stroke:r},group:{fill:r},title:{color:o,anchor:"start",dy:-15,fontSize:16,font:zK,fontWeight:600},axis:{labelColor:s,labelFontSize:12,labelFont:'IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',labelFontWeight:400,titleColor:o,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:WT.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:zK,fill:s,fontWeight:400},"guide-title":{font:zK,fill:s,fontWeight:400}},range:{category:"dark"===i?t9t:n9t,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const i9t=XT({theme:"white",background:"#ffffff"}),r9t=XT({theme:"g10",background:"#f4f4f4"}),o9t=XT({theme:"g90",background:"#262626"}),s9t=XT({theme:"g100",background:"#161616"}),a9t="2.15.0";function dye(e,t){return JSON.stringify(e,function D9t(e){const t=[];return function(i,r){if("object"!=typeof r||null===r)return r;const o=t.indexOf(this)+1;return t.length=o,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}const Aye="vg-tooltip-element",F9t={offsetX:10,offsetY:10,id:Aye,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function O9t(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function I9t(e,t,i,r){if(Xn(e))return`[${e.map(o=>t(Ji(o)?o:dye(o,i))).join(", ")}]`;if(Zi(e)){let o="";const{title:s,image:a,...l}=e;s&&(o+=`<h2>${t(s)}</h2>`),a&&(o+=`<img src="${new URL(t(a),r||location.href).href}">`);const u=Object.keys(l);if(u.length>0){o+="<table>";for(const c of u){let f=l[c];void 0!==f&&(Zi(f)&&(f=dye(f,i)),o+=`<tr><td class="key">${t(c)}</td><td class="value">${t(f)}</td></tr>`)}o+="</table>"}return o||"{}"}return t(e)},baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function hye(e,t,{offsetX:i,offsetY:r}){const o=pye({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,i,r),s=["bottom-right","bottom-left","top-right","top-left"];for(const a of s)if(gye(o[a],t))return o[a];return o["top-left"]}function pye(e,t,i,r){const a=e.x1-t.width-i,l=(e.x1+e.x2)/2-t.width/2,u=e.x2+i,c=e.y1-t.height-r,f=(e.y1+e.y2)/2-t.height/2,d=e.y2+r;return{top:{x:l,y:c},bottom:{x:l,y:d},left:{x:a,y:f},right:{x:u,y:f},"top-left":{x:a,y:c},"top-right":{x:u,y:c},"bottom-left":{x:a,y:d},"bottom-right":{x:u,y:d}}}function gye(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function R9t(e,t,i){return e.clientX>=t.x&&e.clientX<=t.x+i.width&&e.clientY>=t.y&&e.clientY<=t.y+i.height}class mye{constructor(t){this.options={...F9t,...t};const i=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function k9t(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace(Aye,e)}(i);const o=document.head;o.childNodes.length>0?o.insertBefore(r,o.childNodes[0]):o.appendChild(r)}}tooltipHandler(t,i,r,o){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),null==o||""===o)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=this.options.formatTooltip(o,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:a}="mark"===this.options.anchor?function N9t(e,t,i,r,o){const{position:s,offsetX:a,offsetY:l}=o,f=function L9t(e,t,i){const r=i.isVoronoi?i.datum.bounds:i.bounds;let o=e.left+t[0]+r.x1,s=e.top+t[1]+r.y1,a=i;for(;a.mark.group;)a=a.mark.group,o+=a.x??0,s+=a.y??0;return{x1:o,x2:o+(r.x2-r.x1),y1:s,y2:s+(r.y2-r.y1)}}(e._el.getBoundingClientRect(),e._origin,i),d=pye(f,r,a,l),h=Array.isArray(s)?s:[s];for(const g of h)if(gye(d[g],r)&&!R9t(t,d[g],r))return d[g];return hye(t,r,o)}(t,i,r,this.el.getBoundingClientRect(),this.options):hye(i,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${a}px`,this.el.style.left=`${s}px`}}var U9t=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),P9t=Object.prototype.hasOwnProperty;function GK(e,t){return P9t.call(e,t)}function qK(e){if(Array.isArray(e)){for(var t=new Array(e.length),i=0;i<t.length;i++)t[i]=""+i;return t}if(Object.keys)return Object.keys(e);var r=[];for(var o in e)GK(e,o)&&r.push(o);return r}function BA(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function jK(e){for(var r,t=0,i=e.length;t<i;){if(!((r=e.charCodeAt(t))>=48&&r<=57))return!1;t++}return!0}function U4(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function vye(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function KK(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,i=e.length;t<i;t++)if(KK(e[t]))return!0}else if("object"==typeof e)for(var r=qK(e),o=r.length,s=0;s<o;s++)if(KK(e[r[s]]))return!0;return!1}function yye(e,t){var i=[e];for(var r in t){var o="object"==typeof t[r]?JSON.stringify(t[r],null,2):t[r];typeof o<"u"&&i.push(r+": "+o)}return i.join("\n")}var _ye=function(e){function t(i,r,o,s,a){var l=this.constructor,u=e.call(this,yye(i,{name:r,index:o,operation:s,tree:a}))||this;return u.name=r,u.index=o,u.operation=s,u.tree=a,Object.setPrototypeOf(u,l.prototype),u.message=yye(i,{name:r,index:o,operation:s,tree:a}),u}return U9t(t,e),t}(Error),ql=_ye,E9={add:function(e,t,i){return e[t]=this.value,{newDocument:i}},remove:function(e,t,i){var r=e[t];return delete e[t],{newDocument:i,removed:r}},replace:function(e,t,i){var r=e[t];return e[t]=this.value,{newDocument:i,removed:r}},move:function(e,t,i){var r=YT(i,this.path);r&&(r=BA(r));var o=P4(i,{op:"remove",path:this.from}).removed;return P4(i,{op:"add",path:this.path,value:o}),{newDocument:i,removed:r}},copy:function(e,t,i){var r=YT(i,this.from);return P4(i,{op:"add",path:this.path,value:BA(r)}),{newDocument:i}},test:function(e,t,i){return{newDocument:i,test:Xb(e[t],this.value)}},_get:function(e,t,i){return this.value=e[t],{newDocument:i}}},Q9t={add:function(e,t,i){return jK(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:i,index:t}},remove:function(e,t,i){return{newDocument:i,removed:e.splice(t,1)[0]}},replace:function(e,t,i){var r=e[t];return e[t]=this.value,{newDocument:i,removed:r}},move:E9.move,copy:E9.copy,test:E9.test,_get:E9._get};function YT(e,t){if(""==t)return e;var i={op:"_get",path:t};return P4(e,i),i.value}function P4(e,t,i,r,o,s){if(void 0===i&&(i=!1),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===s&&(s=0),i&&("function"==typeof i?i(t,0,e,t.path):JT(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=YT(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=Xb(e,t.value),!1===a.test)throw new ql("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(i)throw new ql("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return a}r||(e=BA(e));var u=(t.path||"").split("/"),c=e,f=1,d=u.length,h=void 0,g=void 0,v=void 0;for(v="function"==typeof i?i:JT;;){if((g=u[f])&&-1!=g.indexOf("~")&&(g=vye(g)),o&&("__proto__"==g||"prototype"==g&&f>0&&"constructor"==u[f-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(i&&void 0===h&&(void 0===c[g]?h=u.slice(0,f).join("/"):f==d-1&&(h=t.path),void 0!==h&&v(t,0,e,h)),f++,Array.isArray(c)){if("-"===g)g=c.length;else{if(i&&!jK(g))throw new ql("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);jK(g)&&(g=~~g)}if(f>=d){if(i&&"add"===t.op&&g>c.length)throw new ql("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);if(!1===(a=Q9t[t.op].call(t,c,g,e)).test)throw new ql("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a}}else if(f>=d){if(!1===(a=E9[t.op].call(t,c,g,e)).test)throw new ql("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a}if(c=c[g],i&&f<d&&(!c||"object"!=typeof c))throw new ql("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}function ZT(e,t,i,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!0),i&&!Array.isArray(t))throw new ql("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=BA(e));for(var s=new Array(t.length),a=0,l=t.length;a<l;a++)s[a]=P4(e,t[a],i,!0,o,a),e=s[a].newDocument;return s.newDocument=e,s}function JT(e,t,i,r){if("object"!=typeof e||null===e||Array.isArray(e))throw new ql("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,i);if(!E9[e.op])throw new ql("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,i);if("string"!=typeof e.path)throw new ql("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,i);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new ql('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,i);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new ql("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new ql("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&KK(e.value))throw new ql("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,i);if(i)if("add"==e.op){var o=e.path.split("/").length,s=r.split("/").length;if(o!==s+1&&o!==s)throw new ql("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,i)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new ql("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,i)}else if("move"===e.op||"copy"===e.op){var l=wye([{op:"_get",path:e.from,value:void 0}],i);if(l&&"OPERATION_PATH_UNRESOLVABLE"===l.name)throw new ql("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,i)}}function wye(e,t,i){try{if(!Array.isArray(e))throw new ql("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)ZT(BA(t),BA(e),i||!0);else{i=i||JT;for(var r=0;r<e.length;r++)i(e[r],r,t,void 0)}}catch(o){if(o instanceof ql)return o;throw o}}function Xb(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var o,s,a,i=Array.isArray(e),r=Array.isArray(t);if(i&&r){if((s=e.length)!=t.length)return!1;for(o=s;0!=o--;)if(!Xb(e[o],t[o]))return!1;return!0}if(i!=r)return!1;var l=Object.keys(e);if((s=l.length)!==Object.keys(t).length)return!1;for(o=s;0!=o--;)if(!t.hasOwnProperty(l[o]))return!1;for(o=s;0!=o--;)if(!Xb(e[a=l[o]],t[a]))return!1;return!0}return e!=e&&t!=t}var z9t=Object.freeze({__proto__:null,JsonPatchError:ql,_areEquals:Xb,applyOperation:P4,applyPatch:ZT,applyReducer:function V9t(e,t,i){var r=P4(e,t);if(!1===r.test)throw new ql("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return r.newDocument},deepClone:BA,getValueByPointer:YT,validate:wye,validator:JT}),WK=new WeakMap,$9t=function(){return function e(t){this.observers=new Map,this.obj=t}}(),G9t=function(){return function e(t,i){this.callback=t,this.observer=i}}();function XK(e,t){void 0===t&&(t=!1);var i=WK.get(e.object);YK(i.value,e.object,e.patches,"",t),e.patches.length&&ZT(i.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function YK(e,t,i,r,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var s=qK(t),a=qK(e),l=!1,u=a.length-1;u>=0;u--){var f=e[c=a[u]];if(!GK(t,c)||void 0===t[c]&&void 0!==f&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&i.push({op:"test",path:r+"/"+U4(c),value:BA(f)}),i.push({op:"remove",path:r+"/"+U4(c)}),l=!0):(o&&i.push({op:"test",path:r,value:e}),i.push({op:"replace",path:r,value:t}));else{var d=t[c];"object"==typeof f&&null!=f&&"object"==typeof d&&null!=d&&Array.isArray(f)===Array.isArray(d)?YK(f,d,i,r+"/"+U4(c),o):f!==d&&(o&&i.push({op:"test",path:r+"/"+U4(c),value:BA(f)}),i.push({op:"replace",path:r+"/"+U4(c),value:BA(d)}))}}if(l||s.length!=a.length)for(u=0;u<s.length;u++){var c;!GK(e,c=s[u])&&void 0!==t[c]&&i.push({op:"add",path:r+"/"+U4(c),value:BA(t[c])})}}}var ZK,bye,JK,Cye,Z9t=Object.freeze({__proto__:null,compare:function Y9t(e,t,i){void 0===i&&(i=!1);var r=[];return YK(e,t,r,"",i),r},generate:XK,observe:function X9t(e,t){var r,o=function q9t(e){return WK.get(e)}(e);if(o){var s=function j9t(e,t){return e.observers.get(t)}(o,t);r=s&&s.observer}else o=new $9t(e),WK.set(e,o);if(r)return r;if(r={},o.value=BA(e),t){r.callback=t,r.next=null;var a=function(){XK(r)},l=function(){clearTimeout(r.next),r.next=setTimeout(a)};typeof window<"u"&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return r.patches=[],r.object=e,r.unobserve=function(){XK(r),clearTimeout(r.next),function K9t(e,t){e.observers.delete(t.callback)}(o,r),typeof window<"u"&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},o.observers.set(t,new G9t(t,r)),r},unobserve:function W9t(e,t){t.unobserve()}});function J9t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function eW(){if(Cye)return JK;Cye=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return JK=r=>r?"object"!=typeof r?e:r:t}Object.assign({},z9t,Z9t,{JsonPatchError:_ye,deepClone:BA,escapePathComponent:U4,unescapePathComponent:vye});var tW,Eye,iW,xye,Sye,oW,Bye,sW,Mye,lW,Iye,uW,Dye,cW,Tye,fW,Fye,dW,Oye,AW,kye,hW,Nye,pW,Lye,gW,Rye,mW,Uye,vW,Hye,eF={exports:{}};function nW(){return Eye?tW:(Eye=1,tW={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2})}function tF(){return xye||(xye=1,iW="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),iW}function rW(){return Sye||(Sye=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:o}=nW(),s=tF(),a=(t=e.exports={}).re=[],l=t.safeRe=[],u=t.src=[],c=t.t={};let f=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",o],[d,r]],v=(y,b,E)=>{const M=(y=>{for(const[b,E]of h)y=y.split(`${b}*`).join(`${b}{0,${E}}`).split(`${b}+`).join(`${b}{1,${E}}`);return y})(b),k=f++;s(y,k,b),c[y]=k,u[k]=b,a[k]=new RegExp(b,E?"g":void 0),l[k]=new RegExp(M,E?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),v("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),v("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER",`${d}+`),v("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),v("FULL",`^${u[c.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),v("LOOSE",`^${u[c.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),v("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),v("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),v("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),v("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),v("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),v("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?(?:${u[c.BUILD]})?(?:$|[^\\d])`),v("COERCERTL",u[c.COERCE],!0),v("COERCERTLFULL",u[c.COERCEFULL],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",v("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",v("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(eF,eF.exports)),eF.exports}function aW(){if(Mye)return sW;Mye=1;const e=tF(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:i}=nW(),{safeRe:r,t:o}=rW(),s=eW(),{compareIdentifiers:a}=function tyt(){if(Bye)return oW;Bye=1;const e=/^[0-9]+$/,t=(r,o)=>{const s=e.test(r),a=e.test(o);return s&&a&&(r=+r,o=+o),r===o?0:s&&!a?-1:a&&!s?1:r<o?-1:1};return oW={compareIdentifiers:t,rcompareIdentifiers:(r,o)=>t(o,r)}}();class l{constructor(c,f){if(f=s(f),c instanceof l){if(c.loose===!!f.loose&&c.includePrerelease===!!f.includePrerelease)return c;c=c.version}else if("string"!=typeof c)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const d=c.trim().match(f.loose?r[o.LOOSE]:r[o.FULL]);if(!d)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=d[4]?d[4].split(".").map(h=>{if(/^[0-9]+$/.test(h)){const g=+h;if(g>=0&&g<i)return g}return h}):[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof l)){if("string"==typeof c&&c===this.version)return 0;c=new l(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof l||(c=new l(c,this.options)),a(this.major,c.major)||a(this.minor,c.minor)||a(this.patch,c.patch)}comparePre(c){if(c instanceof l||(c=new l(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let f=0;do{const d=this.prerelease[f],h=c.prerelease[f];if(e("prerelease compare",f,d,h),void 0===d&&void 0===h)return 0;if(void 0===h)return 1;if(void 0===d)return-1;if(d!==h)return a(d,h)}while(++f)}compareBuild(c){c instanceof l||(c=new l(c,this.options));let f=0;do{const d=this.build[f],h=c.build[f];if(e("build compare",f,d,h),void 0===d&&void 0===h)return 0;if(void 0===h)return 1;if(void 0===d)return-1;if(d!==h)return a(d,h)}while(++f)}inc(c,f,d){switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,d),this.inc("pre",f,d);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",f,d),this.inc("pre",f,d);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const h=Number(d)?1:0;if(!f&&!1===d)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[h];else{let g=this.prerelease.length;for(;--g>=0;)"number"==typeof this.prerelease[g]&&(this.prerelease[g]++,g=-2);if(-1===g){if(f===this.prerelease.join(".")&&!1===d)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(h)}}if(f){let g=[f,h];!1===d&&(g=[f]),0===a(this.prerelease[0],f)?isNaN(this.prerelease[1])&&(this.prerelease=g):this.prerelease=g}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return sW=l}function x9(){if(Iye)return lW;Iye=1;const e=aW();return lW=(i,r,o)=>new e(i,o).compare(new e(r,o))}function Pye(){if(Uye)return mW;Uye=1;const e=/\s+/g;class t{constructor(Z,te){if(te=o(te),Z instanceof t)return Z.loose===!!te.loose&&Z.includePrerelease===!!te.includePrerelease?Z:new t(Z.raw,te);if(Z instanceof s)return this.raw=Z.value,this.set=[[Z]],this.formatted=void 0,this;if(this.options=te,this.loose=!!te.loose,this.includePrerelease=!!te.includePrerelease,this.raw=Z.trim().replace(e," "),this.set=this.raw.split("||").map(Ce=>this.parseRange(Ce.trim())).filter(Ce=>Ce.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Ce=this.set[0];if(this.set=this.set.filter(ce=>!y(ce[0])),0===this.set.length)this.set=[Ce];else if(this.set.length>1)for(const ce of this.set)if(1===ce.length&&b(ce[0])){this.set=[ce];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let Z=0;Z<this.set.length;Z++){Z>0&&(this.formatted+="||");const te=this.set[Z];for(let Ce=0;Ce<te.length;Ce++)Ce>0&&(this.formatted+=" "),this.formatted+=te[Ce].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(Z){const Ce=((this.options.includePrerelease&&g)|(this.options.loose&&v))+":"+Z,ce=r.get(Ce);if(ce)return ce;const we=this.options.loose;Z=Z.replace(we?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE],Je(this.options.includePrerelease)),a("hyphen replace",Z),Z=Z.replace(u[c.COMPARATORTRIM],f),a("comparator trim",Z),Z=Z.replace(u[c.TILDETRIM],d),a("tilde trim",Z),Z=Z.replace(u[c.CARETTRIM],h),a("caret trim",Z);let tt=Z.split(" ").map(Vt=>M(Vt,this.options)).join(" ").split(/\s+/).map(Vt=>Ee(Vt,this.options));we&&(tt=tt.filter(Vt=>(a("loose invalid filter",Vt,this.options),!!Vt.match(u[c.COMPARATORLOOSE])))),a("range list",tt);const lt=new Map,Mt=tt.map(Vt=>new s(Vt,this.options));for(const Vt of Mt){if(y(Vt))return[Vt];lt.set(Vt.value,Vt)}lt.size>1&&lt.has("")&&lt.delete("");const bt=[...lt.values()];return r.set(Ce,bt),bt}intersects(Z,te){if(!(Z instanceof t))throw new TypeError("a Range is required");return this.set.some(Ce=>E(Ce,te)&&Z.set.some(ce=>E(ce,te)&&Ce.every(we=>ce.every(Be=>we.intersects(Be,te)))))}test(Z){if(!Z)return!1;if("string"==typeof Z)try{Z=new l(Z,this.options)}catch{return!1}for(let te=0;te<this.set.length;te++)if(Ze(this.set[te],Z,this.options))return!0;return!1}}mW=t;const i=function eyt(){return bye?ZK:(bye=1,ZK=class e{constructor(){this.max=1e3,this.map=new Map}get(i){const r=this.map.get(i);if(void 0!==r)return this.map.delete(i),this.map.set(i,r),r}delete(i){return this.map.delete(i)}set(i,r){if(!this.delete(i)&&void 0!==r){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(i,r)}return this}})}(),r=new i,o=eW(),s=function uyt(){if(Rye)return gW;Rye=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(f,d){if(d=i(d),f instanceof t){if(f.loose===!!d.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),a("comparator",f,d),this.options=d,this.loose=!!d.loose,this.parse(f),this.value=this.semver===e?"":this.operator+this.semver.version,a("comp",this)}parse(f){const h=f.match(this.options.loose?r[o.COMPARATORLOOSE]:r[o.COMPARATOR]);if(!h)throw new TypeError(`Invalid comparator: ${f}`);this.operator=void 0!==h[1]?h[1]:"","="===this.operator&&(this.operator=""),this.semver=h[2]?new l(h[2],this.options.loose):e}toString(){return this.value}test(f){if(a("Comparator.test",f,this.options.loose),this.semver===e||f===e)return!0;if("string"==typeof f)try{f=new l(f,this.options)}catch{return!1}return s(f,this.operator,this.semver,this.options)}intersects(f,d){if(!(f instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(f.value,d).test(this.value):""===f.operator?""===f.value||new u(this.value,d).test(f.semver):!((d=i(d)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===f.value)||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))||!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||s(this.semver,"<",f.semver,d)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||s(this.semver,">",f.semver,d)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}gW=t;const i=eW(),{safeRe:r,t:o}=rW(),s=function lyt(){if(Lye)return pW;Lye=1;const e=function nyt(){if(Dye)return uW;Dye=1;const e=x9();return uW=(i,r,o)=>0===e(i,r,o)}(),t=function iyt(){if(Tye)return cW;Tye=1;const e=x9();return cW=(i,r,o)=>0!==e(i,r,o)}(),i=function ryt(){if(Fye)return fW;Fye=1;const e=x9();return fW=(i,r,o)=>e(i,r,o)>0}(),r=function oyt(){if(Oye)return dW;Oye=1;const e=x9();return dW=(i,r,o)=>e(i,r,o)>=0}(),o=function syt(){if(kye)return AW;kye=1;const e=x9();return AW=(i,r,o)=>e(i,r,o)<0}(),s=function ayt(){if(Nye)return hW;Nye=1;const e=x9();return hW=(i,r,o)=>e(i,r,o)<=0}();return pW=(l,u,c,f)=>{switch(u){case"===":return"object"==typeof l&&(l=l.version),"object"==typeof c&&(c=c.version),l===c;case"!==":return"object"==typeof l&&(l=l.version),"object"==typeof c&&(c=c.version),l!==c;case"":case"=":case"==":return e(l,c,f);case"!=":return t(l,c,f);case">":return i(l,c,f);case">=":return r(l,c,f);case"<":return o(l,c,f);case"<=":return s(l,c,f);default:throw new TypeError(`Invalid operator: ${u}`)}}}(),a=tF(),l=aW(),u=Pye();return gW}(),a=tF(),l=aW(),{safeRe:u,t:c,comparatorTrimReplace:f,tildeTrimReplace:d,caretTrimReplace:h}=rW(),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:v}=nW(),y=W=>"<0.0.0-0"===W.value,b=W=>""===W.value,E=(W,Z)=>{let te=!0;const Ce=W.slice();let ce=Ce.pop();for(;te&&Ce.length;)te=Ce.every(we=>ce.intersects(we,Z)),ce=Ce.pop();return te},M=(W,Z)=>(a("comp",W,Z),W=X(W,Z),a("caret",W),W=P(W,Z),a("tildes",W),W=se(W,Z),a("xrange",W),W=Ie(W,Z),a("stars",W),W),k=W=>!W||"x"===W.toLowerCase()||"*"===W,P=(W,Z)=>W.trim().split(/\s+/).map(te=>H(te,Z)).join(" "),H=(W,Z)=>W.replace(Z.loose?u[c.TILDELOOSE]:u[c.TILDE],(Ce,ce,we,Be,tt)=>{let lt;return a("tilde",W,Ce,ce,we,Be,tt),k(ce)?lt="":k(we)?lt=`>=${ce}.0.0 <${+ce+1}.0.0-0`:k(Be)?lt=`>=${ce}.${we}.0 <${ce}.${+we+1}.0-0`:tt?(a("replaceTilde pr",tt),lt=`>=${ce}.${we}.${Be}-${tt} <${ce}.${+we+1}.0-0`):lt=`>=${ce}.${we}.${Be} <${ce}.${+we+1}.0-0`,a("tilde return",lt),lt}),X=(W,Z)=>W.trim().split(/\s+/).map(te=>z(te,Z)).join(" "),z=(W,Z)=>{a("caret",W,Z);const Ce=Z.includePrerelease?"-0":"";return W.replace(Z.loose?u[c.CARETLOOSE]:u[c.CARET],(ce,we,Be,tt,lt)=>{let Mt;return a("caret",W,ce,we,Be,tt,lt),k(we)?Mt="":k(Be)?Mt=`>=${we}.0.0${Ce} <${+we+1}.0.0-0`:k(tt)?Mt="0"===we?`>=${we}.${Be}.0${Ce} <${we}.${+Be+1}.0-0`:`>=${we}.${Be}.0${Ce} <${+we+1}.0.0-0`:lt?(a("replaceCaret pr",lt),Mt="0"===we?"0"===Be?`>=${we}.${Be}.${tt}-${lt} <${we}.${Be}.${+tt+1}-0`:`>=${we}.${Be}.${tt}-${lt} <${we}.${+Be+1}.0-0`:`>=${we}.${Be}.${tt}-${lt} <${+we+1}.0.0-0`):(a("no pr"),Mt="0"===we?"0"===Be?`>=${we}.${Be}.${tt}${Ce} <${we}.${Be}.${+tt+1}-0`:`>=${we}.${Be}.${tt}${Ce} <${we}.${+Be+1}.0-0`:`>=${we}.${Be}.${tt} <${+we+1}.0.0-0`),a("caret return",Mt),Mt})},se=(W,Z)=>(a("replaceXRanges",W,Z),W.split(/\s+/).map(te=>ye(te,Z)).join(" ")),ye=(W,Z)=>(W=W.trim()).replace(Z.loose?u[c.XRANGELOOSE]:u[c.XRANGE],(Ce,ce,we,Be,tt,lt)=>{a("xRange",W,Ce,ce,we,Be,tt,lt);const Mt=k(we),bt=Mt||k(Be),Vt=bt||k(tt);return"="===ce&&Vt&&(ce=""),lt=Z.includePrerelease?"-0":"",Mt?Ce=">"===ce||"<"===ce?"<0.0.0-0":"*":ce&&Vt?(bt&&(Be=0),tt=0,">"===ce?(ce=">=",bt?(we=+we+1,Be=0,tt=0):(Be=+Be+1,tt=0)):"<="===ce&&(ce="<",bt?we=+we+1:Be=+Be+1),"<"===ce&&(lt="-0"),Ce=`${ce+we}.${Be}.${tt}${lt}`):bt?Ce=`>=${we}.0.0${lt} <${+we+1}.0.0-0`:Vt&&(Ce=`>=${we}.${Be}.0${lt} <${we}.${+Be+1}.0-0`),a("xRange return",Ce),Ce}),Ie=(W,Z)=>(a("replaceStars",W,Z),W.trim().replace(u[c.STAR],"")),Ee=(W,Z)=>(a("replaceGTE0",W,Z),W.trim().replace(u[Z.includePrerelease?c.GTE0PRE:c.GTE0],"")),Je=W=>(Z,te,Ce,ce,we,Be,tt,lt,Mt,bt,Vt,Vn)=>`${te=k(Ce)?"":k(ce)?`>=${Ce}.0.0${W?"-0":""}`:k(we)?`>=${Ce}.${ce}.0${W?"-0":""}`:Be?`>=${te}`:`>=${te}${W?"-0":""}`} ${lt=k(Mt)?"":k(bt)?`<${+Mt+1}.0.0-0`:k(Vt)?`<${Mt}.${+bt+1}.0-0`:Vn?`<=${Mt}.${bt}.${Vt}-${Vn}`:W?`<${Mt}.${bt}.${+Vt+1}-0`:`<=${lt}`}`.trim(),Ze=(W,Z,te)=>{for(let Ce=0;Ce<W.length;Ce++)if(!W[Ce].test(Z))return!1;if(Z.prerelease.length&&!te.includePrerelease){for(let Ce=0;Ce<W.length;Ce++)if(a(W[Ce].semver),W[Ce].semver!==s.ANY&&W[Ce].semver.prerelease.length>0){const ce=W[Ce].semver;if(ce.major===Z.major&&ce.minor===Z.minor&&ce.patch===Z.patch)return!0}return!1}return!0};return mW}var fyt=function cyt(){if(Hye)return vW;Hye=1;const e=Pye();return vW=(i,r,o)=>{try{r=new e(r,o)}catch{return!1}return r.test(i)}}(),Qye=J9t(fyt),Ayt='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n';function Vye(e,...t){for(const i of t)hyt(e,i);return e}function hyt(e,t){for(const i of Object.keys(t))k6(e,i,t[i],!0)}const Og=$t;let Yb=Bi;const zye=typeof window<"u"?window:void 0;void 0===Yb&&zye?.vl?.compile&&(Yb=zye.vl);const Ryt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Uyt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Zb={vega:"Vega","vega-lite":"Vega-Lite"},nF={vega:Og.version,"vega-lite":Yb?Yb.version:"not available"},Pyt={vega:e=>e,"vega-lite":(e,t)=>Yb.compile(e,{config:t}).spec},Hyt='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',Qyt="chart-wrapper";function $ye(e,t,i,r){const o=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${i}</body></html>`,a=window.open("");a.document.write(o+e+s),a.document.title=`${Zb[r]} JSON Source`}function Gye(e){return!(!e||!("load"in e))}function qye(e){return Gye(e)?e:Og.loader(e)}function S9(e,t){return yW.apply(this,arguments)}function yW(){return yW=Tt(function*(e,t,i={}){let r,o;Ji(t)?(o=qye(i.loader),r=JSON.parse(yield o.load(t))):r=t;const s=function $yt(e){const t=e.usermeta?.embedOptions??{};return Ji(t.defaultStyle)&&(t.defaultStyle=!1),t}(r),a=s.loader;(!o||a)&&(o=qye(i.loader??a));const l=yield jye(s,o),u=yield jye(i,o),c={...Vye(u,l),config:O6(u.config??{},l.config??{})};return yield function qyt(e,t){return wW.apply(this,arguments)}(e,r,c,o)}),yW.apply(this,arguments)}function jye(e,t){return _W.apply(this,arguments)}function _W(){return _W=Tt(function*(e,t){const i=Ji(e.config)?JSON.parse(yield t.load(e.config)):e.config??{},r=Ji(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...i?{config:i}:{}}}),_W.apply(this,arguments)}function wW(){return wW=Tt(function*(e,t,i={},r){const o=i.theme?O6(an[i.theme],i.config??{}):i.config,s=Km(i.actions)?i.actions:Vye({},Ryt,i.actions??{}),a={...Uyt,...i.i18n},l=i.renderer??"canvas",u=i.logLevel??Og.Warn,c=i.downloadFileName??"visualization",f="string"==typeof e?document.querySelector(e):e;if(!f)throw new Error(`${e} does not exist`);if(!1!==i.defaultStyle){const H="vega-embed-style",{root:X,rootContainer:z}=function Gyt(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}(f);if(!X.getElementById(H)){const se=document.createElement("style");se.id=H,se.innerHTML=void 0===i.defaultStyle||!0===i.defaultStyle?Ayt.toString():i.defaultStyle,z.appendChild(se)}}const d=function zyt(e,t){if(e.$schema){const i=j9e(e.$schema);t&&t!==i.library&&console.warn(`The given visualization spec is written in ${Zb[i.library]}, but mode argument sets ${Zb[t]??t}.`);const r=i.library;return Qye(nF[r],`^${i.version.slice(1)}`)||console.warn(`The input spec uses ${Zb[r]} ${i.version}, but the current version of ${Zb[r]} is v${nF[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}(t,i.mode);let h=Pyt[d](t,o);if("vega-lite"===d&&h.$schema){const H=j9e(h.$schema);Qye(nF.vega,`^${H.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${H.version}, but current version is v${nF.vega}.`)}f.classList.add("vega-embed"),s&&f.classList.add("has-actions"),f.innerHTML="";let g=f;if(s){const H=document.createElement("div");H.classList.add(Qyt),f.appendChild(H),g=H}const v=i.patch;if(v&&(h=v instanceof Function?v(h):ZT(h,v,!0,!1).newDocument),i.formatLocale&&Og.formatLocale(i.formatLocale),i.timeFormatLocale&&Og.timeFormatLocale(i.timeFormatLocale),i.expressionFunctions)for(const H in i.expressionFunctions){const X=i.expressionFunctions[H];"fn"in X?Og.expressionFunction(H,X.fn,X.visitor):X instanceof Function&&Og.expressionFunction(H,X)}const{ast:y}=i,b=Og.parse(h,"vega-lite"===d?{}:o,{ast:y}),E=new(i.viewClass||Og.View)(b,{loader:r,logLevel:u,renderer:l,...y?{expr:Og.expressionInterpreter??i.expr??Ipt}:{}});if(E.addSignalListener("autosize",(H,X)=>{const{type:z}=X;"fit-x"==z?(g.classList.add("fit-x"),g.classList.remove("fit-y")):"fit-y"==z?(g.classList.remove("fit-x"),g.classList.add("fit-y")):"fit"==z?g.classList.add("fit-x","fit-y"):g.classList.remove("fit-x","fit-y")}),!1!==i.tooltip){const{loader:H,tooltip:X}=i,z=H&&!Gye(H)?H?.baseURL:void 0,se=function Vyt(e){return"function"==typeof e}(X)?X:new mye({baseURL:z,...!0===X?{}:X}).call;E.tooltip(se)}let k,{hover:M}=i;if(void 0===M&&(M="vega"===d),M){const{hoverSet:H,updateSet:X}="boolean"==typeof M?{}:M;E.hover(H,X)}if(i&&(null!=i.width&&E.width(i.width),null!=i.height&&E.height(i.height),null!=i.padding&&E.padding(i.padding)),yield E.initialize(g,i.bind).runAsync(),!1!==s){let H=f;if(!1!==i.defaultStyle||i.forceActionsMenu){const z=document.createElement("details");z.title=a.CLICK_TO_VIEW_ACTIONS,f.append(z),H=z;const se=document.createElement("summary");se.innerHTML=Hyt,z.append(se),k=ye=>{z.contains(ye.target)||z.removeAttribute("open")},document.addEventListener("click",k)}const X=document.createElement("div");if(H.append(X),X.classList.add("vega-actions"),!0===s||!1!==s.export)for(const z of["svg","png"])if(!0===s||!0===s.export||s.export[z]){const se=a[`${z.toUpperCase()}_ACTION`],ye=document.createElement("a"),Ie=Zi(i.scaleFactor)?i.scaleFactor[z]:i.scaleFactor;ye.text=se,ye.href="#",ye.target="_blank",ye.download=`${c}.${z}`,ye.addEventListener("mousedown",function(){var Ee=Tt(function*(Je){Je.preventDefault();const Ze=yield E.toImageURL(z,Ie);this.href=Ze});return function(Je){return Ee.apply(this,arguments)}}()),X.append(ye)}if(!0===s||!1!==s.source){const z=document.createElement("a");z.text=a.SOURCE_ACTION,z.href="#",z.addEventListener("click",function(se){$ye(wU(t),i.sourceHeader??"",i.sourceFooter??"",d),se.preventDefault()}),X.append(z)}if("vega-lite"===d&&(!0===s||!1!==s.compiled)){const z=document.createElement("a");z.text=a.COMPILED_ACTION,z.href="#",z.addEventListener("click",function(se){$ye(wU(h),i.sourceHeader??"",i.sourceFooter??"","vega"),se.preventDefault()}),X.append(z)}if(!0===s||!1!==s.editor){const z=i.editorUrl??"https://vega.github.io/editor/",se=document.createElement("a");se.text=a.EDITOR_ACTION,se.href="#",se.addEventListener("click",function(ye){(function dyt(e,t,i){const r=e.open(t),{origin:a}=new URL(t);let l=40;e.addEventListener("message",function u(f){f.source===r&&(l=0,e.removeEventListener("message",u,!1))},!1),setTimeout(function c(){l<=0||(r.postMessage(i,a),setTimeout(c,250),l-=1)},250)})(window,z,{config:o,mode:v?"vega":d,renderer:l,spec:wU(v?h:t)}),ye.preventDefault()}),X.append(se)}}return{view:E,spec:t,vgSpec:h,finalize:function P(){k&&document.removeEventListener("click",k),E.finalize()},embedOptions:i}}),wW.apply(this,arguments)}const jyt=["ref"];function Kye(e){return e&&e.replace(/\r\n|\r/g,"\n")}let Kyt=(()=>{class e{constructor(i,r){this._differs=i,this._ngZone=r,this.className="",this.name="codemirror",this.autoFocus=!1,this.preserveScrollPosition=!1,this.cursorActivity=new Xi,this.focusChange=new Xi,this.scroll=new Xi,this.drop=new Xi,this.value="",this.disabled=!1,this.isFocused=!1,this.onChange=o=>{},this.onTouched=()=>{}}set options(i){this._options=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}get codeMirrorGlobal(){return this._codeMirror||(this._codeMirror=typeof CodeMirror<"u"?CodeMirror:Promise.resolve().then(ei.t.bind(ei,382,19))),this._codeMirror}ngAfterViewInit(){var i=this;this._ngZone.runOutsideAngular(Tt(function*(){const r=yield i.codeMirrorGlobal;i.codeMirror=(r?.default?r.default:r).fromTextArea(i.ref.nativeElement,i._options),i.codeMirror.on("cursorActivity",s=>i._ngZone.run(()=>i.cursorActive(s))),i.codeMirror.on("scroll",i.scrollChanged.bind(i)),i.codeMirror.on("blur",()=>i._ngZone.run(()=>i.focusChanged(!1))),i.codeMirror.on("focus",()=>i._ngZone.run(()=>i.focusChanged(!0))),i.codeMirror.on("change",(s,a)=>i._ngZone.run(()=>i.codemirrorValueChanged(s,a))),i.codeMirror.on("drop",(s,a)=>{i._ngZone.run(()=>i.dropFiles(s,a))}),i.codeMirror.setValue(i.value)}))}ngDoCheck(){if(!this._differ)return;const i=this._differ.diff(this._options);i&&(i.forEachChangedItem(r=>this.setOptionIfChanged(r.key,r.currentValue)),i.forEachAddedItem(r=>this.setOptionIfChanged(r.key,r.currentValue)),i.forEachRemovedItem(r=>this.setOptionIfChanged(r.key,r.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(i,r){const o=i.getValue();this.value!==o&&(this.value=o,this.onChange(this.value))}setOptionIfChanged(i,r){this.codeMirror&&this.codeMirror.setOption(i,r)}focusChanged(i){this.onTouched(),this.isFocused=i,this.focusChange.emit(i)}scrollChanged(i){this.scroll.emit(i.getScrollInfo())}cursorActive(i){this.cursorActivity.emit(i)}dropFiles(i,r){this.drop.emit([i,r])}writeValue(i){if(null==i)return;if(!this.codeMirror)return void(this.value=i);const r=this.codeMirror.getValue();if(i!==r&&Kye(r)!==Kye(i))if(this.value=i,this.preserveScrollPosition){const o=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(o.left,o.top)}else this.codeMirror.setValue(this.value)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i,this.setOptionIfChanged("readOnly",this.disabled)}}return e.\u0275fac=function(i){return new(i||e)(Wt(Ly),Wt(Zo))},e.\u0275cmp=mo({type:e,selectors:[["ngx-codemirror"]],viewQuery:function(i,r){if(1&i&&Xo(jyt,5),2&i){let o;ao(o=lo())&&(r.ref=o.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus",options:"options",preserveScrollPosition:"preserveScrollPosition"},outputs:{cursorActivity:"cursorActivity",focusChange:"focusChange",scroll:"scroll",drop:"drop"},features:[ra([{provide:fd,useExisting:En(()=>e),multi:!0}])],decls:3,vars:7,consts:[["ref",""],["autocomplete","off",3,"name","autofocus"]],template:function(i,r){1&i&&(st(0,"textarea",1,0),Jn(2,"    "),dt()),2&i&&(function HZ(e,t,i){Yh(Gi,Tp,I5(Fn(),e,t,i),!0)}("ngx-codemirror ",r.className,""),Wh("ngx-codemirror--focused",r.isFocused),Le("name",r.name)("autofocus",r.autoFocus))},encapsulation:2,changeDetection:0}),e})(),Wye=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yo({type:e}),e.\u0275inj=nr({}),e})();var Wyt=ei(239),Xyt=ei.n(Wyt),Yyt=ei(784);const bW=()=>({standalone:!0}),Zyt=()=>({name:"javascript",json:!0}),Jyt=e=>({lineNumbers:!0,theme:"default",mode:e,readOnly:!0,showCursorWhenSelecting:!0});let e7t=(()=>{class e{ref;config;cd;binningMethodObj;dct_id;objectValues=Object.values;dpi=300;scale=1;isExporting=!1;constructor(i,r,o){this.ref=i,this.config=r,this.cd=o,this.binningMethodObj=r.data.binningMethodObj,this.dct_id=r.data.dct_id}showGlobalLoadingSpinner(){const i=document.getElementById("global-loading-spinner");i&&i.classList.add("show")}hideGlobalLoadingSpinner(){const i=document.getElementById("global-loading-spinner");i&&i.classList.remove("show")}exportAsPNG(i,r,o){this.showGlobalLoadingSpinner(),this.isExporting=!0,this.cd.detectChanges();const s=parseFloat(o.toString())||1,a=parseInt(r.toString(),10)||300,l=document.querySelector(i);if(!l)return this.isExporting=!1,this.hideGlobalLoadingSpinner(),void this.cd.detectChanges();setTimeout(()=>{Xyt()(l,{scale:s,useCORS:!0,backgroundColor:null}).then(u=>{const c=u.toDataURL("image/png"),f=Yyt.JW(c,a),d=document.createElement("a");d.href=f,d.download="export.png",d.click()}).finally(()=>{this.isExporting=!1,this.hideGlobalLoadingSpinner(),this.cd.detectChanges()})},10)}exportAsSVG(i){this.showGlobalLoadingSpinner(),this.isExporting=!0,this.cd.detectChanges();const r=document.querySelector(i);if(!r)return this.isExporting=!1,this.hideGlobalLoadingSpinner(),void this.cd.detectChanges();const o=r.querySelector("svg");if(!o)return alert("No SVG found in the selected element."),this.isExporting=!1,this.hideGlobalLoadingSpinner(),void this.cd.detectChanges();setTimeout(()=>{let a=(new XMLSerializer).serializeToString(o);a.match(/^<svg[^>]+xmlns="http:\/\/www\.w3\.org\/2000\/svg"/)||(a=a.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),a.match(/^<svg[^>]+"http:\/\/www\.w3\.org\/1999\/xlink"/)||(a=a.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),a='<?xml version="1.0" standalone="no"?>\r\n'+a;const l=new Blob([a],{type:"image/svg+xml;charset=utf-8"}),u=URL.createObjectURL(l),c=document.createElement("a");c.href=u,c.download="export.svg",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(u),this.isExporting=!1,this.hideGlobalLoadingSpinner(),this.cd.detectChanges()},10)}copyContent(i){navigator.clipboard.writeText(i)}static \u0275fac=function(r){return new(r||e)(Wt($7),Wt(TS),Wt(ld))};static \u0275cmp=mo({type:e,selectors:[["share-modal-component"]],standalone:!0,features:[Pu],decls:73,vars:17,consts:[[1,"p-fluid"],[1,"table","table-sm","table-borderless",2,"table-layout","fixed"],[2,"width","20%"],["type","button",1,"btn","btn-sm","btn-outline-secondary","mb-sm",3,"click"],[1,"fas","fa-download"],[2,"width","300px !important"],[1,"form-row"],[1,"col"],["for","inputDPI"],["type","number","placeholder","DPI",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["for","inputScale"],["type","number","placeholder","Scale",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["for","inputExport"],[1,"input-group"],["type","text",1,"form-control",3,"value"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-copy"],[1,"w-100","position-relative"],["target","_blank",3,"href"],[1,"fas","fa-external-link-alt"],[3,"ngModelChange","ngModel","ngModelOptions","options"],["type","button",1,"btn","btn-outline-secondary",2,"position","absolute","right","0","top","0",3,"click"]],template:function(r,o){1&r&&(st(0,"div",0)(1,"table",1)(2,"tbody")(3,"tr")(4,"td",2),Jn(5,"Vector"),dt(),st(6,"td")(7,"button",3),ki("click",function(){return o.exportAsSVG("#choroplethcard-"+o.dct_id)}),yi(8,"i",4),Jn(9,"\xa0SVG "),dt()()(),st(10,"tr")(11,"td",2),Jn(12,"Raster"),dt(),st(13,"td")(14,"form",5)(15,"div",6)(16,"div",7)(17,"label",8),Jn(18,"DPI"),dt(),st(19,"input",9),Ja("ngModelChange",function(a){return dl(o.dpi,a)||(o.dpi=a),a}),dt()(),st(20,"div",7)(21,"label",10),Jn(22,"Scale"),dt(),st(23,"input",11),Ja("ngModelChange",function(a){return dl(o.scale,a)||(o.scale=a),a}),dt()(),st(24,"div",7)(25,"label",12),Jn(26,"\xa0"),dt(),st(27,"div")(28,"button",3),ki("click",function(){return o.exportAsPNG("#choroplethcard-"+o.dct_id,o.dpi,o.scale)}),yi(29,"i",4),Jn(30,"\xa0PNG "),dt()()()()()()(),st(31,"tr")(32,"td",2),Jn(33,"Bin\xa0Breaks"),dt(),st(34,"td")(35,"div",13),yi(36,"input",14),st(37,"div",15)(38,"button",16),ki("click",function(){return o.copyContent(o.binningMethodObj.binBreaks)}),yi(39,"i",17),dt()()()()(),st(40,"tr")(41,"td",2),Jn(42,"Bin\xa0Sizes"),dt(),st(43,"td")(44,"div",13),yi(45,"input",14),st(46,"div",15)(47,"button",16),ki("click",function(){return o.copyContent(o.objectValues(o.binningMethodObj.binSizes))}),yi(48,"i",17),dt()()()()(),st(49,"tr")(50,"td",2),Jn(51,"Implementation (using BinGuru)"),dt(),st(52,"td")(53,"div",18)(54,"a",19),Jn(55," View on Observable\xa0\xa0"),yi(56,"i",20),dt()()()(),st(57,"tr")(58,"td",2),Jn(59,"Source Code (in BinGuru)"),dt(),st(60,"td")(61,"div",18)(62,"a",19),Jn(63," View on GitHub\xa0\xa0"),yi(64,"i",20),dt()()()(),st(65,"tr")(66,"td",2),Jn(67,"Specification (Vega-Lite)"),dt(),st(68,"td")(69,"div",18)(70,"ngx-codemirror",21),Ja("ngModelChange",function(a){return dl(o.binningMethodObj.vlSpec,a)||(o.binningMethodObj.vlSpec=a),a}),dt(),st(71,"button",22),ki("click",function(){return o.copyContent(o.binningMethodObj.vlSpec)}),yi(72,"i",17),dt()()()()()()()),2&r&&(Ke(19),Za("ngModel",o.dpi),Le("ngModelOptions",$s(11,bW)),Ke(4),Za("ngModel",o.scale),Le("ngModelOptions",$s(12,bW)),Ke(13),Le("value","["+o.binningMethodObj.binBreaks+"]"),Ke(9),Le("value","["+o.objectValues(o.binningMethodObj.binSizes)+"]"),Ke(9),Le("href",o.binningMethodObj.implementationLink,Cm),Ke(8),Le("href",o.binningMethodObj.tsCode,Cm),Ke(8),Za("ngModel",o.binningMethodObj.vlSpec),Le("ngModelOptions",$s(13,bW))("options",us(15,Jyt,$s(14,Zyt))))},dependencies:[cd,Kie,Oie,Jy,lx,kN,_ie,ax,sx,Wye,Kyt],encapsulation:2})}return e})();var Xye=ei(712),t7t=ei.t(Xye,2);class n7t{constructor(t,i,r){this.name=t,this.drake=i,this.options=r,this.initEvents=!1}}var Xs=function(e){return e.Cancel="cancel",e.Cloned="cloned",e.Drag="drag",e.DragEnd="dragend",e.Drop="drop",e.Out="out",e.Over="over",e.Remove="remove",e.Shadow="shadow",e.DropModel="dropModel",e.RemoveModel="removeModel",e}(Xs||{});const i7t=Object.keys(Xs).map(e=>Xs[e]),r7t=Xye||t7t;class CW{constructor(t=r7t){this.build=t}}const H4=(e,t,i)=>r=>r.pipe(n0(({event:o,name:s})=>o===e&&(void 0===t||s===t)),j(({name:o,args:s})=>i(o,s))),o7t=(e,[t,i,r])=>({name:e,el:t,container:i,source:r});let iF=(()=>{class e{constructor(i){this.drakeFactory=i,this.groups={},this.dispatch$=new Yn,this.elContainerSource=r=>o=>this.dispatch$.pipe(H4(r,o,o7t)),this.cancel=this.elContainerSource(Xs.Cancel),this.remove=this.elContainerSource(Xs.Remove),this.shadow=this.elContainerSource(Xs.Shadow),this.over=this.elContainerSource(Xs.Over),this.out=this.elContainerSource(Xs.Out),this.drag=r=>this.dispatch$.pipe(H4(Xs.Drag,r,(o,[s,a])=>({name:o,el:s,source:a}))),this.dragend=r=>this.dispatch$.pipe(H4(Xs.DragEnd,r,(o,[s])=>({name:o,el:s}))),this.drop=r=>this.dispatch$.pipe(H4(Xs.Drop,r,(o,[s,a,l,u])=>({name:o,el:s,target:a,source:l,sibling:u}))),this.cloned=r=>this.dispatch$.pipe(H4(Xs.Cloned,r,(o,[s,a,l])=>({name:o,clone:s,original:a,cloneType:l}))),this.dropModel=r=>this.dispatch$.pipe(H4(Xs.DropModel,r,(o,[s,a,l,u,c,f,d,h,g])=>({name:o,el:s,target:a,source:l,sibling:u,item:c,sourceModel:f,targetModel:d,sourceIndex:h,targetIndex:g}))),this.removeModel=r=>this.dispatch$.pipe(H4(Xs.RemoveModel,r,(o,[s,a,l,u,c,f])=>({name:o,el:s,container:a,source:l,item:u,sourceModel:c,sourceIndex:f}))),null==this.drakeFactory&&(this.drakeFactory=new CW)}add(i){if(this.find(i.name))throw new Error('Group named: "'+i.name+'" already exists.');return this.groups[i.name]=i,this.handleModels(i),this.setupEvents(i),i}find(i){return this.groups[i]}destroy(i){const r=this.find(i);r&&(r.drake&&r.drake.destroy(),delete this.groups[i])}createGroup(i,r){return this.add(new n7t(i,this.drakeFactory.build([],r),r))}handleModels({name:i,drake:r,options:o}){let s,a,l;r.on("remove",(u,c,f)=>{if(!r.models)return;let d=r.models[r.containers.indexOf(f)];d=d.slice(0);const h=d.splice(a,1)[0];this.dispatch$.next({event:Xs.RemoveModel,name:i,args:[u,c,f,h,d,a]})}),r.on("drag",(u,c)=>{r.models&&(s=u,a=this.domIndexOf(u,c))}),r.on("drop",(u,c,f,d)=>{if(!r.models||!c)return;l=this.domIndexOf(u,c);let v,h=r.models[r.containers.indexOf(f)],g=r.models[r.containers.indexOf(c)];if(c===f)h=h.slice(0),v=h.splice(a,1)[0],h.splice(l,0,v),g=h;else{const y=s!==u;if(v=h[a],y){if(!o.copyItem)throw new Error("If you have enabled `copy` on a group, you must provide a `copyItem` function.");v=o.copyItem(v)}if(y||(h=h.slice(0),h.splice(a,1)),g=g.slice(0),g.splice(l,0,v),y)try{c.removeChild(u)}catch{}}this.dispatch$.next({event:Xs.DropModel,name:i,args:[u,c,f,d,v,h,g,a,l]})})}setupEvents(i){if(i.initEvents)return;i.initEvents=!0;const r=i.name;i7t.forEach(a=>{switch(a){case Xs.Drag:case Xs.Drop:case Xs.DragEnd:case Xs.Cancel:case Xs.Remove:case Xs.Shadow:case Xs.Over:case Xs.Out:case Xs.Cloned:case Xs.DropModel:case Xs.RemoveModel:i.drake.on(a,(...l)=>{this.dispatch$.next({event:a,name:r,args:l})})}})}domIndexOf(i,r){if(r)return Array.prototype.indexOf.call(r.children,i)}static{this.\u0275fac=function(r){return new(r||e)(Ar(CW,8))}}static{this.\u0275prov=Mn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),s7t=(()=>{class e{get container(){return this.el&&this.el.nativeElement}constructor(i,r){this.el=i,this.dragulaService=r,this.dragulaModelChange=new Xi}ngOnChanges(i){if(i&&i.dragula){const{previousValue:r,currentValue:o}=i.dragula,l=!!o;!!r&&this.teardown(r),l&&this.setup()}else if(i&&i.dragulaModel){const{previousValue:r,currentValue:o}=i.dragulaModel,a=this.group?.drake;if(this.dragula&&a){a.models=a.models||[];const l=a.models.indexOf(r);-1!==l?(a.models.splice(l,1),o&&a.models.splice(l,0,o)):o&&a.models.push(o)}}}setup(){if(!this.dragula)return;let r=this.dragulaService.find(this.dragula);r||(r=this.dragulaService.createGroup(this.dragula,{})),(o=>{this.dragulaModel&&(o.drake?.models?o.drake?.models?.push(this.dragulaModel):o.drake&&(o.drake.models=[this.dragulaModel]))})(r),r.drake?.containers.push(this.container),this.subscribe(this.dragula),this.group=r}subscribe(i){this.subs=new yt,this.subs.add(this.dragulaService.dropModel(i).subscribe(({source:r,target:o,sourceModel:s,targetModel:a})=>{r===this.el.nativeElement?this.dragulaModelChange.emit(s):o===this.el.nativeElement&&this.dragulaModelChange.emit(a)})),this.subs.add(this.dragulaService.removeModel(i).subscribe(({source:r,sourceModel:o})=>{r===this.el.nativeElement&&this.dragulaModelChange.emit(o)}))}teardown(i){this.subs&&this.subs.unsubscribe();const r=this.dragulaService.find(i);if(r){const o=r.drake?.containers.indexOf(this.el.nativeElement);if(-1!==o&&r.drake?.containers.splice(o,1),this.dragulaModel&&r.drake&&r.drake.models){const s=r.drake.models.indexOf(this.dragulaModel);-1!==s&&r.drake.models.splice(s,1)}}}ngOnDestroy(){this.dragula&&this.teardown(this.dragula)}static{this.\u0275fac=function(r){return new(r||e)(Wt(rs),Wt(iF))}}static{this.\u0275dir=Lr({type:e,selectors:[["","dragula",""]],inputs:{dragula:"dragula",dragulaModel:"dragulaModel"},outputs:{dragulaModelChange:"dragulaModelChange"},features:[Il]})}}return e})(),a7t=(()=>{class e{static forRoot(){return{ngModule:e,providers:[iF]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Yo({type:e})}static{this.\u0275inj=nr({providers:[iF]})}}return e})();new CW((e,t)=>new l7t(e,t));class l7t{constructor(t=[],i={},r){this.containers=t,this.options=i,this.models=r,this.emitter$=new Yn,this.subs=new yt,this.dragging=!1}on(t,i){this.subs.add(this.emitter$.pipe(n0(({eventType:r})=>r===t)).subscribe(({eventType:r,args:o})=>{if(r!==Xs.Drag)if(r!==Xs.Drop)if(r!==Xs.Remove)i(o);else{const s=Array.from(o);i(s[0],s[1],s[2])}else{const s=Array.from(o);i(s[0],s[1],s[2],s[3])}else{const s=Array.from(o);i(s[0],s[1])}}))}start(t){this.dragging=!0}end(){this.dragging=!1}cancel(t){this.dragging=!1}canMove(t){return!!this.options.accepts&&this.options.accepts(t)}remove(){this.dragging=!1}destroy(){this.subs.unsubscribe()}emit(t,...i){this.emitter$.next({eventType:t,args:i})}}let rF=(()=>{class e extends zp{static \u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})();static \u0275cmp=mo({type:e,selectors:[["AngleRightIcon"]],standalone:!0,features:[Wo,Pu],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(r,o){1&r&&(lc(),st(0,"svg",0),yi(1,"path",1),dt()),2&r&&(ga(o.getClassNames()),ci("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})(),oF=(()=>{class e{autofocus=!1;focused=!1;platformId=Kn(dc);document=Kn(Al);host=Kn(rs);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Hu(this.platformId)&&this.autofocus&&setTimeout(()=>{const i=jt.getFocusableElements(this.host?.nativeElement);0===i.length&&this.host.nativeElement.focus(),i.length>0&&i[0].focus(),this.focused=!0})}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Lr({type:e,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[cn.HasDecoratorInputTransform,"autofocus","autofocus",pr]},standalone:!0,features:[Lc]})}return e})(),EW=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({})}return e})(),B9=(()=>{class e extends zp{static \u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})();static \u0275cmp=mo({type:e,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Wo,Pu],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(r,o){1&r&&(lc(),st(0,"svg",0),yi(1,"path",1),dt()),2&r&&(ga(o.getClassNames()),ci("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();const u7t=["overlay"],c7t=["content"],f7t=["*"],d7t=(e,t,i,r,o,s,a,l,u,c,f,d,h,g)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":e,"p-overlay-center":t,"p-overlay-top":i,"p-overlay-top-start":r,"p-overlay-top-end":o,"p-overlay-bottom":s,"p-overlay-bottom-start":a,"p-overlay-bottom-end":l,"p-overlay-left":u,"p-overlay-left-start":c,"p-overlay-left-end":f,"p-overlay-right":d,"p-overlay-right-start":h,"p-overlay-right-end":g}),A7t=(e,t,i)=>({showTransitionParams:e,hideTransitionParams:t,transform:i}),h7t=e=>({value:"visible",params:e}),p7t=e=>({mode:e}),g7t=e=>({$implicit:e});function m7t(e,t){1&e&&ws(0)}function v7t(e,t){if(1&e){const i=To();st(0,"div",3,1),ki("click",function(o){return Tn(i),Dn(je(2).onOverlayContentClick(o))})("@overlayContentAnimation.start",function(o){return Tn(i),Dn(je(2).onOverlayContentAnimationStart(o))})("@overlayContentAnimation.done",function(o){return Tn(i),Dn(je(2).onOverlayContentAnimationDone(o))}),Zg(2),pn(3,m7t,1,0,"ng-container",4),dt()}if(2&e){const i=je(2);ga(i.contentStyleClass),Le("ngStyle",i.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",us(11,h7t,aE(7,A7t,i.showTransitionOptions,i.hideTransitionOptions,i.transformOptions[i.modal?i.overlayResponsiveDirection:"default"]))),Ke(3),Le("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",us(15,g7t,us(13,p7t,i.overlayMode)))}}function y7t(e,t){if(1&e){const i=To();st(0,"div",3,0),ki("click",function(){return Tn(i),Dn(je().onOverlayClick())}),pn(2,v7t,4,17,"div",2),dt()}if(2&e){const i=je();ga(i.styleClass),Le("ngStyle",i.style)("ngClass",lk(5,d7t,[i.modal,i.modal&&"center"===i.overlayResponsiveDirection,i.modal&&"top"===i.overlayResponsiveDirection,i.modal&&"top-start"===i.overlayResponsiveDirection,i.modal&&"top-end"===i.overlayResponsiveDirection,i.modal&&"bottom"===i.overlayResponsiveDirection,i.modal&&"bottom-start"===i.overlayResponsiveDirection,i.modal&&"bottom-end"===i.overlayResponsiveDirection,i.modal&&"left"===i.overlayResponsiveDirection,i.modal&&"left-start"===i.overlayResponsiveDirection,i.modal&&"left-end"===i.overlayResponsiveDirection,i.modal&&"right"===i.overlayResponsiveDirection,i.modal&&"right-start"===i.overlayResponsiveDirection,i.modal&&"right-end"===i.overlayResponsiveDirection])),Ke(2),Le("ngIf",i.visible)}}const _7t={provide:fd,useExisting:En(()=>xW),multi:!0},w7t=kE([o1({transform:"{{transform}}",opacity:0}),G5("{{showTransitionParams}}")]),b7t=kE([G5("{{hideTransitionParams}}",o1({transform:"{{transform}}",opacity:0}))]);let xW=(()=>{class e{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(i){this._visible=i,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(i){this._mode=i}get style(){return Ci.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(i){this._style=i}get styleClass(){return Ci.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(i){this._styleClass=i}get contentStyle(){return Ci.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(i){this._contentStyle=i}get contentStyleClass(){return Ci.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(i){this._contentStyleClass=i}get target(){const i=this._target||this.overlayOptions?.target;return void 0===i?"@prev":i}set target(i){this._target=i}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(i){this._appendTo=i}get autoZIndex(){const i=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===i||i}set autoZIndex(i){this._autoZIndex=i}get baseZIndex(){const i=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===i?0:i}set baseZIndex(i){this._baseZIndex=i}get showTransitionOptions(){const i=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===i?".12s cubic-bezier(0, 0, 0.2, 1)":i}set showTransitionOptions(i){this._showTransitionOptions=i}get hideTransitionOptions(){const i=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===i?".1s linear":i}set hideTransitionOptions(i){this._hideTransitionOptions=i}get listener(){return this._listener||this.overlayOptions?.listener}set listener(i){this._listener=i}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(i){this._responsive=i}get options(){return this._options}set options(i){this._options=i}visibleChange=new Xi;onBeforeShow=new Xi;onShow=new Xi;onBeforeHide=new Xi;onHide=new Xi;onAnimationStart=new Xi;onAnimationDone=new Xi;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(Hu(this.platformId))return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return jt.getTargetElement(this.target,this.el?.nativeElement)}constructor(i,r,o,s,a,l,u,c){this.document=i,this.platformId=r,this.el=o,this.renderer=s,this.config=a,this.overlayService=l,this.cd=u,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(i=>{i.getType(),this.contentTemplate=i.template})}show(i,r=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:i||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&jt.focus(this.targetEl),this.modal&&jt.addClass(this.document?.body,"p-overflow-hidden")}hide(i,r=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:i||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&jt.focus(this.targetEl),this.modal&&jt.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&jt.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(i){this._visible=i,this.visibleChange.emit(i)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(i){this.overlayService.add({originalEvent:i,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(i){switch(i.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&rh.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),jt.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&jt.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",i)}onOverlayContentAnimationDone(i){const r=this.overlayEl||i.element.parentElement;switch(i.toState){case"visible":this.visible&&this.show(r,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(r,!0),this.modalVisible=!1,this.unbindListeners(),jt.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),rh.clear(r),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",i)}handleEvents(i,r){this[i].emit(r),this.options&&this.options[i]&&this.options[i](r),this.config?.overlayOptions&&(this.config?.overlayOptions)[i]&&(this.config?.overlayOptions)[i](r)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new lU(this.targetEl,i=>{(!this.listener||this.listener(i,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(i,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",i=>{const o=!(this.targetEl&&(this.targetEl.isSameNode(i.target)||!this.isOverlayClicked&&this.targetEl.contains(i.target))||this.isOverlayContentClicked);(this.listener?this.listener(i,{type:"outside",mode:this.overlayMode,valid:3!==i.which&&o}):o)&&this.hide(i),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",i=>{(this.listener?this.listener(i,{type:"resize",mode:this.overlayMode,valid:!jt.isTouchDevice()}):!jt.isTouchDevice())&&this.hide(i,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",i=>{!1!==this.overlayOptions.hideOnEscape&&"Escape"===i.code&&(this.listener?this.listener(i,{type:"keydown",mode:this.overlayMode,valid:!jt.isTouchDevice()}):!jt.isTouchDevice())&&this.zone.run(()=>{this.hide(i,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(jt.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),rh.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(r){return new(r||e)(Wt(Al),Wt(dc),Wt(rs),Wt(Ru),Wt(h1),Wt(DS),Wt(ld),Wt(Zo))};static \u0275cmp=mo({type:e,selectors:[["p-overlay"]],contentQueries:function(r,o,s){if(1&r&&WA(s,f0,4),2&r){let a;ao(a=lo())&&(o.templates=a)}},viewQuery:function(r,o){if(1&r&&(Xo(u7t,5),Xo(c7t,5)),2&r){let s;ao(s=lo())&&(o.overlayViewChild=s.first),ao(s=lo())&&(o.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[ra([_7t])],ngContentSelectors:f7t,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,o){1&r&&(Dm(),pn(0,y7t,3,20,"div",2)),2&r&&Le("ngIf",o.modalVisible)},dependencies:[Bf,ud,Jh,ZA],styles:["@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}\n"],encapsulation:2,data:{animation:[tN("overlayContentAnimation",[q5(":enter",[NE(w7t)]),q5(":leave",[NE(b7t)])])]},changeDetection:0})}return e})(),sF=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[cd,hd,hd]})}return e})(),Jb=(()=>{class e{document;platformId;renderer;el;zone;config;constructor(i,r,o,s,a,l){this.document=i,this.platformId=r,this.renderer=o,this.el=s,this.zone=a,this.config=l}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Hu(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(i){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(jt.removeClass(r,"p-ink-active"),!jt.getHeight(r)&&!jt.getWidth(r)){let l=Math.max(jt.getOuterWidth(this.el.nativeElement),jt.getOuterHeight(this.el.nativeElement));r.style.height=l+"px",r.style.width=l+"px"}let o=jt.getOffset(this.el.nativeElement),s=i.pageX-o.left+this.document.body.scrollTop-jt.getWidth(r)/2,a=i.pageY-o.top+this.document.body.scrollLeft-jt.getHeight(r)/2;this.renderer.setStyle(r,"top",a+"px"),this.renderer.setStyle(r,"left",s+"px"),jt.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let l=this.getInk();l&&jt.removeClass(l,"p-ink-active")},401)}getInk(){const i=this.el.nativeElement.children;for(let r=0;r<i.length;r++)if("string"==typeof i[r].className&&-1!==i[r].className.indexOf("p-ink"))return i[r];return null}resetInk(){let i=this.getInk();i&&jt.removeClass(i,"p-ink-active")}onAnimationEnd(i){this.timeout&&clearTimeout(this.timeout),jt.removeClass(i.currentTarget,"p-ink-active")}create(){let i=this.renderer.createElement("span");this.renderer.addClass(i,"p-ink"),this.renderer.appendChild(this.el.nativeElement,i),this.renderer.setAttribute(i,"aria-hidden","true"),this.renderer.setAttribute(i,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(i,"animationend",this.onAnimationEnd.bind(this)))}remove(){let i=this.getInk();i&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,jt.removeElement(i))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||e)(Wt(Al),Wt(dc),Wt(Ru),Wt(rs),Wt(Zo),Wt(h1,8))};static \u0275dir=Lr({type:e,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return e})(),SW=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({})}return e})();const C7t=e=>({"p-cascadeselect-panel-root":e}),E7t=e=>({$implicit:e});function x7t(e,t){1&e&&ws(0)}function S7t(e,t){if(1&e&&(to(0),pn(1,x7t,1,0,"ng-container",8),no()),2&e){const i=je().$implicit,r=je();Ke(),Le("ngTemplateOutlet",r.optionTemplate)("ngTemplateOutletContext",us(2,E7t,i.option))}}function B7t(e,t){if(1&e&&(st(0,"span",9),Jn(1),dt()),2&e){const i=je().$implicit,r=je();ci("data-pc-section","text"),Ke(),Hl(r.getOptionLabelToRender(i))}}function M7t(e,t){1&e&&yi(0,"AngleRightIcon")}function I7t(e,t){}function D7t(e,t){1&e&&pn(0,I7t,0,0,"ng-template")}function T7t(e,t){if(1&e&&(st(0,"span",10),pn(1,M7t,1,0,"AngleRightIcon",11)(2,D7t,1,0,null,12),dt()),2&e){const i=je(2);ci("data-pc-section","groupIcon"),Ke(),Le("ngIf",!i.groupIconTemplate),Ke(),Le("ngTemplateOutlet",i.groupIconTemplate)}}function F7t(e,t){if(1&e){const i=To();st(0,"p-cascadeSelectSub",13),ki("onChange",function(o){return Tn(i),Dn(je(2).onOptionChange(o))}),dt()}if(2&e){const i=je().$implicit,r=je();Le("role","group")("selectId",r.selectId)("focusedOptionId",r.focusedOptionId)("activeOptionPath",r.activeOptionPath)("options",r.getOptionGroupChildren(i))("optionLabel",r.optionLabel)("optionValue",r.optionValue)("level",r.level+1)("optionGroupLabel",r.optionGroupLabel)("optionGroupChildren",r.optionGroupChildren)("dirty",r.dirty)("optionTemplate",r.optionTemplate)}}function O7t(e,t){if(1&e){const i=To();st(0,"li",3)(1,"div",4),ki("click",function(o){const s=Tn(i).$implicit;return Dn(je().onOptionClick(o,s))}),pn(2,S7t,2,4,"ng-container",5)(3,B7t,2,2,"ng-template",null,0,hc)(5,T7t,3,3,"span",6),dt(),pn(6,F7t,1,12,"p-cascadeSelectSub",7),dt()}if(2&e){const i=t.$implicit,r=t.index,o=Uu(4),s=je();Le("ngClass",s.getItemClass(i))("id",s.getOptionId(i)),ci("aria-level",s.level+1)("aria-setsize",s.options.length)("data-pc-section","item")("aria-label",s.getOptionLabelToRender(i))("aria-selected",s.isOptionGroup(i)?void 0:s.isOptionSelected(i))("aria-posinset",r+1),Ke(),ci("tabindex",0)("data-pc-section","content"),Ke(),Le("ngIf",s.optionTemplate)("ngIfElse",o),Ke(3),Le("ngIf",s.isOptionGroup(i)),Ke(),Le("ngIf",s.isOptionGroup(i)&&s.isOptionActive(i))}}const k7t=["focusInput"],N7t=["container"],L7t=["panel"],R7t=["overlay"],U7t=(e,t)=>({$implicit:e,placeholder:t});function P7t(e,t){1&e&&ws(0)}function H7t(e,t){if(1&e&&(to(0),pn(1,P7t,1,0,"ng-container",16),no()),2&e){const i=je();Ke(),Le("ngTemplateOutlet",i.valueTemplate)("ngTemplateOutletContext",Ac(2,U7t,i.value,i.placeholder))}}function Q7t(e,t){1&e&&Jn(0),2&e&&Rc(" ",je().label()," ")}function V7t(e,t){if(1&e){const i=To();st(0,"TimesIcon",19),ki("click",function(o){return Tn(i),Dn(je(2).clear(o))}),dt()}2&e&&(Le("styleClass","p-cascadeselect-clear-icon"),ci("data-pc-section","clearicon")("aria-hidden",!0))}function z7t(e,t){}function $7t(e,t){1&e&&pn(0,z7t,0,0,"ng-template")}function G7t(e,t){if(1&e){const i=To();st(0,"span",20),ki("click",function(o){return Tn(i),Dn(je(2).clear(o))}),pn(1,$7t,1,0,null,21),dt()}if(2&e){const i=je(2);ci("data-pc-section","clearicon")("aria-hidden",!0),Ke(),Le("ngTemplateOutlet",i.clearIconTemplate)}}function q7t(e,t){if(1&e&&(to(0),pn(1,V7t,1,3,"TimesIcon",17)(2,G7t,2,3,"span",18),no()),2&e){const i=je();Ke(),Le("ngIf",!i.clearIconTemplate),Ke(),Le("ngIf",i.clearIconTemplate)}}function j7t(e,t){1&e&&ws(0)}function K7t(e,t){if(1&e&&(to(0),pn(1,j7t,1,0,"ng-container",21),no()),2&e){const i=je(2);Ke(),Le("ngTemplateOutlet",i.loadingIconTemplate)}}function W7t(e,t){1&e&&yi(0,"span",24),2&e&&Le("ngClass","p-cascadeselect-trigger-icon pi-spin "+je(3).loadingIcon)}function X7t(e,t){1&e&&yi(0,"span",25),2&e&&ga("p-cascadeselect-trigger-icon pi pi-spinner pi-spin")}function Y7t(e,t){if(1&e&&(to(0),pn(1,W7t,1,1,"span",22)(2,X7t,1,2,"span",23),no()),2&e){const i=je(2);Ke(),Le("ngIf",i.loadingIcon),Ke(),Le("ngIf",!i.loadingIcon)}}function Z7t(e,t){if(1&e&&(to(0),pn(1,K7t,2,1,"ng-container",11)(2,Y7t,3,2,"ng-container",11),no()),2&e){const i=je();Ke(),Le("ngIf",i.loadingIconTemplate),Ke(),Le("ngIf",!i.loadingIconTemplate)}}function J7t(e,t){1&e&&yi(0,"ChevronDownIcon",28),2&e&&Le("styleClass","p-cascadeselect-trigger-icon")}function e_t(e,t){}function t_t(e,t){1&e&&pn(0,e_t,0,0,"ng-template")}function n_t(e,t){if(1&e&&(st(0,"span",29),pn(1,t_t,1,0,null,21),dt()),2&e){const i=je(2);Ke(),Le("ngTemplateOutlet",i.triggerIconTemplate)}}function i_t(e,t){if(1&e&&pn(0,J7t,1,1,"ChevronDownIcon",26)(1,n_t,2,1,"span",27),2&e){const i=je();Le("ngIf",!i.triggerIconTemplate),Ke(),Le("ngIf",i.triggerIconTemplate)}}function r_t(e,t){if(1&e){const i=To();st(0,"div",30,5)(2,"div",31)(3,"p-cascadeSelectSub",32),ki("onChange",function(o){return Tn(i),Dn(je().onOptionChange(o))}),dt()(),st(4,"span",13),Jn(5),dt()()}if(2&e){const i=je();ga(i.panelStyleClass),Le("ngStyle",i.panelStyle),ci("data-pc-section","panel"),Ke(2),ci("data-pc-section","wrapper"),Ke(),Le("options",i.processedOptions)("selectId",i.id)("focusedOptionId",i.focused?i.focusedOptionId:void 0)("activeOptionPath",i.activeOptionPath())("optionLabel",i.optionLabel)("optionValue",i.optionValue)("level",0)("optionTemplate",i.optionTemplate)("groupIconTemplate",i.groupIconTemplate)("optionGroupLabel",i.optionGroupLabel)("optionGroupChildren",i.optionGroupChildren)("optionDisabled",i.optionDisabled)("optionValue",i.optionValue)("optionLabel",i.optionLabel)("root",!0)("dirty",i.dirty)("role","tree"),Ke(2),Rc(" ",i.selectedMessageText," ")}}const o_t={provide:fd,useExisting:En(()=>Yye),multi:!0};let s_t=(()=>{class e{el;config;role;selectId;activeOptionPath;optionDisabled;focusedOptionId;options;optionGroupChildren;optionTemplate;groupIconTemplate;level=0;optionLabel;optionValue;optionGroupLabel;dirty;root;onChange=new Xi;get listLabel(){return this.config.getTranslation(D6.ARIA).listLabel}constructor(i,r){this.el=i,this.config=r}ngOnInit(){this.root||this.position()}onOptionClick(i,r){this.onChange.emit({originalEvent:i,value:r,isFocus:!0})}onOptionChange(i){this.onChange.emit(i)}getOptionId(i){return`${this.selectId}_${i.key}`}getOptionLabel(i){return this.optionLabel?Ci.resolveFieldData(i.option,this.optionLabel):i.option}getOptionValue(i){return this.optionValue?Ci.resolveFieldData(i.option,this.optionValue):i.option}getOptionLabelToRender(i){return this.isOptionGroup(i)?this.getOptionGroupLabel(i):this.getOptionLabel(i)}isOptionDisabled(i){return!!this.optionDisabled&&Ci.resolveFieldData(i.option,this.optionDisabled)}getOptionGroupLabel(i){return this.optionGroupLabel?Ci.resolveFieldData(i.option,this.optionGroupLabel):null}getOptionGroupChildren(i){return i.children}isOptionGroup(i){return Ci.isNotEmpty(i.children)}isOptionSelected(i){return!this.isOptionGroup(i)&&this.isOptionActive(i)}isOptionActive(i){return this.activeOptionPath.some(r=>r.key===i.key)}isOptionFocused(i){return this.focusedOptionId===this.getOptionId(i)}getItemClass(i){return{"p-cascadeselect-item":!0,"p-cascadeselect-item-group":this.isOptionGroup(i),"p-cascadeselect-item-active p-highlight":this.isOptionActive(i),"p-focus":this.isOptionFocused(i),"p-disabled":this.isOptionDisabled(i)}}position(){const i=this.el.nativeElement.parentElement,r=jt.getOffset(i),o=jt.getViewport(),s=this.el.nativeElement.children[0].offsetParent?this.el.nativeElement.children[0].offsetWidth:jt.getHiddenElementOuterWidth(this.el.nativeElement.children[0]),a=jt.getOuterWidth(i.children[0]);parseInt(r.left,10)+a+s>o.width-jt.calculateScrollbarWidth()&&(this.el.nativeElement.children[0].style.left="-200%")}static \u0275fac=function(r){return new(r||e)(Wt(rs),Wt(h1))};static \u0275cmp=mo({type:e,selectors:[["p-cascadeSelectSub"]],inputs:{role:"role",selectId:"selectId",activeOptionPath:"activeOptionPath",optionDisabled:"optionDisabled",focusedOptionId:"focusedOptionId",options:"options",optionGroupChildren:"optionGroupChildren",optionTemplate:"optionTemplate",groupIconTemplate:"groupIconTemplate",level:[cn.HasDecoratorInputTransform,"level","level",lu],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",dirty:[cn.HasDecoratorInputTransform,"dirty","dirty",pr],root:[cn.HasDecoratorInputTransform,"root","root",pr]},outputs:{onChange:"onChange"},features:[Lc],decls:2,vars:7,consts:[["defaultOptionTemplate",""],["aria-orientation","horizontal",1,"p-cascadeselect-panel","p-cascadeselect-items",3,"ngClass"],["ngFor","",3,"ngForOf"],["role","treeitem",3,"ngClass","id"],["pRipple","",1,"p-cascadeselect-item-content",3,"click"],[4,"ngIf","ngIfElse"],["class","p-cascadeselect-group-icon",4,"ngIf"],["class","p-cascadeselect-sublist",3,"role","selectId","focusedOptionId","activeOptionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","dirty","optionTemplate","onChange",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-cascadeselect-item-text"],[1,"p-cascadeselect-group-icon"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-cascadeselect-sublist",3,"onChange","role","selectId","focusedOptionId","activeOptionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","dirty","optionTemplate"]],template:function(r,o){1&r&&(st(0,"ul",1),pn(1,O7t,7,14,"ng-template",2),dt()),2&r&&(Le("ngClass",us(5,C7t,o.root)),ci("role",o.role)("data-pc-section",0===o.level?"list":"sublist")("aria-label",o.listLabel),Ke(),Le("ngForOf",o.options))},dependencies:()=>[Bf,Hv,ud,Jh,Jb,rF,e],encapsulation:2,changeDetection:0})}return e})(),Yye=(()=>{class e{el;cd;config;overlayService;id;selectOnFocus=!1;searchMessage;emptyMessage;selectionMessage;emptySearchMessage;emptySelectionMessage;searchLocale;optionDisabled;autoOptionFocus=!0;styleClass;style;options;optionLabel;optionValue;optionGroupLabel;optionGroupChildren;placeholder;value;dataKey;inputId;tabindex=0;ariaLabelledBy;inputLabel;ariaLabel;appendTo;disabled;showClear=!1;panelStyleClass;panelStyle;overlayOptions;autofocus;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(i){this._showTransitionOptions=i,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}variant="outlined";loading=!1;loadingIcon;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(i){this._hideTransitionOptions=i,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}onChange=new Xi;onGroupChange=new Xi;onShow=new Xi;onHide=new Xi;onClear=new Xi;onBeforeShow=new Xi;onBeforeHide=new Xi;onFocus=new Xi;onBlur=new Xi;focusInputViewChild;containerViewChild;panelViewChild;overlayViewChild;templates;_showTransitionOptions="";_hideTransitionOptions="";selectionPath=null;focused=!1;overlayVisible=!1;dirty=!0;searchValue;searchTimeout;valueTemplate;optionTemplate;triggerIconTemplate;loadingIconTemplate;groupIconTemplate;clearIconTemplate;onModelChange=()=>{};onModelTouched=()=>{};focusedOptionInfo=Nc({index:-1,level:0,parentKey:""});activeOptionPath=Nc([]);modelValue=Nc(null);processedOptions=[];get containerClass(){return{"p-cascadeselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue(),"p-variant-filled":"filled"===this.variant||"filled"===this.config.inputStyle(),"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-overlay-open":this.overlayVisible}}get labelClass(){return{"p-cascadeselect-label":!0,"p-placeholder":this.label()===this.placeholder,"p-cascadeselect-label-empty":!this.value&&("p-emptylabel"===this.label()||0===this.label().length)}}get focusedOptionId(){return-1!==this.focusedOptionInfo().index?`${this.id}${Ci.isNotEmpty(this.focusedOptionInfo().parentKey)?"_"+this.focusedOptionInfo().parentKey:""}_${this.focusedOptionInfo().index}`:null}get filled(){return"string"==typeof this.modelValue()?!!this.modelValue():this.modelValue()||null!=this.modelValue()||null!=this.modelValue()}get searchResultMessageText(){return Ci.isNotEmpty(this.visibleOptions())?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptySearchMessageText(){return this.emptySearchMessage||this.config.translation.emptySearchMessage||""}get emptyMessageText(){return this.emptyMessage||this.config.translation.emptyMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText}visibleOptions=Py(()=>{const i=this.activeOptionPath().find(r=>r.key===this.focusedOptionInfo().parentKey);return i?i.children:this.processedOptions});label=Py(()=>{const i=this.placeholder||"p-emptylabel";if(this.hasSelectedOption()){const r=this.findOptionPathByValue(this.modelValue(),null),o=Ci.isNotEmpty(r)?r[r.length-1]:null;return o?this.getOptionLabel(o.option):i}return i});get _label(){const i=this.placeholder||"p-emptylabel";if(this.hasSelectedOption()){const r=this.findOptionPathByValue(this.modelValue(),null),o=Ci.isNotEmpty(r)?r[r.length-1]:null;return o?this.getOptionLabel(o.option):i}return i}ngOnChanges(i){i.options&&(this.processedOptions=this.createProcessedOptions(i.options.currentValue||[]),this.updateModel(null))}hasSelectedOption(){return Ci.isNotEmpty(this.modelValue())}createProcessedOptions(i,r=0,o={},s=""){const a=[];return i&&i.forEach((l,u)=>{const c=(""!==s?s+"_":"")+u,f={option:l,index:u,level:r,key:c,parent:o,parentKey:s};f.children=this.createProcessedOptions(this.getOptionGroupChildren(l,r),r+1,f,c),a.push(f)}),a}onInputFocus(i){this.disabled||(this.focused=!0,this.onFocus.emit(i))}onInputBlur(i){this.focused=!1,this.focusedOptionInfo.set({indeX:-1,level:0,parentKey:""}),this.searchValue="",this.onModelTouched(),this.onBlur.emit(i)}onInputKeyDown(i){if(this.disabled||this.loading)return void i.preventDefault();const r=i.metaKey||i.ctrlKey;switch(i.code){case"ArrowDown":this.onArrowDownKey(i);break;case"ArrowUp":this.onArrowUpKey(i);break;case"ArrowLeft":this.onArrowLeftKey(i);break;case"ArrowRight":this.onArrowRightKey(i);break;case"Home":this.onHomeKey(i);break;case"End":this.onEndKey(i);break;case"Space":this.onSpaceKey(i);break;case"Enter":case"NumpadEnter":this.onEnterKey(i);break;case"Escape":this.onEscapeKey(i);break;case"Tab":this.onTabKey(i);break;case"Backspace":this.onBackspaceKey(i);break;case"PageDown":case"PageUp":case"ShiftLeft":case"ShiftRight":break;default:!r&&Ci.isPrintableCharacter(i.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(i,i.key))}}onArrowDownKey(i){const r=-1!==this.focusedOptionInfo().index?this.findNextOptionIndex(this.focusedOptionInfo().index):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(i,r),!this.overlayVisible&&this.show(),i.preventDefault()}onArrowUpKey(i){if(i.altKey){if(-1!==this.focusedOptionInfo().index){const r=this.visibleOptions[this.focusedOptionInfo().index];!this.isProccessedOptionGroup(r)&&this.onOptionChange({originalEvent:i,value:r})}this.overlayVisible&&this.hide(),i.preventDefault()}else{const r=-1!==this.focusedOptionInfo().index?this.findPrevOptionIndex(this.focusedOptionInfo().index):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(i,r),!this.overlayVisible&&this.show(),i.preventDefault()}}onArrowLeftKey(i){if(this.overlayVisible){const r=this.visibleOptions()[this.focusedOptionInfo().index],o=this.activeOptionPath().find(l=>l.key===r.parentKey),s=""===this.focusedOptionInfo().parentKey||o&&o.key===this.focusedOptionInfo().parentKey,a=Ci.isEmpty(r.parent);if(s){const l=this.activeOptionPath().filter(u=>u.parentKey!==this.focusedOptionInfo().parentKey);this.activeOptionPath.set(l)}a||(this.focusedOptionInfo.set({index:-1,parentKey:o?o.parentKey:""}),this.searchValue="",this.onArrowDownKey(i)),i.preventDefault()}}onArrowRightKey(i){if(this.overlayVisible){const r=this.visibleOptions()[this.focusedOptionInfo().index];this.isProccessedOptionGroup(r)&&(this.activeOptionPath().some(a=>r.key===a.key)?(this.focusedOptionInfo.set({index:-1,parentKey:r.key}),this.searchValue="",this.onArrowDownKey(i)):this.onOptionChange({originalEvent:i,value:r})),i.preventDefault()}}onHomeKey(i){this.changeFocusedOptionIndex(i,this.findFirstOptionIndex()),!this.overlayVisible&&this.show(),i.preventDefault()}onEndKey(i){this.changeFocusedOptionIndex(i,this.findLastOptionIndex()),!this.overlayVisible&&this.show(),i.preventDefault()}onEnterKey(i){if(this.overlayVisible){if(-1!==this.focusedOptionInfo().index){const r=this.visibleOptions()[this.focusedOptionInfo().index],o=this.isProccessedOptionGroup(r);this.onOptionChange({originalEvent:i,value:r}),!o&&this.hide()}}else this.onArrowDownKey(i);i.preventDefault()}onSpaceKey(i){this.onEnterKey(i)}onEscapeKey(i){this.overlayVisible&&this.hide(!0),i.preventDefault()}onTabKey(i){if(-1!==this.focusedOptionInfo().index){const r=this.visibleOptions()[this.focusedOptionInfo().index];!this.isProccessedOptionGroup(r)&&this.onOptionChange({originalEvent:i,value:r})}this.overlayVisible&&this.hide()}onBackspaceKey(i){Ci.isNotEmpty(this.modelValue())&&this.showClear&&this.clear(),i.stopPropagation()}equalityKey(){return this.optionValue?null:this.dataKey}updateModel(i,r){this.value=i,this.onModelChange(i),this.modelValue.set(i),this.onChange.emit({originalEvent:r,value:i})}autoUpdateModel(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionInfo().index=this.findFirstFocusedOptionIndex(),this.onOptionChange({originalEvent:null,processedOption:this.visibleOptions()[this.focusedOptionInfo().index],isHide:!1}),!this.overlayVisible&&this.focusedOptionInfo.set({index:-1,level:0,parentKey:""}))}scrollInView(i=-1){const r=-1!==i?`${this.id}_${i}`:this.focusedOptionId,o=jt.findSingle(this.panelViewChild?.nativeElement,`li[id="${r}"]`);o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"start"})}changeFocusedOptionIndex(i,r){if(this.focusedOptionInfo().index!==r){const o=this.focusedOptionInfo();this.focusedOptionInfo.set({...o,index:r}),this.scrollInView()}this.selectOnFocus&&this.onOptionChange({originalEvent:i,processedOption:this.visibleOptions()[r],isHide:!1})}onOptionChange(i){const{originalEvent:r,value:o,isFocus:s}=i;if(Ci.isEmpty(o))return;const{index:l,level:u,parentKey:c,children:f}=o,d=Ci.isNotEmpty(f),h=this.activeOptionPath().filter(g=>g.parentKey!==c);h.push(o),this.focusedOptionInfo.set({index:l,level:u,parentKey:c}),this.activeOptionPath.set(h),d?this.onOptionGroupSelect({originalEvent:r,value:o,isFocus:!1}):this.onOptionSelect({originalEvent:r,value:o,isFocus:s}),s&&jt.focus(this.focusInputViewChild.nativeElement)}onOptionSelect(i){const{originalEvent:r,value:o,isFocus:s}=i,a=this.getOptionValue(o.option),l=this.activeOptionPath();l.forEach(u=>u.selected=!0),this.activeOptionPath.set(l),this.updateModel(a,r),s&&this.hide(!0)}onOptionGroupSelect(i){this.dirty=!0,this.onGroupChange.emit(i)}onContainerClick(i){this.disabled||this.loading||this.overlayViewChild?.el?.nativeElement?.contains(i.target)||(this.overlayVisible?this.hide():this.show(),this.focusInputViewChild?.nativeElement.focus())}isOptionMatched(i){return this.isValidOption(i)&&this.getProccessedOptionLabel(i).toLocaleLowerCase(this.searchLocale).startsWith(this.searchValue.toLocaleLowerCase(this.searchLocale))}isOptionDisabled(i){return!!this.optionDisabled&&Ci.resolveFieldData(i,this.optionDisabled)}isValidOption(i){return!!i&&!this.isOptionDisabled(i.option)}isValidSelectedOption(i){return this.isValidOption(i)&&this.isSelected(i)}isSelected(i){return this.activeOptionPath().some(r=>r.key===i.key)}findOptionPathByValue(i,r,o=0){if(!(r=r||0===o&&this.processedOptions))return null;if(Ci.isEmpty(i))return[];for(let s=0;s<r.length;s++){const a=r[s];if(Ci.equals(i,this.getOptionValue(a.option),this.equalityKey()))return[a];const l=this.findOptionPathByValue(i,a.children,o+1);if(l)return l.unshift(a),l}}findFirstOptionIndex(){return this.visibleOptions().findIndex(i=>this.isValidOption(i))}findLastOptionIndex(){return Ci.findLastIndex(this.visibleOptions(),i=>this.isValidOption(i))}findNextOptionIndex(i){const r=i<this.visibleOptions().length-1?this.visibleOptions().slice(i+1).findIndex(o=>this.isValidOption(o)):-1;return r>-1?r+i+1:i}findPrevOptionIndex(i){const r=i>0?Ci.findLastIndex(this.visibleOptions().slice(0,i),o=>this.isValidOption(o)):-1;return r>-1?r:i}findSelectedOptionIndex(){return this.visibleOptions().findIndex(i=>this.isValidSelectedOption(i))}findFirstFocusedOptionIndex(){const i=this.findSelectedOptionIndex();return i<0?this.findFirstOptionIndex():i}findLastFocusedOptionIndex(){const i=this.findSelectedOptionIndex();return i<0?this.findLastOptionIndex():i}searchOptions(i,r){this.searchValue=(this.searchValue||"")+r;let o=-1,s=!1;const a=this.focusedOptionInfo();return-1!==a.index?(o=this.visibleOptions().slice(a.index).findIndex(l=>this.isOptionMatched(l)),o=-1===o?this.visibleOptions().slice(0,a.index).findIndex(l=>this.isOptionMatched(l)):o+a.index):o=this.visibleOptions().findIndex(l=>this.isOptionMatched(l)),-1!==o&&(s=!0),-1===o&&-1===a.index&&(o=this.findFirstFocusedOptionIndex()),-1!==o&&this.changeFocusedOptionIndex(i,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}hide(i,r=!1){const o=()=>{this.overlayVisible=!1,this.activeOptionPath.set([]),this.focusedOptionInfo.set({index:-1,level:0,parentKey:""}),r&&jt.focus(this.focusInputViewChild.nativeElement),this.onHide.emit(i)};setTimeout(()=>{o()},0)}show(i,r=!1){this.onShow.emit(i),this.overlayVisible=!0;const o=this.hasSelectedOption()?this.findOptionPathByValue(this.modelValue()):this.activeOptionPath();let s;if(this.activeOptionPath.set(o),this.hasSelectedOption()&&Ci.isNotEmpty(this.activeOptionPath())){const a=this.activeOptionPath()[this.activeOptionPath().length-1];s={index:this.autoOptionFocus?a.index:-1,level:a.level,parentKey:a.parentKey}}else s={index:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,level:0,parentKey:""};this.focusedOptionInfo.set(s),r&&jt.focus(this.focusInputViewChild.nativeElement)}clear(i){Ci.isNotEmpty(this.modelValue())&&this.showClear&&(this.updateModel(null),this.focusedOptionInfo.set({index:-1,level:0,parentKey:""}),this.activeOptionPath.set([]),this.onClear.emit()),i&&i.stopPropagation()}getOptionLabel(i){return this.optionLabel?Ci.resolveFieldData(i,this.optionLabel):i}getOptionValue(i){return this.optionValue?Ci.resolveFieldData(i,this.optionValue):i}getOptionGroupLabel(i){return this.optionGroupLabel?Ci.resolveFieldData(i,this.optionGroupLabel):null}getOptionGroupChildren(i,r){return Ci.resolveFieldData(i,this.optionGroupChildren[r])}isOptionGroup(i,r){return Object.prototype.hasOwnProperty.call(i,this.optionGroupChildren[r])}isProccessedOptionGroup(i){return Ci.isNotEmpty(i.children)}getProccessedOptionLabel(i){return this.isProccessedOptionGroup(i)?this.getOptionGroupLabel(i.option):this.getOptionLabel(i.option)}constructor(i,r,o,s){this.el=i,this.cd=r,this.config=o,this.overlayService=s,Hy(()=>{const a=this.activeOptionPath();Ci.isNotEmpty(a)&&this.overlayViewChild.alignOverlay()})}ngOnInit(){this.id=this.id||ih(),this.autoUpdateModel()}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"value":this.valueTemplate=i.template;break;case"option":this.optionTemplate=i.template;break;case"triggericon":this.triggerIconTemplate=i.template;break;case"loadingicon":this.loadingIconTemplate=i.template;break;case"clearicon":this.clearIconTemplate=i.template;break;case"optiongroupicon":this.groupIconTemplate=i.template}})}onOverlayAnimationDone(i){"void"===i.toState&&(this.dirty=!1)}writeValue(i){this.value=i,this.updateModel(i),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}static \u0275fac=function(r){return new(r||e)(Wt(rs),Wt(ld),Wt(h1),Wt(DS))};static \u0275cmp=mo({type:e,selectors:[["p-cascadeSelect"]],contentQueries:function(r,o,s){if(1&r&&WA(s,f0,4),2&r){let a;ao(a=lo())&&(o.templates=a)}},viewQuery:function(r,o){if(1&r&&(Xo(k7t,5),Xo(N7t,5),Xo(L7t,5),Xo(R7t,5)),2&r){let s;ao(s=lo())&&(o.focusInputViewChild=s.first),ao(s=lo())&&(o.containerViewChild=s.first),ao(s=lo())&&(o.panelViewChild=s.first),ao(s=lo())&&(o.overlayViewChild=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(r,o){2&r&&Wh("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused||o.overlayVisible)("p-cascadeselect-clearable",o.showClear&&!o.disabled)},inputs:{id:"id",selectOnFocus:[cn.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",pr],searchMessage:"searchMessage",emptyMessage:"emptyMessage",selectionMessage:"selectionMessage",emptySearchMessage:"emptySearchMessage",emptySelectionMessage:"emptySelectionMessage",searchLocale:"searchLocale",optionDisabled:"optionDisabled",autoOptionFocus:[cn.HasDecoratorInputTransform,"autoOptionFocus","autoOptionFocus",pr],styleClass:"styleClass",style:"style",options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",placeholder:"placeholder",value:"value",dataKey:"dataKey",inputId:"inputId",tabindex:[cn.HasDecoratorInputTransform,"tabindex","tabindex",lu],ariaLabelledBy:"ariaLabelledBy",inputLabel:"inputLabel",ariaLabel:"ariaLabel",appendTo:"appendTo",disabled:[cn.HasDecoratorInputTransform,"disabled","disabled",pr],showClear:[cn.HasDecoratorInputTransform,"showClear","showClear",pr],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",overlayOptions:"overlayOptions",autofocus:[cn.HasDecoratorInputTransform,"autofocus","autofocus",pr],showTransitionOptions:"showTransitionOptions",variant:"variant",loading:[cn.HasDecoratorInputTransform,"loading","loading",pr],loadingIcon:"loadingIcon",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onGroupChange:"onGroupChange",onShow:"onShow",onHide:"onHide",onClear:"onClear",onBeforeShow:"onBeforeShow",onBeforeHide:"onBeforeHide",onFocus:"onFocus",onBlur:"onBlur"},features:[ra([o_t]),Lc,Il],decls:19,vars:34,consts:[["container",""],["focusInput",""],["defaultValueTemplate",""],["elseBlock",""],["overlay",""],["panel",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["readonly","","type","text","role","combobox","aria-haspopup","tree","pAutoFocus","",3,"focus","blur","keydown","disabled","placeholder","tabindex","autofocus"],[3,"ngClass"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-cascadeselect-trigger"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[3,"visibleChange","onAnimationDone","onBeforeShow","onShow","onBeforeHide","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass","click",4,"ngIf"],["class","p-cascadeselect-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-cascadeselect-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],[3,"styleClass",4,"ngIf"],["class","p-cascadeselect-trigger-icon",4,"ngIf"],[3,"styleClass"],[1,"p-cascadeselect-trigger-icon"],[1,"p-cascadeselect-panel","p-component",3,"ngStyle"],[1,"p-cascadeselect-items-wrapper"],[3,"onChange","options","selectId","focusedOptionId","activeOptionPath","optionLabel","optionValue","level","optionTemplate","groupIconTemplate","optionGroupLabel","optionGroupChildren","optionDisabled","root","dirty","role"]],template:function(r,o){if(1&r){const s=To();st(0,"div",6,0),ki("click",function(l){return Tn(s),Dn(o.onContainerClick(l))}),st(2,"div",7)(3,"input",8,1),ki("focus",function(l){return Tn(s),Dn(o.onInputFocus(l))})("blur",function(l){return Tn(s),Dn(o.onInputBlur(l))})("keydown",function(l){return Tn(s),Dn(o.onInputKeyDown(l))}),dt()(),st(5,"span",9),pn(6,H7t,2,5,"ng-container",10)(7,Q7t,1,1,"ng-template",null,2,hc),dt(),pn(9,q7t,3,2,"ng-container",11),st(10,"div",12),pn(11,Z7t,3,2,"ng-container",10)(12,i_t,2,2,"ng-template",null,3,hc),dt(),st(14,"span",13),Jn(15),dt(),st(16,"p-overlay",14,4),Ja("visibleChange",function(l){return Tn(s),dl(o.overlayVisible,l)||(o.overlayVisible=l),Dn(l)}),ki("onAnimationDone",function(l){return Tn(s),Dn(o.onOverlayAnimationDone(l))})("onBeforeShow",function(l){return Tn(s),Dn(o.onBeforeShow.emit(l))})("onShow",function(l){return Tn(s),Dn(o.show(l))})("onBeforeHide",function(l){return Tn(s),Dn(o.onBeforeHide.emit(l))})("onHide",function(l){return Tn(s),Dn(o.hide(l))}),pn(18,r_t,6,23,"ng-template",15),dt()()}if(2&r){let s,a;const l=Uu(8),u=Uu(13);ga(o.styleClass),Le("ngClass",o.containerClass)("ngStyle",o.style),ci("data-pc-name","cascadeselect")("data-pc-section","root"),Ke(2),ci("data-pc-section","hiddenInputWrapper"),Ke(),Le("disabled",o.disabled)("placeholder",o.placeholder)("tabindex",o.disabled?-1:o.tabindex)("autofocus",o.autofocus),ci("id",o.inputId)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("aria-expanded",null!==(s=o.overlayVisible)&&void 0!==s&&s)("aria-controls",o.overlayVisible?o.id+"_tree":null)("aria-activedescendant",o.focused?o.focusedOptionId:void 0),Ke(2),Le("ngClass",o.labelClass),ci("data-pc-section","label"),Ke(),Le("ngIf",o.valueTemplate)("ngIfElse",l),Ke(3),Le("ngIf",o.filled&&!o.disabled&&o.showClear),Ke(),ci("aria-expanded",null!==(a=o.overlayVisible)&&void 0!==a&&a)("data-pc-section","dropdownIcon")("aria-hidden",!0),Ke(),Le("ngIf",o.loading)("ngIfElse",u),Ke(4),Rc(" ",o.searchResultMessageText," "),Ke(),Za("visible",o.overlayVisible),Le("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}},dependencies:()=>[Bf,ud,Jh,ZA,xW,f0,oF,B9,T6,s_t],styles:["@layer primeng{.p-cascadeselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-cascadeselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-cascadeselect-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-cascadeselect-label-empty{overflow:hidden;visibility:hidden}.p-cascadeselect-item{cursor:pointer;font-weight:400;white-space:nowrap}.p-cascadeselect-item-content{display:flex;align-items:center;overflow:hidden;position:relative}.p-cascadeselect-group-icon{margin-left:auto;display:inline-flex}.p-cascadeselect-items{margin:0;padding:0;list-style-type:none}.p-fluid .p-cascadeselect{display:flex}.p-fluid .p-cascadeselect .p-cascadeselect-label{width:1%}.p-cascadeselect-sublist{position:absolute;min-width:100%;z-index:1;display:none}.p-cascadeselect-item-active{overflow:visible!important}.p-cascadeselect-item-active>.p-cascadeselect-sublist{display:block;left:100%;top:0}.p-cascadeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-cascadeselect-clearable,.p-overlay-modal .p-cascadeselect-sublist{position:relative}.p-overlay-modal .p-cascadeselect-item-active>.p-cascadeselect-sublist{left:0}}\n"],encapsulation:2,changeDetection:0})}return e})(),a_t=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[cd,sF,hd,SW,EW,B9,rF,T6,sF,hd]})}return e})();const l_t=["container"];function u_t(e,t){1&e&&ws(0)}function c_t(e,t){if(1&e){const i=To();st(0,"div",6),ki("mousedown",function(o){Tn(i);const s=je().index;return Dn(je().onGutterMouseDown(o,s))})("touchstart",function(o){Tn(i);const s=je().index;return Dn(je().onGutterTouchStart(o,s))})("touchmove",function(o){return Tn(i),Dn(je(2).onGutterTouchMove(o))})("touchend",function(o){Tn(i);const s=je().index;return Dn(je().onGutterTouchEnd(o,s))}),st(1,"div",7),ki("keyup",function(o){return Tn(i),Dn(je(2).onGutterKeyUp(o))})("keydown",function(o){Tn(i);const s=je().index;return Dn(je().onGutterKeyDown(o,s))}),dt()()}if(2&e){const i=je(2);ci("data-p-gutter-resizing",!1)("data-pc-section","gutter"),Ke(),Le("ngStyle",i.gutterStyle()),ci("aria-orientation",i.layout)("aria-valuenow",i.prevSize)("data-pc-section","gutterhandle")}}function f_t(e,t){if(1&e&&(st(0,"div",3),pn(1,u_t,1,0,"ng-container",4),dt(),pn(2,c_t,2,6,"div",5)),2&e){const i=t.$implicit,r=t.index,o=je();ga(o.panelStyleClass),Le("ngClass",o.panelContainerClass())("ngStyle",o.panelStyle),ci("data-pc-name","splitter")("data-pc-section","root"),Ke(),Le("ngTemplateOutlet",i),Ke(),Le("ngIf",r!==o.panels.length-1)}}let d_t=(()=>{class e{document;platformId;renderer;cd;el;styleClass;panelStyleClass;style;panelStyle;stateStorage="session";stateKey=null;layout="horizontal";gutterSize=4;step=5;minSizes=[];get panelSizes(){return this._panelSizes}set panelSizes(i){if(this._panelSizes=i,this.el&&this.el.nativeElement&&this.panels.length>0){let r=[...this.el.nativeElement.children[0].children].filter(s=>jt.hasClass(s,"p-splitter-panel")),o=[];this.panels.map((s,a)=>{let u=(this.panelSizes.length-1>=a?this.panelSizes[a]:null)||100/this.panels.length;o[a]=u,r[a].style.flexBasis="calc("+u+"% - "+(this.panels.length-1)*this.gutterSize+"px)"})}}onResizeEnd=new Xi;onResizeStart=new Xi;templates;containerViewChild;nested=!1;panels=[];dragging=!1;mouseMoveListener;mouseUpListener;touchMoveListener;touchEndListener;size;gutterElement;startPos;prevPanelElement;nextPanelElement;nextPanelSize;prevPanelSize;_panelSizes=[];prevPanelIndex;timer;prevSize;window;constructor(i,r,o,s,a){this.document=i,this.platformId=r,this.renderer=o,this.cd=s,this.el=a,this.window=this.document.defaultView}ngOnInit(){this.nested=this.isNested()}ngAfterContentInit(){this.templates.forEach(i=>{i.getType(),this.panels.push(i.template)})}ngAfterViewInit(){if(Hu(this.platformId)&&this.panels&&this.panels.length){let i=!1;if(this.isStateful()&&(i=this.restoreState()),!i){let r=[...this.el.nativeElement.children[0].children].filter(s=>jt.hasClass(s,"p-splitter-panel")),o=[];this.panels.map((s,a)=>{let u=(this.panelSizes.length-1>=a?this.panelSizes[a]:null)||100/this.panels.length;o[a]=u,r[a].style.flexBasis="calc("+u+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),this._panelSizes=o,this.prevSize=parseFloat(o[0]).toFixed(4)}}}resizeStart(i,r,o){this.gutterElement=i.currentTarget||i.target.parentElement,this.size=this.horizontal()?jt.getWidth(this.containerViewChild.nativeElement):jt.getHeight(this.containerViewChild.nativeElement),o||(this.dragging=!0,this.startPos=this.horizontal()?i instanceof MouseEvent?i.pageX:i.changedTouches[0].pageX:i instanceof MouseEvent?i.pageY:i.changedTouches[0].pageY),this.prevPanelElement=this.gutterElement.previousElementSibling,this.nextPanelElement=this.gutterElement.nextElementSibling,o?(this.prevPanelSize=this.horizontal()?jt.getOuterWidth(this.prevPanelElement,!0):jt.getOuterHeight(this.prevPanelElement,!0),this.nextPanelSize=this.horizontal()?jt.getOuterWidth(this.nextPanelElement,!0):jt.getOuterHeight(this.nextPanelElement,!0)):(this.prevPanelSize=100*(this.horizontal()?jt.getOuterWidth(this.prevPanelElement,!0):jt.getOuterHeight(this.prevPanelElement,!0))/this.size,this.nextPanelSize=100*(this.horizontal()?jt.getOuterWidth(this.nextPanelElement,!0):jt.getOuterHeight(this.nextPanelElement,!0))/this.size),this.prevPanelIndex=r,jt.addClass(this.gutterElement,"p-splitter-gutter-resizing"),this.gutterElement.setAttribute("data-p-gutter-resizing","true"),jt.addClass(this.containerViewChild.nativeElement,"p-splitter-resizing"),this.containerViewChild.nativeElement.setAttribute("data-p-resizing","true"),this.onResizeStart.emit({originalEvent:i,sizes:this._panelSizes})}onResize(i,r,o){let s,a,l;o?this.horizontal()?(a=100*(this.prevPanelSize+r)/this.size,l=100*(this.nextPanelSize-r)/this.size):(a=100*(this.prevPanelSize-r)/this.size,l=100*(this.nextPanelSize+r)/this.size):(s=this.horizontal()?100*i.pageX/this.size-100*this.startPos/this.size:100*i.pageY/this.size-100*this.startPos/this.size,a=this.prevPanelSize+s,l=this.nextPanelSize-s),this.prevSize=parseFloat(a).toFixed(4),this.validateResize(a,l)&&(this.prevPanelElement.style.flexBasis="calc("+a+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this.nextPanelElement.style.flexBasis="calc("+l+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this._panelSizes[this.prevPanelIndex]=a,this._panelSizes[this.prevPanelIndex+1]=l)}resizeEnd(i){this.isStateful()&&this.saveState(),this.onResizeEnd.emit({originalEvent:i,sizes:this._panelSizes}),jt.removeClass(this.gutterElement,"p-splitter-gutter-resizing"),jt.removeClass(this.containerViewChild.nativeElement,"p-splitter-resizing"),this.clear()}onGutterMouseDown(i,r){this.resizeStart(i,r),this.bindMouseListeners()}onGutterTouchStart(i,r){i.cancelable&&(this.resizeStart(i,r),this.bindTouchListeners(),i.preventDefault())}onGutterTouchMove(i){this.onResize(i),i.preventDefault()}onGutterTouchEnd(i){this.resizeEnd(i),this.unbindTouchListeners(),i.cancelable&&i.preventDefault()}repeat(i,r,o){this.resizeStart(i,r,!0),this.onResize(i,o,!0)}setTimer(i,r,o){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(i,r,o)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}onGutterKeyUp(i){this.clearTimer(),this.resizeEnd(i)}onGutterKeyDown(i,r){switch(i.code){case"ArrowLeft":"horizontal"===this.layout&&this.setTimer(i,r,-1*this.step),i.preventDefault();break;case"ArrowRight":"horizontal"===this.layout&&this.setTimer(i,r,this.step),i.preventDefault();break;case"ArrowDown":"vertical"===this.layout&&this.setTimer(i,r,-1*this.step),i.preventDefault();break;case"ArrowUp":"vertical"===this.layout&&this.setTimer(i,r,this.step),i.preventDefault()}}validateResize(i,r){const o=this.prevPanelIndex;if(this.minSizes.length>o&&this.minSizes[o]&&this.minSizes[o]>i)return!1;const s=this.prevPanelIndex+1;return!(this.minSizes.length>s&&this.minSizes[s]&&this.minSizes[s]>r)}bindMouseListeners(){this.mouseMoveListener||(this.mouseMoveListener=this.renderer.listen(this.document,"mousemove",i=>{this.onResize(i)})),this.mouseUpListener||(this.mouseUpListener=this.renderer.listen(this.document,"mouseup",i=>{this.resizeEnd(i),this.unbindMouseListeners()}))}bindTouchListeners(){this.touchMoveListener||(this.touchMoveListener=this.renderer.listen(this.document,"touchmove",i=>{this.onResize(i.changedTouches[0])})),this.touchEndListener||(this.touchEndListener=this.renderer.listen(this.document,"touchend",i=>{this.resizeEnd(i),this.unbindTouchListeners()}))}unbindMouseListeners(){this.mouseMoveListener&&(this.mouseMoveListener(),this.mouseMoveListener=null),this.mouseUpListener&&(this.mouseUpListener(),this.mouseUpListener=null)}unbindTouchListeners(){this.touchMoveListener&&(this.touchMoveListener(),this.touchMoveListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}clear(){this.dragging=!1,this.size=null,this.startPos=null,this.prevPanelElement=null,this.nextPanelElement=null,this.prevPanelSize=null,this.nextPanelSize=null,this.gutterElement=null,this.prevPanelIndex=null}isNested(){if(this.el.nativeElement){let i=this.el.nativeElement.parentElement;for(;i&&!jt.hasClass(i,"p-splitter");)i=i.parentElement;return null!==i}return!1}isStateful(){return null!=this.stateKey}getStorage(){if(!Hu(this.platformId))throw new Error("Storage is not a available by default on the server.");switch(this.stateStorage){case"local":return this.window.localStorage;case"session":return this.window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}saveState(){this.getStorage().setItem(this.stateKey,JSON.stringify(this._panelSizes))}restoreState(){const r=this.getStorage().getItem(this.stateKey);return!!r&&(this._panelSizes=JSON.parse(r),[...this.containerViewChild.nativeElement.children].filter(s=>jt.hasClass(s,"p-splitter-panel")).forEach((s,a)=>{s.style.flexBasis="calc("+this._panelSizes[a]+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),!0)}containerClass(){return{"p-splitter p-component":!0,"p-splitter-horizontal":"horizontal"===this.layout,"p-splitter-vertical":"vertical"===this.layout}}panelContainerClass(){return{"p-splitter-panel":!0,"p-splitter-panel-nested":!0}}gutterStyle(){return this.horizontal()?{width:this.gutterSize+"px"}:{height:this.gutterSize+"px"}}horizontal(){return"horizontal"===this.layout}static \u0275fac=function(r){return new(r||e)(Wt(Al),Wt(dc),Wt(Ru),Wt(ld),Wt(rs))};static \u0275cmp=mo({type:e,selectors:[["p-splitter"]],contentQueries:function(r,o,s){if(1&r&&WA(s,f0,4),2&r){let a;ao(a=lo())&&(o.templates=a)}},viewQuery:function(r,o){if(1&r&&Xo(l_t,5),2&r){let s;ao(s=lo())&&(o.containerViewChild=s.first)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(r,o){2&r&&Wh("p-splitter-panel-nested",o.nested)},inputs:{styleClass:"styleClass",panelStyleClass:"panelStyleClass",style:"style",panelStyle:"panelStyle",stateStorage:"stateStorage",stateKey:"stateKey",layout:"layout",gutterSize:[cn.HasDecoratorInputTransform,"gutterSize","gutterSize",lu],step:[cn.HasDecoratorInputTransform,"step","step",lu],minSizes:"minSizes",panelSizes:"panelSizes"},outputs:{onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart"},features:[Lc],decls:3,vars:8,consts:[["container",""],[3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["tabindex","-1",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-splitter-gutter","role","separator","tabindex","-1",3,"mousedown","touchstart","touchmove","touchend",4,"ngIf"],["role","separator","tabindex","-1",1,"p-splitter-gutter",3,"mousedown","touchstart","touchmove","touchend"],["tabindex","0",1,"p-splitter-gutter-handle",3,"keyup","keydown","ngStyle"]],template:function(r,o){1&r&&(st(0,"div",1,0),pn(2,f_t,3,8,"ng-template",2),dt()),2&r&&(ga(o.styleClass),Le("ngClass",o.containerClass())("ngStyle",o.style),ci("data-pc-name","splitter")("data-p-gutter-resizing",!1)("data-pc-section","root"),Ke(2),Le("ngForOf",o.panels))},dependencies:[Bf,Hv,ud,Jh,ZA],styles:["@layer primeng{.p-splitter{display:flex;flex-wrap:nowrap}.p-splitter-vertical{flex-direction:column}.p-splitter-panel{overflow:hidden;flex-grow:1}.p-splitter-panel-nested{display:flex;min-width:0}.p-splitter-panel p-splitter{flex-grow:1}.p-splitter-panel .p-splitter{flex-grow:1;border:0 none}.p-splitter-gutter{flex-grow:0;flex-shrink:0;display:flex;align-items:center;justify-content:center;cursor:col-resize}.p-splitter-horizontal.p-splitter-resizing{cursor:col-resize;-webkit-user-select:none;user-select:none}.p-splitter-horizontal>.p-splitter-gutter>.p-splitter-gutter-handle{height:24px;width:100%}.p-splitter-horizontal>.p-splitter-gutter{cursor:col-resize}.p-splitter-vertical.p-splitter-resizing{cursor:row-resize;-webkit-user-select:none;user-select:none}.p-splitter-vertical>.p-splitter-gutter{cursor:row-resize}.p-splitter-vertical>.p-splitter-gutter>.p-splitter-gutter-handle{width:24px;height:100%}.p-splitter-resizing .p-splitter-panel{pointer-events:none}}\n"],encapsulation:2,changeDetection:0})}return e})(),A_t=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[cd,hd]})}return e})(),aF=(()=>{class e{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:ih()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(i,r,o,s,a,l){this.platformId=i,this.el=r,this.zone=o,this.config=s,this.renderer=a,this.viewContainer=l}ngAfterViewInit(){Hu(this.platformId)&&this.zone.runOutsideAngular(()=>{const i=this.getOption("tooltipEvent");if(("hover"===i||"both"===i)&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),"focus"===i||"both"===i){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let r=this.el.nativeElement.querySelector(".p-component");r||(r=this.getTarget(this.el.nativeElement)),r.addEventListener("focus",this.focusListener),r.addEventListener("blur",this.blurListener)}})}ngOnChanges(i){i.tooltipPosition&&this.setOption({tooltipPosition:i.tooltipPosition.currentValue}),i.tooltipEvent&&this.setOption({tooltipEvent:i.tooltipEvent.currentValue}),i.appendTo&&this.setOption({appendTo:i.appendTo.currentValue}),i.positionStyle&&this.setOption({positionStyle:i.positionStyle.currentValue}),i.tooltipStyleClass&&this.setOption({tooltipStyleClass:i.tooltipStyleClass.currentValue}),i.tooltipZIndex&&this.setOption({tooltipZIndex:i.tooltipZIndex.currentValue}),i.escape&&this.setOption({escape:i.escape.currentValue}),i.showDelay&&this.setOption({showDelay:i.showDelay.currentValue}),i.hideDelay&&this.setOption({hideDelay:i.hideDelay.currentValue}),i.life&&this.setOption({life:i.life.currentValue}),i.positionTop&&this.setOption({positionTop:i.positionTop.currentValue}),i.positionLeft&&this.setOption({positionLeft:i.positionLeft.currentValue}),i.disabled&&this.setOption({disabled:i.disabled.currentValue}),i.content&&(this.setOption({tooltipLabel:i.content.currentValue}),this.active&&(i.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),i.autoHide&&this.setOption({autoHide:i.autoHide.currentValue}),i.id&&this.setOption({id:i.id.currentValue}),i.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...i.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(i){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(i){(this.isAutoHide()||!(jt.hasClass(i.relatedTarget,"p-tooltip")||jt.hasClass(i.relatedTarget,"p-tooltip-text")||jt.hasClass(i.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(i){this.activate()}onBlur(i){this.deactivate()}onInputClick(i){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let i=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},i)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let i=document.createElement("div");i.className="p-tooltip-arrow",this.container.appendChild(i),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?jt.appendChild(this.container,this.el.nativeElement):jt.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",r=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){this.getOption("tooltipLabel")&&!this.getOption("disabled")&&(this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),jt.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?rh.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&rh.clear(this.container),this.remove()}updateText(){const i=this.getOption("tooltipLabel");if(i instanceof Kh){const r=this.viewContainer.createEmbeddedView(i);r.detectChanges(),r.rootNodes.forEach(o=>this.tooltipText.appendChild(o))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(i))):this.tooltipText.innerHTML=i}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let i=this.el.nativeElement.getBoundingClientRect();return{left:i.left+jt.getWindowScrollLeft(),top:i.top+jt.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");const i=this.activeElement,r=this.getHostOffset(),o=r.left+jt.getOuterWidth(i),s=r.top+(jt.getOuterHeight(i)-jt.getOuterHeight(this.container))/2;this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")&&jt.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement}alignLeft(){this.preAlign("left");let i=this.getHostOffset(),r=i.left-jt.getOuterWidth(this.container),o=i.top+(jt.getOuterHeight(this.el.nativeElement)-jt.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let i=this.getHostOffset(),r=i.left+(jt.getOuterWidth(this.el.nativeElement)-jt.getOuterWidth(this.container))/2,o=i.top-jt.getOuterHeight(this.container);this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let i=this.getHostOffset(),r=i.left+(jt.getOuterWidth(this.el.nativeElement)-jt.getOuterWidth(this.container))/2,o=i.top+jt.getOuterHeight(this.el.nativeElement);this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}setOption(i){this._tooltipOptions={...this._tooltipOptions,...i}}getOption(i){return this._tooltipOptions[i]}getTarget(i){return jt.hasClass(i,"p-inputwrapper")?jt.findSingle(i,"input"):i}preAlign(i){this.container.style.left="-999px",this.container.style.top="-999px";let r="p-tooltip p-component p-tooltip-"+i;this.container.className=this.getOption("tooltipStyleClass")?r+" "+this.getOption("tooltipStyleClass"):r}isOutOfBounds(){let i=this.container.getBoundingClientRect(),r=i.top,o=i.left,s=jt.getOuterWidth(this.container),a=jt.getOuterHeight(this.container),l=jt.getViewport();return o+s>l.width||o<0||r<0||r+a>l.height}onWindowResize(i){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new lU(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){const i=this.getOption("tooltipEvent");if(("hover"===i||"both"===i)&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),"focus"===i||"both"===i){let r=this.el.nativeElement.querySelector(".p-component");r||(r=this.getTarget(this.el.nativeElement))}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):jt.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&rh.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(r){return new(r||e)(Wt(dc),Wt(rs),Wt(Zo),Wt(h1),Wt(Ru),Wt(tA))};static \u0275dir=Lr({type:e,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(r,o){1&r&&ki("keydown.escape",function(a){return o.onPressEscape(a)},0,uX)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[cn.HasDecoratorInputTransform,"escape","escape",pr],showDelay:[cn.HasDecoratorInputTransform,"showDelay","showDelay",lu],hideDelay:[cn.HasDecoratorInputTransform,"hideDelay","hideDelay",lu],life:[cn.HasDecoratorInputTransform,"life","life",lu],positionTop:[cn.HasDecoratorInputTransform,"positionTop","positionTop",lu],positionLeft:[cn.HasDecoratorInputTransform,"positionLeft","positionLeft",lu],autoHide:[cn.HasDecoratorInputTransform,"autoHide","autoHide",pr],fitContent:[cn.HasDecoratorInputTransform,"fitContent","fitContent",pr],hideOnEscape:[cn.HasDecoratorInputTransform,"hideOnEscape","hideOnEscape",pr],content:[cn.None,"pTooltip","content"],disabled:[cn.None,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Lc,Il]})}return e})(),lF=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[cd]})}return e})(),BW=(()=>{class e extends zp{pathId;ngOnInit(){this.pathId="url(#"+ih()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})();static \u0275cmp=mo({type:e,selectors:[["SpinnerIcon"]],standalone:!0,features:[Wo,Pu],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(lc(),st(0,"svg",0)(1,"g"),yi(2,"path",1),dt(),st(3,"defs")(4,"clipPath",2),yi(5,"rect",3),dt()()()),2&r&&(ga(o.getClassNames()),ci("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),Ke(),ci("clip-path",o.pathId),Ke(3),Le("id",o.pathId))},encapsulation:2})}return e})();const h_t=["element"],p_t=["content"],g_t=["*"],m_t=(e,t,i)=>({"p-scroller":!0,"p-scroller-inline":e,"p-both-scroll":t,"p-horizontal-scroll":i}),MW=(e,t)=>({$implicit:e,options:t}),v_t=e=>({"p-scroller-loading":e}),y_t=e=>({"p-component-overlay":e}),__t=e=>({numCols:e}),Zye=e=>({options:e}),w_t=()=>({styleClass:"p-scroller-loading-icon"}),b_t=(e,t)=>({rows:e,columns:t});function C_t(e,t){1&e&&ws(0)}function E_t(e,t){if(1&e&&(to(0),pn(1,C_t,1,0,"ng-container",10),no()),2&e){const i=je(2);Ke(),Le("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",Ac(2,MW,i.loadedItems,i.getContentOptions()))}}function x_t(e,t){1&e&&ws(0)}function S_t(e,t){if(1&e&&(to(0),pn(1,x_t,1,0,"ng-container",10),no()),2&e){const i=t.$implicit,r=t.index,o=je(3);Ke(),Le("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",Ac(2,MW,i,o.getOptions(r)))}}function B_t(e,t){if(1&e&&(st(0,"div",11,3),pn(2,S_t,2,5,"ng-container",12),dt()),2&e){const i=je(2);Le("ngClass",us(5,v_t,i.d_loading))("ngStyle",i.contentStyle),ci("data-pc-section","content"),Ke(2),Le("ngForOf",i.loadedItems)("ngForTrackBy",i._trackBy||i.index)}}function M_t(e,t){1&e&&yi(0,"div",13),2&e&&(Le("ngStyle",je(2).spacerStyle),ci("data-pc-section","spacer"))}function I_t(e,t){1&e&&ws(0)}function D_t(e,t){if(1&e&&(to(0),pn(1,I_t,1,0,"ng-container",10),no()),2&e){const i=t.index,r=je(4);Ke(),Le("ngTemplateOutlet",r.loaderTemplate)("ngTemplateOutletContext",us(4,Zye,r.getLoaderOptions(i,r.both&&us(2,__t,r._numItemsInViewport.cols))))}}function T_t(e,t){if(1&e&&(to(0),pn(1,D_t,2,6,"ng-container",15),no()),2&e){const i=je(3);Ke(),Le("ngForOf",i.loaderArr)}}function F_t(e,t){1&e&&ws(0)}function O_t(e,t){if(1&e&&(to(0),pn(1,F_t,1,0,"ng-container",10),no()),2&e){const i=je(4);Ke(),Le("ngTemplateOutlet",i.loaderIconTemplate)("ngTemplateOutletContext",us(3,Zye,$s(2,w_t)))}}function k_t(e,t){1&e&&yi(0,"SpinnerIcon",16),2&e&&(Le("styleClass","p-scroller-loading-icon pi-spin"),ci("data-pc-section","loadingIcon"))}function N_t(e,t){if(1&e&&pn(0,O_t,2,5,"ng-container",6)(1,k_t,1,2,"ng-template",null,5,hc),2&e){const i=Uu(2);Le("ngIf",je(3).loaderIconTemplate)("ngIfElse",i)}}function L_t(e,t){if(1&e&&(st(0,"div",14),pn(1,T_t,2,1,"ng-container",6)(2,N_t,3,2,"ng-template",null,4,hc),dt()),2&e){const i=Uu(3),r=je(2);Le("ngClass",us(4,y_t,!r.loaderTemplate)),ci("data-pc-section","loader"),Ke(),Le("ngIf",r.loaderTemplate)("ngIfElse",i)}}function R_t(e,t){if(1&e){const i=To();to(0),st(1,"div",7,1),ki("scroll",function(o){return Tn(i),Dn(je().onContainerScroll(o))}),pn(3,E_t,2,5,"ng-container",6)(4,B_t,3,7,"ng-template",null,2,hc)(6,M_t,1,2,"div",8)(7,L_t,4,6,"div",9),dt(),no()}if(2&e){const i=Uu(5),r=je();Ke(),ga(r._styleClass),Le("ngStyle",r._style)("ngClass",aE(12,m_t,r.inline,r.both,r.horizontal)),ci("id",r._id)("tabindex",r.tabindex)("data-pc-name","scroller")("data-pc-section","root"),Ke(2),Le("ngIf",r.contentTemplate)("ngIfElse",i),Ke(3),Le("ngIf",r._showSpacer),Ke(),Le("ngIf",!r.loaderDisabled&&r._showLoader&&r.d_loading)}}function U_t(e,t){1&e&&ws(0)}function P_t(e,t){if(1&e&&(to(0),pn(1,U_t,1,0,"ng-container",10),no()),2&e){const i=je(2);Ke(),Le("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",Ac(5,MW,i.items,Ac(2,b_t,i._items,i.loadedColumns)))}}function H_t(e,t){if(1&e&&(Zg(0),pn(1,P_t,2,8,"ng-container",17)),2&e){const i=je();Ke(),Le("ngIf",i.contentTemplate)}}let Q_t=(()=>{class e{document;platformId;renderer;cd;zone;get id(){return this._id}set id(i){this._id=i}get style(){return this._style}set style(i){this._style=i}get styleClass(){return this._styleClass}set styleClass(i){this._styleClass=i}get tabindex(){return this._tabindex}set tabindex(i){this._tabindex=i}get items(){return this._items}set items(i){this._items=i}get itemSize(){return this._itemSize}set itemSize(i){this._itemSize=i}get scrollHeight(){return this._scrollHeight}set scrollHeight(i){this._scrollHeight=i}get scrollWidth(){return this._scrollWidth}set scrollWidth(i){this._scrollWidth=i}get orientation(){return this._orientation}set orientation(i){this._orientation=i}get step(){return this._step}set step(i){this._step=i}get delay(){return this._delay}set delay(i){this._delay=i}get resizeDelay(){return this._resizeDelay}set resizeDelay(i){this._resizeDelay=i}get appendOnly(){return this._appendOnly}set appendOnly(i){this._appendOnly=i}get inline(){return this._inline}set inline(i){this._inline=i}get lazy(){return this._lazy}set lazy(i){this._lazy=i}get disabled(){return this._disabled}set disabled(i){this._disabled=i}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(i){this._loaderDisabled=i}get columns(){return this._columns}set columns(i){this._columns=i}get showSpacer(){return this._showSpacer}set showSpacer(i){this._showSpacer=i}get showLoader(){return this._showLoader}set showLoader(i){this._showLoader=i}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(i){this._numToleratedItems=i}get loading(){return this._loading}set loading(i){this._loading=i}get autoSize(){return this._autoSize}set autoSize(i){this._autoSize=i}get trackBy(){return this._trackBy}set trackBy(i){this._trackBy=i}get options(){return this._options}set options(i){this._options=i,i&&"object"==typeof i&&Object.entries(i).forEach(([r,o])=>this[`_${r}`]!==o&&(this[`_${r}`]=o))}onLazyLoad=new Xi;onScroll=new Xi;onScrollIndexChange=new Xi;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(i=>this._columns?i:i.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(i,r,o,s,a){this.document=i,this.platformId=r,this.renderer=o,this.cd=s,this.zone=a}ngOnInit(){this.setInitialState()}ngOnChanges(i){let r=!1;if(i.loading){const{previousValue:o,currentValue:s}=i.loading;this.lazy&&o!==s&&s!==this.d_loading&&(this.d_loading=s,r=!0)}if(i.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),i.numToleratedItems){const{previousValue:o,currentValue:s}=i.numToleratedItems;o!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(i.options){const{previousValue:o,currentValue:s}=i.options;this.lazy&&o?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,r=!0),o?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!r&&(i.items?.previousValue?.length!==i.items?.currentValue?.length||i.itemSize||i.scrollHeight||i.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"content":this.contentTemplate=i.template;break;case"item":default:this.itemTemplate=i.template;break;case"loader":this.loaderTemplate=i.template;break;case"loadericon":this.loaderIconTemplate=i.template}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Hu(this.platformId)&&!this.initialized&&jt.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=jt.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=jt.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=jt.getWidth(this.contentEl),this.defaultContentHeight=jt.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(i){this.contentEl=i||this.contentViewChild?.nativeElement||jt.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(i){return Math.floor(((i??this.first)+4*this.d_numToleratedItems)/(this._step||1))}isPageChanged(i){return!this._step||this.page!==this.getPageByFirst(i??this.first)}scrollTo(i){this.elementViewChild?.nativeElement?.scrollTo(i)}scrollToIndex(i,r="auto"){if(this.both?i.every(s=>s>-1):i>-1){const s=this.first,{scrollTop:a=0,scrollLeft:l=0}=this.elementViewChild?.nativeElement,{numToleratedItems:u}=this.calculateNumItems(),c=this.getContentPosition(),f=this.itemSize,d=(E=0,M)=>E<=M?0:E,h=(E,M,k)=>E*M+k,g=(E=0,M=0)=>this.scrollTo({left:E,top:M,behavior:r});let v=this.both?{rows:0,cols:0}:0,y=!1,b=!1;this.both?(v={rows:d(i[0],u[0]),cols:d(i[1],u[1])},g(h(v.cols,f[1],c.left),h(v.rows,f[0],c.top)),b=this.lastScrollPos.top!==a||this.lastScrollPos.left!==l,y=v.rows!==s.rows||v.cols!==s.cols):(v=d(i,u),this.horizontal?g(h(v,f,c.left),a):g(l,h(v,f,c.top)),b=this.lastScrollPos!==(this.horizontal?l:a),y=v!==s),this.isRangeChanged=y,b&&(this.first=v)}}scrollInView(i,r,o="auto"){if(r){const{first:s,viewport:a}=this.getRenderedRange(),l=(f=0,d=0)=>this.scrollTo({left:f,top:d,behavior:o}),c="to-end"===r;if("to-start"===r){if(this.both)a.first.rows-s.rows>i[0]?l(a.first.cols*this._itemSize[1],(a.first.rows-1)*this._itemSize[0]):a.first.cols-s.cols>i[1]&&l((a.first.cols-1)*this._itemSize[1],a.first.rows*this._itemSize[0]);else if(a.first-s>i){const f=(a.first-1)*this._itemSize;this.horizontal?l(f,0):l(0,f)}}else if(c)if(this.both)a.last.rows-s.rows<=i[0]+1?l(a.first.cols*this._itemSize[1],(a.first.rows+1)*this._itemSize[0]):a.last.cols-s.cols<=i[1]+1&&l((a.first.cols+1)*this._itemSize[1],a.first.rows*this._itemSize[0]);else if(a.last-s<=i+1){const f=(a.first+1)*this._itemSize;this.horizontal?l(f,0):l(0,f)}}else this.scrollToIndex(i,o)}getRenderedRange(){const i=(s,a)=>a||s?Math.floor(s/(a||s)):0;let r=this.first,o=0;if(this.elementViewChild?.nativeElement){const{scrollTop:s,scrollLeft:a}=this.elementViewChild.nativeElement;this.both?(r={rows:i(s,this._itemSize[0]),cols:i(a,this._itemSize[1])},o={rows:r.rows+this.numItemsInViewport.rows,cols:r.cols+this.numItemsInViewport.cols}):(r=i(this.horizontal?a:s,this._itemSize),o=r+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:r,last:o}}}calculateNumItems(){const i=this.getContentPosition(),r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-i.left:0)||0,o=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-i.top:0)||0,s=(c,f)=>f||c?Math.ceil(c/(f||c)):0,a=c=>Math.ceil(c/2),l=this.both?{rows:s(o,this._itemSize[0]),cols:s(r,this._itemSize[1])}:s(this.horizontal?r:o,this._itemSize);return{numItemsInViewport:l,numToleratedItems:this.d_numToleratedItems||(this.both?[a(l.rows),a(l.cols)]:a(l))}}calculateOptions(){const{numItemsInViewport:i,numToleratedItems:r}=this.calculateNumItems(),o=(l,u,c,f=!1)=>this.getLast(l+u+(l<c?2:3)*c,f),s=this.first,a=this.both?{rows:o(this.first.rows,i.rows,r[0]),cols:o(this.first.cols,i.cols,r[1],!0)}:o(this.first,i,r);this.last=a,this.numItemsInViewport=i,this.d_numToleratedItems=r,this.showLoader&&(this.loaderArr=this.both?Array.from({length:i.rows}).map(()=>Array.from({length:i.cols})):Array.from({length:i})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[i,r]=[jt.getWidth(this.contentEl),jt.getHeight(this.contentEl)];i!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),r!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[o,s]=[jt.getWidth(this.elementViewChild.nativeElement),jt.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=o<this.defaultWidth?o+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=s<this.defaultHeight?s+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(i=0,r=!1){return this._items?Math.min(r?(this._columns||this._items[0]).length:this._items.length,i):0}getContentPosition(){if(this.contentEl){const i=getComputedStyle(this.contentEl),r=parseFloat(i.paddingLeft)+Math.max(parseFloat(i.left)||0,0),o=parseFloat(i.paddingRight)+Math.max(parseFloat(i.right)||0,0),s=parseFloat(i.paddingTop)+Math.max(parseFloat(i.top)||0,0),a=parseFloat(i.paddingBottom)+Math.max(parseFloat(i.bottom)||0,0);return{left:r,right:o,top:s,bottom:a,x:r+o,y:s+a}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const i=this.elementViewChild.nativeElement.parentElement.parentElement,r=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||i.offsetWidth}px`,o=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||i.offsetHeight}px`,s=(a,l)=>this.elementViewChild.nativeElement.style[a]=l;this.both||this.horizontal?(s("height",o),s("width",r)):s("height",o)}}setSpacerSize(){if("100%"!==this._scrollHeight&&this._items){const i=this.getContentPosition(),r=(o,s,a,l=0)=>this.spacerStyle={...this.spacerStyle,[`${o}`]:(s||[]).length*a+l+"px"};this.both?(r("height",this._items,this._itemSize[0],i.y),r("width",this._columns||this._items[1],this._itemSize[1],i.x)):this.horizontal?r("width",this._columns||this._items,this._itemSize,i.x):r("height",this._items,this._itemSize,i.y)}}setContentPosition(i){if(this.contentEl&&!this._appendOnly){const r=i?i.first:this.first,o=(a,l)=>a*l,s=(a=0,l=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${a}px, ${l}px, 0)`};if(this.both)s(o(r.cols,this._itemSize[1]),o(r.rows,this._itemSize[0]));else{const a=o(r,this._itemSize);this.horizontal?s(a,0):s(0,a)}}}onScrollPositionChange(i){const r=i.target,o=this.getContentPosition(),s=(b,E)=>b?b>E?b-E:b:0,a=(b,E)=>E||b?Math.floor(b/(E||b)):0,l=(b,E,M,k,P,H)=>b<=P?P:H?M-k-P:E+P-1,u=(b,E,M,k,P,H,X)=>b<=H?0:Math.max(0,X?b<E?M:b-H:b>E?M:b-2*H),c=(b,E,M,k,P,H=!1)=>{let X=E+k+2*P;return b>=P&&(X+=P+1),this.getLast(X,H)},f=s(r.scrollTop,o.top),d=s(r.scrollLeft,o.left);let h=this.both?{rows:0,cols:0}:0,g=this.last,v=!1,y=this.lastScrollPos;if(this.both){const b=this.lastScrollPos.top<=f,E=this.lastScrollPos.left<=d;if(!this._appendOnly||this._appendOnly&&(b||E)){const M={rows:a(f,this._itemSize[0]),cols:a(d,this._itemSize[1])},k={rows:l(M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],b),cols:l(M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],E)};h={rows:u(M.rows,k.rows,this.first.rows,0,0,this.d_numToleratedItems[0],b),cols:u(M.cols,k.cols,this.first.cols,0,0,this.d_numToleratedItems[1],E)},g={rows:c(M.rows,h.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(M.cols,h.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=h.rows!==this.first.rows||g.rows!==this.last.rows||h.cols!==this.first.cols||g.cols!==this.last.cols||this.isRangeChanged,y={top:f,left:d}}}else{const b=this.horizontal?d:f,E=this.lastScrollPos<=b;if(!this._appendOnly||this._appendOnly&&E){const M=a(b,this._itemSize);h=u(M,l(M,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,E),this.first,0,0,this.d_numToleratedItems,E),g=c(M,h,0,this.numItemsInViewport,this.d_numToleratedItems),v=h!==this.first||g!==this.last||this.isRangeChanged,y=b}}return{first:h,last:g,isRangeChanged:v,scrollPos:y}}onScrollChange(i){const{first:r,last:o,isRangeChanged:s,scrollPos:a}=this.onScrollPositionChange(i);if(s){const l={first:r,last:o};if(this.setContentPosition(l),this.first=r,this.last=o,this.lastScrollPos=a,this.handleEvents("onScrollIndexChange",l),this._lazy&&this.isPageChanged(r)){const u={first:this._step?Math.min(this.getPageByFirst(r)*this._step,this.items.length-this._step):r,last:Math.min(this._step?(this.getPageByFirst(r)+1)*this._step:o,this.items.length)};(this.lazyLoadState.first!==u.first||this.lazyLoadState.last!==u.last)&&this.handleEvents("onLazyLoad",u),this.lazyLoadState=u}}}onContainerScroll(i){if(this.handleEvents("onScroll",{originalEvent:i}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:r}=this.onScrollPositionChange(i);(r||this._step&&this.isPageChanged())&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(i),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(i)}bindResizeListener(){Hu(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{const i=this.document.defaultView,r=jt.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(i,r,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(jt.isVisible(this.elementViewChild?.nativeElement)){const[i,r]=[jt.getWidth(this.elementViewChild?.nativeElement),jt.getHeight(this.elementViewChild?.nativeElement)],[o,s]=[i!==this.defaultWidth,r!==this.defaultHeight];(this.both?o||s:this.horizontal?o:this.vertical&&s)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=i,this.defaultHeight=r,this.defaultContentWidth=jt.getWidth(this.contentEl),this.defaultContentHeight=jt.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(i,r){return this.options&&this.options[i]?this.options[i](r):this[i].emit(r)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:i=>this.getOptions(i),loading:this.d_loading,getLoaderOptions:(i,r)=>this.getLoaderOptions(i,r),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(i){const r=(this._items||[]).length,o=this.both?this.first.rows+i:this.first+i;return{index:o,count:r,first:0===o,last:o===r-1,even:o%2==0,odd:o%2!=0}}getLoaderOptions(i,r){const o=this.loaderArr.length;return{index:i,count:o,first:0===i,last:i===o-1,even:i%2==0,odd:i%2!=0,...r}}static \u0275fac=function(r){return new(r||e)(Wt(Al),Wt(dc),Wt(Ru),Wt(ld),Wt(Zo))};static \u0275cmp=mo({type:e,selectors:[["p-scroller"]],contentQueries:function(r,o,s){if(1&r&&WA(s,f0,4),2&r){let a;ao(a=lo())&&(o.templates=a)}},viewQuery:function(r,o){if(1&r&&(Xo(h_t,5),Xo(p_t,5)),2&r){let s;ao(s=lo())&&(o.elementViewChild=s.first),ao(s=lo())&&(o.contentViewChild=s.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Il],ngContentSelectors:g_t,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(r,o){if(1&r&&(Dm(),pn(0,R_t,8,16,"ng-container",6)(1,H_t,2,1,"ng-template",null,0,hc)),2&r){const s=Uu(2);Le("ngIf",!o._disabled)("ngIfElse",s)}},dependencies:()=>[Bf,Hv,ud,Jh,ZA,BW],styles:["@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}\n"],encapsulation:2})}return e})(),Jye=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[cd,hd,BW,hd]})}return e})(),uF=(()=>{class e extends zp{static \u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})();static \u0275cmp=mo({type:e,selectors:[["CheckIcon"]],standalone:!0,features:[Wo,Pu],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,o){1&r&&(lc(),st(0,"svg",0),yi(1,"path",1),dt()),2&r&&(ga(o.getClassNames()),ci("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})(),e7e=(()=>{class e extends zp{pathId;ngOnInit(){this.pathId="url(#"+ih()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})();static \u0275cmp=mo({type:e,selectors:[["SearchIcon"]],standalone:!0,features:[Wo,Pu],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(lc(),st(0,"svg",0)(1,"g"),yi(2,"path",1),dt(),st(3,"defs")(4,"clipPath",2),yi(5,"rect",3),dt()()()),2&r&&(ga(o.getClassNames()),ci("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),Ke(),ci("clip-path",o.pathId),Ke(3),Le("id",o.pathId))},encapsulation:2})}return e})(),t7e=(()=>{class e extends zp{pathId;ngOnInit(){this.pathId="url(#"+ih()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})();static \u0275cmp=mo({type:e,selectors:[["TimesCircleIcon"]],standalone:!0,features:[Wo,Pu],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(lc(),st(0,"svg",0)(1,"g"),yi(2,"path",1),dt(),st(3,"defs")(4,"clipPath",2),yi(5,"rect",3),dt()()()),2&r&&(ga(o.getClassNames()),ci("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),Ke(),ci("clip-path",o.pathId),Ke(3),Le("id",o.pathId))},encapsulation:2})}return e})(),V_t=(()=>{class e extends zp{static \u0275fac=(()=>{let i;return function(o){return(i||(i=oo(e)))(o||e)}})();static \u0275cmp=mo({type:e,selectors:[["MinusIcon"]],standalone:!0,features:[Wo,Pu],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(r,o){1&r&&(lc(),st(0,"svg",0),yi(1,"path",1),dt()),2&r&&(ga(o.getClassNames()),ci("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},dependencies:[cd],encapsulation:2})}return e})();const eC=e=>({height:e}),z_t=(e,t)=>({"p-multiselect-item":!0,"p-disabled":e,"p-focus":t}),$_t=e=>({"p-variant-filled":e}),G_t=e=>({"p-highlight":e}),cF=e=>({$implicit:e});function q_t(e,t){1&e&&yi(0,"CheckIcon",7),2&e&&(Le("styleClass","p-checkbox-icon"),ci("aria-hidden",!0))}function j_t(e,t){}function K_t(e,t){1&e&&pn(0,j_t,0,0,"ng-template")}function W_t(e,t){if(1&e&&(st(0,"span",8),pn(1,K_t,1,0,null,9),dt()),2&e){const i=je(2);ci("aria-hidden",!0),Ke(),Le("ngTemplateOutlet",i.checkIconTemplate)}}function X_t(e,t){}function Y_t(e,t){1&e&&pn(0,X_t,0,0,"ng-template")}function Z_t(e,t){if(1&e&&(st(0,"span",8),pn(1,Y_t,1,0,null,4),dt()),2&e){const i=je(2);ci("aria-hidden",!0),Ke(),Le("ngTemplateOutlet",i.itemCheckboxIconTemplate)("ngTemplateOutletContext",us(3,cF,i.selected))}}function J_t(e,t){if(1&e&&(to(0),pn(1,q_t,1,2,"CheckIcon",5)(2,W_t,2,2,"span",6)(3,Z_t,2,5,"span",6),no()),2&e){const i=je();Ke(),Le("ngIf",!i.checkIconTemplate&&!i.itemCheckboxIconTemplate),Ke(),Le("ngIf",i.checkIconTemplate),Ke(),Le("ngIf",i.itemCheckboxIconTemplate)}}function ewt(e,t){if(1&e&&(st(0,"span"),Jn(1),dt()),2&e){let i;const r=je();Ke(),Hl(null!==(i=r.label)&&void 0!==i?i:"empty")}}function twt(e,t){1&e&&ws(0)}const nwt=["container"],iwt=["overlay"],rwt=["filterInput"],owt=["focusInput"],swt=["items"],awt=["scroller"],lwt=["lastHiddenFocusableEl"],uwt=["firstHiddenFocusableEl"],cwt=["headerCheckbox"],fwt=[[["p-header"]],[["p-footer"]]],dwt=["p-header","p-footer"],Awt=(e,t)=>({$implicit:e,removeChip:t}),hwt=e=>({"p-disabled":e}),pwt=e=>({"max-height":e}),n7e=e=>({options:e}),gwt=(e,t)=>({"p-variant-filled":e,"p-checkbox-disabled":t}),mwt=(e,t,i)=>({"p-highlight":e,"p-focus":t,"p-disabled":i}),vwt=(e,t)=>({$implicit:e,partialSelected:t}),i7e=(e,t)=>({$implicit:e,options:t}),ywt=()=>({});function _wt(e,t){if(1&e&&(to(0),Jn(1),no()),2&e){const i=je(2);Ke(),Hl(i.label()||"empty")}}function wwt(e,t){if(1&e){const i=To();st(0,"TimesCircleIcon",31),ki("click",function(){Tn(i);const o=je(2).$implicit,s=je(3);return Dn(s.removeOption(o,s.event))}),dt()}if(2&e){const i=je(2).$implicit,r=je(3);Le("ngClass",us(4,hwt,r.isOptionDisabled(i)))("styleClass","p-multiselect-token-icon"),ci("data-pc-section","clearicon")("aria-hidden",!0)}}function bwt(e,t){1&e&&ws(0)}function Cwt(e,t){if(1&e){const i=To();st(0,"span",32),ki("click",function(){Tn(i);const o=je(2).$implicit,s=je(3);return Dn(s.removeOption(o,s.event))}),pn(1,bwt,1,0,"ng-container",33),dt()}if(2&e){const i=je(5);ci("data-pc-section","clearicon")("aria-hidden",!0),Ke(),Le("ngTemplateOutlet",i.removeTokenIconTemplate)}}function Ewt(e,t){if(1&e&&(to(0),pn(1,wwt,1,6,"TimesCircleIcon",29)(2,Cwt,2,3,"span",30),no()),2&e){const i=je(4);Ke(),Le("ngIf",!i.removeTokenIconTemplate),Ke(),Le("ngIf",i.removeTokenIconTemplate)}}function xwt(e,t){if(1&e&&(st(0,"div",27,4)(2,"span",28),Jn(3),dt(),pn(4,Ewt,3,2,"ng-container",20),dt()),2&e){const i=t.$implicit,r=je(3);Ke(3),Hl(r.getLabelByValue(i)),Ke(),Le("ngIf",!r.disabled)}}function Swt(e,t){if(1&e&&(to(0),Jn(1),no()),2&e){const i=je(3);Ke(),Hl(i.placeholder()||i.defaultLabel||"empty")}}function Bwt(e,t){if(1&e&&(to(0),pn(1,xwt,5,2,"div",26)(2,Swt,2,1,"ng-container",20),no()),2&e){const i=je(2);Ke(),Le("ngForOf",i.chipSelectedItems()),Ke(),Le("ngIf",!i.modelValue()||0===i.modelValue().length)}}function Mwt(e,t){if(1&e&&(to(0),pn(1,_wt,2,1,"ng-container",20)(2,Bwt,3,2,"ng-container",20),no()),2&e){const i=je();Ke(),Le("ngIf","comma"===i.display),Ke(),Le("ngIf","chip"===i.display)}}function Iwt(e,t){1&e&&ws(0)}function Dwt(e,t){if(1&e){const i=To();st(0,"TimesIcon",36),ki("click",function(o){return Tn(i),Dn(je(2).clear(o))}),dt()}2&e&&(Le("styleClass","p-multiselect-clear-icon"),ci("data-pc-section","clearicon")("aria-hidden",!0))}function Twt(e,t){}function Fwt(e,t){1&e&&pn(0,Twt,0,0,"ng-template")}function Owt(e,t){if(1&e){const i=To();st(0,"span",37),ki("click",function(o){return Tn(i),Dn(je(2).clear(o))}),pn(1,Fwt,1,0,null,33),dt()}if(2&e){const i=je(2);ci("data-pc-section","clearicon")("aria-hidden",!0),Ke(),Le("ngTemplateOutlet",i.clearIconTemplate)}}function kwt(e,t){if(1&e&&(to(0),pn(1,Dwt,1,3,"TimesIcon",34)(2,Owt,2,3,"span",35),no()),2&e){const i=je();Ke(),Le("ngIf",!i.clearIconTemplate),Ke(),Le("ngIf",i.clearIconTemplate)}}function Nwt(e,t){1&e&&ws(0)}function Lwt(e,t){if(1&e&&(to(0),pn(1,Nwt,1,0,"ng-container",33),no()),2&e){const i=je(2);Ke(),Le("ngTemplateOutlet",i.loadingIconTemplate)}}function Rwt(e,t){1&e&&yi(0,"span",40),2&e&&Le("ngClass","p-multiselect-trigger-icon pi-spin "+je(3).loadingIcon)}function Uwt(e,t){1&e&&yi(0,"span",41),2&e&&ga("p-multiselect-trigger-icon pi pi-spinner pi-spin")}function Pwt(e,t){if(1&e&&(to(0),pn(1,Rwt,1,1,"span",38)(2,Uwt,1,2,"span",39),no()),2&e){const i=je(2);Ke(),Le("ngIf",i.loadingIcon),Ke(),Le("ngIf",!i.loadingIcon)}}function Hwt(e,t){if(1&e&&(to(0),pn(1,Lwt,2,1,"ng-container",20)(2,Pwt,3,2,"ng-container",20),no()),2&e){const i=je();Ke(),Le("ngIf",i.loadingIconTemplate),Ke(),Le("ngIf",!i.loadingIconTemplate)}}function Qwt(e,t){1&e&&yi(0,"span",45),2&e&&(Le("ngClass",je(3).dropdownIcon),ci("data-pc-section","triggericon")("aria-hidden",!0))}function Vwt(e,t){1&e&&yi(0,"ChevronDownIcon",46),2&e&&(Le("styleClass","p-multiselect-trigger-icon"),ci("data-pc-section","triggericon")("aria-hidden",!0))}function zwt(e,t){if(1&e&&(to(0),pn(1,Qwt,1,3,"span",43)(2,Vwt,1,3,"ChevronDownIcon",44),no()),2&e){const i=je(2);Ke(),Le("ngIf",i.dropdownIcon),Ke(),Le("ngIf",!i.dropdownIcon)}}function $wt(e,t){}function Gwt(e,t){1&e&&pn(0,$wt,0,0,"ng-template")}function qwt(e,t){if(1&e&&(st(0,"span",47),pn(1,Gwt,1,0,null,33),dt()),2&e){const i=je(2);ci("data-pc-section","triggericon")("aria-hidden",!0),Ke(),Le("ngTemplateOutlet",i.dropdownIconTemplate)}}function jwt(e,t){if(1&e&&pn(0,zwt,3,2,"ng-container",20)(1,qwt,2,3,"span",42),2&e){const i=je();Le("ngIf",!i.dropdownIconTemplate),Ke(),Le("ngIf",i.dropdownIconTemplate)}}function Kwt(e,t){1&e&&ws(0)}function Wwt(e,t){1&e&&ws(0)}function Xwt(e,t){if(1&e&&(to(0),pn(1,Wwt,1,0,"ng-container",21),no()),2&e){const i=je(3);Ke(),Le("ngTemplateOutlet",i.filterTemplate)("ngTemplateOutletContext",us(2,n7e,i.filterOptions))}}function Ywt(e,t){1&e&&yi(0,"CheckIcon",46),2&e&&(Le("styleClass","p-checkbox-icon"),ci("aria-hidden",!0))}function Zwt(e,t){if(1&e&&(to(0),pn(1,Ywt,1,2,"CheckIcon",44),no()),2&e){const i=je(6);Ke(),Le("ngIf",i.allSelected())}}function Jwt(e,t){}function ebt(e,t){1&e&&pn(0,Jwt,0,0,"ng-template")}function tbt(e,t){if(1&e&&(st(0,"span",63),pn(1,ebt,1,0,null,21),dt()),2&e){const i=je(6);ci("aria-hidden",!0),Ke(),Le("ngTemplateOutlet",i.checkIconTemplate)("ngTemplateOutletContext",us(3,cF,i.allSelected()))}}function nbt(e,t){}function ibt(e,t){1&e&&pn(0,nbt,0,0,"ng-template")}function rbt(e,t){if(1&e&&(st(0,"span",63),pn(1,ibt,1,0,null,21),dt()),2&e){const i=je(6);ci("aria-hidden",!0),Ke(),Le("ngTemplateOutlet",i.headerCheckboxIconTemplate)("ngTemplateOutletContext",Ac(3,vwt,i.allSelected(),i.partialSelected()))}}function obt(e,t){if(1&e&&(to(0),pn(1,Zwt,2,1,"ng-container",20)(2,tbt,2,5,"span",62)(3,rbt,2,6,"span",62),no()),2&e){const i=je(5);Ke(),Le("ngIf",!i.checkIconTemplate&&!i.headerCheckboxIconTemplate),Ke(),Le("ngIf",i.checkIconTemplate),Ke(),Le("ngIf",i.headerCheckboxIconTemplate)}}function sbt(e,t){if(1&e){const i=To();st(0,"div",59),ki("click",function(o){return Tn(i),Dn(je(4).onToggleAll(o))})("keydown",function(o){return Tn(i),Dn(je(4).onHeaderCheckboxKeyDown(o))}),st(1,"div",16)(2,"input",60,9),ki("focus",function(){return Tn(i),Dn(je(4).onHeaderCheckboxFocus())})("blur",function(){return Tn(i),Dn(je(4).onHeaderCheckboxBlur())}),dt()(),st(4,"div",61),pn(5,obt,4,3,"ng-container",20),dt()()}if(2&e){const i=je(4);Le("ngClass",Ac(10,gwt,"filled"===i.variant||"filled"===i.config.inputStyle(),i.disabled||i.toggleAllDisabled)),Ke(),ci("data-p-hidden-accessible",!0),Ke(),Le("readonly",i.readonly)("disabled",i.disabled||i.toggleAllDisabled),ci("checked",i.allSelected())("aria-label",i.toggleAllAriaLabel),Ke(2),Le("ngClass",aE(13,mwt,i.allSelected(),i.headerCheckboxFocus,i.disabled||i.toggleAllDisabled)),ci("aria-label",i.toggleAllAriaLabel)("aria-checked",i.allSelected()),Ke(),Le("ngIf",i.allSelected()||i.partialSelected())}}function abt(e,t){1&e&&yi(0,"SearchIcon",46),2&e&&Le("styleClass","p-multiselect-filter-icon")}function lbt(e,t){}function ubt(e,t){1&e&&pn(0,lbt,0,0,"ng-template")}function cbt(e,t){if(1&e&&(st(0,"span",67),pn(1,ubt,1,0,null,33),dt()),2&e){const i=je(5);Ke(),Le("ngTemplateOutlet",i.filterIconTemplate)}}function fbt(e,t){if(1&e){const i=To();st(0,"div",64)(1,"input",65,10),ki("input",function(o){return Tn(i),Dn(je(4).onFilterInputChange(o))})("keydown",function(o){return Tn(i),Dn(je(4).onFilterKeyDown(o))})("click",function(o){return Tn(i),Dn(je(4).onInputClick(o))})("blur",function(o){return Tn(i),Dn(je(4).onFilterBlur(o))}),dt(),pn(3,abt,1,1,"SearchIcon",44)(4,cbt,2,1,"span",66),dt()}if(2&e){const i=je(4);Ke(),Le("value",i._filterValue()||"")("disabled",i.disabled),ci("autocomplete",i.autocomplete)("placeholder",i.filterPlaceHolder)("aria-owns",i.id+"_list")("aria-activedescendant",i.focusedOptionId)("placeholder",i.filterPlaceHolder)("aria-label",i.ariaFilterLabel),Ke(2),Le("ngIf",!i.filterIconTemplate),Ke(),Le("ngIf",i.filterIconTemplate)}}function dbt(e,t){1&e&&yi(0,"TimesIcon",46),2&e&&Le("styleClass","p-multiselect-close-icon")}function Abt(e,t){}function hbt(e,t){1&e&&pn(0,Abt,0,0,"ng-template")}function pbt(e,t){if(1&e&&(st(0,"span",68),pn(1,hbt,1,0,null,33),dt()),2&e){const i=je(4);Ke(),Le("ngTemplateOutlet",i.closeIconTemplate)}}function gbt(e,t){if(1&e){const i=To();pn(0,sbt,6,17,"div",55)(1,fbt,5,10,"div",56),st(2,"button",57),ki("click",function(o){return Tn(i),Dn(je(3).close(o))}),pn(3,dbt,1,1,"TimesIcon",44)(4,pbt,2,1,"span",58),dt()}if(2&e){const i=je(3);Le("ngIf",i.isSelectionAllDisabled()),Ke(),Le("ngIf",i.filter),Ke(),ci("aria-label",i.closeAriaLabel),Ke(),Le("ngIf",!i.closeIconTemplate),Ke(),Le("ngIf",i.closeIconTemplate)}}function mbt(e,t){if(1&e&&(st(0,"div",54),Zg(1),pn(2,Kwt,1,0,"ng-container",33)(3,Xwt,2,4,"ng-container",23)(4,gbt,5,5,"ng-template",null,8,hc),dt()),2&e){const i=Uu(5),r=je(2);Ke(2),Le("ngTemplateOutlet",r.headerTemplate),Ke(),Le("ngIf",r.filterTemplate)("ngIfElse",i)}}function vbt(e,t){1&e&&ws(0)}function ybt(e,t){if(1&e&&pn(0,vbt,1,0,"ng-container",21),2&e){const i=t.$implicit,r=t.options;je(2),Le("ngTemplateOutlet",Uu(8))("ngTemplateOutletContext",Ac(2,i7e,i,r))}}function _bt(e,t){1&e&&ws(0)}function wbt(e,t){if(1&e&&pn(0,_bt,1,0,"ng-container",21),2&e){const i=t.options;Le("ngTemplateOutlet",je(4).loaderTemplate)("ngTemplateOutletContext",us(2,n7e,i))}}function bbt(e,t){1&e&&(to(0),pn(1,wbt,1,4,"ng-template",70),no())}function Cbt(e,t){if(1&e){const i=To();st(0,"p-scroller",69,11),ki("onLazyLoad",function(o){return Tn(i),Dn(je(2).onLazyLoad.emit(o))}),pn(2,ybt,1,5,"ng-template",25)(3,bbt,2,0,"ng-container",20),dt()}if(2&e){const i=je(2);Cf(us(9,eC,i.scrollHeight)),Le("items",i.visibleOptions())("itemSize",i.virtualScrollItemSize||i._itemSize)("autoSize",!0)("tabindex",-1)("lazy",i.lazy)("options",i.virtualScrollOptions),Ke(3),Le("ngIf",i.loaderTemplate)}}function Ebt(e,t){1&e&&ws(0)}function xbt(e,t){if(1&e&&(to(0),pn(1,Ebt,1,0,"ng-container",21),no()),2&e){je();const i=Uu(8),r=je();Ke(),Le("ngTemplateOutlet",i)("ngTemplateOutletContext",Ac(3,i7e,r.visibleOptions(),$s(2,ywt)))}}function Sbt(e,t){if(1&e&&(st(0,"span"),Jn(1),dt()),2&e){const i=je(2).$implicit,r=je(3);Ke(),Hl(r.getOptionGroupLabel(i.optionGroup))}}function Bbt(e,t){1&e&&ws(0)}function Mbt(e,t){if(1&e&&(to(0),st(1,"li",74),pn(2,Sbt,2,1,"span",20)(3,Bbt,1,0,"ng-container",21),dt(),no()),2&e){const i=je(),r=i.$implicit,o=i.index,s=je().options,a=je(2);Ke(),Le("ngStyle",us(5,eC,s.itemSize+"px")),ci("id",a.id+"_"+a.getOptionIndex(o,s)),Ke(),Le("ngIf",!a.groupTemplate),Ke(),Le("ngTemplateOutlet",a.groupTemplate)("ngTemplateOutletContext",us(7,cF,r.optionGroup))}}function Ibt(e,t){if(1&e){const i=To();to(0),st(1,"p-multiSelectItem",75),ki("onClick",function(o){Tn(i);const s=je().index,a=je().options,l=je(2);return Dn(l.onOptionSelect(o,!1,l.getOptionIndex(s,a)))})("onMouseEnter",function(o){Tn(i);const s=je().index,a=je().options,l=je(2);return Dn(l.onOptionMouseEnter(o,l.getOptionIndex(s,a)))}),dt(),no()}if(2&e){const i=je(),r=i.$implicit,o=i.index,s=je().options,a=je(2);Ke(),Le("id",a.id+"_"+a.getOptionIndex(o,s))("option",r)("selected",a.isSelected(r))("label",a.getOptionLabel(r))("disabled",a.isOptionDisabled(r))("template",a.itemTemplate)("checkIconTemplate",a.checkIconTemplate)("itemCheckboxIconTemplate",a.itemCheckboxIconTemplate)("itemSize",s.itemSize)("focused",a.focusedOptionIndex()===a.getOptionIndex(o,s))("ariaPosInset",a.getAriaPosInset(a.getOptionIndex(o,s)))("ariaSetSize",a.ariaSetSize)}}function Dbt(e,t){if(1&e&&pn(0,Mbt,4,9,"ng-container",20)(1,Ibt,2,12,"ng-container",20),2&e){const i=t.$implicit,r=je(3);Le("ngIf",r.isOptionGroup(i)),Ke(),Le("ngIf",!r.isOptionGroup(i))}}function Tbt(e,t){if(1&e&&(to(0),Jn(1),no()),2&e){const i=je(4);Ke(),Rc(" ",i.emptyFilterMessageLabel," ")}}function Fbt(e,t){1&e&&ws(0,null,13)}function Obt(e,t){if(1&e&&(st(0,"li",76),pn(1,Tbt,2,1,"ng-container",23)(2,Fbt,2,0,"ng-container",33),dt()),2&e){const i=je().options,r=je(2);Le("ngStyle",us(4,eC,i.itemSize+"px")),Ke(),Le("ngIf",!r.emptyFilterTemplate&&!r.emptyTemplate)("ngIfElse",r.emptyFilter),Ke(),Le("ngTemplateOutlet",r.emptyFilterTemplate||r.emptyTemplate)}}function kbt(e,t){if(1&e&&(to(0),Jn(1),no()),2&e){const i=je(4);Ke(),Rc(" ",i.emptyMessageLabel," ")}}function Nbt(e,t){1&e&&ws(0,null,14)}function Lbt(e,t){if(1&e&&(st(0,"li",76),pn(1,kbt,2,1,"ng-container",23)(2,Nbt,2,0,"ng-container",33),dt()),2&e){const i=je().options,r=je(2);Le("ngStyle",us(4,eC,i.itemSize+"px")),Ke(),Le("ngIf",!r.emptyTemplate)("ngIfElse",r.empty),Ke(),Le("ngTemplateOutlet",r.emptyTemplate)}}function Rbt(e,t){if(1&e&&(st(0,"ul",71,12),pn(2,Dbt,2,2,"ng-template",72)(3,Obt,3,6,"li",73)(4,Lbt,3,6,"li",73),dt()),2&e){const i=t.$implicit,r=t.options,o=je(2);Le("ngClass",r.contentStyleClass)("ngStyle",r.contentStyle),ci("aria-label",o.listLabel),Ke(2),Le("ngForOf",i),Ke(),Le("ngIf",o.hasFilter()&&o.isEmpty()),Ke(),Le("ngIf",!o.hasFilter()&&o.isEmpty())}}function Ubt(e,t){1&e&&ws(0)}function Pbt(e,t){if(1&e&&(st(0,"div",77),Zg(1,1),pn(2,Ubt,1,0,"ng-container",33),dt()),2&e){const i=je(2);Ke(2),Le("ngTemplateOutlet",i.footerTemplate)}}function Hbt(e,t){if(1&e){const i=To();st(0,"div",48)(1,"span",49,5),ki("focus",function(o){return Tn(i),Dn(je().onFirstHiddenFocus(o))}),dt(),pn(3,mbt,6,3,"div",50),st(4,"div",51),pn(5,Cbt,4,11,"p-scroller",52)(6,xbt,2,6,"ng-container",20)(7,Rbt,5,6,"ng-template",null,6,hc),dt(),pn(9,Pbt,3,1,"div",53),st(10,"span",49,7),ki("focus",function(o){return Tn(i),Dn(je().onLastHiddenFocus(o))}),dt()()}if(2&e){const i=je();ga(i.panelStyleClass),Le("ngClass","p-multiselect-panel p-component")("ngStyle",i.panelStyle),ci("id",i.id+"_list"),Ke(),ci("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),Ke(2),Le("ngIf",i.showHeader),Ke(),Le("ngStyle",us(16,pwt,i.virtualScroll?"auto":i.scrollHeight||"auto")),Ke(),Le("ngIf",i.virtualScroll),Ke(),Le("ngIf",!i.virtualScroll),Ke(3),Le("ngIf",i.footerFacet||i.footerTemplate),Ke(),ci("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}const Qbt={provide:fd,useExisting:En(()=>r7e),multi:!0};let Vbt=(()=>{class e{config;id;option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;template;checkIconTemplate;itemCheckboxIconTemplate;onClick=new Xi;onMouseEnter=new Xi;constructor(i){this.config=i}onOptionClick(i){this.onClick.emit({originalEvent:i,option:this.option,selected:this.selected}),i.stopPropagation()}onOptionMouseEnter(i){this.onMouseEnter.emit({originalEvent:i,option:this.option,selected:this.selected})}static \u0275fac=function(r){return new(r||e)(Wt(h1))};static \u0275cmp=mo({type:e,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[cn.HasDecoratorInputTransform,"selected","selected",pr],label:"label",disabled:[cn.HasDecoratorInputTransform,"disabled","disabled",pr],itemSize:[cn.HasDecoratorInputTransform,"itemSize","itemSize",lu],focused:[cn.HasDecoratorInputTransform,"focused","focused",pr],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Lc],decls:6,vars:28,consts:[["pRipple","","role","option",1,"p-multiselect-item",3,"click","mouseenter","ngStyle","ngClass","id"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(r,o){1&r&&(st(0,"li",0),ki("click",function(a){return o.onOptionClick(a)})("mouseenter",function(a){return o.onOptionMouseEnter(a)}),st(1,"div",1)(2,"div",2),pn(3,J_t,4,3,"ng-container",3),dt()(),pn(4,ewt,2,1,"span",3)(5,twt,1,0,"ng-container",4),dt()),2&r&&(Le("ngStyle",us(17,eC,o.itemSize+"px"))("ngClass",Ac(19,z_t,o.disabled,o.focused))("id",o.id),ci("aria-label",o.label)("aria-setsize",o.ariaSetSize)("aria-posinset",o.ariaPosInset)("aria-selected",o.selected)("data-p-focused",o.focused)("data-p-highlight",o.selected)("data-p-disabled",o.disabled)("aria-checked",o.selected),Ke(),Le("ngClass",us(22,$_t,"filled"===o.config.inputStyle())),Ke(),Le("ngClass",us(24,G_t,o.selected)),Ke(),Le("ngIf",o.selected),Ke(),Le("ngIf",!o.template),Ke(),Le("ngTemplateOutlet",o.template)("ngTemplateOutletContext",us(26,cF,o.option)))},dependencies:()=>[Bf,ud,Jh,ZA,Jb,uF],encapsulation:2})}return e})(),r7e=(()=>{class e{el;renderer;cd;zone;filterService;config;overlayService;id;ariaLabel;style;styleClass;panelStyle;panelStyleClass;inputId;disabled;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex=0;variant="outlined";appendTo;dataKey;name;ariaLabelledBy;set displaySelectedLabel(i){this._displaySelectedLabel=i}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(i){this._maxSelectedLabels=i}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel;showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;loading=!1;virtualScrollItemSize;loadingIcon;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!0;display="comma";autocomplete="off";showClear=!1;autofocus;get autoZIndex(){return this._autoZIndex}set autoZIndex(i){this._autoZIndex=i,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(i){this._baseZIndex=i,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(i){this._showTransitionOptions=i,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(i){this._hideTransitionOptions=i,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(i){this._defaultLabel=i,console.warn("defaultLabel property is deprecated since 16.6.0, use placeholder instead")}get defaultLabel(){return this._defaultLabel}set placeholder(i){this._placeholder.set(i)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(i){Ci.deepEquals(this._options(),i)||this._options.set(i)}get filterValue(){return this._filterValue()}set filterValue(i){this._filterValue.set(i)}get itemSize(){return this._itemSize}set itemSize(i){this._itemSize=i,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectAll(){return this._selectAll}set selectAll(i){this._selectAll=i}focusOnHover=!1;filterFields;selectOnFocus=!1;autoOptionFocus=!0;onChange=new Xi;onFilter=new Xi;onFocus=new Xi;onBlur=new Xi;onClick=new Xi;onClear=new Xi;onPanelShow=new Xi;onPanelHide=new Xi;onLazyLoad=new Xi;onRemove=new Xi;onSelectAllChange=new Xi;containerViewChild;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;templates;searchValue;searchTimeout;_selectAll=null;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_defaultLabel;_placeholder=Nc(void 0);_itemSize;_selectionLimit;_disableTooltip=!1;value;_filteredOptions;onModelChange=()=>{};onModelTouched=()=>{};valuesAsString;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;checkIconTemplate;loadingIconTemplate;filterIconTemplate;removeTokenIconTemplate;closeIconTemplate;clearIconTemplate;dropdownIconTemplate;itemCheckboxIconTemplate;headerCheckboxIconTemplate;headerCheckboxFocus;filterOptions;preventModelTouched;preventDocumentDefault;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=Nc(null);_filterValue=Nc(null);_options=Nc(null);startRangeIndex=Nc(-1);focusedOptionIndex=Nc(-1);selectedOptions;clickInProgress=!1;get containerClass(){return{"p-multiselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-multiselect-clearable":this.showClear&&!this.disabled,"p-multiselect-chip":"chip"===this.display,"p-focus":this.focused,"p-variant-filled":"filled"===this.variant||"filled"===this.config.inputStyle()}}get inputClass(){return{"p-multiselect-label p-inputtext":!0,"p-placeholder":(this.placeholder()||this.defaultLabel)&&(this.label()===this.placeholder()||this.label()===this.defaultLabel),"p-multiselect-label-empty":!this.selectedItemsTemplate&&("p-emptylabel"===this.label()||0===this.label().length)}}get panelClass(){return{"p-multiselect-panel p-component":!0,"p-input-filled":"filled"===this.config.inputStyle(),"p-ripple-disabled":!1===this.config.ripple}}get labelClass(){return{"p-multiselect-label":!0,"p-placeholder":this.label()===this.placeholder()||this.label()===this.defaultLabel,"p-multiselect-label-empty":!(this.placeholder()||this.defaultLabel||this.modelValue()&&0!==this.modelValue().length)}}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(D6.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(D6.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.modelValue()?!!this.modelValue():Ci.isNotEmpty(this.modelValue())}get isVisibleClearIcon(){return null!=this.modelValue()&&""!==this.modelValue()&&Ci.isNotEmpty(this.modelValue())&&this.showClear&&!this.disabled&&this.filled}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}get listLabel(){return this.config.getTranslation(D6.ARIA).listLabel}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}visibleOptions=Py(()=>{const i=this.getAllVisibleAndNonVisibleOptions(),r=Ci.isArray(i)&&Ci.isObject(i[0]);if(this._filterValue()){let o;if(o=r?this.filterService.filter(i,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):i.filter(s=>s.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){const a=[];return(this.options||[]).forEach(l=>{const c=this.getOptionGroupChildren(l).filter(f=>o.includes(f));c.length>0&&a.push({...l,["string"==typeof this.optionGroupChildren?this.optionGroupChildren:"items"]:[...c]})}),this.flatOptions(a)}return o}return i});label=Py(()=>{let i;const r=this.modelValue();if(r&&r.length&&this.displaySelectedLabel){if(Ci.isNotEmpty(this.maxSelectedLabels)&&r.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();i="";for(let o=0;o<r.length;o++)0!==o&&(i+=", "),i+=this.getLabelByValue(r[o])}else i=this.placeholder()||this.defaultLabel||"";return i});chipSelectedItems=Py(()=>Ci.isNotEmpty(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue());constructor(i,r,o,s,a,l,u){this.el=i,this.renderer=r,this.cd=o,this.zone=s,this.filterService=a,this.config=l,this.overlayService=u,Hy(()=>{const c=this.modelValue(),f=this.visibleOptions();f&&Ci.isNotEmpty(f)&&(this.selectedOptions=this.optionValue&&this.optionLabel&&c?f.filter(d=>c.includes(d[this.optionLabel])||c.includes(d[this.optionValue])):c,this.cd.markForCheck())})}ngOnInit(){this.id=this.id||ih(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:i=>this.onFilterInputChange(i),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return Ci.isNotEmpty(this.selectionLimit)&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"item":default:this.itemTemplate=i.template;break;case"group":this.groupTemplate=i.template;break;case"selectedItems":this.selectedItemsTemplate=i.template;break;case"header":this.headerTemplate=i.template;break;case"filter":this.filterTemplate=i.template;break;case"emptyfilter":this.emptyFilterTemplate=i.template;break;case"empty":this.emptyTemplate=i.template;break;case"footer":this.footerTemplate=i.template;break;case"loader":this.loaderTemplate=i.template;break;case"checkicon":this.checkIconTemplate=i.template,console.warn("checkicon is deprecated and will removed in v18. Use itemcheckboxicon or headercheckboxicon templates instead.");break;case"headercheckboxicon":this.headerCheckboxIconTemplate=i.template;break;case"loadingicon":this.loadingIconTemplate=i.template;break;case"filtericon":this.filterIconTemplate=i.template;break;case"removetokenicon":this.removeTokenIconTemplate=i.template;break;case"closeicon":this.closeIconTemplate=i.template;break;case"clearicon":this.clearIconTemplate=i.template;break;case"dropdownicon":this.dropdownIconTemplate=i.template;break;case"itemcheckboxicon":this.itemCheckboxIconTemplate=i.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(i){return(i||[]).reduce((r,o,s)=>{r.push({optionGroup:o,group:!0,index:s});const a=this.getOptionGroupChildren(o);return a&&a.forEach(l=>r.push(l)),r},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());const i=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[i]})}}updateModel(i,r){this.value=i,this.onModelChange(i),this.modelValue.set(i)}onInputClick(i){i.stopPropagation(),i.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(i,r=!1,o=-1){const{originalEvent:s,option:a}=i;if(this.disabled||this.isOptionDisabled(a))return;let u=null;this.isSelected(a)?(u=this.modelValue().filter(c=>!Ci.equals(c,this.getOptionValue(a),this.equalityKey())),this.onRemove.emit({newValue:this.value,removed:this.getOptionValue(a)})):u=[...this.modelValue()||[],this.getOptionValue(a)],this.updateModel(u,s),-1!==o&&this.focusedOptionIndex.set(o),r&&jt.focus(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:{...i,selected:!i.selected},value:u,itemValue:a})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(i=>this.isValidSelectedOption(i)):-1}onOptionSelectRange(i,r=-1,o=-1){if(-1===r&&(r=this.findNearestSelectedOptionIndex(o,!0)),-1===o&&(o=this.findNearestSelectedOptionIndex(r)),-1!==r&&-1!==o){const s=Math.min(r,o),a=Math.max(r,o),l=this.visibleOptions().slice(s,a+1).filter(u=>this.isValidOption(u)).map(u=>this.getOptionValue(u));this.updateModel(l,i)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(i,r=!1){let o=-1;return this.hasSelectedOption()&&(r?(o=this.findPrevSelectedOptionIndex(i),o=-1===o?this.findNextSelectedOptionIndex(i):o):(o=this.findNextSelectedOptionIndex(i),o=-1===o?this.findPrevSelectedOptionIndex(i):o)),o>-1?o:i}findPrevSelectedOptionIndex(i){const r=this.hasSelectedOption()&&i>0?Ci.findLastIndex(this.visibleOptions().slice(0,i),o=>this.isValidSelectedOption(o)):-1;return r>-1?r:-1}findFirstFocusedOptionIndex(){const i=this.findFirstSelectedOptionIndex();return i<0?this.findFirstOptionIndex():i}findFirstOptionIndex(){return this.visibleOptions().findIndex(i=>this.isValidOption(i))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(i=>this.isValidSelectedOption(i)):-1}findNextSelectedOptionIndex(i){const r=this.hasSelectedOption()&&i<this.visibleOptions().length-1?this.visibleOptions().slice(i+1).findIndex(o=>this.isValidSelectedOption(o)):-1;return r>-1?r+i+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return Ci.isNotEmpty(this.modelValue())}isSelectionAllDisabled(){return this.showToggleAll&&Ci.isEmpty(this.selectionLimit)}isValidSelectedOption(i){return this.isValidOption(i)&&this.isSelected(i)}isOptionGroup(i){return(this.group||this.optionGroupLabel)&&i.optionGroup&&i.group}isValidOption(i){return i&&!(this.isOptionDisabled(i)||this.isOptionGroup(i))}isOptionDisabled(i){return!(!this.maxSelectionLimitReached()||this.isSelected(i))||(this.optionDisabled?Ci.resolveFieldData(i,this.optionDisabled):!(!i||void 0===i.disabled)&&i.disabled)}isSelected(i){const r=this.getOptionValue(i);return(this.modelValue()||[]).some(o=>Ci.equals(o,r,this.equalityKey()))}isOptionMatched(i){return this.isValidOption(i)&&this.getOptionLabel(i).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&0===this.visibleOptions().length}getOptionIndex(i,r){return this.virtualScrollerDisabled?i:r&&r.getItemOptions(i).index}getAriaPosInset(i){return(this.optionGroupLabel?i-this.visibleOptions().slice(0,i).filter(r=>this.isOptionGroup(r)).length:i)+1}get ariaSetSize(){return this.visibleOptions().filter(i=>!this.isOptionGroup(i)).length}getLabelByValue(i){const o=(this.group?this.flatOptions(this._options()):this._options()||[]).find(s=>!this.isOptionGroup(s)&&Ci.equals(this.getOptionValue(s),i,this.equalityKey()));return o?this.getOptionLabel(o):null}getSelectedItemsLabel(){let i=/{(.*?)}/,r=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(D6.SELECTION_MESSAGE);return i.test(r)?r.replace(r.match(i)[0],this.modelValue().length+""):r}getOptionLabel(i){return this.optionLabel?Ci.resolveFieldData(i,this.optionLabel):i&&null!=i.label?i.label:i}getOptionValue(i){return this.optionValue?Ci.resolveFieldData(i,this.optionValue):!this.optionLabel&&i&&void 0!==i.value?i.value:i}getOptionGroupLabel(i){return this.optionGroupLabel?Ci.resolveFieldData(i,this.optionGroupLabel):i&&null!=i.label?i.label:i}getOptionGroupChildren(i){return this.optionGroupChildren?Ci.resolveFieldData(i,this.optionGroupChildren):i.items}onKeyDown(i){if(this.disabled)return void i.preventDefault();const r=i.metaKey||i.ctrlKey;switch(i.code){case"ArrowDown":this.onArrowDownKey(i);break;case"ArrowUp":this.onArrowUpKey(i);break;case"Home":this.onHomeKey(i);break;case"End":this.onEndKey(i);break;case"PageDown":this.onPageDownKey(i);break;case"PageUp":this.onPageUpKey(i);break;case"Enter":case"Space":this.onEnterKey(i);break;case"Escape":this.onEscapeKey(i);break;case"Tab":this.onTabKey(i);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if("KeyA"===i.code&&r){const o=this.visibleOptions().filter(s=>this.isValidOption(s)).map(s=>this.getOptionValue(s));this.updateModel(o,i),i.preventDefault();break}!r&&Ci.isPrintableCharacter(i.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(i,i.key),i.preventDefault())}}onFilterKeyDown(i){switch(i.code){case"ArrowDown":this.onArrowDownKey(i);break;case"ArrowUp":this.onArrowUpKey(i,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(i,!0);break;case"Home":this.onHomeKey(i,!0);break;case"End":this.onEndKey(i,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(i);break;case"Escape":this.onEscapeKey(i);break;case"Tab":this.onTabKey(i,!0)}}onArrowLeftKey(i,r=!1){r&&this.focusedOptionIndex.set(-1)}onArrowDownKey(i){const r=-1!==this.focusedOptionIndex()?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();i.shiftKey&&this.onOptionSelectRange(i,this.startRangeIndex(),r),this.changeFocusedOptionIndex(i,r),!this.overlayVisible&&this.show(),i.preventDefault(),i.stopPropagation()}onArrowUpKey(i,r=!1){if(i.altKey&&!r)-1!==this.focusedOptionIndex()&&this.onOptionSelect(i,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),i.preventDefault();else{const o=-1!==this.focusedOptionIndex()?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();i.shiftKey&&this.onOptionSelectRange(i,o,this.startRangeIndex()),this.changeFocusedOptionIndex(i,o),!this.overlayVisible&&this.show(),i.preventDefault()}i.stopPropagation()}onHomeKey(i,r=!1){const{currentTarget:o}=i;if(r)o.setSelectionRange(0,i.shiftKey?o.value.length:0),this.focusedOptionIndex.set(-1);else{let s=i.metaKey||i.ctrlKey,a=this.findFirstOptionIndex();i.shiftKey&&s&&this.onOptionSelectRange(i,a,this.startRangeIndex()),this.changeFocusedOptionIndex(i,a),!this.overlayVisible&&this.show()}i.preventDefault()}onEndKey(i,r=!1){const{currentTarget:o}=i;if(r){const s=o.value.length;o.setSelectionRange(i.shiftKey?0:s,s),this.focusedOptionIndex.set(-1)}else{let s=i.metaKey||i.ctrlKey,a=this.findLastFocusedOptionIndex();i.shiftKey&&s&&this.onOptionSelectRange(i,this.startRangeIndex(),a),this.changeFocusedOptionIndex(i,a),!this.overlayVisible&&this.show()}i.preventDefault()}onPageDownKey(i){this.scrollInView(this.visibleOptions().length-1),i.preventDefault()}onPageUpKey(i){this.scrollInView(0),i.preventDefault()}onEnterKey(i){this.overlayVisible?-1!==this.focusedOptionIndex()&&(i.shiftKey?this.onOptionSelectRange(i,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:i,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(i),i.preventDefault()}onEscapeKey(i){this.overlayVisible&&this.hide(!0),i.preventDefault()}onDeleteKey(i){this.showClear&&(this.clear(i),i.preventDefault())}onTabKey(i,r=!1){r||(this.overlayVisible&&this.hasFocusableElements()?(jt.focus(i.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),i.preventDefault()):(-1!==this.focusedOptionIndex()&&this.onOptionSelect({originalEvent:i,option:this.visibleOptions()[this.focusedOptionIndex()]}),this.overlayVisible&&this.hide(this.filter)))}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(i){if(!(this.disabled||this.loading||this.readonly||i.target.isSameNode(this.focusInputViewChild?.nativeElement))){if("INPUT"===i.target.tagName||"clearicon"===i.target.getAttribute("data-pc-section")||i.target.closest('[data-pc-section="clearicon"]'))return void i.preventDefault();if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(i.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(i),this.cd.detectChanges()}}onFirstHiddenFocus(i){const r=i.relatedTarget===this.focusInputViewChild?.nativeElement?jt.getFirstFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;jt.focus(r)}onInputFocus(i){this.focused=!0;const r=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:i})}onInputBlur(i){this.focused=!1,this.onBlur.emit({originalEvent:i}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(i){this._filterValue.set(i.target.value),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:i,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onLastHiddenFocus(i){const r=i.relatedTarget===this.focusInputViewChild?.nativeElement?jt.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;jt.focus(r)}onOptionMouseEnter(i,r){this.focusOnHover&&this.changeFocusedOptionIndex(i,r)}onHeaderCheckboxKeyDown(i){if(this.disabled)i.preventDefault();else switch(i.code){case"Space":case"Enter":this.onToggleAll(i)}}onFilterBlur(i){this.focusedOptionIndex.set(-1)}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onToggleAll(i){if(!this.disabled&&!this.readonly){if(null!=this.selectAll)this.onSelectAllChange.emit({originalEvent:i,checked:!this.allSelected()});else{const s=[...this.getAllVisibleAndNonVisibleOptions().filter(l=>this.isSelected(l)&&(this.optionDisabled?Ci.resolveFieldData(l,this.optionDisabled):!(!l||void 0===l.disabled)&&l.disabled)),...this.allSelected()?this.visibleOptions().filter(l=>!this.isValidOption(l)&&this.isSelected(l)):this.visibleOptions().filter(l=>this.isSelected(l)||this.isValidOption(l))].map(l=>this.getOptionValue(l)),a=[...new Set(s)];this.updateModel(a,i),(!a.length||a.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:i,checked:!!a.length})}this.partialSelected()&&(this.selectedOptions=null,this.cd.markForCheck()),this.onChange.emit({originalEvent:i,value:this.value}),jt.focus(this.headerCheckboxViewChild?.nativeElement),this.headerCheckboxFocus=!0,i.preventDefault(),i.stopPropagation()}}changeFocusedOptionIndex(i,r){this.focusedOptionIndex()!==r&&(this.focusedOptionIndex.set(r),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(i=-1){if(this.itemsViewChild&&this.itemsViewChild.nativeElement){const o=jt.findSingle(this.itemsViewChild.nativeElement,`li[id="${-1!==i?`${this.id}_${i}`:this.focusedOptionId}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(-1!==i?i:this.focusedOptionIndex())},0)}}get focusedOptionId(){return-1!==this.focusedOptionIndex()?`${this.id}_${this.focusedOptionIndex()}`:null}writeValue(i){this.value=i,!Ci.isEmpty(this.selectionLimit)&&Ci.isEmpty(this.value)?this.modelValue.set([]):this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}allSelected(){return null!==this.selectAll?this.selectAll:Ci.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(i=>this.isOptionGroup(i)||this.isOptionDisabled(i)||this.isSelected(i))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<this.options.length}show(i){this.overlayVisible=!0;const r=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),i&&jt.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(i){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),"modal"===this.overlayOptions?.mode&&jt.unblockBodyScroll(),i&&jt.focus(this.focusInputViewChild?.nativeElement),this.onPanelHide.emit(),this.cd.markForCheck()}onOverlayAnimationStart(i){switch(i.toState){case"visible":if(this.itemsWrapper=jt.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this._options()&&this._options().length)if(this.virtualScroll){const r=Ci.isNotEmpty(this.modelValue())?this.focusedOptionIndex():-1;-1!==r&&this.scroller?.scrollToIndex(r)}else{let r=jt.findSingle(this.itemsWrapper,'[data-p-highlight="true"]');r&&r.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();case"void":this.itemsWrapper=null,this.onModelTouched()}}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(i){this.hide(),i.preventDefault(),i.stopPropagation()}clear(i){this.value=null,this.updateModel(null,i),this.selectedOptions=null,this.onClear.emit(),this._disableTooltip=!0,i.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(i,r){let o=this.modelValue().filter(s=>!Ci.equals(s,i,this.equalityKey()));this.updateModel(o,r),this.onChange.emit({originalEvent:r,value:o,itemValue:i}),r&&r.stopPropagation()}findNextItem(i){let r=i.nextElementSibling;return r?jt.hasClass(r.children[0],"p-disabled")||jt.isHidden(r.children[0])||jt.hasClass(r,"p-multiselect-item-group")?this.findNextItem(r):r.children[0]:null}findPrevItem(i){let r=i.previousElementSibling;return r?jt.hasClass(r.children[0],"p-disabled")||jt.isHidden(r.children[0])||jt.hasClass(r,"p-multiselect-item-group")?this.findPrevItem(r):r.children[0]:null}findNextOptionIndex(i){const r=i<this.visibleOptions().length-1?this.visibleOptions().slice(i+1).findIndex(o=>this.isValidOption(o)):-1;return r>-1?r+i+1:i}findPrevOptionIndex(i){const r=i>0?Ci.findLastIndex(this.visibleOptions().slice(0,i),o=>this.isValidOption(o)):-1;return r>-1?r:i}findLastSelectedOptionIndex(){return this.hasSelectedOption()?Ci.findLastIndex(this.visibleOptions(),i=>this.isValidSelectedOption(i)):-1}findLastFocusedOptionIndex(){const i=this.findLastSelectedOptionIndex();return i<0?this.findLastOptionIndex():i}findLastOptionIndex(){return Ci.findLastIndex(this.visibleOptions(),i=>this.isValidOption(i))}searchOptions(i,r){this.searchValue=(this.searchValue||"")+r;let o=-1,s=!1;return-1!==this.focusedOptionIndex()?(o=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(a=>this.isOptionMatched(a)),o=-1===o?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(a=>this.isOptionMatched(a)):o+this.focusedOptionIndex()):o=this.visibleOptions().findIndex(a=>this.isOptionMatched(a)),-1!==o&&(s=!0),-1===o&&-1===this.focusedOptionIndex()&&(o=this.findFirstFocusedOptionIndex()),-1!==o&&this.changeFocusedOptionIndex(i,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push({...r,[this.optionGroupChildren]:o})}this._filteredOptions=i}else this._filteredOptions=this.filterService.filter(this.options,this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);else this._filteredOptions=null}hasFocusableElements(){return jt.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}static \u0275fac=function(r){return new(r||e)(Wt(rs),Wt(Ru),Wt(ld),Wt(Zo),Wt(Lze),Wt(h1),Wt(DS))};static \u0275cmp=mo({type:e,selectors:[["p-multiSelect"]],contentQueries:function(r,o,s){if(1&r&&(WA(s,Uze,5),WA(s,Rze,5),WA(s,f0,4)),2&r){let a;ao(a=lo())&&(o.footerFacet=a.first),ao(a=lo())&&(o.headerFacet=a.first),ao(a=lo())&&(o.templates=a)}},viewQuery:function(r,o){if(1&r&&(Xo(nwt,5),Xo(iwt,5),Xo(rwt,5),Xo(owt,5),Xo(swt,5),Xo(awt,5),Xo(lwt,5),Xo(uwt,5),Xo(cwt,5)),2&r){let s;ao(s=lo())&&(o.containerViewChild=s.first),ao(s=lo())&&(o.overlayViewChild=s.first),ao(s=lo())&&(o.filterInputChild=s.first),ao(s=lo())&&(o.focusInputViewChild=s.first),ao(s=lo())&&(o.itemsViewChild=s.first),ao(s=lo())&&(o.scroller=s.first),ao(s=lo())&&(o.lastHiddenFocusableElementOnOverlay=s.first),ao(s=lo())&&(o.firstHiddenFocusableElementOnOverlay=s.first),ao(s=lo())&&(o.headerCheckboxViewChild=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(r,o){2&r&&Wh("p-inputwrapper-focus",o.focused||o.overlayVisible)("p-inputwrapper-filled",o.filled)},inputs:{id:"id",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:[cn.HasDecoratorInputTransform,"disabled","disabled",pr],readonly:[cn.HasDecoratorInputTransform,"readonly","readonly",pr],group:[cn.HasDecoratorInputTransform,"group","group",pr],filter:[cn.HasDecoratorInputTransform,"filter","filter",pr],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[cn.HasDecoratorInputTransform,"overlayVisible","overlayVisible",pr],tabindex:[cn.HasDecoratorInputTransform,"tabindex","tabindex",lu],variant:"variant",appendTo:"appendTo",dataKey:"dataKey",name:"name",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[cn.HasDecoratorInputTransform,"selectionLimit","selectionLimit",i=>lu(i,null)],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[cn.HasDecoratorInputTransform,"showToggleAll","showToggleAll",pr],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[cn.HasDecoratorInputTransform,"resetFilterOnHide","resetFilterOnHide",pr],dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[cn.HasDecoratorInputTransform,"showHeader","showHeader",pr],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[cn.HasDecoratorInputTransform,"lazy","lazy",pr],virtualScroll:[cn.HasDecoratorInputTransform,"virtualScroll","virtualScroll",pr],loading:[cn.HasDecoratorInputTransform,"loading","loading",pr],virtualScrollItemSize:[cn.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",lu],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[cn.HasDecoratorInputTransform,"autofocusFilter","autofocusFilter",pr],display:"display",autocomplete:"autocomplete",showClear:[cn.HasDecoratorInputTransform,"showClear","showClear",pr],autofocus:[cn.HasDecoratorInputTransform,"autofocus","autofocus",pr],autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectAll:"selectAll",focusOnHover:[cn.HasDecoratorInputTransform,"focusOnHover","focusOnHover",pr],filterFields:"filterFields",selectOnFocus:[cn.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",pr],autoOptionFocus:[cn.HasDecoratorInputTransform,"autoOptionFocus","autoOptionFocus",pr]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[ra([Qbt]),Lc],ngContentSelectors:dwt,decls:17,vars:44,consts:[["container",""],["focusInput",""],["elseBlock",""],["overlay",""],["token",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["filterInput",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[1,"p-multiselect-label-container",3,"mouseleave","pTooltip","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-multiselect-trigger"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],[1,"p-multiselect-token-label"],[3,"ngClass","styleClass","click",4,"ngIf"],["class","p-multiselect-token-icon",3,"click",4,"ngIf"],[3,"click","ngClass","styleClass"],[1,"p-multiselect-token-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-multiselect-clear-icon",3,"click"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-multiselect-trigger-icon",4,"ngIf"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],["type","checkbox",3,"focus","blur","readonly","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","searchbox","role","searchbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"input","keydown","click","blur","value","disabled"],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-multiselect-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-multiselect-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","selected","label","disabled","template","checkIconTemplate","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-multiselect-empty-message",3,"ngStyle"],[1,"p-multiselect-footer"]],template:function(r,o){if(1&r){const s=To();Dm(fwt),st(0,"div",15,0),ki("click",function(l){return Tn(s),Dn(o.onContainerClick(l))}),st(2,"div",16)(3,"input",17,1),ki("focus",function(l){return Tn(s),Dn(o.onInputFocus(l))})("blur",function(l){return Tn(s),Dn(o.onInputBlur(l))})("keydown",function(l){return Tn(s),Dn(o.onKeyDown(l))}),dt()(),st(5,"div",18),ki("mouseleave",function(){return Tn(s),Dn(o.labelContainerMouseLeave())}),st(6,"div",19),pn(7,Mwt,3,2,"ng-container",20)(8,Iwt,1,0,"ng-container",21),dt(),pn(9,kwt,3,2,"ng-container",20),dt(),st(10,"div",22),pn(11,Hwt,3,2,"ng-container",23)(12,jwt,2,2,"ng-template",null,2,hc),dt(),st(14,"p-overlay",24,3),Ja("visibleChange",function(l){return Tn(s),dl(o.overlayVisible,l)||(o.overlayVisible=l),Dn(l)}),ki("onAnimationStart",function(l){return Tn(s),Dn(o.onOverlayAnimationStart(l))})("onHide",function(){return Tn(s),Dn(o.hide())}),pn(16,Hbt,12,18,"ng-template",25),dt()()}if(2&r){let s;const a=Uu(13);ga(o.styleClass),Le("ngClass",o.containerClass)("ngStyle",o.style),ci("id",o.id),Ke(2),ci("data-p-hidden-accessible",!0),Ke(),Le("pTooltip",o.tooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass)("autofocus",o.autofocus),ci("aria-disabled",o.disabled)("id",o.inputId)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",null!==(s=o.overlayVisible)&&void 0!==s&&s)("aria-controls",o.overlayVisible?o.id+"_list":null)("tabindex",o.disabled?-1:o.tabindex)("aria-activedescendant",o.focused?o.focusedOptionId:void 0)("value",o.label()||"empty"),Ke(2),Le("pTooltip",o.tooltip)("tooltipDisabled",o._disableTooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass),Ke(),Le("ngClass",o.labelClass),Ke(),Le("ngIf",!o.selectedItemsTemplate),Ke(),Le("ngTemplateOutlet",o.selectedItemsTemplate)("ngTemplateOutletContext",Ac(41,Awt,o.selectedOptions,o.removeOption.bind(o))),Ke(),Le("ngIf",o.isVisibleClearIcon),Ke(2),Le("ngIf",o.loading)("ngIfElse",a),Ke(3),Za("visible",o.overlayVisible),Le("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("autoZIndex",o.autoZIndex)("baseZIndex",o.baseZIndex)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}},dependencies:()=>[Bf,Hv,ud,Jh,ZA,xW,f0,aF,Jb,Q_t,oF,uF,e7e,t7e,T6,B9,Vbt],styles:["@layer primeng{.p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer;display:flex}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-token-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100px}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return e})(),zbt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[cd,sF,hd,lF,SW,Jye,EW,uF,e7e,t7e,T6,B9,uF,V_t,sF,hd,Jye]})}return e})();const $bt=["*"],o7e=e=>({class:e});function Gbt(e,t){1&e&&ws(0)}function qbt(e,t){1&e&&yi(0,"span",8),2&e&&(Le("ngClass",je(3).iconClass()),ci("aria-hidden",!0)("data-pc-section","loadingicon"))}function jbt(e,t){1&e&&yi(0,"SpinnerIcon",9),2&e&&(Le("styleClass",je(3).spinnerIconClass())("spin",!0),ci("aria-hidden",!0)("data-pc-section","loadingicon"))}function Kbt(e,t){if(1&e&&(to(0),pn(1,qbt,1,3,"span",6)(2,jbt,1,4,"SpinnerIcon",7),no()),2&e){const i=je(2);Ke(),Le("ngIf",i.loadingIcon),Ke(),Le("ngIf",!i.loadingIcon)}}function Wbt(e,t){}function Xbt(e,t){1&e&&pn(0,Wbt,0,0,"ng-template",10),2&e&&Le("ngIf",je(2).loadingIconTemplate)}function Ybt(e,t){if(1&e&&(to(0),pn(1,Kbt,3,2,"ng-container",2)(2,Xbt,1,1,null,5),no()),2&e){const i=je();Ke(),Le("ngIf",!i.loadingIconTemplate),Ke(),Le("ngTemplateOutlet",i.loadingIconTemplate)("ngTemplateOutletContext",us(3,o7e,i.iconClass()))}}function Zbt(e,t){1&e&&yi(0,"span",8),2&e&&(Le("ngClass",je(2).iconClass()),ci("data-pc-section","icon"))}function Jbt(e,t){}function eCt(e,t){if(1&e&&pn(0,Jbt,0,0,"ng-template",10),2&e){const i=je(2);Le("ngIf",!i.icon&&i.iconTemplate)}}function tCt(e,t){if(1&e&&(to(0),pn(1,Zbt,1,2,"span",6)(2,eCt,1,1,null,5),no()),2&e){const i=je();Ke(),Le("ngIf",i.icon&&!i.iconTemplate),Ke(),Le("ngTemplateOutlet",i.iconTemplate)("ngTemplateOutletContext",us(3,o7e,i.iconClass()))}}function nCt(e,t){if(1&e&&(st(0,"span",11),Jn(1),dt()),2&e){const i=je();ci("aria-hidden",i.icon&&!i.label)("data-pc-section","label"),Ke(),Hl(i.label)}}function iCt(e,t){if(1&e&&(st(0,"span",8),Jn(1),dt()),2&e){const i=je();ga(i.badgeClass),Le("ngClass",i.badgeStyleClass()),ci("data-pc-section","badge"),Ke(),Hl(i.badge)}}const J2={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let rCt=(()=>{class e{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(i){this._label=i,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(i){this._icon=i,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(i){this._loading=i,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(J2);constructor(i,r){this.el=i,this.document=r}ngAfterViewInit(){jt.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const i=[J2.button,J2.component];return this.icon&&!this.label&&Ci.isEmpty(this.htmlElement.textContent)&&i.push(J2.iconOnly),this.loading&&(i.push(J2.disabled,J2.loading),!this.icon&&this.label&&i.push(J2.labelOnly),this.icon&&!this.label&&!Ci.isEmpty(this.htmlElement.textContent)&&i.push(J2.iconOnly)),this.text&&i.push("p-button-text"),this.severity&&i.push(`p-button-${this.severity}`),this.plain&&i.push("p-button-plain"),this.raised&&i.push("p-button-raised"),this.size&&i.push(`p-button-${this.size}`),this.outlined&&i.push("p-button-outlined"),this.rounded&&i.push("p-button-rounded"),"small"===this.size&&i.push("p-button-sm"),"large"===this.size&&i.push("p-button-lg"),i}setStyleClass(){const i=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...i)}createLabel(){if(!jt.findSingle(this.htmlElement,".p-button-label")&&this.label){let r=this.document.createElement("span");this.icon&&!this.label&&r.setAttribute("aria-hidden","true"),r.className="p-button-label",r.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(r)}}createIcon(){if(!jt.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let r=this.document.createElement("span");r.className="p-button-icon",r.setAttribute("aria-hidden","true");let o=this.label?"p-button-icon-"+this.iconPos:null;o&&jt.addClass(r,o);let s=this.getIconClass();s&&jt.addMultipleClasses(r,s),this.htmlElement.insertBefore(r,this.htmlElement.firstChild)}}updateLabel(){let i=jt.findSingle(this.htmlElement,".p-button-label");this.label?i?i.textContent=this.label:this.createLabel():i&&this.htmlElement.removeChild(i)}updateIcon(){let i=jt.findSingle(this.htmlElement,".p-button-icon"),r=jt.findSingle(this.htmlElement,".p-button-label");i?i.className=this.iconPos?"p-button-icon "+(r?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(r){return new(r||e)(Wt(rs),Wt(Al))};static \u0275dir=Lr({type:e,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[cn.HasDecoratorInputTransform,"raised","raised",pr],rounded:[cn.HasDecoratorInputTransform,"rounded","rounded",pr],text:[cn.HasDecoratorInputTransform,"text","text",pr],outlined:[cn.HasDecoratorInputTransform,"outlined","outlined",pr],size:"size",plain:[cn.HasDecoratorInputTransform,"plain","plain",pr]},standalone:!0,features:[Lc]})}return e})(),oCt=(()=>{class e{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new Xi;onFocus=new Xi;onBlur=new Xi;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(i){this.el=i}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,i])=>!!i).reduce((i,[r])=>i+` ${r}`,"p-button-loading-icon")}iconClass(){const i={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?i[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(i[this.icon]=!0),i}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"content":default:this.contentTemplate=i.template;break;case"icon":this.iconTemplate=i.template;break;case"loadingicon":this.loadingIconTemplate=i.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(r){return new(r||e)(Wt(rs))};static \u0275cmp=mo({type:e,selectors:[["p-button"]],contentQueries:function(r,o,s){if(1&r&&WA(s,f0,4),2&r){let a;ao(a=lo())&&(o.templates=a)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(r,o){2&r&&Wh("p-disabled",o.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[cn.HasDecoratorInputTransform,"disabled","disabled",pr],loading:[cn.HasDecoratorInputTransform,"loading","loading",pr],loadingIcon:"loadingIcon",raised:[cn.HasDecoratorInputTransform,"raised","raised",pr],rounded:[cn.HasDecoratorInputTransform,"rounded","rounded",pr],text:[cn.HasDecoratorInputTransform,"text","text",pr],plain:[cn.HasDecoratorInputTransform,"plain","plain",pr],severity:"severity",outlined:[cn.HasDecoratorInputTransform,"outlined","outlined",pr],link:[cn.HasDecoratorInputTransform,"link","link",pr],tabindex:[cn.HasDecoratorInputTransform,"tabindex","tabindex",lu],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[cn.HasDecoratorInputTransform,"autofocus","autofocus",pr]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Lc,Pu],ngContentSelectors:$bt,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(r,o){1&r&&(Dm(),st(0,"button",0),ki("click",function(a){return o.onClick.emit(a)})("focus",function(a){return o.onFocus.emit(a)})("blur",function(a){return o.onBlur.emit(a)}),Zg(1),pn(2,Gbt,1,0,"ng-container",1)(3,Ybt,3,5,"ng-container",2)(4,tCt,3,5,"ng-container",2)(5,nCt,2,3,"span",3)(6,iCt,2,5,"span",4),dt()),2&r&&(Le("ngStyle",o.style)("disabled",o.disabled||o.loading)("ngClass",o.buttonClass)("autofocus",o.autofocus),ci("type",o.type)("aria-label",o.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",o.tabindex),Ke(2),Le("ngTemplateOutlet",o.contentTemplate),Ke(),Le("ngIf",o.loading),Ke(),Le("ngIf",!o.loading),Ke(),Le("ngIf",!o.contentTemplate&&o.label),Ke(),Le("ngIf",!o.contentTemplate&&o.badge))},dependencies:[ud,Jh,ZA,Bf,Jb,oF,BW],encapsulation:2,changeDetection:0})}return e})(),s7e=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[oCt,hd]})}return e})();const sCt=["sublist"],aCt=(e,t)=>({"p-submenu-list":e,"p-tieredmenu-root-list":t}),a7e=e=>({"p-menuitem-link":!0,"p-disabled":e}),lCt=()=>({exact:!1}),uCt=(e,t)=>({$implicit:e,hasSubmenu:t});function cCt(e,t){if(1&e&&yi(0,"li",7),2&e){const i=je().$implicit,r=je();Le("ngStyle",r.getItemProp(i,"style"))("ngClass",r.getSeparatorItemClass(i)),ci("id",r.getItemId(i))("data-pc-section","separator")}}function fCt(e,t){if(1&e&&yi(0,"span",18),2&e){const i=je(4).$implicit,r=je();Le("ngClass",r.getItemProp(i,"icon"))("ngStyle",r.getItemProp(i,"iconStyle")),ci("data-pc-section","icon")("tabindex",-1)}}function dCt(e,t){if(1&e&&(st(0,"span",19),Jn(1),dt()),2&e){const i=je(4).$implicit,r=je();ci("data-pc-section","label"),Ke(),Rc(" ",r.getItemLabel(i)," ")}}function ACt(e,t){if(1&e&&yi(0,"span",20),2&e){const i=je(4).$implicit;Le("innerHTML",je().getItemLabel(i),RF),ci("data-pc-section","label")}}function hCt(e,t){if(1&e&&(st(0,"span",21),Jn(1),dt()),2&e){const i=je(4).$implicit,r=je();Le("ngClass",r.getItemProp(i,"badgeStyleClass")),Ke(),Hl(r.getItemProp(i,"badge"))}}function pCt(e,t){1&e&&yi(0,"AngleRightIcon",24),2&e&&(Le("styleClass","p-submenu-icon"),ci("data-pc-section","submenuicon")("aria-hidden",!0))}function gCt(e,t){}function mCt(e,t){1&e&&pn(0,gCt,0,0,"ng-template",25),2&e&&Le("data-pc-section","submenuicon")("aria-hidden",!0)}function vCt(e,t){if(1&e&&(to(0),pn(1,pCt,1,3,"AngleRightIcon",22)(2,mCt,1,2,null,23),no()),2&e){const i=je(5);Ke(),Le("ngIf",!i.tieredMenu.submenuIconTemplate),Ke(),Le("ngTemplateOutlet",i.tieredMenu.submenuIconTemplate)}}function yCt(e,t){if(1&e&&(st(0,"a",14),pn(1,fCt,1,4,"span",15)(2,dCt,2,2,"span",16)(3,ACt,1,2,"ng-template",null,2,hc)(5,hCt,2,2,"span",17)(6,vCt,3,2,"ng-container",10),dt()),2&e){const i=Uu(4),r=je(3).$implicit,o=je();Le("target",o.getItemProp(r,"target"))("ngClass",us(11,a7e,o.getItemProp(r,"disabled"))),ci("href",o.getItemProp(r,"url"),Cm)("data-automationid",o.getItemProp(r,"automationId"))("data-pc-section","action")("tabindex",-1),Ke(),Le("ngIf",o.getItemProp(r,"icon")),Ke(),Le("ngIf",o.getItemProp(r,"escape"))("ngIfElse",i),Ke(3),Le("ngIf",o.getItemProp(r,"badge")),Ke(),Le("ngIf",o.isItemGroup(r))}}function _Ct(e,t){if(1&e&&yi(0,"span",18),2&e){const i=je(4).$implicit,r=je();Le("ngClass",r.getItemProp(i,"icon"))("ngStyle",r.getItemProp(i,"iconStyle")),ci("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function wCt(e,t){if(1&e&&(st(0,"span",19),Jn(1),dt()),2&e){const i=je(4).$implicit,r=je();ci("data-pc-section","label"),Ke(),Rc(" ",r.getItemLabel(i)," ")}}function bCt(e,t){if(1&e&&yi(0,"span",20),2&e){const i=je(4).$implicit;Le("innerHTML",je().getItemLabel(i),RF),ci("data-pc-section","label")}}function CCt(e,t){if(1&e&&(st(0,"span",21),Jn(1),dt()),2&e){const i=je(4).$implicit,r=je();Le("ngClass",r.getItemProp(i,"badgeStyleClass")),Ke(),Hl(r.getItemProp(i,"badge"))}}function ECt(e,t){1&e&&yi(0,"AngleRightIcon",24),2&e&&(Le("styleClass","p-submenu-icon"),ci("data-pc-section","submenuicon")("aria-hidden",!0))}function xCt(e,t){}function SCt(e,t){1&e&&pn(0,xCt,0,0,"ng-template",25),2&e&&Le("data-pc-section","submenuicon")("aria-hidden",!0)}function BCt(e,t){if(1&e&&(to(0),pn(1,ECt,1,3,"AngleRightIcon",22)(2,SCt,1,2,null,23),no()),2&e){const i=je(5);Ke(),Le("ngIf",!i.tieredMenu.submenuIconTemplate),Ke(),Le("ngTemplateOutlet",i.tieredMenu.submenuIconTemplate)}}function MCt(e,t){if(1&e&&(st(0,"a",26),pn(1,_Ct,1,5,"span",15)(2,wCt,2,2,"span",16)(3,bCt,1,2,"ng-template",null,2,hc)(5,CCt,2,2,"span",17)(6,BCt,3,2,"ng-container",10),dt()),2&e){const i=Uu(4),r=je(3).$implicit,o=je();Le("routerLink",o.getItemProp(r,"routerLink"))("queryParams",o.getItemProp(r,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",o.getItemProp(r,"routerLinkActiveOptions")||$s(20,lCt))("target",o.getItemProp(r,"target"))("ngClass",us(21,a7e,o.getItemProp(r,"disabled")))("fragment",o.getItemProp(r,"fragment"))("queryParamsHandling",o.getItemProp(r,"queryParamsHandling"))("preserveFragment",o.getItemProp(r,"preserveFragment"))("skipLocationChange",o.getItemProp(r,"skipLocationChange"))("replaceUrl",o.getItemProp(r,"replaceUrl"))("state",o.getItemProp(r,"state")),ci("data-automationid",o.getItemProp(r,"automationId"))("tabindex",-1)("data-pc-section","action"),Ke(),Le("ngIf",o.getItemProp(r,"icon")),Ke(),Le("ngIf",o.getItemProp(r,"escape"))("ngIfElse",i),Ke(3),Le("ngIf",o.getItemProp(r,"badge")),Ke(),Le("ngIf",o.isItemGroup(r))}}function ICt(e,t){if(1&e&&(to(0),pn(1,yCt,7,13,"a",12)(2,MCt,7,23,"a",13),no()),2&e){const i=je(2).$implicit,r=je();Ke(),Le("ngIf",!r.getItemProp(i,"routerLink")),Ke(),Le("ngIf",r.getItemProp(i,"routerLink"))}}function DCt(e,t){}function TCt(e,t){1&e&&pn(0,DCt,0,0,"ng-template")}function FCt(e,t){if(1&e&&(to(0),pn(1,TCt,1,0,null,27),no()),2&e){const i=je(2).$implicit,r=je();Ke(),Le("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Ac(2,uCt,i.item,r.getItemProp(i,"items")))}}function OCt(e,t){if(1&e){const i=To();st(0,"p-tieredMenuSub",28),ki("itemClick",function(o){return Tn(i),Dn(je(3).itemClick.emit(o))})("itemMouseEnter",function(o){return Tn(i),Dn(je(3).onItemMouseEnter(o))}),dt()}if(2&e){const i=je(2).$implicit,r=je();Le("items",i.items)("itemTemplate",r.itemTemplate)("autoDisplay",r.autoDisplay)("menuId",r.menuId)("activeItemPath",r.activeItemPath())("focusedItemId",r.focusedItemId)("ariaLabelledBy",r.getItemId(i))("level",r.level+1)}}function kCt(e,t){if(1&e){const i=To();st(0,"li",8,1)(2,"div",9),ki("click",function(o){Tn(i);const s=je().$implicit;return Dn(je().onItemClick(o,s))})("mouseenter",function(o){Tn(i);const s=je().$implicit;return Dn(je().onItemMouseEnter({$event:o,processedItem:s}))}),pn(3,ICt,3,2,"ng-container",10)(4,FCt,2,5,"ng-container",10),dt(),pn(5,OCt,1,8,"p-tieredMenuSub",11),dt()}if(2&e){const i=je(),r=i.$implicit,o=i.index,s=je();ga(s.getItemProp(r,"styleClass")),Le("ngStyle",s.getItemProp(r,"style"))("ngClass",s.getItemClass(r))("pTooltip",s.getItemProp(r,"tooltip"))("tooltipOptions",s.getItemProp(r,"tooltipOptions")),ci("id",s.getItemId(r))("data-pc-section","menuitem")("data-p-highlight",s.isItemActive(r))("data-p-focused",s.isItemFocused(r))("data-p-disabled",s.isItemDisabled(r))("aria-label",s.getItemLabel(r))("aria-disabled",s.isItemDisabled(r)||void 0)("aria-haspopup",s.isItemGroup(r)&&!s.getItemProp(r,"to")?"menu":void 0)("aria-expanded",s.isItemGroup(r)?s.isItemActive(r):void 0)("aria-setsize",s.getAriaSetSize())("aria-posinset",s.getAriaPosInset(o)),Ke(2),ci("data-pc-section","content"),Ke(),Le("ngIf",!s.itemTemplate),Ke(),Le("ngIf",s.itemTemplate),Ke(),Le("ngIf",s.isItemVisible(r)&&s.isItemGroup(r))}}function NCt(e,t){if(1&e&&pn(0,cCt,1,4,"li",5)(1,kCt,6,21,"li",6),2&e){const i=t.$implicit,r=je();Le("ngIf",r.isItemVisible(i)&&r.getItemProp(i,"separator")),Ke(),Le("ngIf",r.isItemVisible(i)&&!r.getItemProp(i,"separator"))}}const LCt=["rootmenu"],RCt=["container"],UCt=e=>({"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":e}),PCt=(e,t)=>({showTransitionParams:e,hideTransitionParams:t}),HCt=e=>({value:"visible",params:e});function QCt(e,t){if(1&e){const i=To();st(0,"div",3,0),ki("click",function(o){return Tn(i),Dn(je().onOverlayClick(o))})("@overlayAnimation.start",function(o){return Tn(i),Dn(je().onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){return Tn(i),Dn(je().onOverlayAnimationEnd(o))}),st(2,"p-tieredMenuSub",4,1),ki("itemClick",function(o){return Tn(i),Dn(je().onItemClick(o))})("menuFocus",function(o){return Tn(i),Dn(je().onMenuFocus(o))})("menuBlur",function(o){return Tn(i),Dn(je().onMenuBlur(o))})("menuKeydown",function(o){return Tn(i),Dn(je().onKeyDown(o))})("itemMouseEnter",function(o){return Tn(i),Dn(je().onItemMouseEnter(o))}),dt()()}if(2&e){const i=je();ga(i.styleClass),Le("id",i.id)("ngClass",us(22,UCt,i.popup))("ngStyle",i.style)("@overlayAnimation",us(27,HCt,Ac(24,PCt,i.showTransitionOptions,i.hideTransitionOptions)))("@.disabled",!0!==i.popup),ci("data-pc-section","root")("data-pc-name","tieredmenu"),Ke(2),Le("root",!0)("items",i.processedItems)("itemTemplate",i.itemTemplate)("menuId",i.id)("tabindex",i.disabled?-1:i.tabindex)("ariaLabel",i.ariaLabel)("ariaLabelledBy",i.ariaLabelledBy)("baseZIndex",i.baseZIndex)("autoZIndex",i.autoZIndex)("autoDisplay",i.autoDisplay)("popup",i.popup)("focusedItemId",i.focused?i.focusedItemId:void 0)("activeItemPath",i.activeItemPath())}}let VCt=(()=>{class e{el;renderer;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath=gF([]);tabindex=0;itemClick=new Xi;itemMouseEnter=new Xi;menuFocus=new Xi;menuBlur=new Xi;menuKeydown=new Xi;sublistViewChild;constructor(i,r,o){this.el=i,this.renderer=r,this.tieredMenu=o,Hy(()=>{const s=this.activeItemPath();Ci.isNotEmpty(s)&&this.positionSubmenu()})}positionSubmenu(){if(Hu(this.tieredMenu.platformId)){const i=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(i){const r=i.parentElement.parentElement,o=jt.getOffset(r),s=jt.getViewport(),a=i.offsetParent?i.offsetWidth:jt.getOuterWidth(i),l=jt.getOuterWidth(r.children[0]),u="p-submenu-list-flipped";parseInt(o.left,10)+l+a>s.width-jt.calculateScrollbarWidth()?jt.addClass(i,u):jt.hasClass(i,u)&&jt.removeClass(i,u)}}}getItemProp(i,r,o=null){return i&&i.item?Ci.getItemValue(i.item[r],o):void 0}getItemId(i){return i.item?.id??`${this.menuId}_${i.key}`}getItemKey(i){return this.getItemId(i)}getItemClass(i){return{...this.getItemProp(i,"class"),"p-menuitem":!0,"p-highlight":this.isItemActive(i),"p-menuitem-active":this.isItemActive(i),"p-focus":this.isItemFocused(i),"p-disabled":this.isItemDisabled(i)}}getItemLabel(i){return this.getItemProp(i,"label")}getSeparatorItemClass(i){return{...this.getItemProp(i,"class"),"p-menuitem-separator":!0}}getAriaSetSize(){return this.items.filter(i=>this.isItemVisible(i)&&!this.getItemProp(i,"separator")).length}getAriaPosInset(i){return i-this.items.slice(0,i).filter(r=>{const o=this.isItemVisible(r),s=o&&this.getItemProp(r,"separator");return!o||s}).length+1}isItemVisible(i){return!1!==this.getItemProp(i,"visible")}isItemActive(i){if(this.activeItemPath())return this.activeItemPath().some(r=>r.key===i.key)}isItemDisabled(i){return this.getItemProp(i,"disabled")}isItemFocused(i){return this.focusedItemId===this.getItemId(i)}isItemGroup(i){return Ci.isNotEmpty(i.items)}onItemMouseEnter(i){if(this.autoDisplay){const{event:r,processedItem:o}=i;this.itemMouseEnter.emit({originalEvent:r,processedItem:o})}}onItemClick(i,r){this.getItemProp(r,"command",{originalEvent:i,item:r.item}),this.itemClick.emit({originalEvent:i,processedItem:r,isFocus:!0})}static \u0275fac=function(r){return new(r||e)(Wt(rs),Wt(Ru),Wt(En(()=>l7e)))};static \u0275cmp=mo({type:e,selectors:[["p-tieredMenuSub"]],viewQuery:function(r,o){if(1&r&&Xo(sCt,7),2&r){let s;ao(s=lo())&&(o.sublistViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[cn.HasDecoratorInputTransform,"root","root",pr],autoDisplay:[cn.HasDecoratorInputTransform,"autoDisplay","autoDisplay",pr],autoZIndex:[cn.HasDecoratorInputTransform,"autoZIndex","autoZIndex",pr],baseZIndex:[cn.HasDecoratorInputTransform,"baseZIndex","baseZIndex",lu],popup:[cn.HasDecoratorInputTransform,"popup","popup",pr],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[cn.HasDecoratorInputTransform,"level","level",lu],focusedItemId:"focusedItemId",activeItemPath:[cn.SignalBased,"activeItemPath"],tabindex:[cn.HasDecoratorInputTransform,"tabindex","tabindex",lu]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[Lc],decls:3,vars:12,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","ngClass","id","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem",3,"ngStyle","ngClass","class","pTooltip","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem",3,"ngStyle","ngClass","pTooltip","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level"]],template:function(r,o){if(1&r){const s=To();st(0,"ul",3,0),ki("keydown",function(l){return Tn(s),Dn(o.menuKeydown.emit(l))})("focus",function(l){return Tn(s),Dn(o.menuFocus.emit(l))})("blur",function(l){return Tn(s),Dn(o.menuBlur.emit(l))}),pn(2,NCt,2,2,"ng-template",4),dt()}2&r&&(Le("ngClass",Ac(9,aCt,!o.root,o.root))("id",o.menuId+"_list")("tabindex",o.tabindex),ci("aria-label",o.ariaLabel)("aria-labelledBy",o.ariaLabelledBy)("aria-activedescendant",o.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),Ke(2),Le("ngForOf",o.items))},dependencies:()=>[Bf,Hv,ud,Jh,ZA,C7,Aoe,Jb,aF,rF,e],encapsulation:2})}return e})(),l7e=(()=>{class e{document;platformId;el;renderer;cd;config;overlayService;set model(i){this._model=i,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;onShow=new Xi;onHide=new Xi;templates;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;dirty=!1;focused=!1;activeItemPath=Nc([]);number=Nc(0);focusedItemInfo=Nc({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){const i=this.activeItemPath().find(r=>r.key===this.focusedItemInfo().parentKey);return i?i.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){const i=this.focusedItemInfo();return i.item?.id?i.item.id:-1!==i.index?`${this.id}${Ci.isNotEmpty(i.parentKey)?"_"+i.parentKey:""}_${i.index}`:null}constructor(i,r,o,s,a,l,u){this.document=i,this.platformId=r,this.el=o,this.renderer=s,this.cd=a,this.config=l,this.overlayService=u,Hy(()=>{const c=this.activeItemPath();Ci.isNotEmpty(c)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.id=this.id||ih()}ngAfterContentInit(){this.templates?.forEach(i=>{"submenuicon"===i.getType()?this.submenuIconTemplate=i.template:this.itemTemplate=i.template})}createProcessedItems(i,r=0,o={},s=""){const a=[];return i&&i.forEach((l,u)=>{const c=(""!==s?s+"_":"")+u,f={item:l,index:u,level:r,key:c,parent:o,parentKey:s};f.items=this.createProcessedItems(l.items,r+1,f,c),a.push(f)}),a}getItemProp(i,r){return i?Ci.getItemValue(i[r]):void 0}getProccessedItemLabel(i){return i?this.getItemLabel(i.item):void 0}getItemLabel(i){return this.getItemProp(i,"label")}isProcessedItemGroup(i){return i&&Ci.isNotEmpty(i.items)}isSelected(i){return this.activeItemPath().some(r=>r.key===i.key)}isValidSelectedItem(i){return this.isValidItem(i)&&this.isSelected(i)}isValidItem(i){return!!i&&!this.isItemDisabled(i.item)&&!this.isItemSeparator(i.item)&&this.isItemVisible(i.item)}isItemDisabled(i){return this.getItemProp(i,"disabled")}isItemVisible(i){return!1!==this.getItemProp(i,"visible")}isItemSeparator(i){return this.getItemProp(i,"separator")}isItemMatched(i){return this.isValidItem(i)&&this.getProccessedItemLabel(i).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(i){return i&&Ci.isNotEmpty(i.items)}onOverlayClick(i){this.popup&&this.overlayService.add({originalEvent:i,target:this.el.nativeElement})}onItemClick(i){const{originalEvent:r,processedItem:o}=i,s=this.isProcessedItemGroup(o),a=Ci.isEmpty(o.parent);if(this.isSelected(o)){const{index:u,key:c,level:f,parentKey:d,item:h}=o;this.activeItemPath.set(this.activeItemPath().filter(g=>c!==g.key&&c.startsWith(g.key))),this.focusedItemInfo.set({index:u,level:f,parentKey:d,item:h}),this.dirty=!0,jt.focus(this.rootmenu.sublistViewChild.nativeElement)}else if(s)this.onItemChange(i);else{const u=a?o:this.activeItemPath().find(c=>""===c.parentKey);this.hide(r),this.changeFocusedItemIndex(r,u?u.index:-1),jt.focus(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(i){jt.isTouchDevice()?this.onItemChange({event:i,processedItem:i.processedItem,focus:this.autoDisplay}):(this.autoDisplay&&(this.dirty=!0),this.dirty&&this.onItemChange(i))}onKeyDown(i){const r=i.metaKey||i.ctrlKey;switch(i.code){case"ArrowDown":this.onArrowDownKey(i);break;case"ArrowUp":this.onArrowUpKey(i);break;case"ArrowLeft":this.onArrowLeftKey(i);break;case"ArrowRight":this.onArrowRightKey(i);break;case"Home":this.onHomeKey(i);break;case"End":this.onEndKey(i);break;case"Space":this.onSpaceKey(i);break;case"Enter":this.onEnterKey(i);break;case"Escape":this.onEscapeKey(i);break;case"Tab":this.onTabKey(i);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!r&&Ci.isPrintableCharacter(i.key)&&this.searchItems(i,i.key)}}onArrowDownKey(i){const r=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(i,r),i.preventDefault()}onArrowRightKey(i){const r=this.visibleItems[this.focusedItemInfo().index],o=this.isProccessedItemGroup(r),s=r?.item;o&&(this.onItemChange({originalEvent:i,processedItem:r}),this.focusedItemInfo.set({index:-1,parentKey:r.key,item:s}),this.searchValue="",this.onArrowDownKey(i)),i.preventDefault()}onArrowUpKey(i){if(i.altKey){if(-1!==this.focusedItemInfo().index){const r=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(r)&&this.onItemChange({originalEvent:i,processedItem:r})}this.popup&&this.hide(i,!0),i.preventDefault()}else{const r=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(i,r),i.preventDefault()}}onArrowLeftKey(i){const r=this.visibleItems[this.focusedItemInfo().index],o=this.activeItemPath().find(l=>l.key===r.parentKey);Ci.isEmpty(r.parent)||(this.focusedItemInfo.set({index:-1,parentKey:o?o.parentKey:"",item:r.item}),this.searchValue="",this.onArrowDownKey(i));const a=this.activeItemPath().filter(l=>l.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(a),i.preventDefault()}onHomeKey(i){this.changeFocusedItemIndex(i,this.findFirstItemIndex()),i.preventDefault()}onEndKey(i){this.changeFocusedItemIndex(i,this.findLastItemIndex()),i.preventDefault()}onSpaceKey(i){this.onEnterKey(i)}onEscapeKey(i){this.hide(i,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),i.preventDefault()}onTabKey(i){if(-1!==this.focusedItemInfo().index){const r=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(r)&&this.onItemChange({originalEvent:i,processedItem:r})}this.hide()}onEnterKey(i){if(-1!==this.focusedItemInfo().index){const r=jt.findSingle(this.rootmenu.el.nativeElement,`li[id="${this.focusedItemId}"]`),o=r&&jt.findSingle(r,'a[data-pc-section="action"]');if(o?o.click():r&&r.click(),!this.popup){const s=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(s)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}i.preventDefault()}onItemChange(i){const{processedItem:r,isFocus:o}=i;if(Ci.isEmpty(r))return;const{index:s,key:a,level:l,parentKey:u,items:c,item:f}=r,d=Ci.isNotEmpty(c),h=this.activeItemPath().filter(g=>g.parentKey!==u&&g.parentKey!==a);d&&h.push(r),this.focusedItemInfo.set({index:s,level:l,parentKey:u,item:f}),this.activeItemPath.set(h),d&&(this.dirty=!0),o&&jt.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(i){this.focused=!0,this.focusedItemInfo()}onMenuBlur(i){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(i){switch(i.toState){case"visible":this.popup&&(this.container=i.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),jt.focus(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}alignOverlay(){this.relativeAlign?jt.relativePosition(this.container,this.target):jt.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(i){"void"===i.toState&&rh.clear(i.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):jt.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&rh.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(i,r){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),r&&jt.focus(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(i){this.visible?this.hide(i,!0):this.show(i)}show(i,r){this.popup&&(this.visible=!0,this.target=this.target||i.currentTarget,this.relatedTarget=i.relatedTarget||null,this.relativeAlign=i?.relativeAlign||null),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),r&&jt.focus(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(i,r){this.searchValue=(this.searchValue||"")+r;let o=-1,s=!1;return-1!==this.focusedItemInfo().index?(o=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(a=>this.isItemMatched(a)),o=-1===o?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(a=>this.isItemMatched(a)):o+this.focusedItemInfo().index):o=this.visibleItems.findIndex(a=>this.isItemMatched(a)),-1!==o&&(s=!0),-1===o&&-1===this.focusedItemInfo().index&&(o=this.findFirstFocusedItemIndex()),-1!==o&&this.changeFocusedItemIndex(i,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}findLastFocusedItemIndex(){const i=this.findSelectedItemIndex();return i<0?this.findLastItemIndex():i}findLastItemIndex(){return Ci.findLastIndex(this.visibleItems,i=>this.isValidItem(i))}findPrevItemIndex(i){const r=i>0?Ci.findLastIndex(this.visibleItems.slice(0,i),o=>this.isValidItem(o)):-1;return r>-1?r:i}findNextItemIndex(i){const r=i<this.visibleItems.length-1?this.visibleItems.slice(i+1).findIndex(o=>this.isValidItem(o)):-1;return r>-1?r+i+1:i}findFirstFocusedItemIndex(){const i=this.findSelectedItemIndex();return i<0?this.findFirstItemIndex():i}findFirstItemIndex(){return this.visibleItems.findIndex(i=>this.isValidItem(i))}findSelectedItemIndex(){return this.visibleItems.findIndex(i=>this.isValidSelectedItem(i))}changeFocusedItemIndex(i,r){if(this.focusedItemInfo().index!==r){const o=this.focusedItemInfo();this.focusedItemInfo.set({...o,item:this.visibleItems[r].item,index:r}),this.scrollInView()}}scrollInView(i=-1){const o=jt.findSingle(this.rootmenu.el.nativeElement,`li[id="${-1!==i?`${this.id}_${i}`:this.focusedItemId}"]`);o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new lU(this.target,i=>{this.visible&&this.hide(i,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){Hu(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",i=>{jt.isTouchDevice()||this.hide(i,!0)})))}bindOutsideClickListener(){Hu(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",i=>{const r=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(i.target),o=!this.popup||!(this.target&&(this.target===i.target||this.target.contains(i.target)));r&&o&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&rh.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}static \u0275fac=function(r){return new(r||e)(Wt(Al),Wt(dc),Wt(rs),Wt(Ru),Wt(ld),Wt(h1),Wt(DS))};static \u0275cmp=mo({type:e,selectors:[["p-tieredMenu"]],contentQueries:function(r,o,s){if(1&r&&WA(s,f0,4),2&r){let a;ao(a=lo())&&(o.templates=a)}},viewQuery:function(r,o){if(1&r&&(Xo(LCt,5),Xo(RCt,5)),2&r){let s;ao(s=lo())&&(o.rootmenu=s.first),ao(s=lo())&&(o.containerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[cn.HasDecoratorInputTransform,"popup","popup",pr],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[cn.HasDecoratorInputTransform,"autoZIndex","autoZIndex",pr],baseZIndex:[cn.HasDecoratorInputTransform,"baseZIndex","baseZIndex",lu],autoDisplay:[cn.HasDecoratorInputTransform,"autoDisplay","autoDisplay",pr],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[cn.HasDecoratorInputTransform,"disabled","disabled",pr],tabindex:[cn.HasDecoratorInputTransform,"tabindex","tabindex",lu]},outputs:{onShow:"onShow",onHide:"onHide"},features:[Lc],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","id","ngClass","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath"]],template:function(r,o){1&r&&pn(0,QCt,4,29,"div",2),2&r&&Le("ngIf",!o.popup||o.visible)},dependencies:[Bf,ud,ZA,VCt],styles:["@layer primeng{.p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-tieredmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}}\n"],encapsulation:2,data:{animation:[tN("overlayAnimation",[q5(":enter",[o1({opacity:0,transform:"scaleY(0.8)"}),G5("{{showTransitionParams}}")]),q5(":leave",[G5("{{hideTransitionParams}}",o1({opacity:0}))])])]},changeDetection:0})}return e})(),u7e=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[cd,kx,SW,lF,rF,hd,kx,lF,hd]})}return e})();const zCt=["container"],$Ct=["defaultbtn"],GCt=["menu"];function qCt(e,t){1&e&&ws(0)}function jCt(e,t){if(1&e){const i=To();to(0),st(1,"button",10),ki("click",function(o){return Tn(i),Dn(je().onDefaultButtonClick(o))}),pn(2,qCt,1,0,"ng-container",8),dt(),no()}if(2&e){const i=je();Ke(),Le("severity",i.severity)("text",i.text)("outlined",i.outlined)("size",i.size)("icon",i.icon)("iconPos",i.iconPos)("disabled",i.disabled)("ariaLabel",(null==i.buttonProps?null:i.buttonProps.ariaLabel)||i.label)("autofocus",i.autofocus)("pTooltip",i.tooltip)("tooltipOptions",i.tooltipOptions),ci("tabindex",i.tabindex),Ke(),Le("ngTemplateOutlet",i.contentTemplate)}}function KCt(e,t){if(1&e){const i=To();st(0,"button",11,3),ki("click",function(o){return Tn(i),Dn(je().onDefaultButtonClick(o))}),dt()}if(2&e){const i=je();Le("severity",i.severity)("text",i.text)("outlined",i.outlined)("size",i.size)("icon",i.icon)("iconPos",i.iconPos)("label",i.label)("disabled",i.buttonDisabled)("ariaLabel",null==i.buttonProps?null:i.buttonProps.ariaLabel)("autofocus",i.autofocus)("pTooltip",i.tooltip)("tooltipOptions",i.tooltipOptions),ci("tabindex",i.tabindex)}}function WCt(e,t){1&e&&yi(0,"ChevronDownIcon")}function XCt(e,t){}function YCt(e,t){1&e&&pn(0,XCt,0,0,"ng-template")}let ZCt=(()=>{class e{model;severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;icon;iconPos="left";label;tooltip;tooltipOptions;style;styleClass;menuStyle;menuStyleClass;appendTo;dir;expandAriaLabel;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";buttonProps;menuButtonProps;autofocus;set disabled(i){this._disabled=i,this._buttonDisabled=i,this.menuButtonDisabled=i}get disabled(){return this._disabled}tabindex;set menuButtonDisabled(i){this._menuButtonDisabled=this.disabled?this.disabled:i}get menuButtonDisabled(){return this._menuButtonDisabled}set buttonDisabled(i){this.disabled?this.buttonDisabled=this.disabled:this._buttonDisabled=i}get buttonDisabled(){return this._buttonDisabled}onClick=new Xi;onMenuHide=new Xi;onMenuShow=new Xi;onDropdownClick=new Xi;containerViewChild;buttonViewChild;menu;templates;contentTemplate;dropdownIconTemplate;ariaId;isExpanded=Nc(!1);_disabled;_buttonDisabled;_menuButtonDisabled;ngOnInit(){this.ariaId=ih()}ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"content":default:this.contentTemplate=i.template;break;case"dropdownicon":this.dropdownIconTemplate=i.template}})}get containerClass(){return{"p-splitbutton p-component":!0,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-outlined":this.outlined,"p-button-text":this.text,["p-button-"+("small"===this.size?"sm":"lg")]:this.size}}onDefaultButtonClick(i){this.onClick.emit(i),this.menu.hide()}onDropdownButtonClick(i){this.onDropdownClick.emit(i),this.menu?.toggle({currentTarget:this.containerViewChild?.nativeElement,relativeAlign:null==this.appendTo})}onDropdownButtonKeydown(i){("ArrowDown"===i.code||"ArrowUp"===i.code)&&(this.onDropdownButtonClick(),i.preventDefault())}onHide(){this.isExpanded.set(!1),this.onMenuHide.emit()}onShow(){this.isExpanded.set(!0),this.onMenuShow.emit()}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=mo({type:e,selectors:[["p-splitButton"]],contentQueries:function(r,o,s){if(1&r&&WA(s,f0,4),2&r){let a;ao(a=lo())&&(o.templates=a)}},viewQuery:function(r,o){if(1&r&&(Xo(zCt,5),Xo($Ct,5),Xo(GCt,5)),2&r){let s;ao(s=lo())&&(o.containerViewChild=s.first),ao(s=lo())&&(o.buttonViewChild=s.first),ao(s=lo())&&(o.menu=s.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",severity:"severity",raised:[cn.HasDecoratorInputTransform,"raised","raised",pr],rounded:[cn.HasDecoratorInputTransform,"rounded","rounded",pr],text:[cn.HasDecoratorInputTransform,"text","text",pr],outlined:[cn.HasDecoratorInputTransform,"outlined","outlined",pr],size:"size",plain:[cn.HasDecoratorInputTransform,"plain","plain",pr],icon:"icon",iconPos:"iconPos",label:"label",tooltip:"tooltip",tooltipOptions:"tooltipOptions",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",appendTo:"appendTo",dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonProps:"buttonProps",menuButtonProps:"menuButtonProps",autofocus:[cn.HasDecoratorInputTransform,"autofocus","autofocus",pr],disabled:[cn.HasDecoratorInputTransform,"disabled","disabled",pr],tabindex:[cn.HasDecoratorInputTransform,"tabindex","tabindex",lu],menuButtonDisabled:"menuButtonDisabled",buttonDisabled:"buttonDisabled"},outputs:{onClick:"onClick",onMenuHide:"onMenuHide",onMenuShow:"onMenuShow",onDropdownClick:"onDropdownClick"},features:[Lc],decls:10,vars:26,consts:[["container",""],["defaultButton",""],["menu",""],["defaultbtn",""],[3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["type","button","pButton","",1,"p-splitbutton-menubutton","p-button-icon-only",3,"click","keydown","size","severity","text","outlined","disabled","ariaLabel"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"onHide","onShow","id","popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["type","button","pButton","","pAutoFocus","",1,"p-splitbutton-defaultbutton",3,"click","severity","text","outlined","size","icon","iconPos","disabled","ariaLabel","autofocus","pTooltip","tooltipOptions"],["type","button","pButton","","pAutoFocus","",1,"p-splitbutton-defaultbutton",3,"click","severity","text","outlined","size","icon","iconPos","label","disabled","ariaLabel","autofocus","pTooltip","tooltipOptions"]],template:function(r,o){if(1&r){const s=To();st(0,"div",4,0),pn(2,jCt,3,13,"ng-container",5)(3,KCt,2,13,"ng-template",null,1,hc),st(5,"button",6),ki("click",function(l){return Tn(s),Dn(o.onDropdownButtonClick(l))})("keydown",function(l){return Tn(s),Dn(o.onDropdownButtonKeydown(l))}),pn(6,WCt,1,0,"ChevronDownIcon",7)(7,YCt,1,0,null,8),dt(),st(8,"p-tieredMenu",9,2),ki("onHide",function(){return Tn(s),Dn(o.onHide())})("onShow",function(){return Tn(s),Dn(o.onShow())}),dt()()}if(2&r){const s=Uu(4);ga(o.styleClass),Le("ngClass",o.containerClass)("ngStyle",o.style),Ke(2),Le("ngIf",o.contentTemplate)("ngIfElse",s),Ke(3),Le("size",o.size)("severity",o.severity)("text",o.text)("outlined",o.outlined)("disabled",o.menuButtonDisabled)("ariaLabel",(null==o.menuButtonProps?null:o.menuButtonProps.ariaLabel)||o.expandAriaLabel),ci("aria-haspopup",(null==o.menuButtonProps?null:o.menuButtonProps.ariaHasPopup)||!0)("aria-expanded",(null==o.menuButtonProps?null:o.menuButtonProps.ariaExpanded)||o.isExpanded())("aria-controls",(null==o.menuButtonProps?null:o.menuButtonProps.ariaControls)||o.ariaId),Ke(),Le("ngIf",!o.dropdownIconTemplate),Ke(),Le("ngTemplateOutlet",o.dropdownIconTemplate),Ke(),Cf(o.menuStyle),Le("id",o.ariaId)("popup",!0)("model",o.model)("styleClass",o.menuStyleClass)("appendTo",o.appendTo)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}},dependencies:()=>[Bf,ud,Jh,ZA,rCt,l7e,aF,oF,B9],styles:["@layer primeng{.p-splitbutton{display:inline-flex;position:relative}.p-splitbutton .p-splitbutton-defaultbutton,.p-splitbutton.p-button-rounded>.p-splitbutton-defaultbutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-defaultbutton.p-button{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0;border-right:0 none}.p-splitbutton-menubutton,.p-splitbutton.p-button-rounded>.p-splitbutton-menubutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-menubutton.p-button{display:flex;align-items:center;justify-content:center;border-top-left-radius:0;border-bottom-left-radius:0}.p-splitbutton .p-menu{min-width:100%}.p-fluid .p-splitbutton{display:flex}}\n"],encapsulation:2,changeDetection:0})}return e})(),JCt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[cd,s7e,u7e,EW,B9,s7e,u7e]})}return e})();const eEt=["attrDistributionVisContainer"],tEt=["attrDistributionVisContainerCompare"],nEt=["mapContainerBrowse"],iEt=["mapContainerCompare"],rEt=["mapContainerCombine"],oEt=["specialMapContainerCombine"],sEt=["mapContainerCreate"],IW=()=>({height:"100vh"}),c7e=()=>[20,80],MA=()=>({standalone:!0}),aEt=()=>["geographies","features"],lEt=()=>["examples"],uEt=()=>[30,70],cEt=(e,t)=>({"card-bg-light":e,fullscreen:t}),fEt=e=>({"bg-light":e});function dEt(e,t){1&e&&yi(0,"img",58),2&e&&Le("src","assets/colorSchemes/"+je().$implicit.file+".png",Cm)}function AEt(e,t){if(1&e&&(st(0,"table")(1,"tr")(2,"td",56),pn(3,dEt,1,1,"img",57),dt(),st(4,"td",56)(5,"span"),Jn(6),dt()()()()),2&e){const i=t.$implicit;Ke(3),Le("ngIf",i.sname),Ke(3),Hl(i.sname||i.name)}}function hEt(e,t){if(1&e&&(st(0,"div"),yi(1,"img",60),Jn(2,"\xa0\xa0 "),st(3,"span"),Jn(4),dt()()),2&e){const i=je().$implicit;Ke(),Le("src","assets/colorSchemes/"+i.file+".png",Cm),Ke(3),Hl(i.sname)}}function pEt(e,t){1&e&&pn(0,hEt,5,2,"div",59),2&e&&Le("ngIf",t.$implicit)}function gEt(e,t){if(1&e){const i=To();st(0,"div",12)(1,"div",13),yi(2,"img",14),dt(),st(3,"div",15)(4,"p",16)(5,"small",17),Jn(6,"Choropleth\xa0Maps and Data\xa0Binning"),dt()()(),yi(7,"hr"),st(8,"div",18)(9,"div")(10,"div"),yi(11,"i",19),Jn(12,"\xa0\xa0"),st(13,"strong",20),Jn(14,"Dataset"),dt(),Jn(15," \xa0\xa0 "),st(16,"p-cascadeSelect",21),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.dataset,o)||(s.visModel.dataset=o),Dn(o)}),ki("ngModelChange",function(){return Tn(i),Dn(je().loadSampleDataset())}),dt()(),st(17,"div",22)(18,"small",17),Jn(19),dt()(),yi(20,"div",23,0),st(22,"div",24)(23,"table",25)(24,"tbody")(25,"tr")(26,"td",26)(27,"span",27),Jn(28," NaN/nulls "),dt()(),st(29,"td")(30,"div",28)(31,"input",29),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.showInvalidValues,o)||(s.visModel.showInvalidValues=o),Dn(o)}),ki("ngModelChange",function(){Tn(i);const o=je();return o.renderAttrDistributionVisSpec(),Dn(o.updateCurrentTab())}),dt(),st(32,"label",30),Jn(33," show "),dt()(),st(34,"div",28)(35,"input",31),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.showInvalidValues,o)||(s.visModel.showInvalidValues=o),Dn(o)}),ki("ngModelChange",function(){Tn(i);const o=je();return o.renderAttrDistributionVisSpec(),Dn(o.updateCurrentTab())}),dt(),st(36,"label",32),Jn(37," hide "),dt()()()(),st(38,"tr")(39,"td")(40,"span",33),Jn(41," Mode "),dt()(),st(42,"td")(43,"div",28)(44,"input",34),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.attributeDistributionVisType,o)||(s.visModel.attributeDistributionVisType=o),Dn(o)}),ki("ngModelChange",function(){return Tn(i),Dn(je().renderAttrDistributionVisSpec())}),dt(),st(45,"label",35),Jn(46," histogram "),dt()(),st(47,"div",28)(48,"input",36),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.attributeDistributionVisType,o)||(s.visModel.attributeDistributionVisType=o),Dn(o)}),ki("ngModelChange",function(){return Tn(i),Dn(je().renderAttrDistributionVisSpec())}),dt(),st(49,"label",37),Jn(50," kde "),dt()()()()()()()(),yi(51,"hr"),st(52,"div")(53,"div"),yi(54,"img",38),Jn(55,"\xa0\xa0"),st(56,"strong",39),Jn(57,"Data Binning"),dt()(),st(58,"div",24)(59,"table",25)(60,"tbody")(61,"tr")(62,"td",26)(63,"span",40),Jn(64," Categories "),dt()(),st(65,"td")(66,"p-multiSelect",41),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.activeBinningMethodCategoriesList,o)||(s.visModel.activeBinningMethodCategoriesList=o),Dn(o)}),ki("onChange",function(){return Tn(i),Dn(je().renderCompareVIS())}),dt()()(),st(67,"tr")(68,"td",26)(69,"span",42),Jn(70," Methods "),dt()(),st(71,"td")(72,"p-multiSelect",43),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.activeBinningMethodsList,o)||(s.visModel.activeBinningMethodsList=o),Dn(o)}),ki("onChange",function(){return Tn(i),Dn(je().renderCompareVIS())}),dt()()(),st(73,"tr")(74,"td",26)(75,"span",44),Jn(76," Bin Count "),dt()(),st(77,"td")(78,"input",45),ki("change",function(){return Tn(i),Dn(je().updateBinguruObj())}),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.binCount,o)||(s.visModel.binCount=o),Dn(o)}),dt()()(),st(79,"tr")(80,"td",26)(81,"span",46),Jn(82," Defined Bin Interval "),dt()(),st(83,"td")(84,"input",47),ki("change",function(){return Tn(i),Dn(je().updateBinguruObj())}),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.binInterval,o)||(s.visModel.binInterval=o),Dn(o)}),dt()()()()()()(),yi(85,"hr"),st(86,"div")(87,"div"),yi(88,"i",48),Jn(89,"\xa0\xa0"),st(90,"strong",49),Jn(91,"Color Scheme"),dt()(),st(92,"div",24)(93,"table",25)(94,"tbody")(95,"tr")(96,"td",26)(97,"span",50),Jn(98," Palette "),dt()(),st(99,"td")(100,"p-cascadeSelect",51),ki("onChange",function(){return Tn(i),Dn(je().updateCurrentTab())}),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.colorScheme,o)||(s.visModel.colorScheme=o),Dn(o)}),pn(101,AEt,7,2,"ng-template",52)(102,pEt,1,1,"ng-template",53),dt()()(),st(103,"tr")(104,"td",26)(105,"span",54),Jn(106," NaN/nulls "),dt()(),st(107,"td")(108,"input",55),Ja("ngModelChange",function(o){Tn(i);const s=je();return dl(s.visModel.invalidValuesColor,o)||(s.visModel.invalidValuesColor=o),Dn(o)}),ki("change",function(){return Tn(i),Dn(je().updateCurrentTab())}),dt()()()()()()()()()}if(2&e){const i=je();Ke(16),Le("ngModelOptions",$s(35,MA))("options",i.visModel.datasets)("optionGroupChildren",$s(36,aEt)),Za("ngModel",i.visModel.dataset),Ke(3),ik(" ",i.getDataShape("total")," values; ",i.getDataShape("invalid")," (",i.getDataShape("invalidpct"),"%) NaN/nulls "),Ke(12),Za("ngModel",i.visModel.showInvalidValues),Le("ngModelOptions",$s(37,MA)),Ke(4),Za("ngModel",i.visModel.showInvalidValues),Le("ngModelOptions",$s(38,MA)),Ke(9),Za("ngModel",i.visModel.attributeDistributionVisType),Le("ngModelOptions",$s(39,MA)),Ke(4),Za("ngModel",i.visModel.attributeDistributionVisType),Le("ngModelOptions",$s(40,MA)),Ke(6),Le("src","assets/images/tasks-alt.svg",Cm),Ke(12),Le("placeholder","Filter for Binning Categories")("options",i.visModel.binningMethodCategoriesList),Za("ngModel",i.visModel.activeBinningMethodCategoriesList),Le("showClear",!1)("filter",!0),Ke(6),Le("placeholder","Filter for Binning Methods")("options",i.visModel.binningMethodsList),Za("ngModel",i.visModel.activeBinningMethodsList),Le("showClear",!1)("filter",!0),Ke(6),Za("ngModel",i.visModel.binCount),Ke(6),Za("ngModel",i.visModel.binInterval),Ke(16),Le("ngModelOptions",$s(41,MA))("options",i.visModel.colorSchemes)("optionGroupChildren",$s(42,lEt)),Za("ngModel",i.visModel.colorScheme),Ke(8),Za("ngModel",i.visModel.invalidValuesColor),Le("ngModelOptions",$s(43,MA))("disabled",!i.visModel.showInvalidValues)}}function mEt(e,t){if(1&e){const i=To();to(0),st(1,"div",81),ki("mouseover",function(){const o=Tn(i).$implicit;return Dn(je(2).visModel.binningMethods[o._id].isCardHovered=!0)})("mouseleave",function(){const o=Tn(i).$implicit;return Dn(je(2).visModel.binningMethods[o._id].isCardHovered=!1)}),st(2,"div",82)(3,"div",83)(4,"span",84)(5,"a",85)(6,"small"),yi(7,"i",86),dt()(),Jn(8,"\xa0 "),st(9,"a",87),ki("click",function(){const o=Tn(i).$implicit;return Dn(je(2).hideBinningMethodCard(o._id))}),st(10,"small"),yi(11,"i",88),dt()(),Jn(12,"\xa0 "),st(13,"a",87),ki("click",function(){const o=Tn(i).$implicit;return Dn(je(2).openShareModal(o._id))}),st(14,"small"),yi(15,"i",89),dt()(),Jn(16,"\xa0 "),st(17,"a",87),ki("click",function(){const o=Tn(i).$implicit;return Dn(je(2).openDetailViewModal(o._id))}),st(18,"small"),yi(19,"i",90),dt()(),Jn(20,"\xa0 "),st(21,"a",87),ki("click",function(){const o=Tn(i).$implicit,s=je(2);return s.visModel.defaultBinningMethod=o._id,Dn(s.editManualIntervalCreate(!0))}),st(22,"small"),yi(23,"i",70),dt()()()(),st(24,"div",83)(25,"small",91),Jn(26),dt()(),st(27,"div")(28,"h5",92),Jn(29),dt()(),st(30,"p",93)(31,"span"),Jn(32),dt()(),yi(33,"div",94,3),dt()(),no()}if(2&e){const i=t.$implicit,r=je(2);Ke(),Le("ngClass",Ac(9,cEt,r.visModel.binningMethods[i._id].isCardHovered,r.visModel.binningMethods[i._id].isCardFullscreen))("hidden",!r.isMatchingSearchFilter(i._id)),ci("id","choroplethcard-"+i._id),Ke(3),Le("hidden",!r.visModel.binningMethods[i._id].isCardHovered),Ke(21),Le("ngClass",r.getBinningMethodCategoryStyleClass(r.visModel.binningMethods[i._id].category)),Ke(),Hl(r.visModel.binningMethods[i._id].category),Ke(3),Rc(" ",r.visModel.binningMethods[i._id].name," "),Ke(3),Hl(r.visModel.binningMethods[i._id].description),Ke(),ci("id","mapContainerBrowse-"+i._id)}}function vEt(e,t){if(1&e){const i=To();to(0),st(1,"div",95),ki("mouseover",function(){const o=Tn(i).$implicit;return Dn(je(2).visModel.binningMethods[o._id].isCardHovered=!0)})("mouseleave",function(){const o=Tn(i).$implicit;return Dn(je(2).visModel.binningMethods[o._id].isCardHovered=!1)}),st(2,"div",96)(3,"strong"),Jn(4),dt()(),yi(5,"div",97),dt(),no()}if(2&e){const i=t.$implicit,r=je(2);Ke(),Le("ngClass",us(4,fEt,r.visModel.binningMethods[i._id].isCardHovered))("hidden",!r.isMatchingSearchFilter(i._id)),Ke(3),Hl(r.visModel.binningMethods[i._id].name),Ke(),ci("id","mapContainerCompare-"+i._id)}}function yEt(e,t){if(1&e){const i=To();st(0,"div",103)(1,"input",104),Ja("ngModelChange",function(o){const s=Tn(i).$implicit,a=je(3);return dl(a.visModel.binningMethodInputsForResiliency[s].selected,o)||(a.visModel.binningMethodInputsForResiliency[s].selected=o),Dn(o)}),ki("ngModelChange",function(){return Tn(i),Dn(je(3).updateCurrentTab())}),dt(),st(2,"label",105),Jn(3),dt()()}if(2&e){const i=t.$implicit,r=je(3);Ke(),H5("name","'special-comparison-checkbox-' + ",i,""),H5("id","'special-comparison-checkbox-' + ",i,""),Za("ngModel",r.visModel.binningMethodInputsForResiliency[i].selected),Le("ngModelOptions",$s(9,MA)),Ke(),H5("for","'special-comparison-checkbox-' + ",i,""),Ke(),Hl(r.visModel.binningMethods[i].name)}}function _Et(e,t){if(1&e&&(st(0,"div",98)(1,"h3"),Jn(2,"Resiliency"),dt(),st(3,"p"),Jn(4,"This is an ensemble technique that considers how frequently a geographic entity (e.g., county) falls in a particular bin across multiple comparable data binning methods. Read more about Resiliency in our "),st(5,"a",99),Jn(6,"GIScience paper"),dt(),Jn(7,"."),dt(),st(8,"div")(9,"div",100)(10,"strong",101),Jn(11,"Binning Methods"),dt()(),pn(12,yEt,4,10,"div",102),dt()()),2&e){const i=je(2);Ke(12),Le("ngForOf",i.objectKeys(i.visModel.binningMethodInputsForResiliency))}}function wEt(e,t){1&e&&(st(0,"div",98),yi(1,"div",106,4)(3,"hr")(4,"div",107,5),dt())}function bEt(e,t){1&e&&(to(0),st(1,"span"),Jn(2,"-"),dt(),no())}function CEt(e,t){1&e&&(to(0),st(1,"span"),Jn(2,"-\u221e"),dt(),no())}function EEt(e,t){if(1&e&&(Jn(0),function oee(e,t){const i=Io();let r;const o=e+ro;i.firstCreatePass?(r=function Wxe(e,t){if(t)for(let i=t.length-1;i>=0;i--){const r=t[i];if(e===r.name)return r}}(t,i.pipeRegistry),i.data[o]=r,r.onDestroy&&(i.destroyHooks??=[]).push(o,r.onDestroy)):r=i.data[o];const s=r.factory||(r.factory=me(r.type)),l=$a(Wt);try{const u=Dt(!1),c=s();return Dt(u),function Sxe(e,t,i,r){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(i,Fn(),o,c),c}finally{$a(l)}}(1,"number")),2&e){const i=je(2).$implicit;Rc(" ",see(1,1,je(4).visModel.bins[i].domain_from,"1.2-3")," ")}}function xEt(e,t){if(1&e&&(st(0,"span",137),pn(1,CEt,3,0,"ng-container",134)(2,EEt,2,4,"ng-template",null,8,hc),dt()),2&e){const i=Uu(3),r=je().$implicit,o=je(4);Ke(),Le("ngIf",null!=o.visModel.bins[r].domain_from&&"-Infinity"==o.visModel.bins[r].domain_from.toString())("ngIfElse",i)}}function SEt(e,t){1&e&&(to(0),st(1,"span"),Jn(2,"\u221e"),dt(),no())}function BEt(e,t){if(1&e){const i=To();st(0,"input",138),ki("keyup",function(){Tn(i);const o=je(),s=o.$implicit,a=o.index,l=je(4);return Dn(l.onChangeDomain(l.visModel.bins[s].domain_to,a))})("change",function(){Tn(i);const o=je(),s=o.$implicit,a=o.index,l=je(4);return Dn(l.onChangeDomain(l.visModel.bins[s].domain_to,a))}),Ja("ngModelChange",function(o){Tn(i);const s=je().$implicit,a=je(4);return dl(a.visModel.bins[s].domain_to,o)||(a.visModel.bins[s].domain_to=o),Dn(o)}),dt()}if(2&e){const i=je().$implicit,r=je(4);Le("ngModelOptions",$s(3,MA))("value",r.visModel.bins[i].domain_to),Za("ngModel",r.visModel.bins[i].domain_to)}}function MEt(e,t){if(1&e){const i=To();st(0,"tr")(1,"td",133),pn(2,bEt,3,0,"ng-container",134)(3,xEt,4,2,"ng-template",null,6,hc),dt(),st(5,"td",135)(6,"input",136),Ja("ngModelChange",function(o){const s=Tn(i).$implicit,a=je(4);return dl(a.visModel.bins[s].color,o)||(a.visModel.bins[s].color=o),Dn(o)}),ki("change",function(o){const s=Tn(i).index;return Dn(je(4).onColorPickerSelect(o.target.value,s))}),dt()(),st(7,"td",133),pn(8,SEt,3,0,"ng-container",134)(9,BEt,1,4,"ng-template",null,7,hc),dt()()}if(2&e){const i=t.$implicit,r=Uu(4),o=Uu(10),s=je(4);Ke(2),Le("ngIf",null!=s.visModel.bins[i].domain_from&&"Infinity"==s.visModel.bins[i].domain_from.toString())("ngIfElse",r),Ke(4),Le("id","colorPicker-"+i)("name","colorPicker-"+i),Za("ngModel",s.visModel.bins[i].color),Le("ngModelOptions",$s(8,MA)),Ke(2),Le("ngIf",null!=s.visModel.bins[i].domain_to&&"Infinity"==s.visModel.bins[i].domain_to.toString()&&(s.objectKeys(s.visModel.bins).length-1).toString()==i)("ngIfElse",o)}}function IEt(e,t){if(1&e&&(st(0,"table",131)(1,"tbody"),pn(2,MEt,11,9,"tr",132),dt()()),2&e){const i=je(3);Ke(2),Le("ngForOf",i.objectKeys(i.visModel.bins))("ngForTrackBy",i.binIdx)}}function DEt(e,t){if(1&e){const i=To();st(0,"div",141),ki("click",function(){const o=Tn(i).$implicit;return Dn(je(4).visModel.currentColor=o)}),dt()}if(2&e){const i=t.$implicit,r=je(4);KO("background",i),Wh("selectedColorSwatch",i===r.visModel.currentColor)}}function TEt(e,t){if(1&e&&(st(0,"div")(1,"div")(2,"div",139),pn(3,DEt,1,4,"div",140),dt(),st(4,"div",116),yi(5,"i",117),Jn(6,"\xa0Warning: We recommend using this feature only for educational purposes. "),dt()()()),2&e){const i=je(3);Ke(3),Le("ngForOf",i.visModel.presetColors)}}function FEt(e,t){if(1&e){const i=To();st(0,"div",98)(1,"div")(2,"strong"),yi(3,"i",108),Jn(4,"\xa0Manual Configuration"),dt(),st(5,"div")(6,"small",17),Jn(7,"Specify custom bins from scratch or modify existing binning method outputs (via Reset)."),dt()(),st(8,"div",109)(9,"button",110),ki("click",function(){return Tn(i),Dn(je(2).addBin())}),yi(10,"i",111),Jn(11,"\xa0Add Bin"),dt(),Jn(12," \xa0 "),st(13,"button",110),ki("click",function(){Tn(i);const o=je(2);return o.deleteBin(),Dn(o.updateColorScaleAndMap())}),yi(14,"i",112),Jn(15,"\xa0Remove"),dt(),Jn(16," \xa0 "),st(17,"p-splitButton",113),ki("onClick",function(){return Tn(i),Dn(je(2).renderMap())}),dt()(),st(18,"div",114),pn(19,IEt,3,2,"table",115),dt(),st(20,"div",116),yi(21,"i",117),Jn(22,"\xa0Warning: Please ensure that bins increase in value and are continuous. "),dt()(),yi(23,"hr"),st(24,"div")(25,"div")(26,"strong"),yi(27,"i",118),Jn(28,"\xa0Paint Mode"),dt(),st(29,"span",119)(30,"div",28)(31,"input",120),Ja("ngModelChange",function(o){Tn(i);const s=je(2);return dl(s.visModel.paintMode,o)||(s.visModel.paintMode=o),Dn(o)}),dt(),st(32,"label",121),Jn(33," on "),dt()(),st(34,"div",28)(35,"input",122),Ja("ngModelChange",function(o){Tn(i);const s=je(2);return dl(s.visModel.paintMode,o)||(s.visModel.paintMode=o),Dn(o)}),dt(),st(36,"label",123),Jn(37," off "),dt()()(),yi(38,"div",124),st(39,"div")(40,"small",17),Jn(41,"Create custom bins by selecting a color (i.e. an existing bin) and then clicking on a geography (i.e. forcing it to fall in the bin) to fit a specific narrative."),dt()()()(),pn(42,TEt,7,1,"div",59),yi(43,"hr"),st(44,"div")(45,"div")(46,"strong"),yi(47,"i",125),Jn(48,"\xa0Save As New Binning Method "),dt()(),st(49,"div",126)(50,"input",127),Ja("ngModelChange",function(o){Tn(i);const s=je(2);return dl(s.visModel.newBinningMethodName,o)||(s.visModel.newBinningMethodName=o),Dn(o)}),dt(),st(51,"div",128)(52,"button",129),ki("click",function(){return Tn(i),Dn(je(2).saveNewBinningMethod())}),yi(53,"i",130),dt()()()()()}if(2&e){const i=je(2);Ke(17),Le("model",i.visModel.binningMethodResetMenu),Ke(2),Le("ngIf",i.visModel.bins&&i.objectKeys(i.visModel.bins).length>0),Ke(12),Za("ngModel",i.visModel.paintMode),Le("ngModelOptions",$s(9,MA)),Ke(4),Za("ngModel",i.visModel.paintMode),Le("ngModelOptions",$s(10,MA)),Ke(7),Le("ngIf","on"==i.visModel.paintMode),Ke(8),Za("ngModel",i.visModel.newBinningMethodName),Ke(2),Le("disabled",""==i.visModel.newBinningMethodName)}}function OEt(e,t){if(1&e){const i=To();st(0,"div",154),ki("click",function(){const o=Tn(i).$implicit,s=je(4);return Dn(null!==o.primaryKey?s.selectGeographicEntity(o):null)}),Jn(1),dt()}if(2&e){const i=t.$implicit;Wh("no-result",null===i.primaryKey),Ke(),Rc(" ",i.displayLabel||i.label," ")}}function kEt(e,t){if(1&e&&(st(0,"div",151)(1,"div",152),pn(2,OEt,2,3,"div",153),dt()()),2&e){const i=je(3);Ke(2),Le("ngForOf",i.visModel.geographicSearchResults)}}function NEt(e,t){if(1&e){const i=To();st(0,"div",142)(1,"div",143)(2,"div",144)(3,"input",145),Ja("ngModelChange",function(o){Tn(i);const s=je(2);return dl(s.visModel.geographicSearchTerm,o)||(s.visModel.geographicSearchTerm=o),Dn(o)}),ki("keyup.enter",function(){return Tn(i),Dn(je(2).searchGeographicEntity())})("input",function(){return Tn(i),Dn(je(2).onGeographicSearchInput())}),dt(),st(4,"div",128)(5,"button",146),ki("click",function(){return Tn(i),Dn(je(2).searchGeographicEntity())}),yi(6,"i",147),dt(),st(7,"button",146),ki("click",function(){return Tn(i),Dn(je(2).clearGeographicSearch())}),yi(8,"i",148),dt()()(),pn(9,kEt,3,1,"div",149),dt(),yi(10,"div",150,9),dt()}if(2&e){const i=je(2);Ke(3),Za("ngModel",i.visModel.geographicSearchTerm),Le("ngModelOptions",$s(5,MA)),Ke(2),Le("disabled",!i.visModel.geographicSearchTerm||""===i.visModel.geographicSearchTerm.trim()),Ke(2),Le("disabled",!i.visModel.highlightedGeographicEntity),Ke(2),Le("ngIf",i.visModel.geographicSearchResults&&i.visModel.geographicSearchResults.length>0)}}function LEt(e,t){if(1&e&&(st(0,"div",12)(1,"ul",61)(2,"li",62)(3,"a",63),yi(4,"i",64),Jn(5,"\xa0Browse"),dt()(),st(6,"li",62)(7,"a",65),yi(8,"i",66),Jn(9,"\xa0Compare"),dt()(),st(10,"li",62)(11,"a",67),yi(12,"i",68),Jn(13,"\xa0Combine"),dt()(),st(14,"li",62)(15,"a",69),yi(16,"i",70),Jn(17,"\xa0Create"),dt()()(),st(18,"div",71)(19,"div",72)(20,"div",73)(21,"div",74),pn(22,mEt,35,12,"ng-container",75),dt()()(),st(23,"div",76)(24,"div",73),yi(25,"div",77,1),st(27,"div",78,2),pn(29,vEt,6,6,"ng-container",75),dt()()(),st(30,"div",79)(31,"p-splitter",10),pn(32,_Et,13,1,"ng-template",11)(33,wEt,6,0,"ng-template",11),dt()(),st(34,"div",80)(35,"p-splitter",10),pn(36,FEt,54,11,"ng-template",11)(37,NEt,12,6,"ng-template",11),dt()()()()),2&e){const i=je();Ke(22),Le("ngForOf",i.visModel.binningMethodsList),Ke(7),Le("ngForOf",i.visModel.binningMethodsList),Ke(2),Cf($s(8,IW)),Le("panelSizes",$s(9,c7e)),Ke(4),Cf($s(10,IW)),Le("panelSizes",$s(11,uEt))}}let f7e=(()=>{class e{dragulaService;dialogService;cd;attrDistributionVisContainer;attrDistributionVisContainerCompare;mapContainerBrowse;mapContainerCompare;mapContainerCombine;specialMapContainerCombine;mapContainerCreate;visModel;objectKeys;objectValues;constructor(i,r,o){this.dragulaService=i,this.dialogService=r,this.cd=o,this.dragulaService.destroy("CHOROPLETH_DRAGGABLE_CARDDECK"),this.dragulaService.createGroup("CHOROPLETH_DRAGGABLE_CARDDECK",{moves:(s,a,l)=>l.classList.contains("drag_handle")}),this.objectKeys=Object.keys,this.objectValues=Object.values,this.visModel={isDatasetLoaded:!1,datasets:Ale,dataset:Ale[1].geographies[0].features[0],baseDataFeatureCollection:[],baseGeoVisSpec:JSON.parse(JSON.stringify(cle)),featureData:{},featureDataNaNs:{},featureRawDataWithNaNs:{},featureRawDataWithNaNsJSON:[],attributeDistributionVisType:"kde",showInvalidValues:"on",invalidValuesColor:"#555555",binCount:5,binInterval:0,paintMode:"off",binningMethodResetMenu:[],primaryKeyAcrossBinningMethods:{},frequencyOfBins:{},frequentBins:{},binningMethodInputsForResiliency:{[eU]:{selected:!0},[tU]:{selected:!0},[nU]:{selected:!0},[BS]:{selected:!0},[rU]:{selected:!0},[oU]:{selected:!0}},validBinningMethodInputsForResiliency:[],specialBinningMethods:{[ble]:{name:"Most Consistent Bin",description:[],binBreaks:[],binSizes:{},colorScale:{}},[wle]:{name:"Frequency of Most Consistent Bin",description:[],binBreaks:[],binSizes:{},colorScale:{}},specialCombinedMostFrequentBin:{name:"Most Consistent Bin + Frequency",description:[],binBreaks:[],binSizes:{},colorScale:{}}},binGuruObj:null,colorSchemes:fle,colorScheme:fle[2].examples[2],binningMethodsList:[],activeBinningMethodsList:[],binningMethodCategoriesList:[],activeBinningMethodCategoriesList:[],binningMethods:Oze,dragMode:!1,dataMap:new Map,colorScale:null,currentColor:"#ffffff",presetColors:["#ffffff"],bins:{},activeMainTab:"explore",newBinningMethodName:"",defaultBinningMethod:BS,geographicSearchTerm:"",geographicSearchResults:[],highlightedGeographicEntity:null},this.setActiveBinningMethods(),this.setActiveBinningMethodCategories()}setBinningMethodsForResetInCreate(){this.visModel.binningMethodResetMenu=(this.visModel.binningMethodsList||[]).map(i=>({label:i._name,command:()=>this.resetCreateViewMethod(i._id),styleClass:i._id===this.visModel.defaultBinningMethod?"bg-secondary text-white":""}))}resetCreateViewMethod(i){this.visModel.defaultBinningMethod=i,this.setBinningMethodsForResetInCreate(),this.updateCurrentTab()}deleteBin(i=null){null==i&&(this.visModel.bins={},this.visModel.bins[0]={domain_from:-1/0,color:"#ffffff",domain_to:1/0})}setActiveBinningMethods(){let i=this,r=[];Object.keys(this.visModel.binningMethods).forEach(function(o){r.push({_id:o,_name:i.visModel.binningMethods[o].name})}),this.visModel.activeBinningMethodsList=r.map(o=>o._id),this.visModel.binningMethodsList=[...r]}setActiveBinningMethodCategories(){let i=[];[o3,I6,z7,MS,IS,aU].forEach(function(r){i.push({_id:r,_name:r})}),this.visModel.activeBinningMethodCategoriesList=i.map(r=>r._id),this.visModel.binningMethodCategoriesList=[...i]}saveNewBinningMethod(){let i=this;const r=i.visModel.newBinningMethodName,o=r.replace(/\s+/g,"");let s=[];Object.keys(i.visModel.bins).forEach(function(l,u){u>0&&s.push(i.visModel.bins[l].domain_from)});let a={};a.domain=s,a.type="threshold",a.scheme=i.getColorScheme(),i.visModel.binningMethods[o]={name:r,description:"This is a user-defined binning method created at "+(new Date).toUTCString()+".",longDescription:"",binBreaks:s,binSizes:{},colorScale:a,isCardHovered:!1,isRendered:!1,vlSpec:null,tsCode:null,category:aU,isUserCreated:!0,savedBins:{...i.visModel.bins}},i.setActiveBinningMethods(),i.setActiveBinningMethodCategories(),i.setBinningMethodsForResetInCreate(),i.visModel.defaultBinningMethod=o,i.visModel.newBinningMethodName="",i.updateCurrentTab()}hideBinningMethodCard(i){const o=[...this.visModel.activeBinningMethodsList];let s=o.findIndex(a=>a===i);s>-1&&(o.splice(s,1),this.visModel.activeBinningMethodsList=[...o])}getColorScheme(i="vegalite"){return"vegalite"==i?this.visModel.colorScheme.code:this.visModel.colorScheme.function}getBinningMethodScaleObj(i){let r=this,o=[],s={},a=r.visModel.binGuruObj;if(!a)return{type:"threshold",domain:[],range:["gray"]};if(i==sU)return s.domain=[a.min,a.max],s.scheme=r.getColorScheme(),s.type="linear",s;const l=r.visModel.binningMethods[i];if(l&&l.isUserCreated)return s.domain=l.binBreaks,s.scheme=r.getColorScheme(),s.type="threshold",s;let u;switch(i){case eU:u=a.equalInterval(),o=u.binBreaks;break;case hle:u=a.percentile(),o=u.binBreaks;break;case tU:u=a.quantile(),o=u.binBreaks;break;case mle:u=a.standardDeviation(),o=u.binBreaks;break;case _le:{const h=Gm.getRandomUniqueNumbers(a.min,a.max,r.visModel.binCount-1);u=a.manualInterval(h.sort((g,v)=>g-v)),o=u.binBreaks;break}case iU:u=a.prettyBreaks(),o=u.binBreaks;break;case nU:u=a.maximumBreaks(),o=u.binBreaks;break;case vle:u=a.headTailBreaks(),o=u.binBreaks;break;case rU:u=a.ckMeans(),o=u.binBreaks;break;case"boxPlot":u=a.boxPlot(),o=u.binBreaks;break;case ple:u=a.definedInterval(),o=u.binBreaks;break;case yle:u=a.exponentialBinSizes(),o=u.binBreaks;break;case oU:u=a.geometricInterval(),o=u.binBreaks;break;case BS:u=a.fisherJenks(),o=u.binBreaks;break;case A1:r.visModel.validBinningMethodInputsForResiliency=r.getValidBinningMethodsForSpecialComparison(),u=a.resiliency(r.visModel.validBinningMethodInputsForResiliency),o=u.binBreaks;break;default:return{type:"threshold",domain:[],range:["gray"]}}return i!=iU&&(o=o.map(c=>parseFloat(c.toFixed(2)))),s.domain=o,s.scheme=r.getColorScheme(),s.type="threshold",s}computeStatsWithinAndAcrossBinningMethods(){let i=this;i.visModel.frequencyOfBins={},i.visModel.frequentBins={},i.visModel.primaryKeyAcrossBinningMethods={};let r=Array.from(Object.keys(i.visModel.binningMethods));for(let o=0;o<r.length;o++){const s=r[o];i.visModel.binningMethods[s].binSizes={};const a=i.visModel.binningMethods[s].colorScale;i.visModel.featureRawDataWithNaNs[i.visModel.dataset.feature].forEach(function(l,u){if(!Number.isNaN(l)&&null!=l&&"NA"!=l){let c=i.visModel.featureRawDataWithNaNs[i.visModel.dataset.primaryKey][u],f=1;f in i.visModel.binningMethods[s].binSizes||(i.visModel.binningMethods[s].binSizes[f]=0);for(let d=f;d<a.domain.length+1;d++)a.domain[d-1]<=l&&(f=d+1,f in i.visModel.binningMethods[s].binSizes||(i.visModel.binningMethods[s].binSizes[f]=0));if(i.visModel.binningMethods[s].binSizes[f]+=1,-1!==i.visModel.validBinningMethodInputsForResiliency.indexOf(s)){c in i.visModel.primaryKeyAcrossBinningMethods||(i.visModel.primaryKeyAcrossBinningMethods[c]={}),i.visModel.primaryKeyAcrossBinningMethods[c][s]=f;let d=Object.values(i.visModel.primaryKeyAcrossBinningMethods[c]);c in i.visModel.frequencyOfBins||(i.visModel.frequencyOfBins[c]=0),i.visModel.frequencyOfBins[c]=Gm.getFrequencyOfMostFrequentElement(d),c in i.visModel.frequencyOfBins||(i.visModel.frequencyOfBins[c]=0),i.visModel.frequentBins[c]=Gm.getMostFrequentElement(d)}}})}}isMatchingSearchFilter(i){let r=this;for(var o=0;o<r.visModel.activeBinningMethodCategoriesList.length;o++)if(r.visModel.activeBinningMethodCategoriesList[o]==r.visModel.binningMethods[i].category)for(var s=0;s<r.visModel.activeBinningMethodsList.length;s++)if(r.visModel.activeBinningMethodsList[s]==i)return!0;return!1}prepareVISSpec(){let i=this;i.visModel.frequencyOfBins={},i.visModel.frequentBins={};let r=Array.from(Object.keys(i.visModel.binningMethods));for(let o=0;o<r.length;o++){const s=r[o];i.prepareBaseVISSpec(),i.visModel.binningMethods[s].binSizes={};const a=i.visModel.binningMethods[s].colorScale;let l=i.getVLObject(a);i.visModel.featureRawDataWithNaNs[i.visModel.dataset.feature].forEach(function(u,c){if(!Number.isNaN(u)&&null!=u&&"NA"!=u){let f=i.visModel.featureRawDataWithNaNs[i.visModel.dataset.primaryKey][c],d=1;d in i.visModel.binningMethods[s].binSizes||(i.visModel.binningMethods[s].binSizes[d]=0);for(let h=d;h<a.domain.length+1;h++)a.domain[h-1]<u&&(d=h+1,d in i.visModel.binningMethods[s].binSizes||(i.visModel.binningMethods[s].binSizes[d]=0));if(i.visModel.binningMethods[s].binSizes[d]+=1,s in i.visModel.binningMethodInputsForResiliency){f in i.visModel.primaryKeyAcrossBinningMethods||(i.visModel.primaryKeyAcrossBinningMethods[f]={}),i.visModel.primaryKeyAcrossBinningMethods[f][s]=d;let h=Object.values(i.visModel.primaryKeyAcrossBinningMethods[f]);f in i.visModel.frequencyOfBins||(i.visModel.frequencyOfBins[f]=0),i.visModel.frequencyOfBins[f]=Gm.getFrequencyOfMostFrequentElement(h),f in i.visModel.frequencyOfBins||(i.visModel.frequencyOfBins[f]=0),i.visModel.frequentBins[f]=Gm.getMostFrequentElement(h)}}}),i.visModel.baseGeoVisSpec.concat.push(l),i.visModel.binningMethods[s].vlSpec=JSON.stringify(i.visModel.baseGeoVisSpec,null,4),S9("#mapContainerBrowse-"+s,i.visModel.baseGeoVisSpec,d1.vegaLiteOptions).then(u=>{i.visModel.binningMethods[s].isRendered=!0}).catch(console.warn)}}openDetailViewModal(i){let r=this;this.dialogService.open(C$e,{header:"Details of Binning Method - "+r.visModel.binningMethods[i].name,width:"60%",height:"70%",modal:!0,closeOnEscape:!1,dismissableMask:!1,data:{binningMethodObj:r.visModel.binningMethods[i],vlSpec:r.visModel.binningMethods[i].vlSpec}}).onClose.subscribe(()=>{}),setTimeout(()=>{const s=JSON.parse(r.visModel.binningMethods[i].vlSpec),a=document.querySelector(".p-dialog-content");if(a){const l=a.querySelector("#detailViewMapContainer");l&&(s.concat[0].width=.7*(l.parentNode.offsetWidth-100),s.concat[0].height=.66*s.concat[0].width,S9("#detailViewMapContainer",s,d1.vegaLiteOptions).then(u=>{}).catch(console.warn))}},100)}getDataShape(i="total"){let o,r=this;try{const s=r.visModel.featureData[r.visModel.dataset.feature].length,a=r.visModel.featureDataNaNs[r.visModel.dataset.feature];let l=s+a;switch(i){case"total":o=l;break;case"valid":o=s;break;case"invalid":o=a;break;case"invalidpct":o=(100*a/l).toPrecision(3)}}catch{o=-1}return o}getVLObject(i){let r=this,o=r.mapContainerBrowse.nativeElement.parentNode.offsetWidth-100;return{width:o,height:.7*o,layer:[{projection:{type:r.visModel.dataset.mapProjection,center:r.visModel.dataset.mapCenter},mark:{type:"geoshape",invalid:"on"==r.visModel.showInvalidValues?null:"filter"},encoding:{color:{condition:{test:"!isValid(datum['"+r.visModel.dataset.feature+"'])",value:r.visModel.invalidValuesColor},field:r.visModel.dataset.feature,type:"quantitative",legend:{title:null,direction:"vertical",orient:"right",labelFontSize:14},scale:i},tooltip:r.getMapTooltip("vl")}}]}}getValidBinningMethodsForSpecialComparison(){let i=this,r=[];return Object.keys(i.visModel.binningMethodInputsForResiliency).forEach(function(o){i.visModel.binningMethodInputsForResiliency[o].selected&&r.push(o)}),r}prepareSpecialVIS(){let i=this,r=[],o=[];Object.keys(i.visModel.frequencyOfBins).forEach(function(u){let c={Frequency_of_Most_Frequent_Bin:i.visModel.frequencyOfBins[u],Most_Frequent_Bin:i.visModel.frequentBins[u]};c[i.visModel.dataset.primaryKey]=u,i.visModel.validBinningMethodInputsForResiliency.forEach(function(f){c[f]=i.visModel.primaryKeyAcrossBinningMethods[u][f],o.push({field:f,type:"ordinal",title:"BinID("+i.visModel.binningMethods[f].name+")"})}),r.push(c)}),i.visModel.baseGeoVisSpec.columns=3,i.visModel.baseGeoVisSpec.transform.push({lookup:i.visModel.dataset.topoPrimaryKey,from:{data:{values:r},key:i.visModel.dataset.primaryKey,fields:["Frequency_of_Most_Frequent_Bin","Most_Frequent_Bin",i.visModel.dataset.primaryKey,...i.visModel.validBinningMethodInputsForResiliency]}});let a=i.specialMapContainerCombine.nativeElement.parentNode.offsetWidth/3-10-30-100,l=.66*a;Object.keys(i.visModel.specialBinningMethods).forEach(function(u){let c={width:a,height:l,layer:[{title:{text:i.visModel.specialBinningMethods[u].name,subtitle:"across multiple binning methods.",fontSize:18,subtitleFontSize:14,color:"#34495e",dy:0},projection:{type:i.visModel.dataset.mapProjection,center:i.visModel.dataset.mapCenter},mark:{type:"geoshape",invalid:"on"==i.visModel.showInvalidValues?null:"filter"},encoding:{color:{condition:{test:"!isValid(datum['Frequency_of_Most_Frequent_Bin'])",value:i.visModel.invalidValuesColor},field:"Most_Frequent_Bin",type:"ordinal",legend:{title:"Bin",titleFontSize:16,labelFontSize:16},scale:{domain:[...Array(i.visModel.binCount).keys()].map(f=>f+1),type:"ordinal",scheme:i.getColorScheme()}},opacity:{field:"Frequency_of_Most_Frequent_Bin",type:"quantitative",legend:{title:"Freq",values:new Array(i.visModel.validBinningMethodInputsForResiliency.length).fill(null).map((f,d)=>d+1),titleFontSize:16,labelFontSize:16},scale:{domain:[1,i.visModel.validBinningMethodInputsForResiliency.length],range:[.1,1],type:"pow"}},tooltip:[...i.getMapTooltip("vl"),{field:"Most_Frequent_Bin",type:"ordinal",title:"Most Frequent Bin"},{field:"Frequency_of_Most_Frequent_Bin",type:"ordinal",title:"Frequency of Most Frequent Bin"},...o]}}]};"off"==i.visModel.showInvalidValues&&delete c.layer[0].encoding.color.condition,u==ble&&delete c.layer[0].encoding.opacity,u==wle&&(c.layer[0].mark.fill="black",delete c.layer[0].encoding.color),i.visModel.baseGeoVisSpec.concat.push(c)})}getMapTooltip(i,r=null){let o=this,s=null;switch(i){case"vl":s=[],s.push({field:o.visModel.dataset.feature,type:"quantitative",title:o.visModel.dataset.feature,format:".2f"}),s.push({field:o.visModel.dataset.primaryKey,type:"nominal",title:o.visModel.dataset.primaryKey}),o.visModel.dataset.labelFeatures.forEach(function(l){s.push({field:l,type:"nominal",title:l})});break;case"d3":let a=[];a.push(`\n          <tr>\n            <td class='text-right text-muted'>${o.visModel.dataset.feature}</td>\n            <td>${b6(".2f")(r[o.visModel.dataset.feature])}</td>\n          </tr>`),a.push(`\n          <tr>\n            <td class='text-right text-muted'>${o.visModel.dataset.primaryKey}</td>\n            <td>${r[o.visModel.dataset.primaryKey]}</td>\n          </tr>`),o.visModel.dataset.labelFeatures.forEach(function(l){a.push(`\n            <tr>\n              <td class='text-right text-muted'>${l}</td>\n              <td>${r[l]}</td>\n            </tr>`)}),s=`<table class="table table-sm table-borderless mb-0">${a.join("")}</table>`}return s}getBinningMethodCategoryStyleClass(i){return Cle(i,!1)}prepareResiliencyVIS(){let i=this,r=i.visModel.binningMethods[A1].colorScale,o=i.mapContainerCombine.nativeElement.parentNode.offsetWidth-10-30-100,a={width:o,height:.4*o,layer:[{title:{text:i.visModel.binningMethods[A1].name,subtitle:["Geographies are placed in their most agreed-upon bin across multiple binning methods."],limit:o-20,fontSize:22,subtitleFontSize:18,color:"#34495e",dy:0},projection:{type:i.visModel.dataset.mapProjection,center:i.visModel.dataset.mapCenter},mark:{type:"geoshape",invalid:"on"==i.visModel.showInvalidValues?null:"filter"},encoding:{color:{condition:{test:"!isValid(datum['"+i.visModel.dataset.feature+"'])",value:i.visModel.invalidValuesColor},field:i.visModel.dataset.feature,type:"quantitative",legend:{title:null,format:".3f",labelFontSize:16},scale:r},tooltip:i.getMapTooltip("vl")}}]};i.visModel.featureRawDataWithNaNs[i.visModel.dataset.feature].forEach(function(l,u){if(!Number.isNaN(l)&&null!=l&&"NA"!=l){let f=1;f in i.visModel.binningMethods[A1].binSizes||(i.visModel.binningMethods[A1].binSizes[f]=0);for(let d=f;d<r.domain.length+1;d++)r.domain[d-1]<l&&(f=d+1,f in i.visModel.binningMethods[A1].binSizes||(i.visModel.binningMethods[A1].binSizes[f]=0));i.visModel.binningMethods[A1].binSizes[f]+=1}}),i.visModel.baseGeoVisSpec.concat.push(a)}renderAttrDistributionVisSpec(){let o,s,a,i=this,r=null;a=20,o=i.attrDistributionVisContainer.nativeElement.offsetWidth-60,o="off"==i.visModel.showInvalidValues?o:o-80,s=.6*o;let l=i.getDataShape("invalid"),u=i.generateHistogramBins(),c=GL(u,d=>d.count)||0,f=[0,c>l?c:l];switch(i.visModel.attributeDistributionVisType){case"histogram":r={$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:u},config:{concat:{spacing:0}},concat:[{width:o,height:s,mark:{type:"bar",tooltip:{content:"data"}},encoding:{x:{field:"bin_start",bin:{binned:!0},title:null,type:"quantitative",axis:{labelFontSize:12,titleFontSize:14}},x2:{field:"bin_end",axis:{labelFontSize:12,titleFontSize:14}},y:{field:"count",title:"count",type:"quantitative",scale:{domain:f},axis:{formatType:"number",format:".2s",labelFontSize:12,titleFontSize:14}}}}]};break;case"kde":r={$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:i.visModel.featureData[i.visModel.dataset.feature]},config:{concat:{spacing:0}},concat:[{width:o,height:s,mark:{type:"area"},transform:[{density:"data"}],encoding:{x:{field:"value",title:null,type:"quantitative",axis:{labelFontSize:12,titleFontSize:14}},y:{field:"density",title:"kernel density",type:"quantitative",axis:{formatType:"number",format:".2s",labelFontSize:12,titleFontSize:14}},tooltip:[{field:"value",type:"quantitative",format:".2s"},{field:"density",type:"quantitative",format:".2s"}]}}]}}"on"==i.visModel.showInvalidValues&&r.concat.push({width:20,height:s,data:{values:[{field:"NaN/nulls",invalidCount:l}]},mark:{type:"bar",tooltip:{content:"invalidCount"}},encoding:{x:{field:"field",type:"nominal",title:null,axis:{labelAngle:"0",labelFontSize:12,titleFontSize:14}},y:{field:"invalidCount",type:"quantitative",title:"count",scale:{domain:f},axis:{orient:"right",formatType:"number",format:".2s",labelFontSize:12,titleFontSize:14}}}}),S9("#attrDistributionVisContainer",r,d1.vegaLiteOptions).then(d=>{}).catch(console.warn)}renderCompareTabAttrDistributionVisSpec(){let i=this,r="#attrDistributionVisContainerCompare",o=i.attrDistributionVisContainerCompare.nativeElement.offsetWidth;zc(r).selectAll("*").remove();const u=zc(r).append("svg").attr("width",o).attr("height",200),c=o-60-5,f=120,d=u.append("g").attr("transform","translate(60,30)");let h=i.visModel.binGuruObj.data,g=i.visModel.dataset.feature;const v=E7(h),y=Math.min(4,c/40),b=2*y,E=Math.max(20,Math.floor(c/b)),M=wS().domain(v).nice(E).range([0,E*b]),k=Soe().domain(M.domain()).thresholds(E)(h),P=GL(k,te=>te.length),H=Math.floor(f/b),X=Math.ceil(P/H);k.forEach(te=>{te.dotCount=Math.ceil(te.length/X)});const z=GL(k,te=>te.dotCount),Ie=(wS().domain([0,z]).range([f,f-z*b]),function ORe(e){return Px(3,e)}(M).ticks(10).tickSizeOuter(0).tickFormat(te=>{const Ce=[{value:1e12,suffix:"T"},{value:1e9,suffix:"B"},{value:1e6,suffix:"M"},{value:1e3,suffix:"k"}];for(const ce of Ce)if(Math.abs(te)>=ce.value)return`${(te/ce.value).toFixed(1)}${ce.suffix}`;return te})),Ee=d.append("g").attr("transform","translate(0,120)").call(Ie);Ee.selectAll("text").style("font-size","1.9em").style("font-family","Arial, sans-serif"),Ee.call(te=>te.append("text").attr("x",c/2).attr("y",40).attr("fill","black").attr("text-anchor","middle").attr("font-weight","bold").style("font-size","2em").text(g));const Ze=function kRe(e){return Px(4,e)}(wS().domain([0,z*X]).range([f,f-z*b])).ticks(5).tickSizeOuter(0).tickFormat(b6("~s")),W=d.append("g").call(Ze);W.selectAll("text").style("font-size","1.9em").style("font-family","Arial, sans-serif"),W.call(te=>te.append("text").attr("x",-45).attr("y",60).attr("fill","black").attr("text-anchor","middle").attr("transform","rotate(-90, -45, 60)").attr("font-weight","bold").style("font-size","2em").text("Count"));const Z=zc("body").append("div").attr("class","tooltip").style("opacity",0);k.forEach((te,Ce)=>{for(let ce=0;ce<te.dotCount;ce++)d.append("circle").attr("class","dot").style("fill","#4C78A8").style("stroke","black").attr("cx",M(te.x0)+y).attr("cy",f-ce*b-y).attr("r",y).on("mouseover",function(we){Z.transition().duration(200).style("opacity",.9),Z.html(`Bin Range: [${te.x0.toFixed(2)}, ${te.x1.toFixed(2)})<br># Data Points (in Bin): ${te.length}<br># Dots: ${te.dotCount}<br>(1 blue dot ~ upto ${X} Data Points)`).style("left",we.pageX+10+"px").style("top",we.pageY-28+"px")}).on("mouseout",function(){Z.transition().duration(500).style("opacity",0)})}),u.attr("width",E*b+2*y+60+5)}computeStats(){this.computeBinBreaks(),this.computeStatsWithinAndAcrossBinningMethods()}prepareBaseVISSpec(){let i=this;i.visModel.baseGeoVisSpec=JSON.parse(JSON.stringify(cle)),i.visModel.baseGeoVisSpec.columns=1,i.visModel.dataset.geoData?(i.visModel.baseGeoVisSpec.data.values=i.visModel.dataset.geoData,i.visModel.baseGeoVisSpec.data.format.type="json",i.visModel.baseGeoVisSpec.data.format.feature="features"):(i.visModel.baseGeoVisSpec.data.url=d1.dataPath+i.visModel.dataset.geoFile,i.visModel.baseGeoVisSpec.data.format.feature=i.visModel.dataset.topoFeatureRootKey),delete i.visModel.baseGeoVisSpec.transform[0].from.data.url;const a=[i.visModel.dataset.primaryKey,...i.visModel.dataset.labelFeatures||[],i.visModel.dataset.feature];i.visModel.baseGeoVisSpec.transform[0].from.fields=a,i.visModel.baseGeoVisSpec.transform[0].from.data.values=i.visModel.featureRawDataWithNaNsJSON.map(l=>{const u={};return a.forEach(c=>{l.hasOwnProperty(c)&&(u[c]=l[c])}),u}),i.visModel.baseGeoVisSpec.transform[0].from.key=i.visModel.dataset.primaryKey,i.visModel.baseGeoVisSpec.transform[0].lookup=i.visModel.dataset.topoPrimaryKey}computeBinBreaks(){let i=this,r=Array.from(Object.keys(i.visModel.binningMethods));for(let o=0;o<r.length;o++){const s=r[o];let a=i.getBinningMethodScaleObj(s);i.visModel.binningMethods[s].binBreaks=a.domain,i.visModel.binningMethods[s].colorScale=a}}renderCompareVIS(){let i=this;if("compare"!=i.visModel.activeMainTab)return;i.renderCompareTabAttrDistributionVisSpec();let r=i.visModel.activeBinningMethodsList.length,o=i.mapContainerCompare.nativeElement.parentNode.parentNode.offsetWidth-250,a=i.visModel.binGuruObj.min,l=i.visModel.binGuruObj.max,[u,c]=[1/0,-1/0];for(var f=0;f<r;f++){const g=i.visModel.binningMethods[i.visModel.activeBinningMethodsList[f]].binBreaks;for(var d=0;d<g.length;d++){let v=g[d];u>v&&(u=v),c<v&&(c=v)}}for(u>a&&(u=a),c<l&&(c=l),f=0;f<r;f++){const g=i.visModel.activeBinningMethodsList[f];let v=[],y=[];for(d=0;d<=i.visModel.binningMethods[g].binBreaks.length;d++){let M={},k=(d+1).toString();0==d?(M.binMin=u,M.binMax=i.visModel.binningMethods[g].binBreaks[d],isNaN(M.binMin)||y.push(M.binMin)):d<=i.visModel.binningMethods[g].binBreaks.length-1?(M.binMin=i.visModel.binningMethods[g].binBreaks[d-1],M.binMax=i.visModel.binningMethods[g].binBreaks[d]):(M.binMin=i.visModel.binningMethods[g].binBreaks[d-1],M.binMax=c),M.binningMethod=i.visModel.binningMethods[g].name,M.binID=k.toString(),M.binSize=i.visModel.binningMethods[g].binSizes[k],isNaN(M.binMax)||y.push(M.binMax),v.push(M)}let b={$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:o,height:30,background:null,config:{tick:{bandSize:20},view:{stroke:null},axis:{domain:!1,grid:!1,ticks:!1}},layer:[{title:null,data:{values:v},mark:{type:"bar",tooltip:{content:"data"}},transform:[{filter:"datum.binSize != 0"}],encoding:{x:{field:"binMin",type:"quantitative",axis:{title:null,values:i.visModel.binningMethods[g].binBreaks,format:".2f",labelFontSize:16},scale:{domain:[u,c]}},y:{field:"binningMethod",type:"ordinal",axis:{title:null,labels:!1}},x2:{field:"binMax",scale:{domain:[u,c]},axis:{format:".2f",labelFontSize:16}},size:{field:"binSize",legend:null,scale:{type:"linear",range:[5,15]}},color:{field:"binID",type:"quantitative",scale:{domain:v.map(E=>E.binID),scheme:i.getColorScheme(),type:"threshold"},legend:null}}},{title:null,data:{values:v},mark:{type:"rule",tooltip:{content:"data"}},transform:[{filter:"datum.binSize == 0"}],encoding:{x:{field:"binMin",type:"quantitative",axis:{title:null,values:i.visModel.binningMethods[g].binBreaks,format:".2f"},scale:{domain:[u,c]}},y:{field:"binningMethod",type:"ordinal",axis:{title:null,labelFontSize:16,labelLimit:250,labelPadding:10}},x2:{field:"binMax",scale:{domain:[u,c]},axis:{format:".2f"}},size:{value:2},strokeDash:{value:[8,8]}}},{title:null,data:{values:y},mark:{type:"tick",tooltip:{content:"data"},fill:"black",orient:"vertical",thickness:3,height:15},encoding:{x:{field:"data",type:"quantitative",scale:{domain:[u,c]}}}}]};if(g==sU){delete b.layer[0].encoding.color,i.getBinningMethodScaleObj(g);const M=i.visModel.colorScheme,k=[];for(let P=0;P<11;P++){const H=P/10;let X;try{const z=M.function;X="function"==typeof z?z(H):"function"==typeof M.interpolator?M.interpolator(H):H<.5?"#0000ff":"#ff0000"}catch{X=H<.5?"#0000ff":"#ff0000"}k.push({offset:H,color:X})}b.layer[0].mark.color={x1:0,y1:0,x2:1,y2:0,gradient:"linear",stops:k}}S9("#mapContainerCompare-"+g,b,d1.vegaLiteOptions).then(E=>{}).catch(console.warn)}}renderVIS(){let i=this;if("explore"==i.visModel.activeMainTab)i.prepareVISSpec();else if("compare"==i.visModel.activeMainTab)i.renderCompareVIS();else{if("combine"!=i.visModel.activeMainTab)return;i.prepareBaseVISSpec(),i.prepareSpecialVIS(),S9("#specialMapContainerCombine",i.visModel.baseGeoVisSpec,d1.vegaLiteOptions).then(r=>{}).catch(console.warn),i.prepareBaseVISSpec(),i.prepareResiliencyVIS(),S9("#mapContainerCombine",i.visModel.baseGeoVisSpec,d1.vegaLiteOptions).then(r=>{}).catch(console.warn)}}editManualIntervalCreate(i=!1){let r=this;const s=r.visModel.binningMethods[r.visModel.defaultBinningMethod];if(s&&s.savedBins){r.visModel.bins=JSON.parse(JSON.stringify(s.savedBins));let l=r.visModel.binningMethods[r.visModel.defaultBinningMethod].binBreaks.length+1;Object.keys(r.visModel.bins).forEach(function(u,c){if(c<l){const d=Gm.generateColor(r.visModel.colorScheme,c/(l-1),l);r.visModel.bins[u].color=d}})}else{r.visModel.bins={};let a={},l=r.visModel.binningMethods[r.visModel.defaultBinningMethod].binBreaks,u=l.length+1,c=[r.visModel.binGuruObj.min,...l,r.visModel.binGuruObj.max];for(let f=0;f<u;f++){const h=Gm.generateColor(r.visModel.colorScheme,f/(u-1),u);a[f.toString()]={domain_from:c[f],color:h,domain_to:c[f+1]}}r.visModel.bins={...a}}i&&$('#tabs-main a[href="#tab-create"]').tab("show")}onChangeDomain(i,r){let o=this;Object.keys(o.visModel.bins).forEach(function(s){s==(r+1).toString()&&(o.visModel.bins[s].domain_from=i)}),o.updateColorScaleAndMap()}onColorPickerSelect(i,r){this.updateColorScaleAndMap()}updateColorScaleAndMap(i=!1,r=!1){let o=this;if(i){let l={},u=0;Object.keys(o.visModel.bins).forEach(function(c){o.visModel.bins[c].domain_from!=o.visModel.bins[c].domain_to&&(l[u.toString()]=o.visModel.bins[c],u++)}),o.visModel.bins={...l}}let s=[],a=[];Object.keys(o.visModel.bins).forEach(function(l){"0"!=l&&a.push(r?o.visModel.bins[l].domain_from-Number.EPSILON:o.visModel.bins[l].domain_from+Number.EPSILON),s.push(o.visModel.bins[l].color)}),o.visModel.colorScale=Eae().domain(a).range(s),o.visModel.presetColors=[...s],-1===s.indexOf(o.visModel.currentColor)&&(o.visModel.currentColor=s[0]),XR(".geoshape").style("visibility",function(l){let u=o.visModel.dataMap.get(l[o.visModel.dataset.topoPrimaryKey].toString());if(u){const c=u[o.visModel.dataset.feature];if((null==c||null==c||""==c||Number.isNaN(c)||"NA"==c)&&"off"==o.visModel.showInvalidValues)return"hidden"}else if("off"==o.visModel.showInvalidValues)return"hidden";return"visible"}).style("fill",function(l){let u=o.visModel.dataMap.get(l[o.visModel.dataset.topoPrimaryKey].toString());if(u){const c=u[o.visModel.dataset.feature];return null==c||null==c||""==c||Number.isNaN(c)||"NA"==c?o.visModel.invalidValuesColor:o.visModel.colorScale(c)}return o.visModel.invalidValuesColor}),o.cd.detectChanges()}addBin(){let i=this,r=i.objectKeys(i.visModel.bins).length,o=i.visModel.bins[r-1].domain_to;i.visModel.bins[r.toString()]={domain_from:o,color:"#ffffff",domain_to:o},i.updateColorScaleAndMap()}updateBins(i,r){let o=this,s=o.visModel.presetColors.indexOf(r),a=s.toString(),l=Object.keys(o.visModel.bins).length,u=!1;if(i>o.visModel.bins[s].domain_to){o.visModel.bins[a].domain_to=i;for(var c=s+1;c<l;c++){let f=c.toString();if(i>o.visModel.bins[f].domain_from){let d=(c-1).toString();o.visModel.bins[f].domain_from=o.visModel.bins[d].domain_to,o.visModel.bins[f].domain_from>=o.visModel.bins[f].domain_to&&(o.visModel.bins[f].domain_to=o.visModel.bins[f].domain_from,o.visModel.bins[f].color=r)}}u=!1}else if(i<o.visModel.bins[s].domain_from){for(o.visModel.bins[a].domain_from=i,c=s-1;c>=0;c--){let d=c.toString();if(i<o.visModel.bins[d].domain_to){let h=(c+1).toString();o.visModel.bins[d].domain_to=o.visModel.bins[h].domain_from,o.visModel.bins[d].domain_from>=o.visModel.bins[d].domain_to&&(o.visModel.bins[d].domain_from=o.visModel.bins[d].domain_to,o.visModel.bins[d].color=r)}}u=!0}o.updateColorScaleAndMap(!0,u)}processDataInteraction(i,r){let o=this,a=o.visModel.dataMap.get(i[o.visModel.dataset.topoPrimaryKey].toString())[o.visModel.dataset.feature];null==a||null==a||""==a||Number.isNaN(a)||"on"==o.visModel.paintMode&&!o.visModel.dragMode&&(zc(r).raise().style("fill",o.visModel.currentColor),o.updateBins(a,o.visModel.currentColor))}renderMap(){let i=this;i.editManualIntervalCreate(!1);let r=i.mapContainerCreate.nativeElement.parentNode.offsetWidth,o=i.mapContainerCreate.nativeElement.offsetHeight;$("#mapContainerCreate").empty();const s=zc("#mapContainerCreate").append("svg");s.attr("width",r).attr("height",o);const a=s.append("g");var l=zc("body").append("div").attr("class","tooltip").style("opacity",0);let u=null;u="albersUsa"===i.visModel.dataset.mapProjection?function iVe(){var e,t,r,s,l,u,i=function tVe(){return $R().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}(),o=$R().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=$R().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(h,g){u=[h,g]}};function f(h){var g=h[0],v=h[1];return u=null,r.point(g,v),u||(s.point(g,v),u)||(l.point(g,v),u)}function d(){return e=t=null,f}return f.invert=function(h){var g=i.scale(),v=i.translate(),y=(h[0]-v[0])/g,b=(h[1]-v[1])/g;return(b>=.12&&b<.234&&y>=-.425&&y<-.214?o:b>=.166&&b<.234&&y>=-.214&&y<-.115?a:i).invert(h)},f.stream=function(h){return e&&t===h?e:e=function nVe(e){var t=e.length;return{point:function(i,r){for(var o=-1;++o<t;)e[o].point(i,r)},sphere:function(){for(var i=-1;++i<t;)e[i].sphere()},lineStart:function(){for(var i=-1;++i<t;)e[i].lineStart()},lineEnd:function(){for(var i=-1;++i<t;)e[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<t;)e[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<t;)e[i].polygonEnd()}}}([i.stream(t=h),o.stream(h),a.stream(h)])},f.precision=function(h){return arguments.length?(i.precision(h),o.precision(h),a.precision(h),d()):i.precision()},f.scale=function(h){return arguments.length?(i.scale(h),o.scale(.35*h),a.scale(h),f.translate(i.translate())):i.scale()},f.translate=function(h){if(!arguments.length)return i.translate();var g=i.scale(),v=+h[0],y=+h[1];return r=i.translate(h).clipExtent([[v-.455*g,y-.238*g],[v+.455*g,y+.238*g]]).stream(c),s=o.translate([v-.307*g,y+.201*g]).clipExtent([[v-.425*g+fs,y+.12*g+fs],[v-.214*g-fs,y+.234*g-fs]]).stream(c),l=a.translate([v-.205*g,y+.212*g]).clipExtent([[v-.214*g+fs,y+.166*g+fs],[v-.115*g-fs,y+.234*g-fs]]).stream(c),d()},f.fitExtent=function(h,g){return zR(f,h,g)},f.fitSize=function(h,g){return uae(f,h,g)},f.fitWidth=function(h,g){return cae(f,h,g)},f.fitHeight=function(h,g){return fae(f,h,g)},f.scale(1070)}().scale(1500).translate([r/2,o/2]):function mae(){return function rVe(e){var l,u,c,t=pae(e),i=t.center,r=t.scale,o=t.translate,s=t.clipExtent,a=null;function f(){var d=ns*r(),h=t(function GQe(e){function t(i){return(i=e(i[0]*Ql,i[1]*Ql))[0]*=Tf,i[1]*=Tf,i}return e=oae(e[0]*Ql,e[1]*Ql,e.length>2?e[2]*Ql:0),t.invert=function(i){return(i=e.invert(i[0]*Ql,i[1]*Ql))[0]*=Tf,i[1]*=Tf,i},t}(t.rotate()).invert([0,0]));return s(null==a?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===GR?[[Math.max(h[0]-d,a),l],[Math.min(h[0]+d,u),c]]:[[a,Math.max(h[1]-d,l)],[u,Math.min(h[1]+d,c)]])}return t.scale=function(d){return arguments.length?(r(d),f()):r()},t.translate=function(d){return arguments.length?(o(d),f()):o()},t.center=function(d){return arguments.length?(i(d),f()):i()},t.clipExtent=function(d){return arguments.length?(null==d?a=l=u=c=null:(a=+d[0][0],l=+d[0][1],u=+d[1][0],c=+d[1][1]),f()):null==a?null:[[a,l],[u,c]]},f()}(GR).scale(961/aA)}().center(i.visModel.dataset.mapCenter),a.selectAll("path").data(i.visModel.baseDataFeatureCollection).enter().append("path").attr("class","geoshape").attr("d",function kQe(e,t){var r,o,i=4.5;function s(a){return a&&("function"==typeof i&&o.pointRadius(+i.apply(this,arguments)),C6(a,r(o))),o.result()}return s.area=function(a){return C6(a,r(Use)),Use.result()},s.measure=function(a){return C6(a,r(Wse)),Wse.result()},s.bounds=function(a){return C6(a,r(uS)),uS.result()},s.centroid=function(a){return C6(a,r($se)),$se.result()},s.projection=function(a){return arguments.length?(r=null==a?(e=null,CR):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=null==a?(t=null,new Xse):new Gse(t=a),"function"!=typeof i&&o.pointRadius(i),s):t},s.pointRadius=function(a){return arguments.length?(i="function"==typeof a?a:(o.pointRadius(+a),+a),s):i},s.projection(e).context(t)}().projection(u)).style("stroke","grey").on("mouseover",function(b,E){let M=i.visModel.dataMap.get(E[i.visModel.dataset.topoPrimaryKey].toString()),k=i.getMapTooltip("d3",M);l.style("opacity",.9),l.html(k).style("left",b.pageX+20+"px").style("top",b.pageY-28+"px"),zc(this).raise().classed("hovered",!0)}).on("mouseleave",function(b,E){l.style("opacity",0),zc(this).classed("hovered",!1)}).on("mousemove",function(b,E){i.visModel.dragMode&&i.processDataInteraction(E,this)}).on("mousedown",function(b,E){i.visModel.dragMode=!0}).on("mouseup",function(b,E){i.visModel.dragMode=!1}).on("click",function(b,E){i.visModel.dragMode=!1,i.processDataInteraction(E,this)});var y=function Sze(){var f,d,h,e=wze,t=bze,i=xze,r=Cze,o=Eze,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,u=mze,c=JL("start","zoom","end"),g=500,v=150,y=0,b=10;function E(W){W.property("__zoom",sle).on("wheel.zoom",se).on("mousedown.zoom",ye).on("dblclick.zoom",Ie).filter(o).on("touchstart.zoom",Ee).on("touchmove.zoom",Je).on("touchend.zoom touchcancel.zoom",Ze).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(W,Z){return(Z=Math.max(s[0],Math.min(s[1],Z)))===W.k?W:new f1(Z,W.x,W.y)}function k(W,Z,te){var Ce=Z[0]-te[0]*W.k,ce=Z[1]-te[1]*W.k;return Ce===W.x&&ce===W.y?W:new f1(W.k,Ce,ce)}function P(W){return[(+W[0][0]+ +W[1][0])/2,(+W[0][1]+ +W[1][1])/2]}function H(W,Z,te,Ce){W.on("start.zoom",function(){X(this,arguments).event(Ce).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(Ce).end()}).tween("zoom",function(){var ce=this,we=arguments,Be=X(ce,we).event(Ce),tt=t.apply(ce,we),lt=null==te?P(tt):"function"==typeof te?te.apply(ce,we):te,Mt=Math.max(tt[1][0]-tt[0][0],tt[1][1]-tt[0][1]),bt=ce.__zoom,Vt="function"==typeof Z?Z.apply(ce,we):Z,Vn=u(bt.invert(lt).concat(Mt/bt.k),Vt.invert(lt).concat(Mt/Vt.k));return function(sn){if(1===sn)sn=Vt;else{var fi=Vn(sn),wt=Mt/fi[2];sn=new f1(wt,lt[0]-fi[0]*wt,lt[1]-fi[1]*wt)}Be.zoom(null,sn)}})}function X(W,Z,te){return!te&&W.__zooming||new z(W,Z)}function z(W,Z){this.that=W,this.args=Z,this.active=0,this.sourceEvent=null,this.extent=t.apply(W,Z),this.taps=0}function se(W,...Z){if(e.apply(this,arguments)){var te=X(this,Z).event(W),Ce=this.__zoom,ce=Math.max(s[0],Math.min(s[1],Ce.k*Math.pow(2,r.apply(this,arguments)))),we=r3(W);if(te.wheel)(te.mouse[0][0]!==we[0]||te.mouse[0][1]!==we[1])&&(te.mouse[1]=Ce.invert(te.mouse[0]=we)),clearTimeout(te.wheel);else{if(Ce.k===ce)return;te.mouse=[we,Ce.invert(we)],Xx(this),te.start()}V7(W),te.wheel=setTimeout(function Be(){te.wheel=null,te.end()},v),te.zoom("mouse",i(k(M(Ce,ce),te.mouse[0],te.mouse[1]),te.extent,a))}}function ye(W,...Z){if(!h&&e.apply(this,arguments)){var te=X(this,Z,!0).event(W),Ce=zc(W.view).on("mousemove.zoom",function lt(bt){if(V7(bt),!te.moved){var Vt=bt.clientX-Be,Vn=bt.clientY-tt;te.moved=Vt*Vt+Vn*Vn>y}te.event(bt).zoom("mouse",i(k(te.that.__zoom,te.mouse[0]=r3(bt,we),te.mouse[1]),te.extent,a))},!0).on("mouseup.zoom",function Mt(bt){Ce.on("mousemove.zoom mouseup.zoom",null),function Aze(e,t){var i=e.document.documentElement,r=zc(e).on("dragstart.drag",null);t&&(r.on("click.drag",YR,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in i?r.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}(bt.view,te.moved),V7(bt),te.event(bt).end()},!0),ce=r3(W,we),we=W.currentTarget,Be=W.clientX,tt=W.clientY;(function dze(e){var t=e.document.documentElement,i=zc(e).on("dragstart.drag",YR,!0);"onselectstart"in t?i.on("selectstart.drag",YR,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")})(W.view),JR(W),te.mouse=[ce,this.__zoom.invert(ce)],Xx(this),te.start()}}function Ie(W,...Z){if(e.apply(this,arguments)){var te=this.__zoom,Ce=r3(W.changedTouches?W.changedTouches[0]:W,this),ce=te.invert(Ce),Be=i(k(M(te,te.k*(W.shiftKey?.5:2)),Ce,ce),t.apply(this,Z),a);V7(W),l>0?zc(this).transition().duration(l).call(H,Be,Ce,W):zc(this).call(E.transform,Be,Ce,W)}}function Ee(W,...Z){if(e.apply(this,arguments)){var we,Be,tt,lt,te=W.touches,Ce=te.length,ce=X(this,Z,W.changedTouches.length===Ce).event(W);for(JR(W),Be=0;Be<Ce;++Be)lt=[lt=r3(tt=te[Be],this),this.__zoom.invert(lt),tt.identifier],ce.touch0?!ce.touch1&&ce.touch0[2]!==lt[2]&&(ce.touch1=lt,ce.taps=0):(ce.touch0=lt,we=!0,ce.taps=1+!!f);f&&(f=clearTimeout(f)),we&&(ce.taps<2&&(d=lt[0],f=setTimeout(function(){f=null},g)),Xx(this),ce.start())}}function Je(W,...Z){if(this.__zooming){var we,Be,tt,lt,te=X(this,Z).event(W),Ce=W.changedTouches,ce=Ce.length;for(V7(W),we=0;we<ce;++we)tt=r3(Be=Ce[we],this),te.touch0&&te.touch0[2]===Be.identifier?te.touch0[0]=tt:te.touch1&&te.touch1[2]===Be.identifier&&(te.touch1[0]=tt);if(Be=te.that.__zoom,te.touch1){var Mt=te.touch0[0],bt=te.touch0[1],Vt=te.touch1[0],Vn=te.touch1[1],sn=(sn=Vt[0]-Mt[0])*sn+(sn=Vt[1]-Mt[1])*sn,fi=(fi=Vn[0]-bt[0])*fi+(fi=Vn[1]-bt[1])*fi;Be=M(Be,Math.sqrt(sn/fi)),tt=[(Mt[0]+Vt[0])/2,(Mt[1]+Vt[1])/2],lt=[(bt[0]+Vn[0])/2,(bt[1]+Vn[1])/2]}else{if(!te.touch0)return;tt=te.touch0[0],lt=te.touch0[1]}te.zoom("touch",i(k(Be,tt,lt),te.extent,a))}}function Ze(W,...Z){if(this.__zooming){var we,Be,te=X(this,Z).event(W),Ce=W.changedTouches,ce=Ce.length;for(JR(W),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),we=0;we<ce;++we)Be=Ce[we],te.touch0&&te.touch0[2]===Be.identifier?delete te.touch0:te.touch1&&te.touch1[2]===Be.identifier&&delete te.touch1;if(te.touch1&&!te.touch0&&(te.touch0=te.touch1,delete te.touch1),te.touch0)te.touch0[1]=this.__zoom.invert(te.touch0[0]);else if(te.end(),2===te.taps&&(Be=r3(Be,this),Math.hypot(d[0]-Be[0],d[1]-Be[1])<b)){var tt=zc(this).on("dblclick.zoom");tt&&tt.apply(this,arguments)}}}return E.transform=function(W,Z,te,Ce){var ce=W.selection?W.selection():W;ce.property("__zoom",sle),W!==ce?H(W,Z,te,Ce):ce.interrupt().each(function(){X(this,arguments).event(Ce).start().zoom(null,"function"==typeof Z?Z.apply(this,arguments):Z).end()})},E.scaleBy=function(W,Z,te,Ce){E.scaleTo(W,function(){return this.__zoom.k*("function"==typeof Z?Z.apply(this,arguments):Z)},te,Ce)},E.scaleTo=function(W,Z,te,Ce){E.transform(W,function(){var ce=t.apply(this,arguments),we=this.__zoom,Be=null==te?P(ce):"function"==typeof te?te.apply(this,arguments):te,tt=we.invert(Be),lt="function"==typeof Z?Z.apply(this,arguments):Z;return i(k(M(we,lt),Be,tt),ce,a)},te,Ce)},E.translateBy=function(W,Z,te,Ce){E.transform(W,function(){return i(this.__zoom.translate("function"==typeof Z?Z.apply(this,arguments):Z,"function"==typeof te?te.apply(this,arguments):te),t.apply(this,arguments),a)},null,Ce)},E.translateTo=function(W,Z,te,Ce,ce){E.transform(W,function(){var we=t.apply(this,arguments),Be=this.__zoom,tt=null==Ce?P(we):"function"==typeof Ce?Ce.apply(this,arguments):Ce;return i(ZR.translate(tt[0],tt[1]).scale(Be.k).translate("function"==typeof Z?-Z.apply(this,arguments):-Z,"function"==typeof te?-te.apply(this,arguments):-te),we,a)},Ce,ce)},z.prototype={event:function(W){return W&&(this.sourceEvent=W),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(W,Z){return this.mouse&&"mouse"!==W&&(this.mouse[1]=Z.invert(this.mouse[0])),this.touch0&&"touch"!==W&&(this.touch0[1]=Z.invert(this.touch0[0])),this.touch1&&"touch"!==W&&(this.touch1[1]=Z.invert(this.touch1[0])),this.that.__zoom=Z,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(W){var Z=zc(this.that).datum();c.call(W,this.that,new yze(W,{sourceEvent:this.sourceEvent,target:E,type:W,transform:this.that.__zoom,dispatch:c}),Z)}},E.wheelDelta=function(W){return arguments.length?(r="function"==typeof W?W:SS(+W),E):r},E.filter=function(W){return arguments.length?(e="function"==typeof W?W:SS(!!W),E):e},E.touchable=function(W){return arguments.length?(o="function"==typeof W?W:SS(!!W),E):o},E.extent=function(W){return arguments.length?(t="function"==typeof W?W:SS([[+W[0][0],+W[0][1]],[+W[1][0],+W[1][1]]]),E):t},E.scaleExtent=function(W){return arguments.length?(s[0]=+W[0],s[1]=+W[1],E):[s[0],s[1]]},E.translateExtent=function(W){return arguments.length?(a[0][0]=+W[0][0],a[1][0]=+W[1][0],a[0][1]=+W[0][1],a[1][1]=+W[1][1],E):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},E.constrain=function(W){return arguments.length?(i=W,E):i},E.duration=function(W){return arguments.length?(l=+W,E):l},E.interpolate=function(W){return arguments.length?(u=W,E):u},E.on=function(){var W=c.on.apply(c,arguments);return W===c?E:W},E.clickDistance=function(W){return arguments.length?(y=(W=+W)*W,E):Math.sqrt(y)},E.tapDistance=function(W){return arguments.length?(b=+W,E):b},E}().filter(b=>!0).scaleExtent([0,10]).on("zoom",function(b){a.selectAll("path").attr("transform",b.transform)});s.call(y),i.updateColorScaleAndMap(),i.renderAttrDistributionVisSpec()}initializeBinguruObj(){let i=this,o=new cGe(i.visModel.featureData[i.visModel.dataset.feature],i.visModel.binCount,i.visModel.binInterval,2);i.visModel.binInterval=+(o.max-o.min)/10,o.binExtent=i.visModel.binInterval,i.visModel.binGuruObj=o,i.renderAttrDistributionVisSpec(),i.updateCurrentTab()}updateBinguruObj(){let i=this,r=i.visModel.binGuruObj;r&&(r.binCount=i.visModel.binCount,r.binExtent=i.visModel.binInterval),i.renderAttrDistributionVisSpec(),i.updateCurrentTab()}loadSampleDataset(){let i=this;i.visModel.featureRawDataWithNaNsJSON=[],i.visModel.featureRawDataWithNaNs={},i.visModel.featureData={},i.visModel.featureDataNaNs={},i.visModel.dataMap=new Map,Promise.all([uQe(d1.dataPath+i.visModel.dataset.geoFile),aQe(d1.dataPath+i.visModel.dataset.featureFile,function(r){return i.visModel.dataMap.set(r[i.visModel.dataset.primaryKey],r),r})]).then(function(r){i.visModel.isDatasetLoaded=!0;let o=r[0],s=r[1];i.visModel.baseDataFeatureCollection=ale(o,o.objects[i.visModel.dataset.topoFeatureRootKey]).features,s.forEach(function(a){let l={};Object.keys(a).forEach(function(u){u in i.visModel.featureData||(i.visModel.featureData[u]=[]),u in i.visModel.featureDataNaNs||(i.visModel.featureDataNaNs[u]=0),u in i.visModel.featureRawDataWithNaNs||(i.visModel.featureRawDataWithNaNs[u]=[]);let c=parseFloat(a[u]);Number.isNaN(c)?(i.visModel.featureDataNaNs[u]++,i.visModel.featureRawDataWithNaNs[u].push(a[u])):(i.visModel.featureData[u].push(c),i.visModel.featureRawDataWithNaNs[u].push(c)),l[u]=-1!==i.visModel.dataset.features.indexOf(u)?Number.isNaN(c)||null==c?NaN:c:a[u]}),i.visModel.featureRawDataWithNaNsJSON.push(l)}),i.initializeBinguruObj()})}updateCurrentTab(){let i=this;if(i.visModel.isDatasetLoaded)switch(i.computeStats(),i.visModel.activeMainTab){case"explore":case"compare":case"combine":setTimeout(function(){i.renderVIS(),i.cd.detectChanges()});break;case"create":setTimeout(function(){i.setBinningMethodsForResetInCreate(),i.renderMap(),i.cd.detectChanges()})}}onGeographicSearchInput(){let i=this;const r=i.visModel.geographicSearchTerm;if(!r||""===r.trim())return void(i.visModel.geographicSearchResults=[]);i.clearGeographicHighlighting();const o=i.searchGeographicEntities(r);i.visModel.geographicSearchResults=o}searchGeographicEntities(i){let r=this;const o=[],s=i.toLowerCase().trim();return r.visModel.baseDataFeatureCollection&&r.visModel.dataMap?(r.visModel.baseDataFeatureCollection.forEach(a=>{const l=a[r.visModel.dataset.topoPrimaryKey],u=r.visModel.dataMap.get(l.toString());if(u){const f=r.visModel.dataset.labelFeatures.map(h=>u[h]).filter(Boolean);f.push(l);const d=f.join(", ");d.toLowerCase().includes(s)&&o.push({primaryKey:l,displayLabel:d,feature:a,dataObj:u})}}),o.slice(0,10)):o}selectGeographicEntity(i){let r=this;r.visModel.highlightedGeographicEntity=i,r.visModel.geographicSearchResults=[],r.visModel.geographicSearchTerm=i.displayLabel,r.highlightGeographicEntity(i.primaryKey.toString())}searchGeographicEntity(){let i=this;const r=i.visModel.geographicSearchTerm;if(!r||""===r.trim())return;const o=i.searchGeographicEntities(r);o.length>0?i.selectGeographicEntity(o[0]):i.visModel.geographicSearchResults=[{primaryKey:null,label:"No matches found",state:"",id:"",displayLabel:"No matches found",feature:null,dataObj:null}]}highlightGeographicEntity(i){let r=this;r.clearGeographicHighlighting(),XR(".geoshape").each(function(o){o[r.visModel.dataset.topoPrimaryKey].toString()===i&&zc(this).classed("highlighted",!0)})}clearGeographicHighlighting(){XR(".geoshape.highlighted").classed("highlighted",!1)}clearGeographicSearch(){let i=this;i.visModel.geographicSearchTerm="",i.visModel.geographicSearchResults=[],i.visModel.highlightedGeographicEntity=null,i.clearGeographicHighlighting()}generateHistogramBins(){let i=this;if(!i.visModel.binGuruObj||!i.visModel.binGuruObj.data)return[];const r=i.visModel.binGuruObj.data,o=i.visModel.binCount;return Soe().domain(E7(r)).thresholds(o)(r).map(u=>({bin_start:u.x0||0,bin_end:u.x1||0,count:u.length}))}openShareModal(i){this.dialogService.open(e7t,{header:"Share Binning Method - "+this.visModel.binningMethods[i].name,width:"60%",height:"70%",modal:!0,closeOnEscape:!1,dismissableMask:!1,data:{binningMethodObj:this.visModel.binningMethods[i],dct_id:i}})}registerCustomEventListeners(){let i=this;$('#tabs-main a[data-toggle="tab"]').on("shown.bs.tab",function(r){i.visModel.activeMainTab=$(r.target).attr("id"),i.updateCurrentTab()})}ngOnInit(){}ngAfterViewInit(){this.registerCustomEventListeners()}ngOnDestroy(){}static \u0275fac=function(r){return new(r||e)(Wt(iF),Wt(Ile),Wt(ld))};static \u0275cmp=mo({type:e,selectors:[["explore"]],viewQuery:function(r,o){if(1&r&&(Xo(eEt,5,rs),Xo(tEt,5,rs),Xo(nEt,5,rs),Xo(iEt,5,rs),Xo(rEt,5,rs),Xo(oEt,5,rs),Xo(sEt,5,rs)),2&r){let s;ao(s=lo())&&(o.attrDistributionVisContainer=s.first),ao(s=lo())&&(o.attrDistributionVisContainerCompare=s.first),ao(s=lo())&&(o.mapContainerBrowse=s.first),ao(s=lo())&&(o.mapContainerCompare=s.first),ao(s=lo())&&(o.mapContainerCombine=s.first),ao(s=lo())&&(o.specialMapContainerCombine=s.first),ao(s=lo())&&(o.mapContainerCreate=s.first)}},features:[ra([])],decls:3,vars:5,consts:[["attrDistributionVisContainer",""],["attrDistributionVisContainerCompare",""],["mapContainerCompare",""],["mapContainerBrowse",""],["mapContainerCombine",""],["specialMapContainerCombine",""],["elseBlock1",""],["elseBlock3",""],["elseBlock2",""],["mapContainerCreate",""],["styleClass","w-100",3,"panelSizes"],["pTemplate","panel"],[1,"w-100"],[1,"p-md","pb-none","center-all"],["width","80%","alt","Exploropleth logo","src","assets/images/logo.png"],[1,"text-center"],[1,"mb-xs"],[1,"text-muted"],[1,"p-md","pt-none","overflow-auto",2,"height","calc(100vh - 120px)"],[1,"fa","fa-database"],["pTooltip","Choose an indicator from one of our samples. Ability to upload custom dataset coming soon.","tooltipPosition","right",1,"tooltip-label"],["id","cascade-select-dataset-sample","optionLabel","feature","optionGroupLabel","name","appendTo","body",3,"ngModelChange","ngModelOptions","options","optionGroupChildren","ngModel"],[1,"mt-sm","text-center"],["id","attrDistributionVisContainer",1,"w-100","mt-sm"],[1,"mt-sm"],[1,"table-sm","w-100"],[2,"width","35%"],["pTooltip","Options to hide or show invalid (e.g., NaN, null) values.","tooltipPosition","right",1,"tooltip-label"],[1,"form-check","form-check-inline"],["type","radio","name","showInvalidValuesMode","id","showInvalidValuesOn","value","on",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","showInvalidValuesOn",1,"form-check-label"],["type","radio","name","showInvalidValuesMode","id","showInvalidValuesOff","value","off",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","showInvalidValuesOff",1,"form-check-label"],["pTooltip","Switch the above distribution plot between a histogram and a kernel density estimate (kde).","tooltipPosition","right",1,"tooltip-label"],["type","radio","name","attrDistributionMode","id","attrDistributionModeHistogram","value","histogram",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","attrDistributionModeHistogram",1,"form-check-label"],["type","radio","name","attrDistributionMode","id","attrDistributionKDE","value","kde",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","attrDistributionKDE",1,"form-check-label"],["width","16",2,"margin-top","-4px",3,"src"],["pTooltip","Options to configure binning methods. Note that not all options apply on all binning methods.","tooltipPosition","right",1,"tooltip-label"],["pTooltip","The high-level data binning categories to show in this tool session.","tooltipPosition","right",1,"tooltip-label"],["id","dctCategoriesFilter","name","dctCategoriesFilter","optionLabel","_name","optionValue","_id","display","chip","maxSelectedLabels","1","appendTo","body","filterPlaceholder","Type here",3,"ngModelChange","onChange","placeholder","options","ngModel","showClear","filter"],["pTooltip","The data binning methods to show in this tool session.","tooltipPosition","right",1,"tooltip-label"],["id","dctFilter","name","dctFilter","optionLabel","_name","optionValue","_id","appendTo","body","display","chip","maxSelectedLabels","1","filterPlaceholder","Type here",3,"ngModelChange","onChange","placeholder","options","ngModel","showClear","filter"],["pTooltip","Only applicable for Equal Interval, Quantile, Maximum Breaks, Natural Breaks, CK-Means, and Geometric Interval. For others, it is computationally determined by the method (e.g., Head-Tail Breaks) or is based on additional parameters (e.g. Defined Interval).","tooltipPosition","right",1,"tooltip-label"],["type","number","step","1","min","1","max","12","name","binCount","id","binCount",3,"change","ngModelChange","ngModel"],["pTooltip","Only applicable for the Defined Interval binning method","tooltipPosition","right",1,"tooltip-label"],["type","number","step","0.001","min","0","max","999999","name","binInterval","id","binInterval",3,"change","ngModelChange","ngModel"],[1,"fa","fa-palette"],["pTooltip","Options to configure the color scheme for the choropleth maps.","tooltipPosition","right",1,"tooltip-label"],["pTooltip","The base color scheme for valid (non NaN/null) values.","tooltipPosition","right",1,"tooltip-label"],["appendTo","body","optionLabel","sname","optionGroupLabel","name",3,"onChange","ngModelChange","ngModelOptions","options","optionGroupChildren","ngModel"],["pTemplate","option"],["pTemplate","value"],["pTooltip","The color to be used for invalid (NaN/null) values","tooltipPosition","right",1,"tooltip-label"],["type","color","id","colorPicker-invalidValues","name","colorPicker-invalidValues",2,"width","40px","height","30px","border","none","background","none","padding","0",3,"ngModelChange","change","ngModel","ngModelOptions","disabled"],[1,"p-xs"],["height","20","width","150",3,"src",4,"ngIf"],["height","20","width","150",3,"src"],[4,"ngIf"],["height","15","width","40",3,"src"],["id","tabs-main","role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],["id","explore","href","#tab-explore","role","tab","data-toggle","tab","aria-controls","tab-explore","aria-selected","true",1,"nav-link","active"],[1,"fas","fa-globe"],["id","compare","href","#tab-compare","role","tab","data-toggle","tab","aria-controls","tab-compare","aria-selected","false",1,"nav-link"],[1,"fas","fa-balance-scale-left"],["id","combine","href","#tab-combine","role","tab","data-toggle","tab","aria-controls","tab-combine","aria-selected","false",1,"nav-link"],[1,"fas","fa-layer-group"],["id","create","href","#tab-create","role","tab","data-toggle","tab","aria-controls","tab-create","aria-selected","false",1,"nav-link"],[1,"fas","fa-edit"],["id","tabs-main-tabContent",1,"tab-content"],["id","tab-explore","role","tabpanel","aria-labelledby","explore",1,"tab-pane","fade","show","active"],[1,"overflow-auto","h-full-usable","p-md"],["id","choroplethcarddeck","dragula","CHOROPLETH_DRAGGABLE_CARDDECK",1,"card-deck"],[4,"ngFor","ngForOf"],["id","tab-compare","role","tabpanel","aria-labelledby","compare",1,"tab-pane","fade"],["id","attrDistributionVisContainerCompare",2,"margin-left","145px","margin-right","0px"],["id","mapContainerCompare","dragula","CHOROPLETH_DRAGGABLE_COMPAREVIS"],["id","tab-combine","role","tabpanel","aria-labelledby","combine",1,"tab-pane","fade"],["id","tab-create","role","tabpanel","aria-labelledby","create",1,"tab-pane","fade"],[1,"card","card-borderless",3,"mouseover","mouseleave","ngClass","hidden"],[1,"card-body","p-sm","w-100"],[2,"position","relative"],[2,"position","absolute","right","0",3,"hidden"],[1,"cursor-move",3,"routerLink"],[1,"fas","fa-arrows-alt","drag_handle"],[1,"cursor-pointer",3,"click","routerLink"],[1,"fas","fa-minus-circle"],[1,"fas","fa-share-alt"],[1,"fas","fa-expand"],[1,"badge",2,"position","absolute","left","0","top","2px","font-size","0.6em",3,"ngClass"],[1,"card-title","mb-sm","text-center","ml-md"],[1,"card-text","text-muted","text-center"],[1,"text-center","w-100"],[1,"card","card-borderless",2,"display","table",3,"mouseover","mouseleave","ngClass","hidden"],[2,"display","table-cell","vertical-align","top","padding-top","8px","padding-right","8px","text-align","right","white-space","nowrap","width","200px"],[2,"display","table-cell"],[1,"w-100","p-md","overflow-auto"],["href","https://drops.dagstuhl.de/entities/document/10.4230/LIPIcs.GIScience.2023.55","target","_blank"],[1,"mb-sm"],["pTooltip","Pick one or more of these binning methods to compare by overlaying their bin sizes and bin breaks; note that these methods all have a fixed number of bins to be comparable.","tooltipPosition","right",1,"tooltip-label"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","ngModel","ngModelOptions","id"],[1,"form-check-label",3,"for"],["id","mapContainerCombine",1,"text-center"],["id","specialMapContainerCombine",1,"text-center"],["pTooltip","Specify custom bins from scratch or modify existing binning method outputs (via Reset).","tooltipPosition","right",1,"fa","fa-edit"],[1,"mt-md"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fa","fa-plus"],[1,"fa","fa-times"],["label","Redo","size","small","outlined","true","rounded","true","severity","secondary","icon","fa fa-redo","appendTo","body",3,"onClick","model"],[1,"table-responsive","mt-md"],["class","table table-bordered table-sm text-center mb-none",4,"ngIf"],[1,"alert","alert-warning","p-2","mt-2","mb-2"],[1,"fa","fa-exclamation-triangle"],["pTooltip","Enable or disable Paint Mode.","tooltipPosition","right",1,"fa","fa-paint-roller"],[1,"float-right"],["type","radio","name","paintMode","id","paintModeOn","value","on",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","paintModeOn",1,"form-check-label"],["type","radio","name","paintMode","id","paintModeOff","value","off",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","paintModeOff",1,"form-check-label"],[2,"clear","both"],["pTooltip","Save the binning by giving it a name.","tooltipPosition","right",1,"fa","fa-save"],[1,"input-group","mt-md","mb-3"],["type","text","placeholder","E.g., 'custom method 1'","aria-label","E.g., 'custom method 1'","aria-describedby","basic-addon",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-save"],[1,"table","table-bordered","table-sm","text-center","mb-none"],[4,"ngFor","ngForOf","ngForTrackBy"],[2,"width","40%"],[4,"ngIf","ngIfElse"],[2,"width","20%"],["type","color",2,"width","40px","height","30px","border","none","background","none","padding","0",3,"ngModelChange","change","id","name","ngModel","ngModelOptions"],[2,"height","30px"],["name","'domain_to-' + binIdx","type","number","step","1",2,"width","100%","height","30px",3,"keyup","change","ngModelChange","ngModelOptions","value","ngModel"],[1,"mt-2"],["class","colorSwatch",3,"background","selectedColorSwatch","click",4,"ngFor","ngForOf"],[1,"colorSwatch",3,"click"],[1,"w-100","overflow-auto",2,"position","relative"],[2,"position","absolute","top","8px","right","8px"],[1,"input-group",2,"width","350px"],["placeholder","Lookup Geographic Entity",1,"form-control",3,"ngModelChange","keyup.enter","input","ngModel","ngModelOptions"],["type","button",1,"btn","btn-outline-secondary","bg-white",3,"click","disabled"],[1,"fas","fa-search"],[1,"fas","fa-times"],["class","search-results-dropdown",4,"ngIf"],["id","mapContainerCreate",1,"h-full-usable","text-center"],[1,"search-results-dropdown"],[1,"search-results-list"],["class","search-result-item",3,"no-result","click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"]],template:function(r,o){1&r&&(st(0,"p-splitter",10),pn(1,gEt,109,44,"ng-template",11)(2,LEt,38,12,"ng-template",11),dt()),2&r&&(Cf($s(3,IW)),Le("panelSizes",$s(4,c7e)))},dependencies:[Bf,Hv,ud,Jy,lx,DN,GN,kN,ZN,YN,ax,C7,s7t,Yye,f0,d_t,aF,r7e,ZCt,Hte]})}return e})();const REt=[{path:"",component:f7e},{path:"**",redirectTo:"",pathMatch:"full"}];let UEt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e});static \u0275inj=nr({imports:[kx.forRoot(REt,{scrollPositionRestoration:"enabled"}),kx]})}return e})(),PEt=(()=>{class e{constructor(){}ngAfterViewInit(){}ngOnInit(){}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=mo({type:e,selectors:[["exploropleth-app-root"]],decls:43,vars:0,consts:[["id","global-loading-spinner",1,"global-loading-spinner-flex"],["role","status",1,"spinner-border","text-primary",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"app-footer"],[1,"footer-content"],[1,"footer-left"],[1,"center-all"],["width","200px","alt","Exploropleth logo","src","assets/images/logo-dark.png"],[1,"mb-none"],["href","https://narechania.com","target","_blank"],["href","https://va.gatech.edu/endert","target","_blank"],["href","https://friendlycities.gatech.edu/","target","_blank"],[1,"footer-affiliations"],["src","../assets/images/gatech-logo.png","alt","Georgia Institute of Technology",1,"footer-affiliation-img"],["src","../assets/images/hkust-logo.png","alt","The Hong Kong University of Science and Technology",1,"footer-affiliation-img"],[1,"footer-right"],[1,"footer-links"],["href","https://exploropleth.github.io","target","_blank","rel","noopener"],[1,"fas","fa-globe"],["href","https://github.com/exploropleth/exploropleth","target","_blank","rel","noopener"],[1,"fab","fa-github"],["href","https://youtu.be/lNV8VL0owqU","target","_blank","rel","noopener"],[1,"fas","fa-video"],["target","_blank","rel","noopener"],[1,"fas","fa-rocket"],[1,"footer-copyright"]],template:function(r,o){1&r&&(yi(0,"router-outlet"),st(1,"div",0)(2,"div",1)(3,"span",2),Jn(4,"Loading..."),dt()()(),st(5,"footer",3)(6,"div",4)(7,"div",5)(8,"div",6),yi(9,"img",7),dt(),st(10,"p",8),Jn(11,"Created by: "),st(12,"a",9),Jn(13,"Arpit Narechania"),dt(),Jn(14,", "),st(15,"a",10),Jn(16,"Alex Endert"),dt(),Jn(17,", "),st(18,"a",11),Jn(19,"Clio Andris"),dt()(),st(20,"div",12),yi(21,"img",13)(22,"img",14),dt()(),st(23,"div",15)(24,"ul",16)(25,"li")(26,"a",17),yi(27,"i",18),Jn(28,"\xa0Project Homepage"),dt()(),st(29,"li")(30,"a",19),yi(31,"i",20),Jn(32,"\xa0GitHub"),dt()(),st(33,"li")(34,"a",21),yi(35,"i",22),Jn(36,"\xa0Video (YouTube)"),dt()(),st(37,"li")(38,"a",23),yi(39,"i",24),Jn(40,"\xa0Paper (CaGIS'25)"),dt()()(),st(41,"div",25),Jn(42," \xa9 2025 Exploropleth. All rights reserved. "),dt()()()())},dependencies:[BL],styles:[".m-xs{margin:4px!important}  .m-sm{margin:8px!important}  .m-md{margin:16px!important}  .m-lg{margin:24px!important}  .m-none{margin:0!important}  .mb-xs{margin-bottom:4px!important}  .mb-sm{margin-bottom:8px!important}  .mb-md{margin-bottom:16px!important}  .mb-lg{margin-bottom:24px!important}  .mt-xs{margin-top:4px!important}  .mt-sm{margin-top:8px!important}  .mt-md{margin-top:16px!important}  .mt-lg{margin-top:24px!important}  .ml-xs{margin-left:4px!important}  .ml-sm{margin-left:8px!important}  .ml-md{margin-left:16px!important}  .ml-lg{margin-left:24px!important}  .mr-xs{margin-right:4px!important}  .mr-sm{margin-right:8px!important}  .mr-md{margin-right:16px!important}  .mr-lg{margin-right:24px!important}  .mw-xs{margin-left:4px!important;margin-right:4px!important}  .mw-sm{margin-left:8px!important;margin-right:8px!important}  .mw-md{margin-left:16px!important;margin-right:16px!important}  .mw-lg{margin-left:24px!important;margin-right:24px!important}  .p-xs{padding:4px!important}  .p-sm{padding:8px!important}  .p-md{padding:16px!important}  .p-lg{padding:24px!important}  .p-none{padding:0!important}  .pt-xs{padding-top:4px!important}  .pt-sm{padding-top:8px!important}  .pt-md{padding-top:16px!important}  .pt-lg{padding-top:24px!important}  .pt-0{padding-top:0!important}  .pb-xs{padding-bottom:4px!important}  .pb-sm{padding-bottom:8px!important}  .pb-md{padding-bottom:16px!important}  .pb-lg{padding-bottom:24px!important}  .pl-xs{padding-left:4px!important}  .pl-sm{padding-left:8px!important}  .pl-md{padding-left:16px!important}  .pl-lg{padding-left:24px!important}  .pr-xs{padding-right:4px!important}  .pr-sm{padding-right:8px!important}  .pr-md{padding-right:16px!important}  .pr-lg{padding-right:24px!important}  .pw-xs{padding-left:4px!important;padding-right:4px!important}  .pw-sm{padding-left:8px!important;padding-right:8px!important}  .pw-md{padding-left:16px!important;padding-right:16px!important}  .pw-lg{padding-left:24px!important;padding-right:24px!important}  .vspace-lg{margin-top:24px!important}  .vspace-md{margin-top:16px!important}  .vspace-sm{margin-top:8px!important}  .ml-none{margin-left:0!important}  .mr-none{margin-right:0!important}  .mt-none{margin-top:0!important}  .mb-none{margin-bottom:0!important}  .mw-none{margin-left:0!important;margin-right:0!important}  .pl-none{padding-left:0!important}  .pr-none{padding-right:0!important}  .pt-none{padding-top:0!important}  .pb-none{padding-bottom:0!important}  .pw-none{padding-left:0!important;padding-right:0!important}  .overflow-auto{overflow:auto!important}  .overflow-x-auto{overflow-x:auto!important}  .overflow-y-auto{overflow-y:auto!important}  .cursor-pointer{cursor:pointer}  .cursor-move{cursor:move}  .float-left{float:left!important}  .float-right{float:right!important}  .center-all{display:flex;align-items:center;justify-content:center}  .badge.badge-outlined{background-color:transparent!important;border:1px solid transparent}  .badge.badge-outlined.badge-default{border-color:#b0bec5;color:#b0bec5}  .badge.badge-outlined.badge-primary{border-color:#2196f3;color:#2196f3}  .badge.badge-outlined.badge-secondary{border-color:#323a45;color:#323a45}  .badge.badge-outlined.badge-success{border-color:#64dd17;color:#64dd17}  .badge.badge-outlined.badge-warning{border-color:#e67e22;color:#e67e22}  .badge.badge-outlined.badge-info{border-color:#29b6f6;color:#29b6f6}  .badge.badge-outlined.badge-danger{border-color:#ef1c1c;color:#ef1c1c}  .table-extra-condensed>thead>tr>th,   .table-extra-condensed>tbody>tr>th,   .table-extra-condensed>tfoot>tr>th,   .table-extra-condensed>thead>tr>td,   .table-extra-condensed>tbody>tr>td,   .table-extra-condensed>tfoot>tr>td{padding:2px!important}  .table-sm>thead>tr>th,   .table-sm>tbody>tr>th,   .table-sm>tfoot>tr>th,   .table-sm>thead>tr>td,   .table-sm>tbody>tr>td,   .table-sm>tfoot>tr>td{font-size:1.05rem!important}  .p-datatable-xs td{padding:.3rem}  .search-results-dropdown{position:absolute;top:100%;right:0;width:350px;max-height:200px;overflow-y:auto;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 8px #00000026;z-index:1000;margin-top:2px}  .search-results-list{padding:0;margin:0}  .search-result-item{padding:8px 12px;cursor:pointer;border-bottom:1px solid #eee;font-size:14px;line-height:1.3;word-wrap:break-word;white-space:normal}  .search-result-item:hover{background-color:#f8f9fa}  .search-result-item:last-child{border-bottom:none}  .search-result-item.no-result{color:#6c757d;cursor:default;font-style:italic}  .search-result-item.no-result:hover{background-color:transparent}  .card-deck{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));grid-gap:0}  .card-deck .card{margin:0}  .card-bg-light{background:#efefef}  .card-borderless{border:0}  .tooltip-label{border-bottom:1px dotted #000;text-decoration:none;cursor:help}  div.tooltip{position:absolute;max-width:250px;padding:8px;font:14px sans-serif;background:#fff;border:1.5px solid #ccc;border-radius:8px;pointer-events:none}  #vg-tooltip-element{z-index:2000}  .nav-tabs .nav-link{border-radius:0;border-top:0}  .global-loading-spinner-flex{display:none;position:fixed;inset:0;z-index:99999;background:#fffc;flex-direction:column;align-items:center;justify-content:center}  .global-loading-spinner-flex.show{display:flex}  pre{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}  .CodeMirror{border:1px solid #eee;width:100%}  .p-splitbutton-menubutton,   .p-splitbutton-defaultbutton{padding:.25rem .4rem;font-size:.875rem}  .p-multiselect.p-multiselect-chip .p-multiselect-token{border-radius:2px;padding:.2rem}  .p-cascadeselect .p-cascadeselect-label{padding:.2rem}  .btn-group-xs>.btn,   .btn-xs{padding:.25rem .4rem;font-size:.875rem;line-height:.5;border-radius:.2rem}  .h-full{height:100vh!important}  .h-full-usable{height:calc(100vh - 50px)!important}  .fullscreen{width:100%;position:fixed;height:100%;top:0;left:0;z-index:100}  .colorSwatch{width:20px;height:20px;display:inline-block;margin-right:4px;border:1px solid black}  .selectedColorSwatch{border:3px solid black}  .hovered{stroke-width:2px!important;stroke:#000!important}  .geoshape.highlighted{stroke:#dc3545!important;stroke-width:4px!important;stroke-opacity:1!important;filter:drop-shadow(0 0 3px rgba(220,53,69,.5))}.app-footer[_ngcontent-%COMP%]{width:100%;background:#222;color:#fff;box-shadow:0 -2px 8px #00000014;z-index:100;padding:2rem}.app-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none;font-weight:500}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:0 2rem;flex-wrap:wrap}.footer-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.footer-affiliations[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.2rem}.footer-affiliation-img[_ngcontent-%COMP%]{padding:1rem;width:200px;object-fit:contain}.footer-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.5rem}.footer-links[_ngcontent-%COMP%]{list-style:none;display:flex;gap:1.2rem;margin:0;padding:0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#90caf9}.footer-copyright[_ngcontent-%COMP%]{font-size:.9rem;color:#bbb}@media (max-width: 700px){.footer-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:0 1rem;gap:1rem}.footer-right[_ngcontent-%COMP%]{align-items:flex-start}}"]})}return e})(),HEt=(()=>{class e{messages=[];add(i){this.messages.push(i)}clear(){this.messages=[]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Mn({token:e,factory:e.\u0275fac})}return e})(),QEt=(()=>{class e{messageService;constructor(i){this.messageService=i}createHandleError=(i="")=>(r="operation",o={})=>this.handleError(i,r,o);handleError(i="",r="operation",o={}){return s=>{console.error(s);const a=s.error instanceof ErrorEvent?s.error.message:`server returned code ${s.status} with body "${s.error}"`;return this.messageService.add(`${i}: ${r} failed: ${a}`),uo(o)}}static \u0275fac=function(r){return new(r||e)(Ar(HEt))};static \u0275prov=Mn({token:e,factory:e.\u0275fac})}return e})(),VEt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Yo({type:e,bootstrap:[PEt]});static \u0275inj=nr({providers:[QEt,f7e,Gm,Ile],imports:[cne,CFe,Kie,dke,UEt,a7t.forRoot(),a_t,A_t,lF,zbt,Wye,JCt,_$e]})}return e})();EDe().bootstrapModule(VEt).catch(e=>console.error(e))},468:ko=>{ko.exports=function(ei,Ln){return Array.prototype.slice.call(ei,Ln)}},784:(ko,Kr)=>{"use strict";Kr.JW=function an(Xe,An){var Un=Xe.split(","),gn=Un[0],qt=Un[1],Di=void 0,Wn=void 0,qe=!1;if(-1!==gn.indexOf(_n)){Di=_n;var L=function fn(Xe){var An=Xe.indexOf(it);return-1===An&&(An=Xe.indexOf(qn)),-1===An&&(An=Xe.indexOf(bn)),An}(qt);L>=0?(Wn=4*Math.ceil((L+28)/3),qe=!0):Wn=44}-1!==gn.indexOf(De)&&(Di=De,Wn=24);for(var U=qt.substring(0,Wn),G=qt.substring(Wn),R=atob(U),oe=new Uint8Array(R.length),le=0;le<oe.length;le++)oe[le]=R.charCodeAt(le);var Me=function In(Xe,An,Un,gn){if(Un===De)return Xe[13]=1,Xe[14]=An>>8,Xe[15]=255&An,Xe[16]=An>>8,Xe[17]=255&An,Xe;if(Un===_n){var qt=new Uint8Array(13);An*=39.3701,qt[0]=Qi,qt[1]=Ht,qt[2]=Fe,qt[3]=$t,qt[4]=An>>>24,qt[5]=An>>>16,qt[6]=An>>>8,qt[7]=255&An,qt[8]=qt[4],qt[9]=qt[5],qt[10]=qt[6],qt[11]=qt[7],qt[12]=1;var Di=function F(Xe){var An=-1;dn||(dn=function Ae(){for(var Xe=new Int32Array(256),An=0;An<256;An++){for(var Un=An,gn=0;gn<8;gn++)Un=1&Un?3988292384^Un>>>1:Un>>>1;Xe[An]=Un}return Xe}());for(var Un=0;Un<Xe.length;Un++)An=dn[255&(An^Xe[Un])]^An>>>8;return~An}(qt),Wn=new Uint8Array(4);if(Wn[0]=Di>>>24,Wn[1]=Di>>>16,Wn[2]=Di>>>8,Wn[3]=255&Di,gn){var qe=function Tt(Xe){for(var Un=Xe.length-1;Un>=4;Un--)if(9===Xe[Un-4]&&Xe[Un-3]===Qi&&Xe[Un-2]===Ht&&Xe[Un-1]===Fe&&Xe[Un]===$t)return Un-3}(Xe);return Xe.set(qt,qe),Xe.set(Wn,qe+13),Xe}var L=new Uint8Array(4);L[0]=0,L[1]=0,L[2]=0,L[3]=9;var U=new Uint8Array(54);return U.set(Xe,0),U.set(L,33),U.set(qt,37),U.set(Wn,50),U}}(oe,An,Di,qe),Re=btoa(String.fromCharCode.apply(String,function Ln(Xe){if(Array.isArray(Xe)){for(var An=0,Un=Array(Xe.length);An<Xe.length;An++)Un[An]=Xe[An];return Un}return Array.from(Xe)}(Me)));return[gn,",",Re,G].join("")};var dn=void 0,_n="image/png",De="image/jpeg",it="AAlwSFlz",qn="AAAJcEhZ",bn="AAAACXBI",Qi=112,Ht=72,Fe=89,$t=115},382:function(ko){ko.exports=function(){"use strict";var Kr=navigator.userAgent,ei=navigator.platform,Ln=/gecko\/\d/i.test(Kr),Ae=/MSIE \d/.test(Kr),F=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Kr),dn=/Edge\/(\d+)/.exec(Kr),_n=Ae||F||dn,De=_n&&(Ae?document.documentMode||6:+(dn||F)[1]),it=!dn&&/WebKit\//.test(Kr),qn=it&&/Qt\/\d+\.\d+/.test(Kr),bn=!dn&&/Chrome\/(\d+)/.exec(Kr),Qi=bn&&+bn[1],Ht=/Opera\//.test(Kr),Fe=/Apple Computer/.test(navigator.vendor),$t=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Kr),Bi=/PhantomJS/.test(Kr),an=Fe&&(/Mobile\/\w+/.test(Kr)||navigator.maxTouchPoints>2),fn=/Android/.test(Kr),Tt=an||fn||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Kr),In=an||/Mac/.test(ei),Xe=/\bCrOS\b/.test(Kr),An=/win/i.test(ei),Un=Ht&&Kr.match(/Version\/(\d*\.\d*)/);Un&&(Un=Number(Un[1])),Un&&Un>=15&&(Ht=!1,it=!0);var gn=In&&(qn||Ht&&(null==Un||Un<12.11)),qt=Ln||_n&&De>=9;function Di(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var R,Wn=function(A,p){var w=A.className,_=Di(p).exec(w);if(_){var C=w.slice(_.index+_[0].length);A.className=w.slice(0,_.index)+(C?_[1]+C:"")}};function qe(A){for(var p=A.childNodes.length;p>0;--p)A.removeChild(A.firstChild);return A}function L(A,p){return qe(A).appendChild(p)}function U(A,p,w,_){var C=document.createElement(A);if(w&&(C.className=w),_&&(C.style.cssText=_),"string"==typeof p)C.appendChild(document.createTextNode(p));else if(p)for(var O=0;O<p.length;++O)C.appendChild(p[O]);return C}function G(A,p,w,_){var C=U(A,p,w,_);return C.setAttribute("role","presentation"),C}function oe(A,p){if(3==p.nodeType&&(p=p.parentNode),A.contains)return A.contains(p);do{if(11==p.nodeType&&(p=p.host),p==A)return!0}while(p=p.parentNode)}function le(A){var w,p=A.ownerDocument||A;try{w=A.activeElement}catch{w=p.body||null}for(;w&&w.shadowRoot&&w.shadowRoot.activeElement;)w=w.shadowRoot.activeElement;return w}function Me(A,p){var w=A.className;Di(p).test(w)||(A.className+=(w?" ":"")+p)}function Re(A,p){for(var w=A.split(" "),_=0;_<w.length;_++)w[_]&&!Di(w[_]).test(p)&&(p+=" "+w[_]);return p}R=document.createRange?function(A,p,w,_){var C=document.createRange();return C.setEnd(_||A,w),C.setStart(A,p),C}:function(A,p,w){var _=document.body.createTextRange();try{_.moveToElementText(A.parentNode)}catch{return _}return _.collapse(!0),_.moveEnd("character",w),_.moveStart("character",p),_};var $e=function(A){A.select()};function et(A){return A.display.wrapper.ownerDocument}function ve(A){return ne(A.display.wrapper)}function ne(A){return A.getRootNode?A.getRootNode():A.ownerDocument}function at(A){return et(A).defaultView}function Yt(A){var p=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,p)}}function Rt(A,p,w){for(var _ in p||(p={}),A)A.hasOwnProperty(_)&&(!1!==w||!p.hasOwnProperty(_))&&(p[_]=A[_]);return p}function Jt(A,p,w,_,C){null==p&&-1==(p=A.search(/[^\s\u00a0]/))&&(p=A.length);for(var O=_||0,V=C||0;;){var J=A.indexOf("\t",O);if(J<0||J>=p)return V+(p-O);V+=J-O,V+=w-V%w,O=J+1}}an?$e=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:_n&&($e=function(A){try{A.select()}catch{}});var Ft=function(){this.id=null,this.f=null,this.time=0,this.handler=Yt(this.onTimeout,this)};function Pn(A,p){for(var w=0;w<A.length;++w)if(A[w]==p)return w;return-1}Ft.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},Ft.prototype.set=function(A,p){this.f=p;var w=+new Date+A;(!this.id||w<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=w)};var Si=50,gi={toString:function(){return"CodeMirror.Pass"}},si={scroll:!1},Wi={origin:"*mouse"},zn={origin:"+move"};function ri(A,p,w){for(var _=0,C=0;;){var O=A.indexOf("\t",_);-1==O&&(O=A.length);var V=O-_;if(O==A.length||C+V>=p)return _+Math.min(V,p-C);if(C+=O-_,_=O+1,(C+=w-C%w)>=p)return _}}var Yi=[""];function rr(A){for(;Yi.length<=A;)Yi.push(Ve(Yi)+" ");return Yi[A]}function Ve(A){return A[A.length-1]}function We(A,p){for(var w=[],_=0;_<A.length;_++)w[_]=p(A[_],_);return w}function ot(){}function Gt(A,p){var w;return Object.create?w=Object.create(A):(ot.prototype=A,w=new ot),p&&Rt(p,w),w}var en=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Cn(A){return/\w/.test(A)||A>"\x80"&&(A.toUpperCase()!=A.toLowerCase()||en.test(A))}function pt(A,p){return p?!!(p.source.indexOf("\\w")>-1&&Cn(A))||p.test(A):Cn(A)}function ft(A){for(var p in A)if(A.hasOwnProperty(p)&&A[p])return!1;return!0}var jn=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function K(A){return A.charCodeAt(0)>=768&&jn.test(A)}function _e(A,p,w){for(;(w<0?p>0:p<A.length)&&K(A.charAt(p));)p+=w;return p}function Ne(A,p,w){for(var _=p>w?-1:1;;){if(p==w)return p;var C=(p+w)/2,O=_<0?Math.ceil(C):Math.floor(C);if(O==p)return A(O)?p:w;A(O)?w=O:p=O+_}}var vt=null;function xe(A,p,w){var _;vt=null;for(var C=0;C<A.length;++C){var O=A[C];if(O.from<p&&O.to>p)return C;O.to==p&&(O.from!=O.to&&"before"==w?_=C:vt=C),O.from==p&&(O.from!=O.to&&"before"!=w?_=C:vt=C)}return _??vt}var Nt=function(){function w(de){return de<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(de):1424<=de&&de<=1524?"R":1536<=de&&de<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(de-1536):1774<=de&&de<=2220?"r":8192<=de&&de<=8203?"w":8204==de?"b":"L"}var _=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,C=/[stwN]/,O=/[LRr]/,V=/[Lb1n]/,J=/[1n]/;function re(de,ze,nt){this.level=de,this.from=ze,this.to=nt}return function(de,ze){var nt="ltr"==ze?"L":"R";if(0==de.length||"ltr"==ze&&!_.test(de))return!1;for(var Pt=de.length,Dt=[],Bn=0;Bn<Pt;++Bn)Dt.push(w(de.charCodeAt(Bn)));for(var $n=0,Ai=nt;$n<Pt;++$n){var Ni=Dt[$n];"m"==Ni?Dt[$n]=Ai:Ai=Ni}for(var Oi=0,Ri=nt;Oi<Pt;++Oi){var Ki=Dt[Oi];"1"==Ki&&"r"==Ri?Dt[Oi]="n":O.test(Ki)&&(Ri=Ki,"r"==Ki&&(Dt[Oi]="R"))}for(var Dr=1,xr=Dt[0];Dr<Pt-1;++Dr){var eo=Dt[Dr];"+"==eo&&"1"==xr&&"1"==Dt[Dr+1]?Dt[Dr]="1":","==eo&&xr==Dt[Dr+1]&&("1"==xr||"n"==xr)&&(Dt[Dr]=xr),xr=eo}for(var ps=0;ps<Pt;++ps){var Wa=Dt[ps];if(","==Wa)Dt[ps]="N";else if("%"==Wa){var na=void 0;for(na=ps+1;na<Pt&&"%"==Dt[na];++na);for(var Ui=ps&&"!"==Dt[ps-1]||na<Pt&&"1"==Dt[na]?"1":"N",Xa=ps;Xa<na;++Xa)Dt[Xa]=Ui;ps=na-1}}for(var ia=0,Vs=nt;ia<Pt;++ia){var Ya=Dt[ia];"L"==Vs&&"1"==Ya?Dt[ia]="L":O.test(Ya)&&(Vs=Ya)}for(var Hr=0;Hr<Pt;++Hr)if(C.test(Dt[Hr])){var Ao=void 0;for(Ao=Hr+1;Ao<Pt&&C.test(Dt[Ao]);++Ao);for(var Os="L"==(Hr?Dt[Hr-1]:nt),Lu=Os==("L"==(Ao<Pt?Dt[Ao]:nt))?Os?"L":"R":nt,cc=Hr;cc<Ao;++cc)Dt[cc]=Lu;Hr=Ao-1}for(var od,Ro=[],oo=0;oo<Pt;)if(V.test(Dt[oo])){var bp=oo;for(++oo;oo<Pt&&V.test(Dt[oo]);++oo);Ro.push(new re(0,bp,oo))}else{var Xd=oo,Yd=Ro.length,wf="rtl"==ze?1:0;for(++oo;oo<Pt&&"L"!=Dt[oo];++oo);for(var Zl=Xd;Zl<oo;)if(J.test(Dt[Zl])){Xd<Zl&&(Ro.splice(Yd,0,new re(1,Xd,Zl)),Yd+=wf);var GA=Zl;for(++Zl;Zl<oo&&J.test(Dt[Zl]);++Zl);Ro.splice(Yd,0,new re(2,GA,Zl)),Yd+=wf,Xd=Zl}else++Zl;Xd<oo&&Ro.splice(Yd,0,new re(1,Xd,oo))}return"ltr"==ze&&(1==Ro[0].level&&(od=de.match(/^\s+/))&&(Ro[0].from=od[0].length,Ro.unshift(new re(0,0,od[0].length))),1==Ve(Ro).level&&(od=de.match(/\s+$/))&&(Ve(Ro).to-=od[0].length,Ro.push(new re(0,Pt-od[0].length,Pt)))),"rtl"==ze?Ro.reverse():Ro}}();function Ye(A,p){var w=A.order;return null==w&&(w=A.order=Nt(A.text,p)),w}var _t=[],Ge=function(A,p,w){if(A.addEventListener)A.addEventListener(p,w,!1);else if(A.attachEvent)A.attachEvent("on"+p,w);else{var _=A._handlers||(A._handlers={});_[p]=(_[p]||_t).concat(w)}};function yt(A,p){return A._handlers&&A._handlers[p]||_t}function Kt(A,p,w){if(A.removeEventListener)A.removeEventListener(p,w,!1);else if(A.detachEvent)A.detachEvent("on"+p,w);else{var _=A._handlers,C=_&&_[p];if(C){var O=Pn(C,w);O>-1&&(_[p]=C.slice(0,O).concat(C.slice(O+1)))}}}function xt(A,p){var w=yt(A,p);if(w.length)for(var _=Array.prototype.slice.call(arguments,2),C=0;C<w.length;++C)w[C].apply(null,_)}function Ct(A,p,w){return"string"==typeof p&&(p={type:p,preventDefault:function(){this.defaultPrevented=!0}}),xt(A,w||p.type,A,p),ti(p)||p.codemirrorIgnore}function mt(A){var p=A._handlers&&A._handlers.cursorActivity;if(p)for(var w=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),_=0;_<p.length;++_)-1==Pn(w,p[_])&&w.push(p[_])}function hn(A,p){return yt(A,p).length>0}function mn(A){A.prototype.on=function(p,w){Ge(this,p,w)},A.prototype.off=function(p,w){Kt(this,p,w)}}function xn(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function hi(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function ti(A){return null!=A.defaultPrevented?A.defaultPrevented:0==A.returnValue}function Br(A){xn(A),hi(A)}function mi(A){return A.target||A.srcElement}function ni(A){var p=A.which;return null==p&&(1&A.button?p=1:2&A.button?p=3:4&A.button&&(p=2)),In&&A.ctrlKey&&1==p&&(p=3),p}var ii,Mr,Tr=function(){if(_n&&De<9)return!1;var A=U("div");return"draggable"in A||"dragDrop"in A}();function _r(A){if(null==ii){var p=U("span","\u200b");L(A,U("span",[p,document.createTextNode("x")])),0!=A.firstChild.offsetHeight&&(ii=p.offsetWidth<=1&&p.offsetHeight>2&&!(_n&&De<8))}var w=ii?U("span","\u200b"):U("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return w.setAttribute("cm-text",""),w}function ui(A){if(null!=Mr)return Mr;var p=L(A,document.createTextNode("A\u062eA")),w=R(p,0,1).getBoundingClientRect(),_=R(p,1,2).getBoundingClientRect();return qe(A),!(!w||w.left==w.right)&&(Mr=_.right-w.right<3)}var A,Yn=3!="\n\nb".split(/\n/).length?function(A){for(var p=0,w=[],_=A.length;p<=_;){var C=A.indexOf("\n",p);-1==C&&(C=A.length);var O=A.slice(p,"\r"==A.charAt(C-1)?C-1:C),V=O.indexOf("\r");-1!=V?(w.push(O.slice(0,V)),p+=V+1):(w.push(O),p=C+1)}return w}:function(A){return A.split(/\r\n?|\n/)},br=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var p;try{p=A.ownerDocument.selection.createRange()}catch{}return!(!p||p.parentElement()!=A)&&0!=p.compareEndPoints("StartToEnd",p)},Pr="oncopy"in(A=U("div"))||(A.setAttribute("oncopy","return;"),"function"==typeof A.oncopy),j=null;var he={},ge={};function ke(A,p){arguments.length>2&&(p.dependencies=Array.prototype.slice.call(arguments,2)),he[A]=p}function Ue(A){if("string"==typeof A&&ge.hasOwnProperty(A))A=ge[A];else if(A&&"string"==typeof A.name&&ge.hasOwnProperty(A.name)){var p=ge[A.name];"string"==typeof p&&(p={name:p}),(A=Gt(p,A)).name=p.name}else{if("string"==typeof A&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return Ue("application/xml");if("string"==typeof A&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return Ue("application/json")}return"string"==typeof A?{name:A}:A||{name:"null"}}function gt(A,p){p=Ue(p);var w=he[p.name];if(!w)return gt(A,"text/plain");var _=w(A,p);if(Bt.hasOwnProperty(p.name)){var C=Bt[p.name];for(var O in C)C.hasOwnProperty(O)&&(_.hasOwnProperty(O)&&(_["_"+O]=_[O]),_[O]=C[O])}if(_.name=p.name,p.helperType&&(_.helperType=p.helperType),p.modeProps)for(var V in p.modeProps)_[V]=p.modeProps[V];return _}var Bt={};function zt(A,p){Rt(p,Bt.hasOwnProperty(A)?Bt[A]:Bt[A]={})}function Et(A,p){if(!0===p)return p;if(A.copyState)return A.copyState(p);var w={};for(var _ in p){var C=p[_];C instanceof Array&&(C=C.concat([])),w[_]=C}return w}function vn(A,p){for(var w;A.innerMode&&(w=A.innerMode(p))&&w.mode!=A;)p=w.state,A=w.mode;return w||{mode:A,state:p}}function yn(A,p,w){return!A.startState||A.startState(p,w)}var Sn=function(A,p,w){this.pos=this.start=0,this.string=A,this.tabSize=p||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=w};function Xt(A,p){if((p-=A.first)<0||p>=A.size)throw new Error("There is no line "+(p+A.first)+" in the document.");for(var w=A;!w.lines;)for(var _=0;;++_){var C=w.children[_],O=C.chunkSize();if(p<O){w=C;break}p-=O}return w.lines[p]}function hr(A,p,w){var _=[],C=p.line;return A.iter(p.line,w.line+1,function(O){var V=O.text;C==w.line&&(V=V.slice(0,w.ch)),C==p.line&&(V=V.slice(p.ch)),_.push(V),++C}),_}function yo(A,p,w){var _=[];return A.iter(p,w,function(C){_.push(C.text)}),_}function Yr(A,p){var w=p-A.height;if(w)for(var _=A;_;_=_.parent)_.height+=w}function ar(A){if(null==A.parent)return null;for(var p=A.parent,w=Pn(p.lines,A),_=p.parent;_;p=_,_=_.parent)for(var C=0;_.children[C]!=p;++C)w+=_.children[C].chunkSize();return w+p.first}function Zr(A,p){var w=A.first;e:do{for(var _=0;_<A.children.length;++_){var C=A.children[_],O=C.height;if(p<O){A=C;continue e}p-=O,w+=C.chunkSize()}return w}while(!A.lines);for(var V=0;V<A.lines.length;++V){var re=A.lines[V].height;if(p<re)break;p-=re}return w+V}function ue(A,p){return p>=A.first&&p<A.first+A.size}function Oe(A,p){return String(A.lineNumberFormatter(p+A.firstLineNumber))}function rt(A,p,w){if(void 0===w&&(w=null),!(this instanceof rt))return new rt(A,p,w);this.line=A,this.ch=p,this.sticky=w}function Ot(A,p){return A.line-p.line||A.ch-p.ch}function zi(A,p){return A.sticky==p.sticky&&0==Ot(A,p)}function nn(A){return rt(A.line,A.ch)}function be(A,p){return Ot(A,p)<0?p:A}function Co(A,p){return Ot(A,p)<0?A:p}function $o(A,p){return Math.max(A.first,Math.min(p,A.first+A.size-1))}function En(A,p){if(p.line<A.first)return rt(A.first,0);var w=A.first+A.size-1;return p.line>w?rt(w,Xt(A,w).text.length):function Ti(A,p){var w=A.ch;return null==w||w>p?rt(A.line,p):w<0?rt(A.line,0):A}(p,Xt(A,p.line).text.length)}function gr(A,p){for(var w=[],_=0;_<p.length;_++)w[_]=En(A,p[_]);return w}Sn.prototype.eol=function(){return this.pos>=this.string.length},Sn.prototype.sol=function(){return this.pos==this.lineStart},Sn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Sn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Sn.prototype.eat=function(A){var p=this.string.charAt(this.pos);if("string"==typeof A?p==A:p&&(A.test?A.test(p):A(p)))return++this.pos,p},Sn.prototype.eatWhile=function(A){for(var p=this.pos;this.eat(A););return this.pos>p},Sn.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},Sn.prototype.skipToEnd=function(){this.pos=this.string.length},Sn.prototype.skipTo=function(A){var p=this.string.indexOf(A,this.pos);if(p>-1)return this.pos=p,!0},Sn.prototype.backUp=function(A){this.pos-=A},Sn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Jt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Jt(this.string,this.lineStart,this.tabSize):0)},Sn.prototype.indentation=function(){return Jt(this.string,null,this.tabSize)-(this.lineStart?Jt(this.string,this.lineStart,this.tabSize):0)},Sn.prototype.match=function(A,p,w){if("string"!=typeof A){var O=this.string.slice(this.pos).match(A);return O&&O.index>0?null:(O&&!1!==p&&(this.pos+=O[0].length),O)}var _=function(V){return w?V.toLowerCase():V};if(_(this.string.substr(this.pos,A.length))==_(A))return!1!==p&&(this.pos+=A.length),!0},Sn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Sn.prototype.hideFirstChars=function(A,p){this.lineStart+=A;try{return p()}finally{this.lineStart-=A}},Sn.prototype.lookAhead=function(A){var p=this.lineOracle;return p&&p.lookAhead(A)},Sn.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};var Fr=function(A,p){this.state=A,this.lookAhead=p},ua=function(A,p,w,_){this.state=p,this.doc=A,this.line=w,this.maxLookAhead=_||0,this.baseTokens=null,this.baseTokenPos=1};function Z0(A,p,w,_){var C=[A.state.modeGen],O={};Qe(A,p.text,A.doc.mode,w,function(de,ze){return C.push(de,ze)},O,_);for(var V=w.state,J=function(de){w.baseTokens=C;var ze=A.state.overlays[de],nt=1,Pt=0;w.state=!0,Qe(A,p.text,ze.mode,w,function(Dt,Bn){for(var $n=nt;Pt<Dt;){var Ai=C[nt];Ai>Dt&&C.splice(nt,1,Dt,C[nt+1],Ai),nt+=2,Pt=Math.min(Dt,Ai)}if(Bn)if(ze.opaque)C.splice($n,nt-$n,Dt,"overlay "+Bn),nt=$n+2;else for(;$n<nt;$n+=2){var Ni=C[$n+1];C[$n+1]=(Ni?Ni+" ":"")+"overlay "+Bn}},O),w.state=V,w.baseTokens=null,w.baseTokenPos=1},re=0;re<A.state.overlays.length;++re)J(re);return{styles:C,classes:O.bgClass||O.textClass?O:null}}function Fu(A,p,w){if(!p.styles||p.styles[0]!=A.state.modeGen){var _=dr(A,ar(p)),C=p.text.length>A.options.maxHighlightLength&&Et(A.doc.mode,_.state),O=Z0(A,p,_);C&&(_.state=C),p.stateAfter=_.save(!C),p.styles=O.styles,O.classes?p.styleClasses=O.classes:p.styleClasses&&(p.styleClasses=null),w===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return p.styles}function dr(A,p,w){var _=A.doc,C=A.display;if(!_.mode.startState)return new ua(_,!0,p);var O=function St(A,p,w){for(var _,C,O=A.doc,V=w?-1:p-(A.doc.mode.innerMode?1e3:100),J=p;J>V;--J){if(J<=O.first)return O.first;var re=Xt(O,J-1),de=re.stateAfter;if(de&&(!w||J+(de instanceof Fr?de.lookAhead:0)<=O.modeFrontier))return J;var ze=Jt(re.text,null,A.options.tabSize);(null==C||_>ze)&&(C=J-1,_=ze)}return C}(A,p,w),V=O>_.first&&Xt(_,O-1).stateAfter,J=V?ua.fromSaved(_,V,O):new ua(_,yn(_.mode),O);return _.iter(O,p,function(re){m(A,re.text,J);var de=J.line;re.stateAfter=de==p-1||de%5==0||de>=C.viewFrom&&de<C.viewTo?J.save():null,J.nextLine()}),w&&(_.modeFrontier=J.line),J}function m(A,p,w,_){var C=A.doc.mode,O=new Sn(p,A.options.tabSize,w);for(O.start=O.pos=_||0,""==p&&T(C,w.state);!O.eol();)Q(C,O,w.state),O.start=O.pos}function T(A,p){if(A.blankLine)return A.blankLine(p);if(A.innerMode){var w=vn(A,p);if(w.mode.blankLine)return w.mode.blankLine(w.state)}}function Q(A,p,w,_){for(var C=0;C<10;C++){_&&(_[0]=vn(A,w).mode);var O=A.token(p,w);if(p.pos>p.start)return O}throw new Error("Mode "+A.name+" failed to advance stream.")}ua.prototype.lookAhead=function(A){var p=this.doc.getLine(this.line+A);return null!=p&&A>this.maxLookAhead&&(this.maxLookAhead=A),p},ua.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var p=this.baseTokens[this.baseTokenPos+1];return{type:p&&p.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},ua.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ua.fromSaved=function(A,p,w){return p instanceof Fr?new ua(A,Et(A.mode,p.state),w,p.lookAhead):new ua(A,Et(A.mode,p),w)},ua.prototype.save=function(A){var p=!1!==A?Et(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Fr(p,this.maxLookAhead):p};var Y=function(A,p,w){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=p||null,this.state=w};function ie(A,p,w,_){var V,ze,C=A.doc,O=C.mode,J=Xt(C,(p=En(C,p)).line),re=dr(A,p.line,w),de=new Sn(J.text,A.options.tabSize,re);for(_&&(ze=[]);(_||de.pos<p.ch)&&!de.eol();)de.start=de.pos,V=Q(O,de,re.state),_&&ze.push(new Y(de,V,Et(C.mode,re.state)));return _?ze:new Y(de,V,re.state)}function pe(A,p){if(A)for(;;){var w=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!w)break;A=A.slice(0,w.index)+A.slice(w.index+w[0].length);var _=w[1]?"bgClass":"textClass";null==p[_]?p[_]=w[2]:new RegExp("(?:^|\\s)"+w[2]+"(?:$|\\s)").test(p[_])||(p[_]+=" "+w[2])}return A}function Qe(A,p,w,_,C,O,V){var J=w.flattenSpans;null==J&&(J=A.options.flattenSpans);var nt,re=0,de=null,ze=new Sn(p,A.options.tabSize,_),Pt=A.options.addModeClass&&[null];for(""==p&&pe(T(w,_.state),O);!ze.eol();){if(ze.pos>A.options.maxHighlightLength?(J=!1,V&&m(A,p,_,ze.pos),ze.pos=p.length,nt=null):nt=pe(Q(w,ze,_.state,Pt),O),Pt){var Dt=Pt[0].name;Dt&&(nt="m-"+(nt?Dt+" "+nt:Dt))}if(!J||de!=nt){for(;re<ze.start;)C(re=Math.min(ze.start,re+5e3),de);de=nt}ze.start=ze.pos}for(;re<ze.pos;){var Bn=Math.min(ze.pos,re+5e3);C(Bn,de),re=Bn}}var Lt=!1,un=!1;function bi(A,p,w){this.marker=A,this.from=p,this.to=w}function lr(A,p){if(A)for(var w=0;w<A.length;++w){var _=A[w];if(_.marker==p)return _}}function Mn(A,p){for(var w,_=0;_<A.length;++_)A[_]!=p&&(w||(w=[])).push(A[_]);return w}function No(A,p){if(p.full)return null;var w=ue(A,p.from.line)&&Xt(A,p.from.line).markedSpans,_=ue(A,p.to.line)&&Xt(A,p.to.line).markedSpans;if(!w&&!_)return null;var C=p.from.ch,O=p.to.ch,V=0==Ot(p.from,p.to),J=function nr(A,p,w){var _;if(A)for(var C=0;C<A.length;++C){var O=A[C],V=O.marker;null!=O.from&&!(V.inclusiveLeft?O.from<=p:O.from<p)&&(O.from!=p||"bookmark"!=V.type||w&&O.marker.insertLeft)||(_||(_=[])).push(new bi(V,O.from,null==O.to||(V.inclusiveRight?O.to>=p:O.to>p)?null:O.to))}return _}(w,C,V),re=function Cr(A,p,w){var _;if(A)for(var C=0;C<A.length;++C){var O=A[C],V=O.marker;(null==O.to||(V.inclusiveRight?O.to>=p:O.to>p)||O.from==p&&"bookmark"==V.type&&(!w||O.marker.insertLeft))&&(_||(_=[])).push(new bi(V,null==O.from||(V.inclusiveLeft?O.from<=p:O.from<p)?null:O.from-p,null==O.to?null:O.to-p))}return _}(_,O,V),de=1==p.text.length,ze=Ve(p.text).length+(de?C:0);if(J)for(var nt=0;nt<J.length;++nt){var Pt=J[nt];if(null==Pt.to){var Dt=lr(re,Pt.marker);Dt?de&&(Pt.to=null==Dt.to?null:Dt.to+ze):Pt.to=C}}if(re)for(var Bn=0;Bn<re.length;++Bn){var $n=re[Bn];null!=$n.to&&($n.to+=ze),null==$n.from?lr(J,$n.marker)||($n.from=ze,de&&(J||(J=[])).push($n)):($n.from+=ze,de&&(J||(J=[])).push($n))}J&&(J=is(J)),re&&re!=J&&(re=is(re));var Ni=[J];if(!de){var Ri,Oi=p.text.length-2;if(Oi>0&&J)for(var Ki=0;Ki<J.length;++Ki)null==J[Ki].to&&(Ri||(Ri=[])).push(new bi(J[Ki].marker,null,null));for(var Dr=0;Dr<Oi;++Dr)Ni.push(Ri);Ni.push(re)}return Ni}function is(A){for(var p=0;p<A.length;++p){var w=A[p];null!=w.from&&w.from==w.to&&!1!==w.marker.clearWhenEmpty&&A.splice(p--,1)}return A.length?A:null}function vs(A){var p=A.markedSpans;if(p){for(var w=0;w<p.length;++w)p[w].marker.detachLine(A);A.markedSpans=null}}function ca(A,p){if(p){for(var w=0;w<p.length;++w)p[w].marker.attachLine(A);A.markedSpans=p}}function ys(A){return A.inclusiveLeft?-1:0}function Jr(A){return A.inclusiveRight?1:0}function Qo(A,p){var w=A.lines.length-p.lines.length;if(0!=w)return w;var _=A.find(),C=p.find(),O=Ot(_.from,C.from)||ys(A)-ys(p);return O?-O:Ot(_.to,C.to)||Jr(A)-Jr(p)||p.id-A.id}function ai(A,p){var _,w=un&&A.markedSpans;if(w)for(var C=void 0,O=0;O<w.length;++O)(C=w[O]).marker.collapsed&&null==(p?C.from:C.to)&&(!_||Qo(_,C.marker)<0)&&(_=C.marker);return _}function fa(A){return ai(A,!0)}function Ys(A){return ai(A,!1)}function Ds(A,p){var _,w=un&&A.markedSpans;if(w)for(var C=0;C<w.length;++C){var O=w[C];O.marker.collapsed&&(null==O.from||O.from<p)&&(null==O.to||O.to>p)&&(!_||Qo(_,O.marker)<0)&&(_=O.marker)}return _}function Rs(A,p,w,_,C){var O=Xt(A,p),V=un&&O.markedSpans;if(V)for(var J=0;J<V.length;++J){var re=V[J];if(re.marker.collapsed){var de=re.marker.find(0),ze=Ot(de.from,w)||ys(re.marker)-ys(C),nt=Ot(de.to,_)||Jr(re.marker)-Jr(C);if(!(ze>=0&&nt<=0||ze<=0&&nt>=0)&&(ze<=0&&(re.marker.inclusiveRight&&C.inclusiveLeft?Ot(de.to,w)>=0:Ot(de.to,w)>0)||ze>=0&&(re.marker.inclusiveRight&&C.inclusiveLeft?Ot(de.from,_)<=0:Ot(de.from,_)<0)))return!0}}}function Gr(A){for(var p;p=fa(A);)A=p.find(-1,!0).line;return A}function jl(A,p){var w=Xt(A,p),_=Gr(w);return w==_?p:ar(_)}function Ou(A,p){if(p>A.lastLine())return p;var _,w=Xt(A,p);if(!Va(A,w))return p;for(;_=Ys(w);)w=_.find(1,!0).line;return ar(w)+1}function Va(A,p){var w=un&&p.markedSpans;if(w)for(var _=void 0,C=0;C<w.length;++C)if((_=w[C]).marker.collapsed){if(null==_.from)return!0;if(!_.marker.widgetNode&&0==_.from&&_.marker.inclusiveLeft&&wl(A,p,_))return!0}}function wl(A,p,w){if(null==w.to){var _=w.marker.find(1,!0);return wl(A,_.line,lr(_.line.markedSpans,w.marker))}if(w.marker.inclusiveRight&&w.to==p.text.length)return!0;for(var C=void 0,O=0;O<p.markedSpans.length;++O)if((C=p.markedSpans[O]).marker.collapsed&&!C.marker.widgetNode&&C.from==w.to&&(null==C.to||C.to!=w.from)&&(C.marker.inclusiveLeft||w.marker.inclusiveRight)&&wl(A,p,C))return!0}function Us(A){for(var p=0,w=(A=Gr(A)).parent,_=0;_<w.lines.length;++_){var C=w.lines[_];if(C==A)break;p+=C.height}for(var O=w.parent;O;O=(w=O).parent)for(var V=0;V<O.children.length;++V){var J=O.children[V];if(J==w)break;p+=J.height}return p}function Ia(A){if(0==A.height)return 0;for(var w,p=A.text.length,_=A;w=fa(_);){var C=w.find(0,!0);_=C.from.line,p+=C.from.ch-C.to.ch}for(_=A;w=Ys(_);){var O=w.find(0,!0);p-=_.text.length-O.from.ch,p+=(_=O.to.line).text.length-O.to.ch}return p}function bl(A){var p=A.display,w=A.doc;p.maxLine=Xt(w,w.first),p.maxLineLength=Ia(p.maxLine),p.maxLineChanged=!0,w.iter(function(_){var C=Ia(_);C>p.maxLineLength&&(p.maxLineLength=C,p.maxLine=_)})}var Ll=function(A,p,w){this.text=A,ca(this,p),this.height=w?w(this):1};function ol(A){A.parent=null,vs(A)}Ll.prototype.lineNo=function(){return ar(this)},mn(Ll);var ku={},Qr={};function Er(A,p){if(!A||/^\s*$/.test(A))return null;var w=p.addModeClass?Qr:ku;return w[A]||(w[A]=A.replace(/\S+/g,"cm-$&"))}function Eo(A,p){var w=G("span",null,null,it?"padding-right: .1px":null),_={pre:G("pre",[w],"CodeMirror-line"),content:w,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};p.measure={};for(var C=0;C<=(p.rest?p.rest.length:0);C++){var O=C?p.rest[C-1]:p.line,V=void 0;_.pos=0,_.addToken=Nu,ui(A.display.measure)&&(V=Ye(O,A.doc.direction))&&(_.addToken=za(_.addToken,V)),_.map=[],Or(O,_,Fu(A,O,p!=A.display.externalMeasured&&ar(O))),O.styleClasses&&(O.styleClasses.bgClass&&(_.bgClass=Re(O.styleClasses.bgClass,_.bgClass||"")),O.styleClasses.textClass&&(_.textClass=Re(O.styleClasses.textClass,_.textClass||""))),0==_.map.length&&_.map.push(0,0,_.content.appendChild(_r(A.display.measure))),0==C?(p.measure.map=_.map,p.measure.cache={}):((p.measure.maps||(p.measure.maps=[])).push(_.map),(p.measure.caches||(p.measure.caches=[])).push({}))}if(it){var re=_.content.lastChild;(/\bcm-tab\b/.test(re.className)||re.querySelector&&re.querySelector(".cm-tab"))&&(_.content.className="cm-tab-wrap-hack")}return xt(A,"renderLine",A,p.line,_.pre),_.pre.className&&(_.textClass=Re(_.pre.className,_.textClass||"")),_}function Sc(A){var p=U("span","\u2022","cm-invalidchar");return p.title="\\u"+A.charCodeAt(0).toString(16),p.setAttribute("aria-label",p.title),p}function Nu(A,p,w,_,C,O,V){if(p){var ze,J=A.splitSpaces?function Wf(A,p){if(A.length>1&&!/  /.test(A))return A;for(var w=p,_="",C=0;C<A.length;C++){var O=A.charAt(C);" "==O&&w&&(C==A.length-1||32==A.charCodeAt(C+1))&&(O="\xa0"),_+=O,w=" "==O}return _}(p,A.trailingSpace):p,re=A.cm.state.specialChars,de=!1;if(re.test(p)){ze=document.createDocumentFragment();for(var nt=0;;){re.lastIndex=nt;var Pt=re.exec(p),Dt=Pt?Pt.index-nt:p.length-nt;if(Dt){var Bn=document.createTextNode(J.slice(nt,nt+Dt));ze.appendChild(_n&&De<9?U("span",[Bn]):Bn),A.map.push(A.pos,A.pos+Dt,Bn),A.col+=Dt,A.pos+=Dt}if(!Pt)break;nt+=Dt+1;var $n=void 0;if("\t"==Pt[0]){var Ai=A.cm.options.tabSize,Ni=Ai-A.col%Ai;($n=ze.appendChild(U("span",rr(Ni),"cm-tab"))).setAttribute("role","presentation"),$n.setAttribute("cm-text","\t"),A.col+=Ni}else"\r"==Pt[0]||"\n"==Pt[0]?(($n=ze.appendChild(U("span","\r"==Pt[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Pt[0]),A.col+=1):(($n=A.cm.options.specialCharPlaceholder(Pt[0])).setAttribute("cm-text",Pt[0]),ze.appendChild(_n&&De<9?U("span",[$n]):$n),A.col+=1);A.map.push(A.pos,A.pos+1,$n),A.pos++}}else A.col+=p.length,ze=document.createTextNode(J),A.map.push(A.pos,A.pos+p.length,ze),_n&&De<9&&(de=!0),A.pos+=p.length;if(A.trailingSpace=32==J.charCodeAt(p.length-1),w||_||C||de||O||V){var Oi=w||"";_&&(Oi+=_),C&&(Oi+=C);var Ri=U("span",[ze],Oi,O);if(V)for(var Ki in V)V.hasOwnProperty(Ki)&&"style"!=Ki&&"class"!=Ki&&Ri.setAttribute(Ki,V[Ki]);return A.content.appendChild(Ri)}A.content.appendChild(ze)}}function za(A,p){return function(w,_,C,O,V,J,re){C=C?C+" cm-force-border":"cm-force-border";for(var de=w.pos,ze=de+_.length;;){for(var nt=void 0,Pt=0;Pt<p.length&&!((nt=p[Pt]).to>de&&nt.from<=de);Pt++);if(nt.to>=ze)return A(w,_,C,O,V,J,re);A(w,_.slice(0,nt.to-de),C,O,null,J,re),O=null,_=_.slice(nt.to-de),de=nt.to}}}function Rl(A,p,w,_){var C=!_&&w.widgetNode;C&&A.map.push(A.pos,A.pos+p,C),!_&&A.cm.display.input.needsContentAttribute&&(C||(C=A.content.appendChild(document.createElement("span"))),C.setAttribute("cm-marker",w.id)),C&&(A.cm.display.input.setUneditable(C),A.content.appendChild(C)),A.pos+=p,A.trailingSpace=!1}function Or(A,p,w){var _=A.markedSpans,C=A.text,O=0;if(_)for(var nt,Pt,Bn,$n,Ai,Ni,Oi,J=C.length,re=0,de=1,ze="",Dt=0;;){if(Dt==re){Bn=$n=Ai=Pt="",Oi=null,Ni=null,Dt=1/0;for(var Ri=[],Ki=void 0,Dr=0;Dr<_.length;++Dr){var xr=_[Dr],eo=xr.marker;if("bookmark"==eo.type&&xr.from==re&&eo.widgetNode)Ri.push(eo);else if(xr.from<=re&&(null==xr.to||xr.to>re||eo.collapsed&&xr.to==re&&xr.from==re)){if(null!=xr.to&&xr.to!=re&&Dt>xr.to&&(Dt=xr.to,$n=""),eo.className&&(Bn+=" "+eo.className),eo.css&&(Pt=(Pt?Pt+";":"")+eo.css),eo.startStyle&&xr.from==re&&(Ai+=" "+eo.startStyle),eo.endStyle&&xr.to==Dt&&(Ki||(Ki=[])).push(eo.endStyle,xr.to),eo.title&&((Oi||(Oi={})).title=eo.title),eo.attributes)for(var ps in eo.attributes)(Oi||(Oi={}))[ps]=eo.attributes[ps];eo.collapsed&&(!Ni||Qo(Ni.marker,eo)<0)&&(Ni=xr)}else xr.from>re&&Dt>xr.from&&(Dt=xr.from)}if(Ki)for(var Wa=0;Wa<Ki.length;Wa+=2)Ki[Wa+1]==Dt&&($n+=" "+Ki[Wa]);if(!Ni||Ni.from==re)for(var na=0;na<Ri.length;++na)Rl(p,0,Ri[na]);if(Ni&&(Ni.from||0)==re){if(Rl(p,(null==Ni.to?J+1:Ni.to)-re,Ni.marker,null==Ni.from),null==Ni.to)return;Ni.to==re&&(Ni=!1)}}if(re>=J)break;for(var Ui=Math.min(J,Dt);;){if(ze){var Xa=re+ze.length;if(!Ni){var ia=Xa>Ui?ze.slice(0,Ui-re):ze;p.addToken(p,ia,nt?nt+Bn:Bn,Ai,re+ia.length==Dt?$n:"",Pt,Oi)}if(Xa>=Ui){ze=ze.slice(Ui-re),re=Ui;break}re=Xa,Ai=""}ze=C.slice(O,O=w[de++]),nt=Er(w[de++],p.cm.options)}}else for(var V=1;V<w.length;V+=2)p.addToken(p,C.slice(O,O=w[V]),Er(w[V+1],p.cm.options))}function Xf(A,p,w){this.line=p,this.rest=function Af(A){for(var p,w;p=Ys(A);)A=p.find(1,!0).line,(w||(w=[])).push(A);return w}(p),this.size=this.rest?ar(Ve(this.rest))-w+1:1,this.node=this.text=null,this.hidden=Va(A,p)}function Yf(A,p,w){for(var C,_=[],O=p;O<w;O=C){var V=new Xf(A.doc,Xt(A.doc,O),O);C=O+V.size,_.push(V)}return _}var $a=null;var hf=null;function ba(A,p){var w=yt(A,p);if(w.length){var C,_=Array.prototype.slice.call(arguments,2);$a?C=$a.delayedCallbacks:hf?C=hf:(C=hf=[],setTimeout(J0,0));for(var O=function(J){C.push(function(){return w[J].apply(null,_)})},V=0;V<w.length;++V)O(V)}}function J0(){var A=hf;hf=null;for(var p=0;p<A.length;++p)A[p]()}function Y1(A,p,w,_){for(var C=0;C<p.changes.length;C++){var O=p.changes[C];"text"==O?Bc(A,p):"gutter"==O?Lo(A,p,w,_):"class"==O?Zf(A,p):"widget"==O&&tv(A,p,_)}p.changes=null}function Ld(A){return A.node==A.text&&(A.node=U("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),_n&&De<8&&(A.node.style.zIndex=2)),A.node}function ep(A,p){var w=A.display.externalMeasured;return w&&w.line==p.line?(A.display.externalMeasured=null,p.measure=w.measure,w.built):Eo(A,p)}function Bc(A,p){var w=p.text.className,_=ep(A,p);p.text==p.node&&(p.node=_.pre),p.text.parentNode.replaceChild(_.pre,p.text),p.text=_.pre,_.bgClass!=p.bgClass||_.textClass!=p.textClass?(p.bgClass=_.bgClass,p.textClass=_.textClass,Zf(A,p)):w&&(p.text.className=w)}function Zf(A,p){(function Z1(A,p){var w=p.bgClass?p.bgClass+" "+(p.line.bgClass||""):p.line.bgClass;if(w&&(w+=" CodeMirror-linebackground"),p.background)w?p.background.className=w:(p.background.parentNode.removeChild(p.background),p.background=null);else if(w){var _=Ld(p);p.background=_.insertBefore(U("div",null,w),_.firstChild),A.display.input.setUneditable(p.background)}})(A,p),p.line.wrapClass?Ld(p).className=p.line.wrapClass:p.node!=p.text&&(p.node.className=""),p.text.className=(p.textClass?p.textClass+" "+(p.line.textClass||""):p.line.textClass)||""}function Lo(A,p,w,_){if(p.gutter&&(p.node.removeChild(p.gutter),p.gutter=null),p.gutterBackground&&(p.node.removeChild(p.gutterBackground),p.gutterBackground=null),p.line.gutterClass){var C=Ld(p);p.gutterBackground=U("div",null,"CodeMirror-gutter-background "+p.line.gutterClass,"left: "+(A.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px; width: "+_.gutterTotalWidth+"px"),A.display.input.setUneditable(p.gutterBackground),C.insertBefore(p.gutterBackground,p.text)}var O=p.line.gutterMarkers;if(A.options.lineNumbers||O){var V=Ld(p),J=p.gutter=U("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px");if(J.setAttribute("aria-hidden","true"),A.display.input.setUneditable(J),V.insertBefore(J,p.text),p.line.gutterClass&&(J.className+=" "+p.line.gutterClass),A.options.lineNumbers&&(!O||!O["CodeMirror-linenumbers"])&&(p.lineNumber=J.appendChild(U("div",Oe(A.options,w),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+_.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),O)for(var re=0;re<A.display.gutterSpecs.length;++re){var de=A.display.gutterSpecs[re].className,ze=O.hasOwnProperty(de)&&O[de];ze&&J.appendChild(U("div",[ze],"CodeMirror-gutter-elt","left: "+_.gutterLeft[de]+"px; width: "+_.gutterWidth[de]+"px"))}}}function tv(A,p,w){p.alignable&&(p.alignable=null);for(var _=Di("CodeMirror-linewidget"),C=p.node.firstChild,O=void 0;C;C=O)O=C.nextSibling,_.test(C.className)&&p.node.removeChild(C);tp(A,p,w)}function Ar(A,p,w,_){var C=ep(A,p);return p.text=p.node=C.pre,C.bgClass&&(p.bgClass=C.bgClass),C.textClass&&(p.textClass=C.textClass),Zf(A,p),Lo(A,p,w,_),tp(A,p,_),p.node}function tp(A,p,w){if(Kn(A,p.line,p,w,!0),p.rest)for(var _=0;_<p.rest.length;_++)Kn(A,p.rest[_],p,w,!1)}function Kn(A,p,w,_,C){if(p.widgets)for(var O=Ld(w),V=0,J=p.widgets;V<J.length;++V){var re=J[V],de=U("div",[re.node],"CodeMirror-linewidget"+(re.className?" "+re.className:""));re.handleMouseEvents||de.setAttribute("cm-ignore-events","true"),du(re,de,w,_),A.display.input.setUneditable(de),C&&re.above?O.insertBefore(de,w.gutter||w.text):O.appendChild(de),ba(re,"redraw")}}function du(A,p,w,_){if(A.noHScroll){(w.alignable||(w.alignable=[])).push(p);var C=_.wrapperWidth;p.style.left=_.fixedPos+"px",A.coverGutter||(C-=_.gutterTotalWidth,p.style.paddingLeft=_.gutterTotalWidth+"px"),p.style.width=C+"px"}A.coverGutter&&(p.style.zIndex=5,p.style.position="relative",A.noHScroll||(p.style.marginLeft=-_.gutterTotalWidth+"px"))}function Rd(A){if(null!=A.height)return A.height;var p=A.doc.cm;if(!p)return 0;if(!oe(document.body,A.node)){var w="position: relative;";A.coverGutter&&(w+="margin-left: -"+p.display.gutters.offsetWidth+"px;"),A.noHScroll&&(w+="width: "+p.display.wrapper.clientWidth+"px;"),L(p.display.measure,U("div",[A.node],null,w))}return A.height=A.node.parentNode.offsetHeight}function Da(A,p){for(var w=mi(p);w!=A.wrapper;w=w.parentNode)if(!w||1==w.nodeType&&"true"==w.getAttribute("cm-ignore-events")||w.parentNode==A.sizer&&w!=A.mover)return!0}function Zs(A){return A.lineSpace.offsetTop}function np(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function sl(A){if(A.cachedPaddingH)return A.cachedPaddingH;var p=L(A.measure,U("pre","x","CodeMirror-line-like")),w=window.getComputedStyle?window.getComputedStyle(p):p.currentStyle,_={left:parseInt(w.paddingLeft),right:parseInt(w.paddingRight)};return!isNaN(_.left)&&!isNaN(_.right)&&(A.cachedPaddingH=_),_}function ou(A){return Si-A.display.nativeBarWidth}function Cl(A){return A.display.scroller.clientWidth-ou(A)-A.display.barWidth}function tc(A){return A.display.scroller.clientHeight-ou(A)-A.display.barHeight}function N(A,p,w){if(A.line==p)return{map:A.measure.map,cache:A.measure.cache};if(A.rest){for(var _=0;_<A.rest.length;_++)if(A.rest[_]==p)return{map:A.measure.maps[_],cache:A.measure.caches[_]};for(var C=0;C<A.rest.length;C++)if(ar(A.rest[C])>w)return{map:A.measure.maps[C],cache:A.measure.caches[C],before:!0}}}function Te(A,p,w,_){return Ut(A,It(A,p),w,_)}function ct(A,p){if(p>=A.display.viewFrom&&p<A.display.viewTo)return A.display.view[al(A,p)];var w=A.display.externalMeasured;return w&&p>=w.lineN&&p<w.lineN+w.size?w:void 0}function It(A,p){var w=ar(p),_=ct(A,w);_&&!_.text?_=null:_&&_.changes&&(Y1(A,_,w,Au(A)),A.curOp.forceUpdate=!0),_||(_=function me(A,p){var w=ar(p=Gr(p)),_=A.display.externalMeasured=new Xf(A.doc,p,w);_.lineN=w;var C=_.built=Eo(A,_);return _.text=C.pre,L(A.display.lineMeasure,C.pre),_}(A,p));var C=N(_,p,w);return{line:p,view:_,rect:null,map:C.map,cache:C.cache,before:C.before,hasHeights:!1}}function Ut(A,p,w,_,C){p.before&&(w=-1);var V,O=w+(_||"");return p.cache.hasOwnProperty(O)?V=p.cache[O]:(p.rect||(p.rect=p.view.text.getBoundingClientRect()),p.hasHeights||(function S(A,p,w){var _=A.options.lineWrapping,C=_&&Cl(A);if(!p.measure.heights||_&&p.measure.width!=C){var O=p.measure.heights=[];if(_){p.measure.width=C;for(var V=p.text.firstChild.getClientRects(),J=0;J<V.length-1;J++){var re=V[J],de=V[J+1];Math.abs(re.bottom-de.bottom)>2&&O.push((re.bottom+de.top)/2-w.top)}}O.push(w.bottom-w.top)}}(A,p.view,p.rect),p.hasHeights=!0),(V=function vi(A,p,w,_){var de,C=kn(p.map,w,_),O=C.node,V=C.start,J=C.end,re=C.collapse;if(3==O.nodeType){for(var ze=0;ze<4;ze++){for(;V&&K(p.line.text.charAt(C.coverStart+V));)--V;for(;C.coverStart+J<C.coverEnd&&K(p.line.text.charAt(C.coverStart+J));)++J;if((de=_n&&De<9&&0==V&&J==C.coverEnd-C.coverStart?O.parentNode.getBoundingClientRect():Rn(R(O,V,J).getClientRects(),_)).left||de.right||0==V)break;J=V,V-=1,re="right"}_n&&De<11&&(de=function tn(A,p){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function fe(A){if(null!=j)return j;var p=L(A,U("span","x")),w=p.getBoundingClientRect(),_=R(p,0,1).getBoundingClientRect();return j=Math.abs(w.left-_.left)>1}(A))return p;var w=screen.logicalXDPI/screen.deviceXDPI,_=screen.logicalYDPI/screen.deviceYDPI;return{left:p.left*w,right:p.right*w,top:p.top*_,bottom:p.bottom*_}}(A.display.measure,de))}else{var nt;V>0&&(re=_="right"),de=A.options.lineWrapping&&(nt=O.getClientRects()).length>1?nt["right"==_?nt.length-1:0]:O.getBoundingClientRect()}if(_n&&De<9&&!V&&(!de||!de.left&&!de.right)){var Pt=O.parentNode.getClientRects()[0];de=Pt?{left:Pt.left,right:Pt.left+Fa(A.display),top:Pt.top,bottom:Pt.bottom}:Zt}for(var Dt=de.top-p.rect.top,Bn=de.bottom-p.rect.top,$n=(Dt+Bn)/2,Ai=p.view.measure.heights,Ni=0;Ni<Ai.length-1&&!($n<Ai[Ni]);Ni++);var Ki={left:("right"==re?de.right:de.left)-p.rect.left,right:("left"==re?de.left:de.right)-p.rect.left,top:Ni?Ai[Ni-1]:0,bottom:Ai[Ni]};return!de.left&&!de.right&&(Ki.bogus=!0),A.options.singleCursorHeightPerLine||(Ki.rtop=Dt,Ki.rbottom=Bn),Ki}(A,p,w,_)).bogus||(p.cache[O]=V)),{left:V.left,right:V.right,top:C?V.rtop:V.top,bottom:C?V.rbottom:V.bottom}}var Ta,Zt={left:0,right:0,top:0,bottom:0};function kn(A,p,w){for(var _,C,O,V,J,re,de=0;de<A.length;de+=3)if(re=A[de+1],p<(J=A[de])?(C=0,O=1,V="left"):p<re?O=1+(C=p-J):(de==A.length-3||p==re&&A[de+3]>p)&&(C=(O=re-J)-1,p>=re&&(V="right")),null!=C){if(_=A[de+2],J==re&&w==(_.insertLeft?"left":"right")&&(V=w),"left"==w&&0==C)for(;de&&A[de-2]==A[de-3]&&A[de-1].insertLeft;)_=A[2+(de-=3)],V="left";if("right"==w&&C==re-J)for(;de<A.length-3&&A[de+3]==A[de+4]&&!A[de+5].insertLeft;)_=A[(de+=3)+2],V="right";break}return{node:_,start:C,end:O,collapse:V,coverStart:J,coverEnd:re}}function Rn(A,p){var w=Zt;if("left"==p)for(var _=0;_<A.length&&(w=A[_]).left==w.right;_++);else for(var C=A.length-1;C>=0&&(w=A[C]).left==w.right;C--);return w}function or(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var p=0;p<A.rest.length;p++)A.measure.caches[p]={}}function Gi(A){A.display.externalMeasure=null,qe(A.display.lineMeasure);for(var p=0;p<A.display.view.length;p++)or(A.display.view[p])}function mr(A){Gi(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function Ir(A){return bn&&fn?-(A.body.getBoundingClientRect().left-parseInt(getComputedStyle(A.body).marginLeft)):A.defaultView.pageXOffset||(A.documentElement||A.body).scrollLeft}function go(A){return bn&&fn?-(A.body.getBoundingClientRect().top-parseInt(getComputedStyle(A.body).marginTop)):A.defaultView.pageYOffset||(A.documentElement||A.body).scrollTop}function Mo(A){var w=Gr(A).widgets,_=0;if(w)for(var C=0;C<w.length;++C)w[C].above&&(_+=Rd(w[C]));return _}function li(A,p,w,_,C){if(!C){var O=Mo(p);w.top+=O,w.bottom+=O}if("line"==_)return w;_||(_="local");var V=Us(p);if("local"==_?V+=Zs(A.display):V-=A.display.viewOffset,"page"==_||"window"==_){var J=A.display.lineSpace.getBoundingClientRect();V+=J.top+("window"==_?0:go(et(A)));var re=J.left+("window"==_?0:Ir(et(A)));w.left+=re,w.right+=re}return w.top+=V,w.bottom+=V,w}function wi(A,p,w){if("div"==w)return p;var _=p.left,C=p.top;if("page"==w)_-=Ir(et(A)),C-=go(et(A));else if("local"==w||!w){var O=A.display.sizer.getBoundingClientRect();_+=O.left,C+=O.top}var V=A.display.lineSpace.getBoundingClientRect();return{left:_-V.left,top:C-V.top}}function co(A,p,w,_,C){return _||(_=Xt(A.doc,p.line)),li(A,_,Te(A,_,p.ch,C),w)}function Ur(A,p,w,_,C,O){function V(Bn,$n){var Ai=Ut(A,C,Bn,$n?"right":"left",O);return $n?Ai.left=Ai.right:Ai.right=Ai.left,li(A,_,Ai,w)}_=_||Xt(A.doc,p.line),C||(C=It(A,_));var J=Ye(_,A.doc.direction),re=p.ch,de=p.sticky;if(re>=_.text.length?(re=_.text.length,de="before"):re<=0&&(re=0,de="after"),!J)return V("before"==de?re-1:re,"before"==de);function ze(Bn,$n,Ai){return V(Ai?Bn-1:Bn,1==J[$n].level!=Ai)}var nt=xe(J,re,de),Pt=vt,Dt=ze(re,nt,"before"==de);return null!=Pt&&(Dt.other=ze(re,Pt,"before"!=de)),Dt}function Oo(A,p){var w=0;p=En(A.doc,p),A.options.lineWrapping||(w=Fa(A.display)*p.ch);var _=Xt(A.doc,p.line),C=Us(_)+Zs(A.display);return{left:w,right:w,top:C,bottom:C+_.height}}function Go(A,p,w,_,C){var O=rt(A,p,w);return O.xRel=C,_&&(O.outside=_),O}function Vo(A,p,w){var _=A.doc;if((w+=A.display.viewOffset)<0)return Go(_.first,0,null,-1,-1);var C=Zr(_,w),O=_.first+_.size-1;if(C>O)return Go(_.first+_.size-1,Xt(_,O).text.length,null,1,1);p<0&&(p=0);for(var V=Xt(_,C);;){var J=Ps(A,V,C,p,w),re=Ds(V,J.ch+(J.xRel>0||J.outside>0?1:0));if(!re)return J;var de=re.find(1);if(de.line==C)return de;V=Xt(_,C=de.line)}}function _o(A,p,w,_){_-=Mo(p);var C=p.text.length,O=Ne(function(V){return Ut(A,w,V-1).bottom<=_},C,0);return{begin:O,end:C=Ne(function(V){return Ut(A,w,V).top>_},O,C)}}function cn(A,p,w,_){return w||(w=It(A,p)),_o(A,p,w,li(A,p,Ut(A,w,_),"line").top)}function Js(A,p,w,_){return!(A.bottom<=w)&&(A.top>w||(_?A.left:A.right)>p)}function Ps(A,p,w,_,C){C-=Us(p);var O=It(A,p),V=Mo(p),J=0,re=p.text.length,de=!0,ze=Ye(p,A.doc.direction);if(ze){var nt=(A.options.lineWrapping?ea:da)(A,p,w,O,ze,_,C);J=(de=1!=nt.level)?nt.from:nt.to-1,re=de?nt.to:nt.from-1}var $n,Ai,Pt=null,Dt=null,Bn=Ne(function(Dr){var xr=Ut(A,O,Dr);return xr.top+=V,xr.bottom+=V,!!Js(xr,_,C,!1)&&(xr.top<=C&&xr.left<=_&&(Pt=Dr,Dt=xr),!0)},J,re),Ni=!1;if(Dt){var Oi=_-Dt.left<Dt.right-_,Ri=Oi==de;Bn=Pt+(Ri?0:1),Ai=Ri?"after":"before",$n=Oi?Dt.left:Dt.right}else{!de&&(Bn==re||Bn==J)&&Bn++,Ai=0==Bn?"after":Bn==p.text.length?"before":Ut(A,O,Bn-(de?1:0)).bottom+V<=C==de?"after":"before";var Ki=Ur(A,rt(w,Bn,Ai),"line",p,O);$n=Ki.left,Ni=C<Ki.top?-1:C>=Ki.bottom?1:0}return Go(w,Bn=_e(p.text,Bn,1),Ai,Ni,_-$n)}function da(A,p,w,_,C,O,V){var J=Ne(function(nt){var Pt=C[nt],Dt=1!=Pt.level;return Js(Ur(A,rt(w,Dt?Pt.to:Pt.from,Dt?"before":"after"),"line",p,_),O,V,!0)},0,C.length-1),re=C[J];if(J>0){var de=1!=re.level,ze=Ur(A,rt(w,de?re.from:re.to,de?"after":"before"),"line",p,_);Js(ze,O,V,!0)&&ze.top>V&&(re=C[J-1])}return re}function ea(A,p,w,_,C,O,V){var J=_o(A,p,_,V),re=J.begin,de=J.end;/\s/.test(p.text.charAt(de-1))&&de--;for(var ze=null,nt=null,Pt=0;Pt<C.length;Pt++){var Dt=C[Pt];if(!(Dt.from>=de||Dt.to<=re)){var $n=Ut(A,_,1!=Dt.level?Math.min(de,Dt.to)-1:Math.max(re,Dt.from)).right,Ai=$n<O?O-$n+1e9:$n-O;(!ze||nt>Ai)&&(ze=Dt,nt=Ai)}}return ze||(ze=C[C.length-1]),ze.from<re&&(ze={from:re,to:ze.to,level:ze.level}),ze.to>de&&(ze={from:ze.from,to:de,level:ze.level}),ze}function as(A){if(null!=A.cachedTextHeight)return A.cachedTextHeight;if(null==Ta){Ta=U("pre",null,"CodeMirror-line-like");for(var p=0;p<49;++p)Ta.appendChild(document.createTextNode("x")),Ta.appendChild(U("br"));Ta.appendChild(document.createTextNode("x"))}L(A.measure,Ta);var w=Ta.offsetHeight/50;return w>3&&(A.cachedTextHeight=w),qe(A.measure),w||1}function Fa(A){if(null!=A.cachedCharWidth)return A.cachedCharWidth;var p=U("span","xxxxxxxxxx"),w=U("pre",[p],"CodeMirror-line-like");L(A.measure,w);var _=p.getBoundingClientRect(),C=(_.right-_.left)/10;return C>2&&(A.cachedCharWidth=C),C||10}function Au(A){for(var p=A.display,w={},_={},C=p.gutters.clientLeft,O=p.gutters.firstChild,V=0;O;O=O.nextSibling,++V){var J=A.display.gutterSpecs[V].className;w[J]=O.offsetLeft+O.clientLeft+C,_[J]=O.clientWidth}return{fixedPos:El(p),gutterTotalWidth:p.gutters.offsetWidth,gutterLeft:w,gutterWidth:_,wrapperWidth:p.wrapper.clientWidth}}function El(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function As(A){var p=as(A.display),w=A.options.lineWrapping,_=w&&Math.max(5,A.display.scroller.clientWidth/Fa(A.display)-3);return function(C){if(Va(A.doc,C))return 0;var O=0;if(C.widgets)for(var V=0;V<C.widgets.length;V++)C.widgets[V].height&&(O+=C.widgets[V].height);return w?O+(Math.ceil(C.text.length/_)||1)*p:O+p}}function Aa(A){var p=A.doc,w=As(A);p.iter(function(_){var C=w(_);C!=_.height&&Yr(_,C)})}function xo(A,p,w,_){var C=A.display;if(!w&&"true"==mi(p).getAttribute("cm-not-content"))return null;var O,V,J=C.lineSpace.getBoundingClientRect();try{O=p.clientX-J.left,V=p.clientY-J.top}catch{return null}var de,re=Vo(A,O,V);if(_&&re.xRel>0&&(de=Xt(A.doc,re.line).text).length==re.ch){var ze=Jt(de,de.length,A.options.tabSize)-de.length;re=rt(re.line,Math.max(0,Math.round((O-sl(A.display).left)/Fa(A.display))-ze))}return re}function al(A,p){if(p>=A.display.viewTo||(p-=A.display.viewFrom)<0)return null;for(var w=A.display.view,_=0;_<w.length;_++)if((p-=w[_].size)<0)return _}function Hs(A,p,w,_){null==p&&(p=A.doc.first),null==w&&(w=A.doc.first+A.doc.size),_||(_=0);var C=A.display;if(_&&w<C.viewTo&&(null==C.updateLineNumbers||C.updateLineNumbers>p)&&(C.updateLineNumbers=p),A.curOp.viewChanged=!0,p>=C.viewTo)un&&jl(A.doc,p)<C.viewTo&&hu(A);else if(w<=C.viewFrom)un&&Ou(A.doc,w+_)>C.viewFrom?hu(A):(C.viewFrom+=_,C.viewTo+=_);else if(p<=C.viewFrom&&w>=C.viewTo)hu(A);else if(p<=C.viewFrom){var O=pu(A,w,w+_,1);O?(C.view=C.view.slice(O.index),C.viewFrom=O.lineN,C.viewTo+=_):hu(A)}else if(w>=C.viewTo){var V=pu(A,p,p,-1);V?(C.view=C.view.slice(0,V.index),C.viewTo=V.lineN):hu(A)}else{var J=pu(A,p,p,-1),re=pu(A,w,w+_,1);J&&re?(C.view=C.view.slice(0,J.index).concat(Yf(A,J.lineN,re.lineN)).concat(C.view.slice(re.index)),C.viewTo+=_):hu(A)}var de=C.externalMeasured;de&&(w<de.lineN?de.lineN+=_:p<de.lineN+de.size&&(C.externalMeasured=null))}function Ul(A,p,w){A.curOp.viewChanged=!0;var _=A.display,C=A.display.externalMeasured;if(C&&p>=C.lineN&&p<C.lineN+C.size&&(_.externalMeasured=null),!(p<_.viewFrom||p>=_.viewTo)){var O=_.view[al(A,p)];if(null!=O.node){var V=O.changes||(O.changes=[]);-1==Pn(V,w)&&V.push(w)}}}function hu(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function pu(A,p,w,_){var O,C=al(A,p),V=A.display.view;if(!un||w==A.doc.first+A.doc.size)return{index:C,lineN:w};for(var J=A.display.viewFrom,re=0;re<C;re++)J+=V[re].size;if(J!=p){if(_>0){if(C==V.length-1)return null;O=J+V[C].size-p,C++}else O=J-p;p+=O,w+=O}for(;jl(A.doc,w)!=w;){if(C==(_<0?0:V.length-1))return null;w+=_*V[C-(_<0?1:0)].size,C+=_}return{index:C,lineN:w}}function Mc(A){for(var p=A.display.view,w=0,_=0;_<p.length;_++){var C=p[_];!C.hidden&&(!C.node||C.changes)&&++w}return w}function Ga(A){A.display.input.showSelection(A.display.input.prepareSelection())}function IA(A,p){void 0===p&&(p=!0);var w=A.doc,_={},C=_.cursors=document.createDocumentFragment(),O=_.selection=document.createDocumentFragment(),V=A.options.$customCursor;V&&(p=!0);for(var J=0;J<w.sel.ranges.length;J++)if(p||J!=w.sel.primIndex){var re=w.sel.ranges[J];if(!(re.from().line>=A.display.viewTo||re.to().line<A.display.viewFrom)){var de=re.empty();if(V){var ze=V(A,re);ze&&Ic(A,ze,C)}else(de||A.options.showCursorWhenSelecting)&&Ic(A,re.head,C);de||Dh(A,re,O)}}return _}function Ic(A,p,w){var _=Ur(A,p,"div",null,null,!A.options.singleCursorHeightPerLine),C=w.appendChild(U("div","\xa0","CodeMirror-cursor"));if(C.style.left=_.left+"px",C.style.top=_.top+"px",C.style.height=Math.max(0,_.bottom-_.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var O=co(A,p,"div",null,null),V=O.right-O.left;C.style.width=(V>0?V:A.defaultCharWidth())+"px"}if(_.other){var J=w.appendChild(U("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));J.style.display="",J.style.left=_.other.left+"px",J.style.top=_.other.top+"px",J.style.height=.85*(_.other.bottom-_.other.top)+"px"}}function mo(A,p){return A.top-p.top||A.left-p.left}function Dh(A,p,w){var _=A.display,C=A.doc,O=document.createDocumentFragment(),V=sl(A.display),J=V.left,re=Math.max(_.sizerWidth,Cl(A)-_.sizer.offsetLeft)-V.right,de="ltr"==C.direction;function ze(Ri,Ki,Dr,xr){Ki<0&&(Ki=0),Ki=Math.round(Ki),xr=Math.round(xr),O.appendChild(U("div",null,"CodeMirror-selected","position: absolute; left: "+Ri+"px;\n                             top: "+Ki+"px; width: "+(Dr??re-Ri)+"px;\n                             height: "+(xr-Ki)+"px"))}function nt(Ri,Ki,Dr){var ps,Wa,xr=Xt(C,Ri),eo=xr.text.length;function na(ia,Vs){return co(A,rt(Ri,ia),"div",xr,Vs)}function Ui(ia,Vs,Ya){var Hr=cn(A,xr,null,ia),Ao="ltr"==Vs==("after"==Ya)?"left":"right";return na("after"==Ya?Hr.begin:Hr.end-(/\s/.test(xr.text.charAt(Hr.end-1))?2:1),Ao)[Ao]}var Xa=Ye(xr,C.direction);return function At(A,p,w,_){if(!A)return _(p,w,"ltr",0);for(var C=!1,O=0;O<A.length;++O){var V=A[O];(V.from<w&&V.to>p||p==w&&V.to==p)&&(_(Math.max(V.from,p),Math.min(V.to,w),1==V.level?"rtl":"ltr",O),C=!0)}C||_(p,w,"ltr")}(Xa,Ki||0,Dr??eo,function(ia,Vs,Ya,Hr){var Ao="ltr"==Ya,Os=na(ia,Ao?"left":"right"),au=na(Vs-1,Ao?"right":"left"),Lu=null==Ki&&0==ia,cc=null==Dr&&Vs==eo,Ro=0==Hr,od=!Xa||Hr==Xa.length-1;if(au.top-Os.top<=3){var Xd=(de?Lu:cc)&&Ro?J:(Ao?Os:au).left;ze(Xd,Os.top,((de?cc:Lu)&&od?re:(Ao?au:Os).right)-Xd,Os.bottom)}else{var wf,Zl,GA,Gh;Ao?(wf=de&&Lu&&Ro?J:Os.left,Zl=de?re:Ui(ia,Ya,"before"),GA=de?J:Ui(Vs,Ya,"after"),Gh=de&&cc&&od?re:au.right):(wf=de?Ui(ia,Ya,"before"):J,Zl=!de&&Lu&&Ro?re:Os.right,GA=!de&&cc&&od?J:au.left,Gh=de?Ui(Vs,Ya,"after"):re),ze(wf,Os.top,Zl-wf,Os.bottom),Os.bottom<au.top&&ze(J,Os.bottom,null,au.top),ze(GA,au.top,Gh-GA,au.bottom)}(!ps||mo(Os,ps)<0)&&(ps=Os),mo(au,ps)<0&&(ps=au),(!Wa||mo(Os,Wa)<0)&&(Wa=Os),mo(au,Wa)<0&&(Wa=au)}),{start:ps,end:Wa}}var Pt=p.from(),Dt=p.to();if(Pt.line==Dt.line)nt(Pt.line,Pt.ch,Dt.ch);else{var Bn=Xt(C,Pt.line),$n=Xt(C,Dt.line),Ai=Gr(Bn)==Gr($n),Ni=nt(Pt.line,Pt.ch,Ai?Bn.text.length+1:null).end,Oi=nt(Dt.line,Ai?0:null,Dt.ch).start;Ai&&(Ni.top<Oi.top-2?(ze(Ni.right,Ni.top,null,Ni.bottom),ze(J,Oi.top,Oi.left,Oi.bottom)):ze(Ni.right,Ni.top,Oi.left-Ni.right,Ni.bottom)),Ni.bottom<Oi.top&&ze(J,Ni.bottom,null,Oi.top)}w.appendChild(O)}function Th(A){if(A.state.focused){var p=A.display;clearInterval(p.blinker);var w=!0;p.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?p.blinker=setInterval(function(){A.hasFocus()||Oa(A),p.cursorDiv.style.visibility=(w=!w)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(p.cursorDiv.style.visibility="hidden")}}function Yo(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||Lr(A))}function J1(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&Oa(A))},100)}function Lr(A,p){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),"nocursor"!=A.options.readOnly&&(A.state.focused||(xt(A,"focus",A,p),A.state.focused=!0,Me(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),it&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),Th(A))}function Oa(A,p){A.state.delayingBlurEvent||(A.state.focused&&(xt(A,"blur",A,p),A.state.focused=!1,Wn(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function wo(A){for(var p=A.display,w=p.lineDiv.offsetTop,_=Math.max(0,p.scroller.getBoundingClientRect().top),C=p.lineDiv.getBoundingClientRect().top,O=0,V=0;V<p.view.length;V++){var J=p.view[V],re=A.options.lineWrapping,de=void 0,ze=0;if(!J.hidden){if(C+=J.line.height,_n&&De<8){var nt=J.node.offsetTop+J.node.offsetHeight;de=nt-w,w=nt}else{var Pt=J.node.getBoundingClientRect();de=Pt.bottom-Pt.top,!re&&J.text.firstChild&&(ze=J.text.firstChild.getBoundingClientRect().right-Pt.left-1)}var Dt=J.line.height-de;if((Dt>.005||Dt<-.005)&&(C<_&&(O-=Dt),Yr(J.line,de),ll(J.line),J.rest))for(var Bn=0;Bn<J.rest.length;Bn++)ll(J.rest[Bn]);if(ze>A.display.sizerWidth){var $n=Math.ceil(ze/Fa(A.display));$n>A.display.maxLineLength&&(A.display.maxLineLength=$n,A.display.maxLine=J.line,A.display.maxLineChanged=!0)}}}Math.abs(O)>2&&(p.scroller.scrollTop+=O)}function ll(A){if(A.widgets)for(var p=0;p<A.widgets.length;++p){var w=A.widgets[p],_=w.node.parentNode;_&&(w.height=_.offsetHeight)}}function ul(A,p,w){var _=w&&null!=w.top?Math.max(0,w.top):A.scroller.scrollTop;_=Math.floor(_-Zs(A));var C=w&&null!=w.bottom?w.bottom:_+A.wrapper.clientHeight,O=Zr(p,_),V=Zr(p,C);if(w&&w.ensure){var J=w.ensure.from.line,re=w.ensure.to.line;J<O?(O=J,V=Zr(p,Us(Xt(p,J))+A.wrapper.clientHeight)):Math.min(re,p.lastLine())>=V&&(O=Zr(p,Us(Xt(p,re))-A.wrapper.clientHeight),V=re)}return{from:O,to:Math.max(V,O+1)}}function em(A,p){var w=A.display,_=as(A.display);p.top<0&&(p.top=0);var C=A.curOp&&null!=A.curOp.scrollTop?A.curOp.scrollTop:w.scroller.scrollTop,O=tc(A),V={};p.bottom-p.top>O&&(p.bottom=p.top+O);var J=A.doc.height+np(w),de=p.bottom>J-_;if(p.top<C)V.scrollTop=p.top<_?0:p.top;else if(p.bottom>C+O){var ze=Math.min(p.top,(de?J:p.bottom)-O);ze!=C&&(V.scrollTop=ze)}var nt=A.options.fixedGutter?0:w.gutters.offsetWidth,Pt=A.curOp&&null!=A.curOp.scrollLeft?A.curOp.scrollLeft:w.scroller.scrollLeft-nt,Dt=Cl(A)-w.gutters.offsetWidth,Bn=p.right-p.left>Dt;return Bn&&(p.right=p.left+Dt),p.left<10?V.scrollLeft=0:p.left<Pt?V.scrollLeft=Math.max(0,p.left+nt-(Bn?0:10)):p.right>Dt+Pt-3&&(V.scrollLeft=p.right+(Bn?0:10)-Dt),V}function ip(A,p){null!=p&&(tm(A),A.curOp.scrollTop=(null==A.curOp.scrollTop?A.doc.scrollTop:A.curOp.scrollTop)+p)}function rp(A){tm(A);var p=A.getCursor();A.curOp.scrollToPos={from:p,to:p,margin:A.options.cursorScrollMargin}}function TA(A,p,w){(null!=p||null!=w)&&tm(A),null!=p&&(A.curOp.scrollLeft=p),null!=w&&(A.curOp.scrollTop=w)}function tm(A){var p=A.curOp.scrollToPos;p&&(A.curOp.scrollToPos=null,nm(A,Oo(A,p.from),Oo(A,p.to),p.margin))}function nm(A,p,w,_){var C=em(A,{left:Math.min(p.left,w.left),top:Math.min(p.top,w.top)-_,right:Math.max(p.right,w.right),bottom:Math.max(p.bottom,w.bottom)+_});TA(A,C.scrollLeft,C.scrollTop)}function op(A,p){Math.abs(A.doc.scrollTop-p)<2||(Ln||av(A,{top:p}),FA(A,p,!0),Ln&&av(A),Ng(A,100))}function FA(A,p,w){p=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,p)),(A.display.scroller.scrollTop!=p||w)&&(A.doc.scrollTop=p,A.display.scrollbars.setScrollTop(p),A.display.scroller.scrollTop!=p&&(A.display.scroller.scrollTop=p))}function sp(A,p,w,_){p=Math.max(0,Math.min(p,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),(!(w?p==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-p)<2)||_)&&(A.doc.scrollLeft=p,up(A),A.display.scroller.scrollLeft!=p&&(A.display.scroller.scrollLeft=p),A.display.scrollbars.setScrollLeft(p))}function Fh(A){var p=A.display,w=p.gutters.offsetWidth,_=Math.round(A.doc.height+np(A.display));return{clientHeight:p.scroller.clientHeight,viewHeight:p.wrapper.clientHeight,scrollWidth:p.scroller.scrollWidth,clientWidth:p.scroller.clientWidth,viewWidth:p.wrapper.clientWidth,barLeft:A.options.fixedGutter?w:0,docHeight:_,scrollHeight:_+ou(A)+p.barHeight,nativeBarWidth:p.nativeBarWidth,gutterWidth:w}}var Oh=function(A,p,w){this.cm=w;var _=this.vert=U("div",[U("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),C=this.horiz=U("div",[U("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");_.tabIndex=C.tabIndex=-1,A(_),A(C),Ge(_,"scroll",function(){_.clientHeight&&p(_.scrollTop,"vertical")}),Ge(C,"scroll",function(){C.clientWidth&&p(C.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,_n&&De<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Oh.prototype.update=function(A){var p=A.scrollWidth>A.clientWidth+1,w=A.scrollHeight>A.clientHeight+1,_=A.nativeBarWidth;return w?(this.vert.style.display="block",this.vert.style.bottom=p?_+"px":"0",this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+(A.viewHeight-(p?_:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),p?(this.horiz.style.display="block",this.horiz.style.right=w?_+"px":"0",this.horiz.style.left=A.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+(A.viewWidth-A.barLeft-(w?_:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&A.clientHeight>0&&(0==_&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:w?_:0,bottom:p?_:0}},Oh.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Oh.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Oh.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=In&&!$t?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ft,this.disableVert=new Ft},Oh.prototype.enableZeroWidthBar=function(A,p,w){A.style.visibility="",p.set(1e3,function _(){var C=A.getBoundingClientRect();("vert"==w?document.elementFromPoint(C.right-1,(C.top+C.bottom)/2):document.elementFromPoint((C.right+C.left)/2,C.bottom-1))!=A?A.style.visibility="hidden":p.set(1e3,_)})},Oh.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var kh=function(){};function Nh(A,p){p||(p=Fh(A));var w=A.display.barWidth,_=A.display.barHeight;nv(A,p);for(var C=0;C<4&&w!=A.display.barWidth||_!=A.display.barHeight;C++)w!=A.display.barWidth&&A.options.lineWrapping&&wo(A),nv(A,Fh(A)),w=A.display.barWidth,_=A.display.barHeight}function nv(A,p){var w=A.display,_=w.scrollbars.update(p);w.sizer.style.paddingRight=(w.barWidth=_.right)+"px",w.sizer.style.paddingBottom=(w.barHeight=_.bottom)+"px",w.heightForcer.style.borderBottom=_.bottom+"px solid transparent",_.right&&_.bottom?(w.scrollbarFiller.style.display="block",w.scrollbarFiller.style.height=_.bottom+"px",w.scrollbarFiller.style.width=_.right+"px"):w.scrollbarFiller.style.display="",_.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(w.gutterFiller.style.display="block",w.gutterFiller.style.height=_.bottom+"px",w.gutterFiller.style.width=p.gutterWidth+"px"):w.gutterFiller.style.display=""}kh.prototype.update=function(){return{bottom:0,right:0}},kh.prototype.setScrollLeft=function(){},kh.prototype.setScrollTop=function(){},kh.prototype.clear=function(){};var OA={native:Oh,null:kh};function $4(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&Wn(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new OA[A.options.scrollbarStyle](function(p){A.display.wrapper.insertBefore(p,A.display.scrollbarFiller),Ge(p,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),p.setAttribute("cm-not-content","true")},function(p,w){"horizontal"==w?sp(A,p):op(A,p)},A),A.display.scrollbars.addClass&&Me(A.display.wrapper,A.display.scrollbars.addClass)}var iv=0;function Jf(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++iv,markArrays:null},function X1(A){$a?$a.ops.push(A):A.ownsGroup=$a={ops:[A],delayedCallbacks:[]}}(A.curOp)}function Pd(A){var p=A.curOp;p&&function V4(A,p){var w=A.ownsGroup;if(w)try{!function Q4(A){var p=A.delayedCallbacks,w=0;do{for(;w<p.length;w++)p[w].call(null);for(var _=0;_<A.ops.length;_++){var C=A.ops[_];if(C.cursorActivityHandlers)for(;C.cursorActivityCalled<C.cursorActivityHandlers.length;)C.cursorActivityHandlers[C.cursorActivityCalled++].call(null,C.cm)}}while(w<p.length)}(w)}finally{$a=null,p(w)}}(p,function(w){for(var _=0;_<w.ops.length;_++)w.ops[_].cm.curOp=null;!function rv(A){for(var p=A.ops,w=0;w<p.length;w++)im(p[w]);for(var _=0;_<p.length;_++)su(p[_]);for(var C=0;C<p.length;C++)ap(p[C]);for(var O=0;O<p.length;O++)ov(p[O]);for(var V=0;V<p.length;V++)sv(p[V])}(w)})}function im(A){var p=A.cm,w=p.display;(function nc(A){var p=A.display;!p.scrollbarsClipped&&p.scroller.offsetWidth&&(p.nativeBarWidth=p.scroller.offsetWidth-p.scroller.clientWidth,p.heightForcer.style.height=ou(A)+"px",p.sizer.style.marginBottom=-p.nativeBarWidth+"px",p.sizer.style.borderRightWidth=ou(A)+"px",p.scrollbarsClipped=!0)})(p),A.updateMaxLine&&bl(p),A.mustUpdate=A.viewChanged||A.forceUpdate||null!=A.scrollTop||A.scrollToPos&&(A.scrollToPos.from.line<w.viewFrom||A.scrollToPos.to.line>=w.viewTo)||w.maxLineChanged&&p.options.lineWrapping,A.update=A.mustUpdate&&new lp(p,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function su(A){A.updatedDisplay=A.mustUpdate&&kA(A.cm,A.update)}function ap(A){var p=A.cm,w=p.display;A.updatedDisplay&&wo(p),A.barMeasure=Fh(p),w.maxLineChanged&&!p.options.lineWrapping&&(A.adjustWidthTo=Te(p,w.maxLine,w.maxLine.text.length).left+3,p.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(w.scroller.clientWidth,w.sizer.offsetLeft+A.adjustWidthTo+ou(p)+p.display.barWidth),A.maxScrollLeft=Math.max(0,w.sizer.offsetLeft+A.adjustWidthTo-Cl(p))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=w.input.prepareSelection())}function ov(A){var p=A.cm;null!=A.adjustWidthTo&&(p.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<p.doc.scrollLeft&&sp(p,Math.min(p.display.scroller.scrollLeft,A.maxScrollLeft),!0),p.display.maxLineChanged=!1);var w=A.focus&&A.focus==le(ve(p));A.preparedSelection&&p.display.input.showSelection(A.preparedSelection,w),(A.updatedDisplay||A.startHeight!=p.doc.height)&&Nh(p,A.barMeasure),A.updatedDisplay&&lv(p,A.barMeasure),A.selectionChanged&&Th(p),p.state.focused&&A.updateInput&&p.display.input.reset(A.typing),w&&Yo(A.cm)}function sv(A){var p=A.cm,w=p.display,_=p.doc;A.updatedDisplay&&q4(p,A.update),null!=w.wheelStartX&&(null!=A.scrollTop||null!=A.scrollLeft||A.scrollToPos)&&(w.wheelStartX=w.wheelStartY=null),null!=A.scrollTop&&FA(p,A.scrollTop,A.forceScroll),null!=A.scrollLeft&&sp(p,A.scrollLeft,!0,!0),A.scrollToPos&&function DA(A,p){if(!Ct(A,"scrollCursorIntoView")){var w=A.display,_=w.sizer.getBoundingClientRect(),C=null,O=w.wrapper.ownerDocument;if(p.top+_.top<0?C=!0:p.bottom+_.top>(O.defaultView.innerHeight||O.documentElement.clientHeight)&&(C=!1),null!=C&&!Bi){var V=U("div","\u200b",null,"position: absolute;\n                         top: "+(p.top-w.viewOffset-Zs(A.display))+"px;\n                         height: "+(p.bottom-p.top+ou(A)+w.barHeight)+"px;\n                         left: "+p.left+"px; width: "+Math.max(2,p.right-p.left)+"px;");A.display.lineSpace.appendChild(V),V.scrollIntoView(C),A.display.lineSpace.removeChild(V)}}}(p,function xl(A,p,w,_){var C;null==_&&(_=0),!A.options.lineWrapping&&p==w&&(w="before"==p.sticky?rt(p.line,p.ch+1,"before"):p,p=p.ch?rt(p.line,"before"==p.sticky?p.ch-1:p.ch,"after"):p);for(var O=0;O<5;O++){var V=!1,J=Ur(A,p),re=w&&w!=p?Ur(A,w):J,de=em(A,C={left:Math.min(J.left,re.left),top:Math.min(J.top,re.top)-_,right:Math.max(J.left,re.left),bottom:Math.max(J.bottom,re.bottom)+_}),ze=A.doc.scrollTop,nt=A.doc.scrollLeft;if(null!=de.scrollTop&&(op(A,de.scrollTop),Math.abs(A.doc.scrollTop-ze)>1&&(V=!0)),null!=de.scrollLeft&&(sp(A,de.scrollLeft),Math.abs(A.doc.scrollLeft-nt)>1&&(V=!0)),!V)break}return C}(p,En(_,A.scrollToPos.from),En(_,A.scrollToPos.to),A.scrollToPos.margin));var O=A.maybeHiddenMarkers,V=A.maybeUnhiddenMarkers;if(O)for(var J=0;J<O.length;++J)O[J].lines.length||xt(O[J],"hide");if(V)for(var re=0;re<V.length;++re)V[re].lines.length&&xt(V[re],"unhide");w.wrapper.offsetHeight&&(_.scrollTop=p.display.scroller.scrollTop),A.changeObjs&&xt(p,"changes",p,A.changeObjs),A.update&&A.update.finish()}function Kl(A,p){if(A.curOp)return p();Jf(A);try{return p()}finally{Pd(A)}}function cl(A,p){return function(){if(A.curOp)return p.apply(A,arguments);Jf(A);try{return p.apply(A,arguments)}finally{Pd(A)}}}function qa(A){return function(){if(this.curOp)return A.apply(this,arguments);Jf(this);try{return A.apply(this,arguments)}finally{Pd(this)}}}function Sl(A){return function(){var p=this.cm;if(!p||p.curOp)return A.apply(this,arguments);Jf(p);try{return A.apply(this,arguments)}finally{Pd(p)}}}function Ng(A,p){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(p,Yt(M9,A))}function M9(A){var p=A.doc;if(!(p.highlightFrontier>=A.display.viewTo)){var w=+new Date+A.options.workTime,_=dr(A,p.highlightFrontier),C=[];p.iter(_.line,Math.min(p.first+p.size,A.display.viewTo+500),function(O){if(_.line>=A.display.viewFrom){var V=O.styles,J=O.text.length>A.options.maxHighlightLength?Et(p.mode,_.state):null,re=Z0(A,O,_,!0);J&&(_.state=J),O.styles=re.styles;var de=O.styleClasses,ze=re.classes;ze?O.styleClasses=ze:de&&(O.styleClasses=null);for(var nt=!V||V.length!=O.styles.length||de!=ze&&(!de||!ze||de.bgClass!=ze.bgClass||de.textClass!=ze.textClass),Pt=0;!nt&&Pt<V.length;++Pt)nt=V[Pt]!=O.styles[Pt];nt&&C.push(_.line),O.stateAfter=_.save(),_.nextLine()}else O.text.length<=A.options.maxHighlightLength&&m(A,O.text,_),O.stateAfter=_.line%5==0?_.save():null,_.nextLine();if(+new Date>w)return Ng(A,A.options.workDelay),!0}),p.highlightFrontier=_.line,p.modeFrontier=Math.max(p.modeFrontier,_.line),C.length&&Kl(A,function(){for(var O=0;O<C.length;O++)Ul(A,C[O],"text")})}}var lp=function(A,p,w){var _=A.display;this.viewport=p,this.visible=ul(_,A.doc,p),this.editorIsHidden=!_.wrapper.offsetWidth,this.wrapperHeight=_.wrapper.clientHeight,this.wrapperWidth=_.wrapper.clientWidth,this.oldDisplayWidth=Cl(A),this.force=w,this.dims=Au(A),this.events=[]};function kA(A,p){var w=A.display,_=A.doc;if(p.editorIsHidden)return hu(A),!1;if(!p.force&&p.visible.from>=w.viewFrom&&p.visible.to<=w.viewTo&&(null==w.updateLineNumbers||w.updateLineNumbers>=w.viewTo)&&w.renderedView==w.view&&0==Mc(A))return!1;j4(A)&&(hu(A),p.dims=Au(A));var C=_.first+_.size,O=Math.max(p.visible.from-A.options.viewportMargin,_.first),V=Math.min(C,p.visible.to+A.options.viewportMargin);w.viewFrom<O&&O-w.viewFrom<20&&(O=Math.max(_.first,w.viewFrom)),w.viewTo>V&&w.viewTo-V<20&&(V=Math.min(C,w.viewTo)),un&&(O=jl(A.doc,O),V=Ou(A.doc,V));var J=O!=w.viewFrom||V!=w.viewTo||w.lastWrapHeight!=p.wrapperHeight||w.lastWrapWidth!=p.wrapperWidth;(function Ud(A,p,w){var _=A.display;0==_.view.length||p>=_.viewTo||w<=_.viewFrom?(_.view=Yf(A,p,w),_.viewFrom=p):(_.viewFrom>p?_.view=Yf(A,p,_.viewFrom).concat(_.view):_.viewFrom<p&&(_.view=_.view.slice(al(A,p))),_.viewFrom=p,_.viewTo<w?_.view=_.view.concat(Yf(A,_.viewTo,w)):_.viewTo>w&&(_.view=_.view.slice(0,al(A,w)))),_.viewTo=w})(A,O,V),w.viewOffset=Us(Xt(A.doc,w.viewFrom)),A.display.mover.style.top=w.viewOffset+"px";var re=Mc(A);if(!J&&0==re&&!p.force&&w.renderedView==w.view&&(null==w.updateLineNumbers||w.updateLineNumbers>=w.viewTo))return!1;var de=function G4(A){if(A.hasFocus())return null;var p=le(ve(A));if(!p||!oe(A.display.lineDiv,p))return null;var w={activeElt:p};if(window.getSelection){var _=at(A).getSelection();_.anchorNode&&_.extend&&oe(A.display.lineDiv,_.anchorNode)&&(w.anchorNode=_.anchorNode,w.anchorOffset=_.anchorOffset,w.focusNode=_.focusNode,w.focusOffset=_.focusOffset)}return w}(A);return re>4&&(w.lineDiv.style.display="none"),function Bl(A,p,w){var _=A.display,C=A.options.lineNumbers,O=_.lineDiv,V=O.firstChild;function J(Bn){var $n=Bn.nextSibling;return it&&In&&A.display.currentWheelTarget==Bn?Bn.style.display="none":Bn.parentNode.removeChild(Bn),$n}for(var re=_.view,de=_.viewFrom,ze=0;ze<re.length;ze++){var nt=re[ze];if(!nt.hidden)if(nt.node&&nt.node.parentNode==O){for(;V!=nt.node;)V=J(V);var Dt=C&&null!=p&&p<=de&&nt.lineNumber;nt.changes&&(Pn(nt.changes,"gutter")>-1&&(Dt=!1),Y1(A,nt,de,w)),Dt&&(qe(nt.lineNumber),nt.lineNumber.appendChild(document.createTextNode(Oe(A.options,de)))),V=nt.node.nextSibling}else{var Pt=Ar(A,nt,de,w);O.insertBefore(Pt,V)}de+=nt.size}for(;V;)V=J(V)}(A,w.updateLineNumbers,p.dims),re>4&&(w.lineDiv.style.display=""),w.renderedView=w.view,function rm(A){if(A&&A.activeElt&&A.activeElt!=le(ne(A.activeElt))&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&oe(document.body,A.anchorNode)&&oe(document.body,A.focusNode))){var p=A.activeElt.ownerDocument,w=p.defaultView.getSelection(),_=p.createRange();_.setEnd(A.anchorNode,A.anchorOffset),_.collapse(!1),w.removeAllRanges(),w.addRange(_),w.extend(A.focusNode,A.focusOffset)}}(de),qe(w.cursorDiv),qe(w.selectionDiv),w.gutters.style.height=w.sizer.style.minHeight=0,J&&(w.lastWrapHeight=p.wrapperHeight,w.lastWrapWidth=p.wrapperWidth,Ng(A,400)),w.updateLineNumbers=null,!0}function q4(A,p){for(var w=p.viewport,_=!0;;_=!1){if(_&&A.options.lineWrapping&&p.oldDisplayWidth!=Cl(A))_&&(p.visible=ul(A.display,A.doc,w));else if(w&&null!=w.top&&(w={top:Math.min(A.doc.height+np(A.display)-tc(A),w.top)}),p.visible=ul(A.display,A.doc,w),p.visible.from>=A.display.viewFrom&&p.visible.to<=A.display.viewTo)break;if(!kA(A,p))break;wo(A);var C=Fh(A);Ga(A),Nh(A,C),lv(A,C),p.force=!1}p.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(p.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function av(A,p){var w=new lp(A,p);if(kA(A,w)){wo(A),q4(A,w);var _=Fh(A);Ga(A),Nh(A,_),lv(A,_),w.finish()}}function om(A){A.sizer.style.marginLeft=A.gutters.offsetWidth+"px",ba(A,"gutterChanged",A)}function lv(A,p){A.display.sizer.style.minHeight=p.docHeight+"px",A.display.heightForcer.style.top=p.docHeight+"px",A.display.gutters.style.height=p.docHeight+A.display.barHeight+ou(A)+"px"}function up(A){var p=A.display,w=p.view;if(p.alignWidgets||p.gutters.firstChild&&A.options.fixedGutter){for(var _=El(p)-p.scroller.scrollLeft+A.doc.scrollLeft,C=p.gutters.offsetWidth,O=_+"px",V=0;V<w.length;V++)if(!w[V].hidden){A.options.fixedGutter&&(w[V].gutter&&(w[V].gutter.style.left=O),w[V].gutterBackground&&(w[V].gutterBackground.style.left=O));var J=w[V].alignable;if(J)for(var re=0;re<J.length;re++)J[re].style.left=O}A.options.fixedGutter&&(p.gutters.style.left=_+C+"px")}}function j4(A){if(!A.options.lineNumbers)return!1;var p=A.doc,w=Oe(A.options,p.first+p.size-1),_=A.display;if(w.length!=_.lineNumChars){var C=_.measure.appendChild(U("div",[U("div",w)],"CodeMirror-linenumber CodeMirror-gutter-elt")),O=C.firstChild.offsetWidth,V=C.offsetWidth-O;return _.lineGutter.style.width="",_.lineNumInnerWidth=Math.max(O,_.lineGutter.offsetWidth-V)+1,_.lineNumWidth=_.lineNumInnerWidth+V,_.lineNumChars=_.lineNumInnerWidth?w.length:-1,_.lineGutter.style.width=_.lineNumWidth+"px",om(A.display),!0}return!1}function uv(A,p){for(var w=[],_=!1,C=0;C<A.length;C++){var O=A[C],V=null;if("string"!=typeof O&&(V=O.style,O=O.className),"CodeMirror-linenumbers"==O){if(!p)continue;_=!0}w.push({className:O,style:V})}return p&&!_&&w.push({className:"CodeMirror-linenumbers",style:null}),w}function K4(A){var p=A.gutters,w=A.gutterSpecs;qe(p),A.lineGutter=null;for(var _=0;_<w.length;++_){var C=w[_],O=C.className,V=C.style,J=p.appendChild(U("div",null,"CodeMirror-gutter "+O));V&&(J.style.cssText=V),"CodeMirror-linenumbers"==O&&(A.lineGutter=J,J.style.width=(A.lineNumWidth||1)+"px")}p.style.display=w.length?"":"none",om(A)}function cp(A){K4(A.display),Hs(A),up(A)}function I9(A,p,w,_){var C=this;this.input=w,C.scrollbarFiller=U("div",null,"CodeMirror-scrollbar-filler"),C.scrollbarFiller.setAttribute("cm-not-content","true"),C.gutterFiller=U("div",null,"CodeMirror-gutter-filler"),C.gutterFiller.setAttribute("cm-not-content","true"),C.lineDiv=G("div",null,"CodeMirror-code"),C.selectionDiv=U("div",null,null,"position: relative; z-index: 1"),C.cursorDiv=U("div",null,"CodeMirror-cursors"),C.measure=U("div",null,"CodeMirror-measure"),C.lineMeasure=U("div",null,"CodeMirror-measure"),C.lineSpace=G("div",[C.measure,C.lineMeasure,C.selectionDiv,C.cursorDiv,C.lineDiv],null,"position: relative; outline: none");var O=G("div",[C.lineSpace],"CodeMirror-lines");C.mover=U("div",[O],null,"position: relative"),C.sizer=U("div",[C.mover],"CodeMirror-sizer"),C.sizerWidth=null,C.heightForcer=U("div",null,null,"position: absolute; height: "+Si+"px; width: 1px;"),C.gutters=U("div",null,"CodeMirror-gutters"),C.lineGutter=null,C.scroller=U("div",[C.sizer,C.heightForcer,C.gutters],"CodeMirror-scroll"),C.scroller.setAttribute("tabIndex","-1"),C.wrapper=U("div",[C.scrollbarFiller,C.gutterFiller,C.scroller],"CodeMirror"),bn&&Qi>=105&&(C.wrapper.style.clipPath="inset(0px)"),C.wrapper.setAttribute("translate","no"),_n&&De<8&&(C.gutters.style.zIndex=-1,C.scroller.style.paddingRight=0),!it&&!(Ln&&Tt)&&(C.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(C.wrapper):A(C.wrapper)),C.viewFrom=C.viewTo=p.first,C.reportedViewFrom=C.reportedViewTo=p.first,C.view=[],C.renderedView=null,C.externalMeasured=null,C.viewOffset=0,C.lastWrapHeight=C.lastWrapWidth=0,C.updateLineNumbers=null,C.nativeBarWidth=C.barHeight=C.barWidth=0,C.scrollbarsClipped=!1,C.lineNumWidth=C.lineNumInnerWidth=C.lineNumChars=null,C.alignWidgets=!1,C.cachedCharWidth=C.cachedTextHeight=C.cachedPaddingH=null,C.maxLine=null,C.maxLineLength=0,C.maxLineChanged=!1,C.wheelDX=C.wheelDY=C.wheelStartX=C.wheelStartY=null,C.shift=!1,C.selForContextMenu=null,C.activeTouch=null,C.gutterSpecs=uv(_.gutters,_.lineNumbers),K4(C),w.init(C)}lp.prototype.signal=function(A,p){hn(A,p)&&this.events.push(arguments)},lp.prototype.finish=function(){for(var A=0;A<this.events.length;A++)xt.apply(null,this.events[A])};var sm=0,pf=null;function NA(A){var p=A.wheelDeltaX,w=A.wheelDeltaY;return null==p&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(p=A.detail),null==w&&A.detail&&A.axis==A.VERTICAL_AXIS?w=A.detail:null==w&&(w=A.wheelDelta),{x:p,y:w}}function ha(A){var p=NA(A);return p.x*=pf,p.y*=pf,p}function Ii(A,p){bn&&102==Qi&&(null==A.display.chromeScrollHack?A.display.sizer.style.pointerEvents="none":clearTimeout(A.display.chromeScrollHack),A.display.chromeScrollHack=setTimeout(function(){A.display.chromeScrollHack=null,A.display.sizer.style.pointerEvents=""},100));var w=NA(p),_=w.x,C=w.y,O=pf;0===p.deltaMode&&(_=p.deltaX,C=p.deltaY,O=1);var V=A.display,J=V.scroller,de=J.scrollHeight>J.clientHeight;if(_&&J.scrollWidth>J.clientWidth||C&&de){if(C&&In&&it)e:for(var ze=p.target,nt=V.view;ze!=J;ze=ze.parentNode)for(var Pt=0;Pt<nt.length;Pt++)if(nt[Pt].node==ze){A.display.currentWheelTarget=ze;break e}if(_&&!Ln&&!Ht&&null!=O)return C&&de&&op(A,Math.max(0,J.scrollTop+C*O)),sp(A,Math.max(0,J.scrollLeft+_*O)),(!C||C&&de)&&xn(p),void(V.wheelStartX=null);if(C&&null!=O){var Dt=C*O,Bn=A.doc.scrollTop,$n=Bn+V.wrapper.clientHeight;Dt<0?Bn=Math.max(0,Bn+Dt-50):$n=Math.min(A.doc.height,$n+Dt+50),av(A,{top:Bn,bottom:$n})}sm<20&&0!==p.deltaMode&&(null==V.wheelStartX?(V.wheelStartX=J.scrollLeft,V.wheelStartY=J.scrollTop,V.wheelDX=_,V.wheelDY=C,setTimeout(function(){if(null!=V.wheelStartX){var Ai=J.scrollLeft-V.wheelStartX,Ni=J.scrollTop-V.wheelStartY,Oi=Ni&&V.wheelDY&&Ni/V.wheelDY||Ai&&V.wheelDX&&Ai/V.wheelDX;V.wheelStartX=V.wheelStartY=null,Oi&&(pf=(pf*sm+Oi)/(sm+1),++sm)}},200)):(V.wheelDX+=_,V.wheelDY+=C))}}_n?pf=-.53:Ln?pf=15:bn?pf=-.7:Fe&&(pf=-1/3);var sr=function(A,p){this.ranges=A,this.primIndex=p};sr.prototype.primary=function(){return this.ranges[this.primIndex]},sr.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var p=0;p<this.ranges.length;p++){var w=this.ranges[p],_=A.ranges[p];if(!zi(w.anchor,_.anchor)||!zi(w.head,_.head))return!1}return!0},sr.prototype.deepCopy=function(){for(var A=[],p=0;p<this.ranges.length;p++)A[p]=new Vr(nn(this.ranges[p].anchor),nn(this.ranges[p].head));return new sr(A,this.primIndex)},sr.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},sr.prototype.contains=function(A,p){p||(p=A);for(var w=0;w<this.ranges.length;w++){var _=this.ranges[w];if(Ot(p,_.from())>=0&&Ot(A,_.to())<=0)return w}return-1};var Vr=function(A,p){this.anchor=A,this.head=p};function ja(A,p,w){var _=A&&A.options.selectionsMayTouch,C=p[w];p.sort(function(Pt,Dt){return Ot(Pt.from(),Dt.from())}),w=Pn(p,C);for(var O=1;O<p.length;O++){var V=p[O],J=p[O-1],re=Ot(J.to(),V.from());if(_&&!V.empty()?re>0:re>=0){var de=Co(J.from(),V.from()),ze=be(J.to(),V.to()),nt=J.empty()?V.from()==V.head:J.from()==J.head;O<=w&&--w,p.splice(--O,2,new Vr(nt?ze:de,nt?de:ze))}}return new sr(p,w)}function Ca(A,p){return new sr([new Vr(A,p||A)],0)}function fl(A){return A.text?rt(A.from.line+A.text.length-1,Ve(A.text).length+(1==A.text.length?A.from.ch:0)):A.to}function Lh(A,p){if(Ot(A,p.from)<0)return A;if(Ot(A,p.to)<=0)return fl(p);var w=A.line+p.text.length-(p.to.line-p.from.line)-1,_=A.ch;return A.line==p.to.line&&(_+=fl(p).ch-p.to.ch),rt(w,_)}function bs(A,p){for(var w=[],_=0;_<A.sel.ranges.length;_++){var C=A.sel.ranges[_];w.push(new Vr(Lh(C.anchor,p),Lh(C.head,p)))}return ja(A.cm,w,A.sel.primIndex)}function Ka(A,p,w){return A.line==p.line?rt(w.line,A.ch-p.ch+w.ch):rt(w.line+(A.line-p.line),A.ch)}function ur(A){A.doc.mode=gt(A.options,A.doc.modeOption),Hd(A)}function Hd(A){A.doc.iter(function(p){p.stateAfter&&(p.stateAfter=null),p.styles&&(p.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,Ng(A,100),A.state.modeGen++,A.curOp&&Hs(A)}function cv(A,p){return 0==p.from.ch&&0==p.to.ch&&""==Ve(p.text)&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function LA(A,p,w,_){function C(Oi){return w?w[Oi]:null}function O(Oi,Ri,Ki){(function rl(A,p,w,_){A.text=p,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),null!=A.order&&(A.order=null),vs(A),ca(A,w);var C=_?_(A):1;C!=A.height&&Yr(A,C)})(Oi,Ri,Ki,_),ba(Oi,"change",Oi,p)}function V(Oi,Ri){for(var Ki=[],Dr=Oi;Dr<Ri;++Dr)Ki.push(new Ll(de[Dr],C(Dr),_));return Ki}var J=p.from,re=p.to,de=p.text,ze=Xt(A,J.line),nt=Xt(A,re.line),Pt=Ve(de),Dt=C(de.length-1),Bn=re.line-J.line;if(p.full)A.insert(0,V(0,de.length)),A.remove(de.length,A.size-de.length);else if(cv(A,p)){var $n=V(0,de.length-1);O(nt,nt.text,Dt),Bn&&A.remove(J.line,Bn),$n.length&&A.insert(J.line,$n)}else if(ze==nt)if(1==de.length)O(ze,ze.text.slice(0,J.ch)+Pt+ze.text.slice(re.ch),Dt);else{var Ai=V(1,de.length-1);Ai.push(new Ll(Pt+ze.text.slice(re.ch),Dt,_)),O(ze,ze.text.slice(0,J.ch)+de[0],C(0)),A.insert(J.line+1,Ai)}else if(1==de.length)O(ze,ze.text.slice(0,J.ch)+de[0]+nt.text.slice(re.ch),C(0)),A.remove(J.line+1,Bn);else{O(ze,ze.text.slice(0,J.ch)+de[0],C(0)),O(nt,Pt+nt.text.slice(re.ch),Dt);var Ni=V(1,de.length-1);Bn>1&&A.remove(J.line+1,Bn-1),A.insert(J.line+1,Ni)}ba(A,"change",A,p)}function hs(A,p,w){!function _(C,O,V){if(C.linked)for(var J=0;J<C.linked.length;++J){var re=C.linked[J];if(re.doc!=O){var de=V&&re.sharedHist;w&&!de||(p(re.doc,de),_(re.doc,C,de))}}}(A,null,!0)}function fp(A,p){if(p.cm)throw new Error("This document is already in use.");A.doc=p,p.cm=A,Aa(A),ur(A),RA(A),A.options.direction=p.direction,A.options.lineWrapping||bl(A),A.options.mode=p.modeOption,Hs(A)}function RA(A){("rtl"==A.doc.direction?Me:Wn)(A.display.lineDiv,"CodeMirror-rtl")}function UA(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function am(A,p){var w={from:nn(p.from),to:fl(p),text:hr(A,p.from,p.to)};return mf(A,w,p.from.line,p.to.line+1),hs(A,function(_){return mf(_,w,p.from.line,p.to.line+1)},!0),w}function Vd(A){for(;A.length&&Ve(A).ranges;)A.pop()}function PA(A,p,w,_){var C=A.history;C.undone.length=0;var V,J,O=+new Date;if((C.lastOp==_||C.lastOrigin==p.origin&&p.origin&&("+"==p.origin.charAt(0)&&C.lastModTime>O-(A.cm?A.cm.options.historyEventDelay:500)||"*"==p.origin.charAt(0)))&&(V=function lm(A,p){return p?(Vd(A.done),Ve(A.done)):A.done.length&&!Ve(A.done).ranges?Ve(A.done):A.done.length>1&&!A.done[A.done.length-2].ranges?(A.done.pop(),Ve(A.done)):void 0}(C,C.lastOp==_)))J=Ve(V.changes),0==Ot(p.from,p.to)&&0==Ot(p.from,J.to)?J.to=fl(p):V.changes.push(am(A,p));else{var re=Ve(C.done);for((!re||!re.ranges)&&HA(A.sel,C.done),V={changes:[am(A,p)],generation:C.generation},C.done.push(V);C.done.length>C.undoDepth;)C.done.shift(),C.done[0].ranges||C.done.shift()}C.done.push(w),C.generation=++C.maxGeneration,C.lastModTime=C.lastSelTime=O,C.lastOp=C.lastSelOp=_,C.lastOrigin=C.lastSelOrigin=p.origin,J||xt(A,"historyAdded")}function tr(A,p,w,_){var C=A.history,O=_&&_.origin;w==C.lastSelOp||O&&C.lastSelOrigin==O&&(C.lastModTime==C.lastSelTime&&C.lastOrigin==O||function ro(A,p,w,_){var C=p.charAt(0);return"*"==C||"+"==C&&w.ranges.length==_.ranges.length&&w.somethingSelected()==_.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}(A,O,Ve(C.done),p))?C.done[C.done.length-1]=p:HA(p,C.done),C.lastSelTime=+new Date,C.lastSelOrigin=O,C.lastSelOp=w,_&&!1!==_.clearRedo&&Vd(C.undone)}function HA(A,p){var w=Ve(p);w&&w.ranges&&w.equals(A)||p.push(A)}function mf(A,p,w,_){var C=p["spans_"+A.id],O=0;A.iter(Math.max(A.first,w),Math.min(A.first+A.size,_),function(V){V.markedSpans&&((C||(C=p["spans_"+A.id]={}))[O]=V.markedSpans),++O})}function dp(A){if(!A)return null;for(var p,w=0;w<A.length;++w)A[w].marker.explicitlyCleared?p||(p=A.slice(0,w)):p&&p.push(A[w]);return p?p.length?p:null:A}function ka(A,p){var w=function gu(A,p){var w=p["spans_"+A.id];if(!w)return null;for(var _=[],C=0;C<p.text.length;++C)_.push(dp(w[C]));return _}(A,p),_=No(A,p);if(!w)return _;if(!_)return w;for(var C=0;C<w.length;++C){var O=w[C],V=_[C];if(O&&V)e:for(var J=0;J<V.length;++J){for(var re=V[J],de=0;de<O.length;++de)if(O[de].marker==re.marker)continue e;O.push(re)}else V&&(w[C]=V)}return w}function zd(A,p,w){for(var _=[],C=0;C<A.length;++C){var O=A[C];if(O.ranges)_.push(w?sr.prototype.deepCopy.call(O):O);else{var V=O.changes,J=[];_.push({changes:J});for(var re=0;re<V.length;++re){var de=V[re],ze=void 0;if(J.push({from:de.from,to:de.to,text:de.text}),p)for(var nt in de)(ze=nt.match(/^spans_(\d+)$/))&&Pn(p,Number(ze[1]))>-1&&(Ve(J)[nt]=de[nt],delete de[nt])}}}return _}function Na(A,p,w,_){if(_){var C=A.anchor;if(w){var O=Ot(p,C)<0;O!=Ot(w,C)<0?(C=p,p=w):O!=Ot(p,w)<0&&(p=w)}return new Vr(C,p)}return new Vr(w||p,p)}function La(A,p,w,_,C){null==C&&(C=A.cm&&(A.cm.display.shift||A.extend)),Ml(A,new sr([Na(A.sel.primary(),p,w,C)],0),_)}function um(A,p,w){for(var _=[],C=A.cm&&(A.cm.display.shift||A.extend),O=0;O<A.sel.ranges.length;O++)_[O]=Na(A.sel.ranges[O],p[O],null,C);Ml(A,ja(A.cm,_,A.sel.primIndex),w)}function $d(A,p,w,_){var C=A.sel.ranges.slice(0);C[p]=w,Ml(A,ja(A.cm,C,A.sel.primIndex),_)}function Lg(A,p,w,_){Ml(A,Ca(p,w),_)}function Ap(A,p,w){var _=A.history.done,C=Ve(_);C&&C.ranges?(_[_.length-1]=p,cm(A,p,w)):Ml(A,p,w)}function Ml(A,p,w){cm(A,p,w),tr(A,A.sel,A.cm?A.cm.curOp.id:NaN,w)}function cm(A,p,w){(hn(A,"beforeSelectionChange")||A.cm&&hn(A.cm,"beforeSelectionChange"))&&(p=function Wl(A,p,w){var _={ranges:p.ranges,update:function(C){this.ranges=[];for(var O=0;O<C.length;O++)this.ranges[O]=new Vr(En(A,C[O].anchor),En(A,C[O].head))},origin:w&&w.origin};return xt(A,"beforeSelectionChange",A,_),A.cm&&xt(A.cm,"beforeSelectionChange",A.cm,_),_.ranges!=p.ranges?ja(A.cm,_.ranges,_.ranges.length-1):p}(A,p,w));var _=w&&w.bias||(Ot(p.primary().head,A.sel.primary().head)<0?-1:1);Rg(A,fm(A,p,_,!0)),(!w||!1!==w.scroll)&&A.cm&&"nocursor"!=A.cm.getOption("readOnly")&&rp(A.cm)}function Rg(A,p){p.equals(A.sel)||(A.sel=p,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,mt(A.cm)),ba(A,"cursorActivity",A))}function fv(A){Rg(A,fm(A,A.sel,null,!1))}function fm(A,p,w,_){for(var C,O=0;O<p.ranges.length;O++){var V=p.ranges[O],J=p.ranges.length==A.sel.ranges.length&&A.sel.ranges[O],re=dv(A,V.anchor,J&&J.anchor,w,_),de=V.head==V.anchor?re:dv(A,V.head,J&&J.head,w,_);(C||re!=V.anchor||de!=V.head)&&(C||(C=p.ranges.slice(0,O)),C[O]=new Vr(re,de))}return C?ja(A.cm,C,p.primIndex):p}function QA(A,p,w,_,C){var O=Xt(A,p.line);if(O.markedSpans)for(var V=0;V<O.markedSpans.length;++V){var J=O.markedSpans[V],re=J.marker,de="selectLeft"in re?!re.selectLeft:re.inclusiveLeft,ze="selectRight"in re?!re.selectRight:re.inclusiveRight;if((null==J.from||(de?J.from<=p.ch:J.from<p.ch))&&(null==J.to||(ze?J.to>=p.ch:J.to>p.ch))){if(C&&(xt(re,"beforeCursorEnter"),re.explicitlyCleared)){if(O.markedSpans){--V;continue}break}if(!re.atomic)continue;if(w){var nt=re.find(_<0?1:-1),Pt=void 0;if((_<0?ze:de)&&(nt=D9(A,nt,-_,nt&&nt.line==p.line?O:null)),nt&&nt.line==p.line&&(Pt=Ot(nt,w))&&(_<0?Pt<0:Pt>0))return QA(A,nt,p,_,C)}var Dt=re.find(_<0?-1:1);return(_<0?de:ze)&&(Dt=D9(A,Dt,_,Dt.line==p.line?O:null)),Dt?QA(A,Dt,p,_,C):null}}return p}function dv(A,p,w,_,C){var O=_||1;return QA(A,p,w,O,C)||!C&&QA(A,p,w,O,!0)||QA(A,p,w,-O,C)||!C&&QA(A,p,w,-O,!0)||(A.cantEdit=!0,rt(A.first,0))}function D9(A,p,w,_){return w<0&&0==p.ch?p.line>A.first?En(A,rt(p.line-1)):null:w>0&&p.ch==(_||Xt(A,p.line)).text.length?p.line<A.first+A.size-1?rt(p.line+1,0):null:new rt(p.line,p.ch+w)}function T9(A){A.setSelection(rt(A.firstLine(),0),rt(A.lastLine()),si)}function F9(A,p,w){var _={canceled:!1,from:p.from,to:p.to,text:p.text,origin:p.origin,cancel:function(){return _.canceled=!0}};return w&&(_.update=function(C,O,V,J){C&&(_.from=En(A,C)),O&&(_.to=En(A,O)),V&&(_.text=V),void 0!==J&&(_.origin=J)}),xt(A,"beforeChange",A,_),A.cm&&xt(A.cm,"beforeChange",A.cm,_),_.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:_.from,to:_.to,text:_.text,origin:_.origin}}function Ug(A,p,w){if(A.cm){if(!A.cm.curOp)return cl(A.cm,Ug)(A,p,w);if(A.cm.state.suppressEdits)return}if(!(hn(A,"beforeChange")||A.cm&&hn(A.cm,"beforeChange"))||(p=F9(A,p,!0))){var _=Lt&&!w&&function io(A,p,w){var _=null;if(A.iter(p.line,w.line+1,function(Dt){if(Dt.markedSpans)for(var Bn=0;Bn<Dt.markedSpans.length;++Bn){var $n=Dt.markedSpans[Bn].marker;$n.readOnly&&(!_||-1==Pn(_,$n))&&(_||(_=[])).push($n)}}),!_)return null;for(var C=[{from:p,to:w}],O=0;O<_.length;++O)for(var V=_[O],J=V.find(0),re=0;re<C.length;++re){var de=C[re];if(!(Ot(de.to,J.from)<0||Ot(de.from,J.to)>0)){var ze=[re,1],nt=Ot(de.from,J.from),Pt=Ot(de.to,J.to);(nt<0||!V.inclusiveLeft&&!nt)&&ze.push({from:de.from,to:J.from}),(Pt>0||!V.inclusiveRight&&!Pt)&&ze.push({from:J.to,to:de.to}),C.splice.apply(C,ze),re+=ze.length-3}}return C}(A,p.from,p.to);if(_)for(var C=_.length-1;C>=0;--C)O9(A,{from:_[C].from,to:_[C].to,text:C?[""]:p.text,origin:p.origin});else O9(A,p)}}function O9(A,p){if(1!=p.text.length||""!=p.text[0]||0!=Ot(p.from,p.to)){var w=bs(A,p);PA(A,p,w,A.cm?A.cm.curOp.id:NaN),dm(A,p,w,No(A,p));var _=[];hs(A,function(C,O){!O&&-1==Pn(_,C.history)&&(hp(C.history,p),_.push(C.history)),dm(C,p,null,No(C,p))})}}function Av(A,p,w){var _=A.cm&&A.cm.state.suppressEdits;if(!_||w){for(var O,C=A.history,V=A.sel,J="undo"==p?C.done:C.undone,re="undo"==p?C.undone:C.done,de=0;de<J.length&&(O=J[de],!(w?O.ranges&&!O.equals(A.sel):!O.ranges));de++);if(de!=J.length){for(C.lastOrigin=C.lastSelOrigin=null;;){if(!(O=J.pop()).ranges){if(_)return void J.push(O);break}if(HA(O,re),w&&!O.equals(A.sel))return void Ml(A,O,{clearRedo:!1});V=O}var ze=[];HA(V,re),re.push({changes:ze,generation:C.generation}),C.generation=O.generation||++C.maxGeneration;for(var nt=hn(A,"beforeChange")||A.cm&&hn(A.cm,"beforeChange"),Pt=function($n){var Ai=O.changes[$n];if(Ai.origin=p,nt&&!F9(A,Ai,!1))return J.length=0,{};ze.push(am(A,Ai));var Ni=$n?bs(A,Ai):Ve(J);dm(A,Ai,Ni,ka(A,Ai)),!$n&&A.cm&&A.cm.scrollIntoView({from:Ai.from,to:fl(Ai)});var Oi=[];hs(A,function(Ri,Ki){!Ki&&-1==Pn(Oi,Ri.history)&&(hp(Ri.history,Ai),Oi.push(Ri.history)),dm(Ri,Ai,null,ka(Ri,Ai))})},Dt=O.changes.length-1;Dt>=0;--Dt){var Bn=Pt(Dt);if(Bn)return Bn.v}}}}function W4(A,p){if(0!=p&&(A.first+=p,A.sel=new sr(We(A.sel.ranges,function(C){return new Vr(rt(C.anchor.line+p,C.anchor.ch),rt(C.head.line+p,C.head.ch))}),A.sel.primIndex),A.cm)){Hs(A.cm,A.first,A.first-p,p);for(var w=A.cm.display,_=w.viewFrom;_<w.viewTo;_++)Ul(A.cm,_,"gutter")}}function dm(A,p,w,_){if(A.cm&&!A.cm.curOp)return cl(A.cm,dm)(A,p,w,_);if(p.to.line<A.first)W4(A,p.text.length-1-(p.to.line-p.from.line));else if(!(p.from.line>A.lastLine())){if(p.from.line<A.first){var C=p.text.length-1-(A.first-p.from.line);W4(A,C),p={from:rt(A.first,0),to:rt(p.to.line+C,p.to.ch),text:[Ve(p.text)],origin:p.origin}}var O=A.lastLine();p.to.line>O&&(p={from:p.from,to:rt(O,Xt(A,O).text.length),text:[p.text[0]],origin:p.origin}),p.removed=hr(A,p.from,p.to),w||(w=bs(A,p)),A.cm?function tC(A,p,w){var _=A.doc,C=A.display,O=p.from,V=p.to,J=!1,re=O.line;A.options.lineWrapping||(re=ar(Gr(Xt(_,O.line))),_.iter(re,V.line+1,function(Dt){if(Dt==C.maxLine)return J=!0,!0})),_.sel.contains(p.from,p.to)>-1&&mt(A),LA(_,p,w,As(A)),A.options.lineWrapping||(_.iter(re,O.line+p.text.length,function(Dt){var Bn=Ia(Dt);Bn>C.maxLineLength&&(C.maxLine=Dt,C.maxLineLength=Bn,C.maxLineChanged=!0,J=!1)}),J&&(A.curOp.updateMaxLine=!0)),function on(A,p){if(A.modeFrontier=Math.min(A.modeFrontier,p),!(A.highlightFrontier<p-10)){for(var w=A.first,_=p-1;_>w;_--){var C=Xt(A,_).stateAfter;if(C&&(!(C instanceof Fr)||_+C.lookAhead<p)){w=_+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,w)}}(_,O.line),Ng(A,400);var de=p.text.length-(V.line-O.line)-1;p.full?Hs(A):O.line!=V.line||1!=p.text.length||cv(A.doc,p)?Hs(A,O.line,V.line+1,de):Ul(A,O.line,"text");var ze=hn(A,"changes"),nt=hn(A,"change");if(nt||ze){var Pt={from:O,to:V,text:p.text,removed:p.removed,origin:p.origin};nt&&ba(A,"change",A,Pt),ze&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(Pt)}A.display.selForContextMenu=null}(A.cm,p,_):LA(A,p,_),cm(A,w,si),A.cantEdit&&dv(A,rt(A.firstLine(),0))&&(A.cantEdit=!1)}}function Pg(A,p,w,_,C){var O;_||(_=w),Ot(_,w)<0&&(w=(O=[_,w])[0],_=O[1]),"string"==typeof p&&(p=A.splitLines(p)),Ug(A,{from:w,to:_,text:p,origin:C})}function X4(A,p,w,_){w<A.line?A.line+=_:p<A.line&&(A.line=p,A.ch=0)}function hv(A,p,w,_){for(var C=0;C<A.length;++C){var O=A[C],V=!0;if(O.ranges){O.copied||((O=A[C]=O.deepCopy()).copied=!0);for(var J=0;J<O.ranges.length;J++)X4(O.ranges[J].anchor,p,w,_),X4(O.ranges[J].head,p,w,_)}else{for(var re=0;re<O.changes.length;++re){var de=O.changes[re];if(w<de.from.line)de.from=rt(de.from.line+_,de.from.ch),de.to=rt(de.to.line+_,de.to.ch);else if(p<=de.to.line){V=!1;break}}V||(A.splice(0,C+1),C=0)}}}function hp(A,p){var w=p.from.line,_=p.to.line,C=p.text.length-(_-w)-1;hv(A.done,w,_,C),hv(A.undone,w,_,C)}function Am(A,p,w,_){var C=p,O=p;return"number"==typeof p?O=Xt(A,$o(A,p)):C=ar(p),null==C?null:(_(O,C)&&A.cm&&Ul(A.cm,C,w),O)}function pp(A){this.lines=A,this.parent=null;for(var p=0,w=0;w<A.length;++w)A[w].parent=this,p+=A[w].height;this.height=p}function gp(A){this.children=A;for(var p=0,w=0,_=0;_<A.length;++_){var C=A[_];p+=C.chunkSize(),w+=C.height,C.parent=this}this.size=p,this.height=w,this.parent=null}Vr.prototype.from=function(){return Co(this.anchor,this.head)},Vr.prototype.to=function(){return be(this.anchor,this.head)},Vr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},pp.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,p){for(var w=A,_=A+p;w<_;++w){var C=this.lines[w];this.height-=C.height,ol(C),ba(C,"delete")}this.lines.splice(A,p)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,p,w){this.height+=w,this.lines=this.lines.slice(0,A).concat(p).concat(this.lines.slice(A));for(var _=0;_<p.length;++_)p[_].parent=this},iterN:function(A,p,w){for(var _=A+p;A<_;++A)if(w(this.lines[A]))return!0}},gp.prototype={chunkSize:function(){return this.size},removeInner:function(A,p){this.size-=p;for(var w=0;w<this.children.length;++w){var _=this.children[w],C=_.chunkSize();if(A<C){var O=Math.min(p,C-A),V=_.height;if(_.removeInner(A,O),this.height-=V-_.height,C==O&&(this.children.splice(w--,1),_.parent=null),0==(p-=O))break;A=0}else A-=C}if(this.size-p<25&&(this.children.length>1||!(this.children[0]instanceof pp))){var J=[];this.collapse(J),this.children=[new pp(J)],this.children[0].parent=this}},collapse:function(A){for(var p=0;p<this.children.length;++p)this.children[p].collapse(A)},insertInner:function(A,p,w){this.size+=p.length,this.height+=w;for(var _=0;_<this.children.length;++_){var C=this.children[_],O=C.chunkSize();if(A<=O){if(C.insertInner(A,p,w),C.lines&&C.lines.length>50){for(var V=C.lines.length%25+25,J=V;J<C.lines.length;){var re=new pp(C.lines.slice(J,J+=25));C.height-=re.height,this.children.splice(++_,0,re),re.parent=this}C.lines=C.lines.slice(0,V),this.maybeSpill()}break}A-=O}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var w=new gp(A.children.splice(A.children.length-5,5));if(A.parent){A.size-=w.size,A.height-=w.height;var C=Pn(A.parent.children,A);A.parent.children.splice(C+1,0,w)}else{var _=new gp(A.children);_.parent=A,A.children=[_,w],A=_}w.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,p,w){for(var _=0;_<this.children.length;++_){var C=this.children[_],O=C.chunkSize();if(A<O){var V=Math.min(p,O-A);if(C.iterN(A,V,w))return!0;if(0==(p-=V))break;A=0}else A-=O}}};var Hg=function(A,p,w){if(w)for(var _ in w)w.hasOwnProperty(_)&&(this[_]=w[_]);this.doc=A,this.node=p};function pv(A,p,w){Us(p)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&ip(A,w)}Hg.prototype.clear=function(){var A=this.doc.cm,p=this.line.widgets,w=this.line,_=ar(w);if(null!=_&&p){for(var C=0;C<p.length;++C)p[C]==this&&p.splice(C--,1);p.length||(w.widgets=null);var O=Rd(this);Yr(w,Math.max(0,w.height-O)),A&&(Kl(A,function(){pv(A,w,-O),Ul(A,_,"widget")}),ba(A,"lineWidgetCleared",A,this,_))}},Hg.prototype.changed=function(){var A=this,p=this.height,w=this.doc.cm,_=this.line;this.height=null;var C=Rd(this)-p;C&&(Va(this.doc,_)||Yr(_,_.height+C),w&&Kl(w,function(){w.curOp.forceUpdate=!0,pv(w,_,C),ba(w,"lineWidgetChanged",w,A,ar(_))}))},mn(Hg);var Il=0,vf=function(A,p){this.lines=[],this.type=p,this.doc=A,this.id=++Il};function VA(A,p,w,_,C){if(_&&_.shared)return function gv(A,p,w,_,C){(_=Rt(_)).shared=!1;var O=[VA(A,p,w,_,C)],V=O[0],J=_.widgetNode;return hs(A,function(re){J&&(_.widgetNode=J.cloneNode(!0)),O.push(VA(re,En(re,p),En(re,w),_,C));for(var de=0;de<re.linked.length;++de)if(re.linked[de].isParent)return;V=Ve(O)}),new mp(O,V)}(A,p,w,_,C);if(A.cm&&!A.cm.curOp)return cl(A.cm,VA)(A,p,w,_,C);var O=new vf(A,C),V=Ot(p,w);if(_&&Rt(_,O,!1),V>0||0==V&&!1!==O.clearWhenEmpty)return O;if(O.replacedWith&&(O.collapsed=!0,O.widgetNode=G("span",[O.replacedWith],"CodeMirror-widget"),_.handleMouseEvents||O.widgetNode.setAttribute("cm-ignore-events","true"),_.insertLeft&&(O.widgetNode.insertLeft=!0)),O.collapsed){if(Rs(A,p.line,p,w,O)||p.line!=w.line&&Rs(A,w.line,p,w,O))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function Zn(){un=!0}()}O.addToHistory&&PA(A,{from:p,to:w,origin:"markText"},A.sel,NaN);var de,J=p.line,re=A.cm;if(A.iter(J,w.line+1,function(nt){re&&O.collapsed&&!re.options.lineWrapping&&Gr(nt)==re.display.maxLine&&(de=!0),O.collapsed&&J!=p.line&&Yr(nt,0),function Wr(A,p,w){var _=w&&window.WeakSet&&(w.markedSpans||(w.markedSpans=new WeakSet));_&&A.markedSpans&&_.has(A.markedSpans)?A.markedSpans.push(p):(A.markedSpans=A.markedSpans?A.markedSpans.concat([p]):[p],_&&_.add(A.markedSpans)),p.marker.attachLine(A)}(nt,new bi(O,J==p.line?p.ch:null,J==w.line?w.ch:null),A.cm&&A.cm.curOp),++J}),O.collapsed&&A.iter(p.line,w.line+1,function(nt){Va(A,nt)&&Yr(nt,0)}),O.clearOnEnter&&Ge(O,"beforeCursorEnter",function(){return O.clear()}),O.readOnly&&(function Vi(){Lt=!0}(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),O.collapsed&&(O.id=++Il,O.atomic=!0),re){if(de&&(re.curOp.updateMaxLine=!0),O.collapsed)Hs(re,p.line,w.line+1);else if(O.className||O.startStyle||O.endStyle||O.css||O.attributes||O.title)for(var ze=p.line;ze<=w.line;ze++)Ul(re,ze,"text");O.atomic&&fv(re.doc),ba(re,"markerAdded",re,O)}return O}vf.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,p=A&&!A.curOp;if(p&&Jf(A),hn(this,"clear")){var w=this.find();w&&ba(this,"clear",w.from,w.to)}for(var _=null,C=null,O=0;O<this.lines.length;++O){var V=this.lines[O],J=lr(V.markedSpans,this);A&&!this.collapsed?Ul(A,ar(V),"text"):A&&(null!=J.to&&(C=ar(V)),null!=J.from&&(_=ar(V))),V.markedSpans=Mn(V.markedSpans,J),null==J.from&&this.collapsed&&!Va(this.doc,V)&&A&&Yr(V,as(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var re=0;re<this.lines.length;++re){var de=Gr(this.lines[re]),ze=Ia(de);ze>A.display.maxLineLength&&(A.display.maxLine=de,A.display.maxLineLength=ze,A.display.maxLineChanged=!0)}null!=_&&A&&this.collapsed&&Hs(A,_,C+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&fv(A.doc)),A&&ba(A,"markerCleared",A,this,_,C),p&&Pd(A),this.parent&&this.parent.clear()}},vf.prototype.find=function(A,p){null==A&&"bookmark"==this.type&&(A=1);for(var w,_,C=0;C<this.lines.length;++C){var O=this.lines[C],V=lr(O.markedSpans,this);if(null!=V.from&&(w=rt(p?O:ar(O),V.from),-1==A))return w;if(null!=V.to&&(_=rt(p?O:ar(O),V.to),1==A))return _}return w&&{from:w,to:_}},vf.prototype.changed=function(){var A=this,p=this.find(-1,!0),w=this,_=this.doc.cm;!p||!_||Kl(_,function(){var C=p.line,O=ar(p.line),V=ct(_,O);if(V&&(or(V),_.curOp.selectionChanged=_.curOp.forceUpdate=!0),_.curOp.updateMaxLine=!0,!Va(w.doc,C)&&null!=w.height){var J=w.height;w.height=null;var re=Rd(w)-J;re&&Yr(C,C.height+re)}ba(_,"markerChanged",_,A)})},vf.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;(!p.maybeHiddenMarkers||-1==Pn(p.maybeHiddenMarkers,this))&&(p.maybeUnhiddenMarkers||(p.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},vf.prototype.detachLine=function(A){if(this.lines.splice(Pn(this.lines,A),1),!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;(p.maybeHiddenMarkers||(p.maybeHiddenMarkers=[])).push(this)}},mn(vf);var mp=function(A,p){this.markers=A,this.primary=p;for(var w=0;w<A.length;++w)A[w].parent=this};function hm(A){return A.findMarks(rt(A.first,0),A.clipPos(rt(A.lastLine())),function(p){return p.parent})}function Qg(A){for(var p=function(_){var C=A[_],O=[C.primary.doc];hs(C.primary.doc,function(re){return O.push(re)});for(var V=0;V<C.markers.length;V++){var J=C.markers[V];-1==Pn(O,J.doc)&&(J.parent=null,C.markers.splice(V--,1))}},w=0;w<A.length;w++)p(w)}mp.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();ba(this,"clear")}},mp.prototype.find=function(A,p){return this.primary.find(A,p)},mn(mp);var k9=0,pa=function(A,p,w,_,C){if(!(this instanceof pa))return new pa(A,p,w,_,C);null==w&&(w=0),gp.call(this,[new pp([new Ll("",null)])]),this.first=w,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=w;var O=rt(w,0);this.sel=Ca(O),this.history=new UA(null),this.id=++k9,this.modeOption=p,this.lineSep=_,this.direction="rtl"==C?"rtl":"ltr",this.extend=!1,"string"==typeof A&&(A=this.splitLines(A)),LA(this,{from:O,to:O,text:A}),Ml(this,Ca(O),si)};pa.prototype=Gt(gp.prototype,{constructor:pa,iter:function(A,p,w){w?this.iterN(A-this.first,p-A,w):this.iterN(this.first,this.first+this.size,A)},insert:function(A,p){for(var w=0,_=0;_<p.length;++_)w+=p[_].height;this.insertInner(A-this.first,p,w)},remove:function(A,p){this.removeInner(A-this.first,p)},getValue:function(A){var p=yo(this,this.first,this.first+this.size);return!1===A?p:p.join(A||this.lineSeparator())},setValue:Sl(function(A){var p=rt(this.first,0),w=this.first+this.size-1;Ug(this,{from:p,to:rt(w,Xt(this,w).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&TA(this.cm,0,0),Ml(this,Ca(p),si)}),replaceRange:function(A,p,w,_){Pg(this,A,p=En(this,p),w=w?En(this,w):p,_)},getRange:function(A,p,w){var _=hr(this,En(this,A),En(this,p));return!1===w?_:_.join(""===w?"":w||this.lineSeparator())},getLine:function(A){var p=this.getLineHandle(A);return p&&p.text},getLineHandle:function(A){if(ue(this,A))return Xt(this,A)},getLineNumber:function(A){return ar(A)},getLineHandleVisualStart:function(A){return"number"==typeof A&&(A=Xt(this,A)),Gr(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return En(this,A)},getCursor:function(A){var p=this.sel.primary();return null==A||"head"==A?p.head:"anchor"==A?p.anchor:"end"==A||"to"==A||!1===A?p.to():p.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Sl(function(A,p,w){Lg(this,En(this,"number"==typeof A?rt(A,p||0):A),null,w)}),setSelection:Sl(function(A,p,w){Lg(this,En(this,A),En(this,p||A),w)}),extendSelection:Sl(function(A,p,w){La(this,En(this,A),p&&En(this,p),w)}),extendSelections:Sl(function(A,p){um(this,gr(this,A),p)}),extendSelectionsBy:Sl(function(A,p){um(this,gr(this,We(this.sel.ranges,A)),p)}),setSelections:Sl(function(A,p,w){if(A.length){for(var _=[],C=0;C<A.length;C++)_[C]=new Vr(En(this,A[C].anchor),En(this,A[C].head||A[C].anchor));null==p&&(p=Math.min(A.length-1,this.sel.primIndex)),Ml(this,ja(this.cm,_,p),w)}}),addSelection:Sl(function(A,p,w){var _=this.sel.ranges.slice(0);_.push(new Vr(En(this,A),En(this,p||A))),Ml(this,ja(this.cm,_,_.length-1),w)}),getSelection:function(A){for(var w,p=this.sel.ranges,_=0;_<p.length;_++){var C=hr(this,p[_].from(),p[_].to());w=w?w.concat(C):C}return!1===A?w:w.join(A||this.lineSeparator())},getSelections:function(A){for(var p=[],w=this.sel.ranges,_=0;_<w.length;_++){var C=hr(this,w[_].from(),w[_].to());!1!==A&&(C=C.join(A||this.lineSeparator())),p[_]=C}return p},replaceSelection:function(A,p,w){for(var _=[],C=0;C<this.sel.ranges.length;C++)_[C]=A;this.replaceSelections(_,p,w||"+input")},replaceSelections:Sl(function(A,p,w){for(var _=[],C=this.sel,O=0;O<C.ranges.length;O++){var V=C.ranges[O];_[O]={from:V.from(),to:V.to(),text:this.splitLines(A[O]),origin:w}}for(var J=p&&"end"!=p&&function gf(A,p,w){for(var _=[],C=rt(A.first,0),O=C,V=0;V<p.length;V++){var J=p[V],re=Ka(J.from,C,O),de=Ka(fl(J),C,O);if(C=J.to,O=de,"around"==w){var ze=A.sel.ranges[V],nt=Ot(ze.head,ze.anchor)<0;_[V]=new Vr(nt?de:re,nt?re:de)}else _[V]=new Vr(re,re)}return new sr(_,A.sel.primIndex)}(this,_,p),re=_.length-1;re>=0;re--)Ug(this,_[re]);J?Ap(this,J):this.cm&&rp(this.cm)}),undo:Sl(function(){Av(this,"undo")}),redo:Sl(function(){Av(this,"redo")}),undoSelection:Sl(function(){Av(this,"undo",!0)}),redoSelection:Sl(function(){Av(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,p=0,w=0,_=0;_<A.done.length;_++)A.done[_].ranges||++p;for(var C=0;C<A.undone.length;C++)A.undone[C].ranges||++w;return{undo:p,redo:w}},clearHistory:function(){var A=this;this.history=new UA(this.history),hs(this,function(p){return p.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:zd(this.history.done),undone:zd(this.history.undone)}},setHistory:function(A){var p=this.history=new UA(this.history);p.done=zd(A.done.slice(0),null,!0),p.undone=zd(A.undone.slice(0),null,!0)},setGutterMarker:Sl(function(A,p,w){return Am(this,A,"gutter",function(_){var C=_.gutterMarkers||(_.gutterMarkers={});return C[p]=w,!w&&ft(C)&&(_.gutterMarkers=null),!0})}),clearGutter:Sl(function(A){var p=this;this.iter(function(w){w.gutterMarkers&&w.gutterMarkers[A]&&Am(p,w,"gutter",function(){return w.gutterMarkers[A]=null,ft(w.gutterMarkers)&&(w.gutterMarkers=null),!0})})}),lineInfo:function(A){var p;if("number"==typeof A){if(!(ue(this,A)&&(p=A,A=Xt(this,A))))return null}else if(null==(p=ar(A)))return null;return{line:p,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:Sl(function(A,p,w){return Am(this,A,"gutter"==p?"gutter":"class",function(_){var C="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass";if(_[C]){if(Di(w).test(_[C]))return!1;_[C]+=" "+w}else _[C]=w;return!0})}),removeLineClass:Sl(function(A,p,w){return Am(this,A,"gutter"==p?"gutter":"class",function(_){var C="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass",O=_[C];if(!O)return!1;if(null==w)_[C]=null;else{var V=O.match(Di(w));if(!V)return!1;var J=V.index+V[0].length;_[C]=O.slice(0,V.index)+(V.index&&J!=O.length?" ":"")+O.slice(J)||null}return!0})}),addLineWidget:Sl(function(A,p,w){return function Y4(A,p,w,_){var C=new Hg(A,w,_),O=A.cm;return O&&C.noHScroll&&(O.display.alignWidgets=!0),Am(A,p,"widget",function(V){var J=V.widgets||(V.widgets=[]);if(null==C.insertAt?J.push(C):J.splice(Math.min(J.length,Math.max(0,C.insertAt)),0,C),C.line=V,O&&!Va(A,V)){var re=Us(V)<A.scrollTop;Yr(V,V.height+Rd(C)),re&&ip(O,C.height),O.curOp.forceUpdate=!0}return!0}),O&&ba(O,"lineWidgetAdded",O,C,"number"==typeof p?p:ar(p)),C}(this,A,p,w)}),removeLineWidget:function(A){A.clear()},markText:function(A,p,w){return VA(this,En(this,A),En(this,p),w,w&&w.type||"range")},setBookmark:function(A,p){var w={replacedWith:p&&(null==p.nodeType?p.widget:p),insertLeft:p&&p.insertLeft,clearWhenEmpty:!1,shared:p&&p.shared,handleMouseEvents:p&&p.handleMouseEvents};return VA(this,A=En(this,A),A,w,"bookmark")},findMarksAt:function(A){var p=[],w=Xt(this,(A=En(this,A)).line).markedSpans;if(w)for(var _=0;_<w.length;++_){var C=w[_];(null==C.from||C.from<=A.ch)&&(null==C.to||C.to>=A.ch)&&p.push(C.marker.parent||C.marker)}return p},findMarks:function(A,p,w){A=En(this,A),p=En(this,p);var _=[],C=A.line;return this.iter(A.line,p.line+1,function(O){var V=O.markedSpans;if(V)for(var J=0;J<V.length;J++){var re=V[J];!(null!=re.to&&C==A.line&&A.ch>=re.to||null==re.from&&C!=A.line||null!=re.from&&C==p.line&&re.from>=p.ch)&&(!w||w(re.marker))&&_.push(re.marker.parent||re.marker)}++C}),_},getAllMarks:function(){var A=[];return this.iter(function(p){var w=p.markedSpans;if(w)for(var _=0;_<w.length;++_)null!=w[_].from&&A.push(w[_].marker)}),A},posFromIndex:function(A){var p,w=this.first,_=this.lineSeparator().length;return this.iter(function(C){var O=C.text.length+_;if(O>A)return p=A,!0;A-=O,++w}),En(this,rt(w,p))},indexFromPos:function(A){var p=(A=En(this,A)).ch;if(A.line<this.first||A.ch<0)return 0;var w=this.lineSeparator().length;return this.iter(this.first,A.line,function(_){p+=_.text.length+w}),p},copy:function(A){var p=new pa(yo(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return p.scrollTop=this.scrollTop,p.scrollLeft=this.scrollLeft,p.sel=this.sel,p.extend=!1,A&&(p.history.undoDepth=this.history.undoDepth,p.setHistory(this.getHistory())),p},linkedDoc:function(A){A||(A={});var p=this.first,w=this.first+this.size;null!=A.from&&A.from>p&&(p=A.from),null!=A.to&&A.to<w&&(w=A.to);var _=new pa(yo(this,p,w),A.mode||this.modeOption,p,this.lineSep,this.direction);return A.sharedHist&&(_.history=this.history),(this.linked||(this.linked=[])).push({doc:_,sharedHist:A.sharedHist}),_.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],function Z4(A,p){for(var w=0;w<p.length;w++){var _=p[w],C=_.find(),O=A.clipPos(C.from),V=A.clipPos(C.to);if(Ot(O,V)){var J=VA(A,O,V,_.primary,_.primary.type);_.markers.push(J),J.parent=_}}}(_,hm(this)),_},unlinkDoc:function(A){if(A instanceof Cs&&(A=A.doc),this.linked)for(var p=0;p<this.linked.length;++p)if(this.linked[p].doc==A){this.linked.splice(p,1),A.unlinkDoc(this),Qg(hm(this));break}if(A.history==this.history){var _=[A.id];hs(A,function(C){return _.push(C.id)},!0),A.history=new UA(null),A.history.done=zd(this.history.done,_),A.history.undone=zd(this.history.undone,_)}},iterLinkedDocs:function(A){hs(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):Yn(A)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Sl(function(A){"rtl"!=A&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(p){return p.order=null}),this.cm&&function Qd(A){Kl(A,function(){RA(A),Hs(A)})}(this.cm))})}),pa.prototype.eachLine=pa.prototype.iter;var mv=0;function ic(A){var p=this;if(L9(p),!Ct(p,A)&&!Da(p.display,A)){xn(A),_n&&(mv=+new Date);var w=xo(p,A,!0),_=A.dataTransfer.files;if(w&&!p.isReadOnly())if(_&&_.length&&window.FileReader&&window.File)for(var C=_.length,O=Array(C),V=0,J=function(){++V==C&&cl(p,function(){var Dt={from:w=En(p.doc,w),to:w,text:p.doc.splitLines(O.filter(function(Bn){return null!=Bn}).join(p.doc.lineSeparator())),origin:"paste"};Ug(p.doc,Dt),Ap(p.doc,Ca(En(p.doc,w),En(p.doc,fl(Dt))))})()},re=function(Dt,Bn){if(p.options.allowDropFileTypes&&-1==Pn(p.options.allowDropFileTypes,Dt.type))J();else{var $n=new FileReader;$n.onerror=function(){return J()},$n.onload=function(){var Ai=$n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Ai)||(O[Bn]=Ai),J()},$n.readAsText(Dt)}},de=0;de<_.length;de++)re(_[de],de);else{if(p.state.draggingText&&p.doc.sel.contains(w)>-1)return p.state.draggingText(A),void setTimeout(function(){return p.display.input.focus()},20);try{var ze=A.dataTransfer.getData("Text");if(ze){var nt;if(p.state.draggingText&&!p.state.draggingText.copy&&(nt=p.listSelections()),cm(p.doc,Ca(w,w)),nt)for(var Pt=0;Pt<nt.length;++Pt)Pg(p.doc,"",nt[Pt].anchor,nt[Pt].head,"drag");p.replaceSelection(ze,"around","paste"),p.display.input.focus()}}catch{}}}}function L9(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function _s(A){if(document.getElementsByClassName){for(var p=document.getElementsByClassName("CodeMirror"),w=[],_=0;_<p.length;_++){var C=p[_].CodeMirror;C&&w.push(C)}w.length&&w[0].operation(function(){for(var O=0;O<w.length;O++)A(w[O])})}}var gm=!1;function Vg(){gm||(function mu(){var A;Ge(window,"resize",function(){null==A&&(A=setTimeout(function(){A=null,_s(R9)},100))}),Ge(window,"blur",function(){return _s(Oa)})}(),gm=!0)}function R9(A){var p=A.display;p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null,p.scrollbarsClipped=!1,A.setSize()}for(var Dc={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ed=0;ed<10;ed++)Dc[ed+48]=Dc[ed+96]=String(ed);for(var Xl=65;Xl<=90;Xl++)Dc[Xl]=String.fromCharCode(Xl);for(var zg=1;zg<=12;zg++)Dc[zg+111]=Dc[zg+63235]="F"+zg;var rc={};function J4(A){var p=A.split(/-(?!$)/);A=p[p.length-1];for(var w,_,C,O,V=0;V<p.length-1;V++){var J=p[V];if(/^(cmd|meta|m)$/i.test(J))O=!0;else if(/^a(lt)?$/i.test(J))w=!0;else if(/^(c|ctrl|control)$/i.test(J))_=!0;else{if(!/^s(hift)?$/i.test(J))throw new Error("Unrecognized modifier name: "+J);C=!0}}return w&&(A="Alt-"+A),_&&(A="Ctrl-"+A),O&&(A="Cmd-"+A),C&&(A="Shift-"+A),A}function Qs(A){var p={};for(var w in A)if(A.hasOwnProperty(w)){var _=A[w];if(/^(name|fallthrough|(de|at)tach)$/.test(w))continue;if("..."==_){delete A[w];continue}for(var C=We(w.split(" "),J4),O=0;O<C.length;O++){var V=void 0,J=void 0;O==C.length-1?(J=C.join(" "),V=_):(J=C.slice(0,O+1).join(" "),V="...");var re=p[J];if(re){if(re!=V)throw new Error("Inconsistent bindings for "+J)}else p[J]=V}delete A[w]}for(var de in p)A[de]=p[de];return A}function yf(A,p,w,_){var C=(p=zA(p)).call?p.call(A,_):p[A];if(!1===C)return"nothing";if("..."===C)return"multi";if(null!=C&&w(C))return"handled";if(p.fallthrough){if("[object Array]"!=Object.prototype.toString.call(p.fallthrough))return yf(A,p.fallthrough,w,_);for(var O=0;O<p.fallthrough.length;O++){var V=yf(A,p.fallthrough[O],w,_);if(V)return V}}}function e5(A){var p="string"==typeof A?A:Dc[A.keyCode];return"Ctrl"==p||"Alt"==p||"Shift"==p||"Mod"==p}function vv(A,p,w){var _=A;return p.altKey&&"Alt"!=_&&(A="Alt-"+A),(gn?p.metaKey:p.ctrlKey)&&"Ctrl"!=_&&(A="Ctrl-"+A),(gn?p.ctrlKey:p.metaKey)&&"Mod"!=_&&(A="Cmd-"+A),!w&&p.shiftKey&&"Shift"!=_&&(A="Shift-"+A),A}function $g(A,p){if(Ht&&34==A.keyCode&&A.char)return!1;var w=Dc[A.keyCode];return null!=w&&!A.altGraphKey&&(3==A.keyCode&&A.code&&(w=A.code),vv(w,A,p))}function zA(A){return"string"==typeof A?rc[A]:A}function td(A,p){for(var w=A.doc.sel.ranges,_=[],C=0;C<w.length;C++){for(var O=p(w[C]);_.length&&Ot(O.from,Ve(_).to)<=0;){var V=_.pop();if(Ot(V.from,O.from)<0){O.from=V.from;break}}_.push(O)}Kl(A,function(){for(var J=_.length-1;J>=0;J--)Pg(A.doc,"",_[J].from,_[J].to,"+delete");rp(A)})}function vp(A,p,w){var _=_e(A.text,p+w,w);return _<0||_>A.text.length?null:_}function Gg(A,p,w){var _=vp(A,p.ch,w);return null==_?null:new rt(p.line,_,w<0?"after":"before")}function Gd(A,p,w,_,C){if(A){"rtl"==p.doc.direction&&(C=-C);var O=Ye(w,p.doc.direction);if(O){var de,V=C<0?Ve(O):O[0],re=C<0==(1==V.level)?"after":"before";if(V.level>0||"rtl"==p.doc.direction){var ze=It(p,w),nt=Ut(p,ze,de=C<0?w.text.length-1:0).top;de=Ne(function(Pt){return Ut(p,ze,Pt).top==nt},C<0==(1==V.level)?V.from:V.to-1,de),"before"==re&&(de=vp(w,de,1))}else de=C<0?V.to:V.from;return new rt(_,de,re)}}return new rt(_,C<0?w.text.length:0,C<0?"before":"after")}rc.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},rc.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},rc.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},rc.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},rc.default=In?rc.macDefault:rc.pcDefault;var yp={selectAll:T9,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),si)},killLine:function(A){return td(A,function(p){if(p.empty()){var w=Xt(A.doc,p.head.line).text.length;return p.head.ch==w&&p.head.line<A.lastLine()?{from:p.head,to:rt(p.head.line+1,0)}:{from:p.head,to:rt(p.head.line,w)}}return{from:p.from(),to:p.to()}})},deleteLine:function(A){return td(A,function(p){return{from:rt(p.from().line,0),to:En(A.doc,rt(p.to().line+1,0))}})},delLineLeft:function(A){return td(A,function(p){return{from:rt(p.from().line,0),to:p.from()}})},delWrappedLineLeft:function(A){return td(A,function(p){var w=A.charCoords(p.head,"div").top+5;return{from:A.coordsChar({left:0,top:w},"div"),to:p.from()}})},delWrappedLineRight:function(A){return td(A,function(p){var w=A.charCoords(p.head,"div").top+5,_=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:w},"div");return{from:p.from(),to:_}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(rt(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(rt(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(p){return U9(A,p.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(p){return yv(A,p.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(p){return function P9(A,p){var w=Xt(A.doc,p),_=function Ts(A){for(var p;p=Ys(A);)A=p.find(1,!0).line;return A}(w);return _!=w&&(p=ar(_)),Gd(!0,A,w,p,-1)}(A,p.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(p){var w=A.cursorCoords(p.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:w},"div")},zn)},goLineLeft:function(A){return A.extendSelectionsBy(function(p){var w=A.cursorCoords(p.head,"div").top+5;return A.coordsChar({left:0,top:w},"div")},zn)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(p){var w=A.cursorCoords(p.head,"div").top+5,_=A.coordsChar({left:0,top:w},"div");return _.ch<A.getLine(_.line).search(/\S/)?yv(A,p.head):_},zn)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("\t")},insertSoftTab:function(A){for(var p=[],w=A.listSelections(),_=A.options.tabSize,C=0;C<w.length;C++){var O=w[C].from(),V=Jt(A.getLine(O.line),O.ch,_);p.push(rr(_-V%_))}A.replaceSelections(p)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return Kl(A,function(){for(var p=A.listSelections(),w=[],_=0;_<p.length;_++)if(p[_].empty()){var C=p[_].head,O=Xt(A.doc,C.line).text;if(O)if(C.ch==O.length&&(C=new rt(C.line,C.ch-1)),C.ch>0)C=new rt(C.line,C.ch+1),A.replaceRange(O.charAt(C.ch-1)+O.charAt(C.ch-2),rt(C.line,C.ch-2),C,"+transpose");else if(C.line>A.doc.first){var V=Xt(A.doc,C.line-1).text;V&&(C=new rt(C.line,1),A.replaceRange(O.charAt(0)+A.doc.lineSeparator()+V.charAt(V.length-1),rt(C.line-1,V.length-1),C,"+transpose"))}w.push(new Vr(C,C))}A.setSelections(w)})},newlineAndIndent:function(A){return Kl(A,function(){for(var p=A.listSelections(),w=p.length-1;w>=0;w--)A.replaceRange(A.doc.lineSeparator(),p[w].anchor,p[w].head,"+input");p=A.listSelections();for(var _=0;_<p.length;_++)A.indentLine(p[_].from().line,null,!0);rp(A)})},openLine:function(A){return A.replaceSelection("\n","start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function U9(A,p){var w=Xt(A.doc,p),_=Gr(w);return _!=w&&(p=ar(_)),Gd(!0,A,_,p,1)}function yv(A,p){var w=U9(A,p.line),_=Xt(A.doc,w.line),C=Ye(_,A.doc.direction);if(!C||0==C[0].level){var O=Math.max(w.ch,_.text.search(/\S/));return rt(w.line,p.line==w.line&&p.ch<=O&&p.ch?0:O,w.sticky)}return w}function qg(A,p,w){if("string"==typeof p&&!(p=yp[p]))return!1;A.display.input.ensurePolled();var _=A.display.shift,C=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),w&&(A.display.shift=!1),C=p(A)!=gi}finally{A.display.shift=_,A.state.suppressEdits=!1}return C}var Rh=new Ft;function Uh(A,p,w,_){var C=A.state.keySeq;if(C){if(e5(p))return"handled";if(/\'$/.test(p)?A.state.keySeq=null:Rh.set(50,function(){A.state.keySeq==C&&(A.state.keySeq=null,A.display.input.reset())}),t5(A,C+" "+p,w,_))return!0}return t5(A,p,w,_)}function t5(A,p,w,_){var C=function _v(A,p,w){for(var _=0;_<A.state.keyMaps.length;_++){var C=yf(p,A.state.keyMaps[_],w,A);if(C)return C}return A.options.extraKeys&&yf(p,A.options.extraKeys,w,A)||yf(p,A.options.keyMap,w,A)}(A,p,_);return"multi"==C&&(A.state.keySeq=p),"handled"==C&&ba(A,"keyHandled",A,p,w),("handled"==C||"multi"==C)&&(xn(w),Th(A)),!!C}function n5(A,p){var w=$g(p,!0);return!!w&&(p.shiftKey&&!A.state.keySeq?Uh(A,"Shift-"+w,p,function(_){return qg(A,_,!0)})||Uh(A,w,p,function(_){if("string"==typeof _?/^go[A-Z]/.test(_):_.motion)return qg(A,_)}):Uh(A,w,p,function(_){return qg(A,_)}))}var wv=null;function Fn(A){var p=this;if(!(A.target&&A.target!=p.display.input.getField()||(p.curOp.focus=le(ve(p)),Ct(p,A)))){_n&&De<11&&27==A.keyCode&&(A.returnValue=!1);var w=A.keyCode;p.display.shift=16==w||A.shiftKey;var _=n5(p,A);Ht&&(wv=_?w:null,!_&&88==w&&!Pr&&(In?A.metaKey:A.ctrlKey)&&p.replaceSelection("",null,"cut")),Ln&&!In&&!_&&46==w&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==w&&!/\bCodeMirror-crosshair\b/.test(p.display.lineDiv.className)&&function Io(A){var p=A.display.lineDiv;function w(_){(18==_.keyCode||!_.altKey)&&(Wn(p,"CodeMirror-crosshair"),Kt(document,"keyup",w),Kt(document,"mouseover",w))}Me(p,"CodeMirror-crosshair"),Ge(document,"keyup",w),Ge(document,"mouseover",w)}(p)}}function Tn(A){16==A.keyCode&&(this.doc.sel.shift=!1),Ct(this,A)}function Dn(A){var p=this;if(!(A.target&&A.target!=p.display.input.getField()||Da(p.display,A)||Ct(p,A)||A.ctrlKey&&!A.altKey||In&&A.metaKey)){var w=A.keyCode,_=A.charCode;if(Ht&&w==wv)return wv=null,void xn(A);if(!Ht||A.which&&!(A.which<10)||!n5(p,A)){var C=String.fromCharCode(_??w);"\b"!=C&&(function H9(A,p,w){return Uh(A,"'"+w+"'",p,function(_){return qg(A,_,!0)})}(p,A,C)||p.display.input.onKeyPress(A))}}}var nd,vu,jg=function(A,p,w){this.time=A,this.pos=p,this.button=w};function Ph(A){var p=this,w=p.display;if(!(Ct(p,A)||w.activeTouch&&w.input.supportsTouch())){if(w.input.ensurePolled(),w.shift=A.shiftKey,Da(w,A))return void(it||(w.scroller.draggable=!1,setTimeout(function(){return w.scroller.draggable=!0},100)));if(!Cv(p,A)){var _=xo(p,A),C=ni(A),O=_?function bv(A,p){var w=+new Date;return vu&&vu.compare(w,A,p)?(nd=vu=null,"triple"):nd&&nd.compare(w,A,p)?(vu=new jg(w,A,p),nd=null,"double"):(nd=new jg(w,A,p),vu=null,"single")}(_,C):"single";at(p).focus(),1==C&&p.state.selectingText&&p.state.selectingText(A),(!_||!function i5(A,p,w,_,C){var O="Click";return"double"==_?O="Double"+O:"triple"==_&&(O="Triple"+O),Uh(A,vv(O=(1==p?"Left":2==p?"Middle":"Right")+O,C),C,function(V){if("string"==typeof V&&(V=yp[V]),!V)return!1;var J=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),J=V(A,w)!=gi}finally{A.state.suppressEdits=!1}return J})}(p,C,_,O,A))&&(1==C?_?function r5(A,p,w,_){_n?setTimeout(Yt(Yo,A),0):A.curOp.focus=le(ve(A));var V,C=function Q9(A,p,w){var _=A.getOption("configureMouse"),C=_?_(A,p,w):{};return null==C.unit&&(C.unit=(Xe?w.shiftKey&&w.metaKey:w.altKey)?"rectangle":"single"==p?"char":"double"==p?"word":"line"),(null==C.extend||A.doc.extend)&&(C.extend=A.doc.extend||w.shiftKey),null==C.addNew&&(C.addNew=In?w.metaKey:w.ctrlKey),null==C.moveOnDrag&&(C.moveOnDrag=!(In?w.altKey:w.ctrlKey)),C}(A,w,_),O=A.doc.sel;A.options.dragDrop&&Tr&&!A.isReadOnly()&&"single"==w&&(V=O.contains(p))>-1&&(Ot((V=O.ranges[V]).from(),p)<0||p.xRel>0)&&(Ot(V.to(),p)>0||p.xRel<0)?function yu(A,p,w,_){var C=A.display,O=!1,V=cl(A,function(de){it&&(C.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:J1(A)),Kt(C.wrapper.ownerDocument,"mouseup",V),Kt(C.wrapper.ownerDocument,"mousemove",J),Kt(C.scroller,"dragstart",re),Kt(C.scroller,"drop",V),O||(xn(de),_.addNew||La(A.doc,w,null,null,_.extend),it&&!Fe||_n&&9==De?setTimeout(function(){C.wrapper.ownerDocument.body.focus({preventScroll:!0}),C.input.focus()},20):C.input.focus())}),J=function(de){O=O||Math.abs(p.clientX-de.clientX)+Math.abs(p.clientY-de.clientY)>=10},re=function(){return O=!0};it&&(C.scroller.draggable=!0),A.state.draggingText=V,V.copy=!_.moveOnDrag,Ge(C.wrapper.ownerDocument,"mouseup",V),Ge(C.wrapper.ownerDocument,"mousemove",J),Ge(C.scroller,"dragstart",re),Ge(C.scroller,"drop",V),A.state.delayingBlurEvent=!0,setTimeout(function(){return C.input.focus()},20),C.scroller.dragDrop&&C.scroller.dragDrop()}(A,_,p,C):function Hh(A,p,w,_){_n&&J1(A);var C=A.display,O=A.doc;xn(p);var V,J,re=O.sel,de=re.ranges;if(_.addNew&&!_.extend?(J=O.sel.contains(w),V=J>-1?de[J]:new Vr(w,w)):(V=O.sel.primary(),J=O.sel.primIndex),"rectangle"==_.unit)_.addNew||(V=new Vr(w,w)),w=xo(A,p,!0,!0),J=-1;else{var ze=_f(A,w,_.unit);V=_.extend?Na(V,ze.anchor,ze.head,_.extend):ze}_.addNew?-1==J?(J=de.length,Ml(O,ja(A,de.concat([V]),J),{scroll:!1,origin:"*mouse"})):de.length>1&&de[J].empty()&&"char"==_.unit&&!_.extend?(Ml(O,ja(A,de.slice(0,J).concat(de.slice(J+1)),0),{scroll:!1,origin:"*mouse"}),re=O.sel):$d(O,J,V,Wi):(J=0,Ml(O,new sr([V],0),Wi),re=O.sel);var nt=w;function Pt(Ri){if(0!=Ot(nt,Ri))if(nt=Ri,"rectangle"==_.unit){for(var Ki=[],Dr=A.options.tabSize,xr=Jt(Xt(O,w.line).text,w.ch,Dr),eo=Jt(Xt(O,Ri.line).text,Ri.ch,Dr),ps=Math.min(xr,eo),Wa=Math.max(xr,eo),na=Math.min(w.line,Ri.line),Ui=Math.min(A.lastLine(),Math.max(w.line,Ri.line));na<=Ui;na++){var Xa=Xt(O,na).text,ia=ri(Xa,ps,Dr);ps==Wa?Ki.push(new Vr(rt(na,ia),rt(na,ia))):Xa.length>ia&&Ki.push(new Vr(rt(na,ia),rt(na,ri(Xa,Wa,Dr))))}Ki.length||Ki.push(new Vr(w,w)),Ml(O,ja(A,re.ranges.slice(0,J).concat(Ki),J),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Ri)}else{var Ao,Vs=V,Ya=_f(A,Ri,_.unit),Hr=Vs.anchor;Ot(Ya.anchor,Hr)>0?(Ao=Ya.head,Hr=Co(Vs.from(),Ya.anchor)):(Ao=Ya.anchor,Hr=be(Vs.to(),Ya.head));var Os=re.ranges.slice(0);Os[J]=function oc(A,p){var w=p.anchor,_=p.head,C=Xt(A.doc,w.line);if(0==Ot(w,_)&&w.sticky==_.sticky)return p;var O=Ye(C);if(!O)return p;var V=xe(O,w.ch,w.sticky),J=O[V];if(J.from!=w.ch&&J.to!=w.ch)return p;var de,re=V+(J.from==w.ch==(1!=J.level)?0:1);if(0==re||re==O.length)return p;if(_.line!=w.line)de=(_.line-w.line)*("ltr"==A.doc.direction?1:-1)>0;else{var ze=xe(O,_.ch,_.sticky),nt=ze-V||(_.ch-w.ch)*(1==J.level?-1:1);de=ze==re-1||ze==re?nt<0:nt>0}var Pt=O[re+(de?-1:0)],Dt=de==(1==Pt.level),Bn=Dt?Pt.from:Pt.to,$n=Dt?"after":"before";return w.ch==Bn&&w.sticky==$n?p:new Vr(new rt(w.line,Bn,$n),_)}(A,new Vr(En(O,Hr),Ao)),Ml(O,ja(A,Os,J),Wi)}}var Dt=C.wrapper.getBoundingClientRect(),Bn=0;function $n(Ri){var Ki=++Bn,Dr=xo(A,Ri,!0,"rectangle"==_.unit);if(Dr)if(0!=Ot(Dr,nt)){A.curOp.focus=le(ve(A)),Pt(Dr);var xr=ul(C,O);(Dr.line>=xr.to||Dr.line<xr.from)&&setTimeout(cl(A,function(){Bn==Ki&&$n(Ri)}),150)}else{var eo=Ri.clientY<Dt.top?-20:Ri.clientY>Dt.bottom?20:0;eo&&setTimeout(cl(A,function(){Bn==Ki&&(C.scroller.scrollTop+=eo,$n(Ri))}),50)}}function Ai(Ri){A.state.selectingText=!1,Bn=1/0,Ri&&(xn(Ri),C.input.focus()),Kt(C.wrapper.ownerDocument,"mousemove",Ni),Kt(C.wrapper.ownerDocument,"mouseup",Oi),O.history.lastSelOrigin=null}var Ni=cl(A,function(Ri){0!==Ri.buttons&&ni(Ri)?$n(Ri):Ai(Ri)}),Oi=cl(A,Ai);A.state.selectingText=Oi,Ge(C.wrapper.ownerDocument,"mousemove",Ni),Ge(C.wrapper.ownerDocument,"mouseup",Oi)}(A,_,p,C)}(p,_,O,A):mi(A)==w.scroller&&xn(A):2==C?(_&&La(p.doc,_),setTimeout(function(){return w.input.focus()},20)):3==C&&(qt?p.display.input.onContextMenu(A):J1(p)))}}}function _f(A,p,w){if("char"==w)return new Vr(p,p);if("word"==w)return A.findWordAt(p);if("line"==w)return new Vr(rt(p.line,0),En(A.doc,rt(p.line+1,0)));var _=w(A,p);return new Vr(_.from,_.to)}function sc(A,p,w,_){var C,O;if(p.touches)C=p.touches[0].clientX,O=p.touches[0].clientY;else try{C=p.clientX,O=p.clientY}catch{return!1}if(C>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;_&&xn(p);var V=A.display,J=V.lineDiv.getBoundingClientRect();if(O>J.bottom||!hn(A,w))return ti(p);O-=J.top-V.viewOffset;for(var re=0;re<A.display.gutterSpecs.length;++re){var de=V.gutters.childNodes[re];if(de&&de.getBoundingClientRect().right>=C)return xt(A,w,A,Zr(A.doc,O),A.display.gutterSpecs[re].className,p),ti(p)}}function Cv(A,p){return sc(A,p,"gutterClick",!0)}function Ev(A,p){Da(A.display,p)||function V9(A,p){return!!hn(A,"gutterContextMenu")&&sc(A,p,"gutterContextMenu",!1)}(A,p)||Ct(A,p,"contextmenu")||qt||A.display.input.onContextMenu(p)}function o5(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),mr(A)}jg.prototype.compare=function(A,p,w){return this.time+400>A&&0==Ot(p,this.pos)&&w==this.button};var qd={toString:function(){return"CodeMirror.Init"}},_p={},Qh={};function xv(A,p,w){if(!p!=!(w&&w!=qd)){var C=A.display.dragFunctions,O=p?Ge:Kt;O(A.display.scroller,"dragstart",C.start),O(A.display.scroller,"dragenter",C.enter),O(A.display.scroller,"dragover",C.over),O(A.display.scroller,"dragleave",C.leave),O(A.display.scroller,"drop",C.drop)}}function Sv(A){A.options.lineWrapping?(Me(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(Wn(A.display.wrapper,"CodeMirror-wrap"),bl(A)),Aa(A),Hs(A),mr(A),setTimeout(function(){return Nh(A)},100)}function Cs(A,p){var w=this;if(!(this instanceof Cs))return new Cs(A,p);this.options=p=p?Rt(p):{},Rt(_p,p,!1);var _=p.value;"string"==typeof _?_=new pa(_,p.mode,null,p.lineSeparator,p.direction):p.mode&&(_.modeOption=p.mode),this.doc=_;var C=new Cs.inputStyles[p.inputStyle](this),O=this.display=new I9(A,_,C,p);for(var V in O.wrapper.CodeMirror=this,o5(this),p.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),$4(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ft,keySeq:null,specialChars:null},p.autofocus&&!Tt&&O.input.focus(),_n&&De<11&&setTimeout(function(){return w.display.input.reset(!0)},20),function s5(A){var p=A.display;Ge(p.scroller,"mousedown",cl(A,Ph)),Ge(p.scroller,"dblclick",_n&&De<11?cl(A,function(re){if(!Ct(A,re)){var de=xo(A,re);if(de&&!Cv(A,re)&&!Da(A.display,re)){xn(re);var ze=A.findWordAt(de);La(A.doc,ze.anchor,ze.head)}}}):function(re){return Ct(A,re)||xn(re)}),Ge(p.scroller,"contextmenu",function(re){return Ev(A,re)}),Ge(p.input.getField(),"contextmenu",function(re){p.scroller.contains(re.target)||Ev(A,re)});var w,_={end:0};function C(){p.activeTouch&&(w=setTimeout(function(){return p.activeTouch=null},1e3),(_=p.activeTouch).end=+new Date)}function O(re){if(1!=re.touches.length)return!1;var de=re.touches[0];return de.radiusX<=1&&de.radiusY<=1}function V(re,de){if(null==de.left)return!0;var ze=de.left-re.left,nt=de.top-re.top;return ze*ze+nt*nt>400}Ge(p.scroller,"touchstart",function(re){if(!Ct(A,re)&&!O(re)&&!Cv(A,re)){p.input.ensurePolled(),clearTimeout(w);var de=+new Date;p.activeTouch={start:de,moved:!1,prev:de-_.end<=300?_:null},1==re.touches.length&&(p.activeTouch.left=re.touches[0].pageX,p.activeTouch.top=re.touches[0].pageY)}}),Ge(p.scroller,"touchmove",function(){p.activeTouch&&(p.activeTouch.moved=!0)}),Ge(p.scroller,"touchend",function(re){var de=p.activeTouch;if(de&&!Da(p,re)&&null!=de.left&&!de.moved&&new Date-de.start<300){var nt,ze=A.coordsChar(p.activeTouch,"page");nt=!de.prev||V(de,de.prev)?new Vr(ze,ze):!de.prev.prev||V(de,de.prev.prev)?A.findWordAt(ze):new Vr(rt(ze.line,0),En(A.doc,rt(ze.line+1,0))),A.setSelection(nt.anchor,nt.head),A.focus(),xn(re)}C()}),Ge(p.scroller,"touchcancel",C),Ge(p.scroller,"scroll",function(){p.scroller.clientHeight&&(op(A,p.scroller.scrollTop),sp(A,p.scroller.scrollLeft,!0),xt(A,"scroll",A))}),Ge(p.scroller,"mousewheel",function(re){return Ii(A,re)}),Ge(p.scroller,"DOMMouseScroll",function(re){return Ii(A,re)}),Ge(p.wrapper,"scroll",function(){return p.wrapper.scrollTop=p.wrapper.scrollLeft=0}),p.dragFunctions={enter:function(re){Ct(A,re)||Br(re)},over:function(re){Ct(A,re)||(function N9(A,p){var w=xo(A,p);if(w){var _=document.createDocumentFragment();Ic(A,w,_),A.display.dragCursor||(A.display.dragCursor=U("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),L(A.display.dragCursor,_)}}(A,re),Br(re))},start:function(re){return function pm(A,p){if(_n&&(!A.state.draggingText||+new Date-mv<100))Br(p);else if(!Ct(A,p)&&!Da(A.display,p)&&(p.dataTransfer.setData("Text",A.getSelection()),p.dataTransfer.effectAllowed="copyMove",p.dataTransfer.setDragImage&&!Fe)){var w=U("img",null,null,"position: fixed; left: 0; top: 0;");w.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ht&&(w.width=w.height=1,A.display.wrapper.appendChild(w),w._top=w.offsetTop),p.dataTransfer.setDragImage(w,0,0),Ht&&w.parentNode.removeChild(w)}}(A,re)},drop:cl(A,ic),leave:function(re){Ct(A,re)||L9(A)}};var J=p.input.getField();Ge(J,"keyup",function(re){return Tn.call(A,re)}),Ge(J,"keydown",cl(A,Fn)),Ge(J,"keypress",cl(A,Dn)),Ge(J,"focus",function(re){return Lr(A,re)}),Ge(J,"blur",function(re){return Oa(A,re)})}(this),Vg(),Jf(this),this.curOp.forceUpdate=!0,fp(this,_),p.autofocus&&!Tt||this.hasFocus()?setTimeout(function(){w.hasFocus()&&!w.state.focused&&Lr(w)},20):Oa(this),Qh)Qh.hasOwnProperty(V)&&Qh[V](this,p[V],qd);j4(this),p.finishInit&&p.finishInit(this);for(var J=0;J<Vh.length;++J)Vh[J](this);Pd(this),it&&p.lineWrapping&&"optimizelegibility"==getComputedStyle(O.lineDiv).textRendering&&(O.lineDiv.style.textRendering="auto")}Cs.defaults=_p,Cs.optionHandlers=Qh;var Vh=[];function jd(A,p,w,_){var O,C=A.doc;null==w&&(w="add"),"smart"==w&&(C.mode.indent?O=dr(A,p).state:w="prev");var V=A.options.tabSize,J=Xt(C,p),re=Jt(J.text,null,V);J.stateAfter&&(J.stateAfter=null);var ze,de=J.text.match(/^\s*/)[0];if(_||/\S/.test(J.text)){if("smart"==w&&((ze=C.mode.indent(O,J.text.slice(de.length),J.text))==gi||ze>150)){if(!_)return;w="prev"}}else ze=0,w="not";"prev"==w?ze=p>C.first?Jt(Xt(C,p-1).text,null,V):0:"add"==w?ze=re+A.options.indentUnit:"subtract"==w?ze=re-A.options.indentUnit:"number"==typeof w&&(ze=re+w),ze=Math.max(0,ze);var nt="",Pt=0;if(A.options.indentWithTabs)for(var Dt=Math.floor(ze/V);Dt;--Dt)Pt+=V,nt+="\t";if(Pt<ze&&(nt+=rr(ze-Pt)),nt!=de)return Pg(C,nt,rt(p,0),rt(p,de.length),"+input"),J.stateAfter=null,!0;for(var Bn=0;Bn<C.sel.ranges.length;Bn++){var $n=C.sel.ranges[Bn];if($n.head.line==p&&$n.head.ch<de.length){var Ai=rt(p,de.length);$d(C,Bn,new Vr(Ai,Ai));break}}}Cs.defineInitHook=function(A){return Vh.push(A)};var ac=null;function zh(A){ac=A}function Bv(A,p,w,_,C){var O=A.doc;A.display.shift=!1,_||(_=O.sel);var V=+new Date-200,J="paste"==C||A.state.pasteIncoming>V,re=Yn(p),de=null;if(J&&_.ranges.length>1)if(ac&&ac.text.join("\n")==p){if(_.ranges.length%ac.text.length==0){de=[];for(var ze=0;ze<ac.text.length;ze++)de.push(O.splitLines(ac.text[ze]))}}else re.length==_.ranges.length&&A.options.pasteLinesPerSelection&&(de=We(re,function(Ni){return[Ni]}));for(var nt=A.curOp.updateInput,Pt=_.ranges.length-1;Pt>=0;Pt--){var Dt=_.ranges[Pt],Bn=Dt.from(),$n=Dt.to();Dt.empty()&&(w&&w>0?Bn=rt(Bn.line,Bn.ch-w):A.state.overwrite&&!J?$n=rt($n.line,Math.min(Xt(O,$n.line).text.length,$n.ch+Ve(re).length)):J&&ac&&ac.lineWise&&ac.text.join("\n")==re.join("\n")&&(Bn=$n=rt(Bn.line,0)));var Ai={from:Bn,to:$n,text:de?de[Pt%de.length]:re,origin:C||(J?"paste":A.state.cutIncoming>V?"cut":"+input")};Ug(A.doc,Ai),ba(A,"inputRead",A,Ai)}p&&!J&&Kd(A,p),rp(A),A.curOp.updateInput<2&&(A.curOp.updateInput=nt),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function Pl(A,p){var w=A.clipboardData&&A.clipboardData.getData("Text");if(w)return A.preventDefault(),!p.isReadOnly()&&!p.options.disableInput&&p.hasFocus()&&Kl(p,function(){return Bv(p,w,0,null,"paste")}),!0}function Kd(A,p){if(A.options.electricChars&&A.options.smartIndent)for(var w=A.doc.sel,_=w.ranges.length-1;_>=0;_--){var C=w.ranges[_];if(!(C.head.ch>100||_&&w.ranges[_-1].head.line==C.head.line)){var O=A.getModeAt(C.head),V=!1;if(O.electricChars){for(var J=0;J<O.electricChars.length;J++)if(p.indexOf(O.electricChars.charAt(J))>-1){V=jd(A,C.head.line,"smart");break}}else O.electricInput&&O.electricInput.test(Xt(A.doc,C.head.line).text.slice(0,C.head.ch))&&(V=jd(A,C.head.line,"smart"));V&&ba(A,"electricInput",A,C.head.line)}}}function Fs(A){for(var p=[],w=[],_=0;_<A.doc.sel.ranges.length;_++){var C=A.doc.sel.ranges[_].head.line,O={anchor:rt(C,0),head:rt(C+1,0)};w.push(O),p.push(A.getRange(O.anchor,O.head))}return{text:p,ranges:w}}function lc(A,p,w,_){A.setAttribute("autocorrect",w?"on":"off"),A.setAttribute("autocapitalize",_?"on":"off"),A.setAttribute("spellcheck",!!p)}function $h(){var A=U("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),p=U("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return it?A.style.width="1000px":A.setAttribute("wrap","off"),an&&(A.style.border="1px solid black"),p}function Ea(A,p,w,_,C){var O=p,V=w,J=Xt(A,p.line),re=C&&"rtl"==A.direction?-w:w;function ze(Oi){var Ri;if("codepoint"==_){var Ki=J.text.charCodeAt(p.ch+(w>0?0:-1));Ri=isNaN(Ki)?null:new rt(p.line,Math.max(0,Math.min(J.text.length,p.ch+w*((w>0?Ki>=55296&&Ki<56320:Ki>=56320&&Ki<57343)?2:1))),-w)}else Ri=C?function Xr(A,p,w,_){var C=Ye(p,A.doc.direction);if(!C)return Gg(p,w,_);w.ch>=p.text.length?(w.ch=p.text.length,w.sticky="before"):w.ch<=0&&(w.ch=0,w.sticky="after");var O=xe(C,w.ch,w.sticky),V=C[O];if("ltr"==A.doc.direction&&V.level%2==0&&(_>0?V.to>w.ch:V.from<w.ch))return Gg(p,w,_);var re,J=function(Ni,Oi){return vp(p,Ni instanceof rt?Ni.ch:Ni,Oi)},de=function(Ni){return A.options.lineWrapping?(re=re||It(A,p),cn(A,p,re,Ni)):{begin:0,end:p.text.length}},ze=de("before"==w.sticky?J(w,-1):w.ch);if("rtl"==A.doc.direction||1==V.level){var nt=1==V.level==_<0,Pt=J(w,nt?1:-1);if(null!=Pt&&(nt?Pt<=V.to&&Pt<=ze.end:Pt>=V.from&&Pt>=ze.begin))return new rt(w.line,Pt,nt?"before":"after")}var Bn=function(Ni,Oi,Ri){for(;Ni>=0&&Ni<C.length;Ni+=Oi){var Dr=C[Ni],xr=Oi>0==(1!=Dr.level),eo=xr?Ri.begin:J(Ri.end,-1);if(Dr.from<=eo&&eo<Dr.to||(eo=xr?Dr.from:J(Dr.to,-1),Ri.begin<=eo&&eo<Ri.end))return ps=eo,xr?new rt(w.line,J(ps,1),"before"):new rt(w.line,ps,"after")}var ps},$n=Bn(O+_,_,ze);if($n)return $n;var Ai=_>0?ze.end:J(ze.begin,-1);return null==Ai||_>0&&Ai==p.text.length||!($n=Bn(_>0?0:C.length-1,_,de(Ai)))?null:$n}(A.cm,J,p,w):Gg(J,p,w);if(null==Ri){if(Oi||!function de(){var Oi=p.line+re;return!(Oi<A.first||Oi>=A.first+A.size)&&(p=new rt(Oi,p.ch,p.sticky),J=Xt(A,Oi))}())return!1;p=Gd(C,A.cm,J,p.line,re)}else p=Ri;return!0}if("char"==_||"codepoint"==_)ze();else if("column"==_)ze(!0);else if("word"==_||"group"==_)for(var nt=null,Pt="group"==_,Dt=A.cm&&A.cm.getHelper(p,"wordChars"),Bn=!0;!(w<0)||ze(!Bn);Bn=!1){var $n=J.text.charAt(p.ch)||"\n",Ai=pt($n,Dt)?"w":Pt&&"\n"==$n?"n":!Pt||/\s/.test($n)?null:"p";if(Pt&&!Bn&&!Ai&&(Ai="s"),nt&&nt!=Ai){w<0&&(w=1,ze(),p.sticky="after");break}if(Ai&&(nt=Ai),w>0&&!ze(!Bn))break}var Ni=dv(A,p,O,V,!0);return zi(O,Ni)&&(Ni.hitSide=!0),Ni}function Wd(A,p,w,_){var V,de,C=A.doc,O=p.left;if("page"==_){var J=Math.min(A.display.wrapper.clientHeight,at(A).innerHeight||C(A).documentElement.clientHeight),re=Math.max(J-.5*as(A.display),3);V=(w>0?p.bottom:p.top)+w*re}else"line"==_&&(V=w>0?p.bottom+3:p.top-3);for(;(de=Vo(A,O,V)).outside;){if(w<0?V<=0:V>=C.height){de.hitSide=!0;break}V+=5*w}return de}var qo=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ft,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function uc(A,p){var w=ct(A,p.line);if(!w||w.hidden)return null;var _=Xt(A.doc,p.line),C=N(w,_,p.line),O=Ye(_,A.doc.direction),V="left";O&&(V=xe(O,p.ch)%2?"right":"left");var re=kn(C.map,p.ch,V);return re.offset="right"==re.collapse?re.end:re.start,re}function id(A,p){return p&&(A.bad=!0),A}function $A(A,p,w){var _;if(p==A.display.lineDiv){if(!(_=A.display.lineDiv.childNodes[w]))return id(A.clipPos(rt(A.display.viewTo-1)),!0);p=null,w=0}else for(_=p;;_=_.parentNode){if(!_||_==A.display.lineDiv)return null;if(_.parentNode&&_.parentNode==A.display.lineDiv)break}for(var C=0;C<A.display.view.length;C++){var O=A.display.view[C];if(O.node==_)return Wg(O,p,w)}}function Wg(A,p,w){var _=A.text.firstChild,C=!1;if(!p||!oe(_,p))return id(rt(ar(A.line),0),!0);if(p==_&&(C=!0,p=_.childNodes[w],w=0,!p)){var O=A.rest?Ve(A.rest):A.line;return id(rt(ar(O),O.text.length),C)}var V=3==p.nodeType?p:null,J=p;for(!V&&1==p.childNodes.length&&3==p.firstChild.nodeType&&(V=p.firstChild,w&&(w=V.nodeValue.length));J.parentNode!=_;)J=J.parentNode;var re=A.measure,de=re.maps;function ze(Ai,Ni,Oi){for(var Ri=-1;Ri<(de?de.length:0);Ri++)for(var Ki=Ri<0?re.map:de[Ri],Dr=0;Dr<Ki.length;Dr+=3){var xr=Ki[Dr+2];if(xr==Ai||xr==Ni){var eo=ar(Ri<0?A.line:A.rest[Ri]),ps=Ki[Dr]+Oi;return(Oi<0||xr!=Ai)&&(ps=Ki[Dr+(Oi?1:0)]),rt(eo,ps)}}}var nt=ze(V,J,w);if(nt)return id(nt,C);for(var Pt=J.nextSibling,Dt=V?V.nodeValue.length-w:0;Pt;Pt=Pt.nextSibling){if(nt=ze(Pt,Pt.firstChild,0))return id(rt(nt.line,nt.ch-Dt),C);Dt+=Pt.textContent.length}for(var Bn=J.previousSibling,$n=w;Bn;Bn=Bn.previousSibling){if(nt=ze(Bn,Bn.firstChild,-1))return id(rt(nt.line,nt.ch+$n),C);$n+=Bn.textContent.length}}qo.prototype.init=function(A){var p=this,w=this,_=w.cm,C=w.div=A.lineDiv;function O(J){for(var re=J.target;re;re=re.parentNode){if(re==C)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(re.className))break}return!1}function V(J){if(O(J)&&!Ct(_,J)){if(_.somethingSelected())zh({lineWise:!1,text:_.getSelections()}),"cut"==J.type&&_.replaceSelection("",null,"cut");else{if(!_.options.lineWiseCopyCut)return;var re=Fs(_);zh({lineWise:!0,text:re.text}),"cut"==J.type&&_.operation(function(){_.setSelections(re.ranges,0,si),_.replaceSelection("",null,"cut")})}if(J.clipboardData){J.clipboardData.clearData();var de=ac.text.join("\n");if(J.clipboardData.setData("Text",de),J.clipboardData.getData("Text")==de)return void J.preventDefault()}var ze=$h(),nt=ze.firstChild;lc(nt),_.display.lineSpace.insertBefore(ze,_.display.lineSpace.firstChild),nt.value=ac.text.join("\n");var Pt=le(ne(C));$e(nt),setTimeout(function(){_.display.lineSpace.removeChild(ze),Pt.focus(),Pt==C&&w.showPrimarySelection()},50)}}C.contentEditable=!0,lc(C,_.options.spellcheck,_.options.autocorrect,_.options.autocapitalize),Ge(C,"paste",function(J){!O(J)||Ct(_,J)||Pl(J,_)||De<=11&&setTimeout(cl(_,function(){return p.updateFromDOM()}),20)}),Ge(C,"compositionstart",function(J){p.composing={data:J.data,done:!1}}),Ge(C,"compositionupdate",function(J){p.composing||(p.composing={data:J.data,done:!1})}),Ge(C,"compositionend",function(J){p.composing&&(J.data!=p.composing.data&&p.readFromDOMSoon(),p.composing.done=!0)}),Ge(C,"touchstart",function(){return w.forceCompositionEnd()}),Ge(C,"input",function(){p.composing||p.readFromDOMSoon()}),Ge(C,"copy",V),Ge(C,"cut",V)},qo.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},qo.prototype.prepareSelection=function(){var A=IA(this.cm,!1);return A.focus=le(ne(this.div))==this.div,A},qo.prototype.showSelection=function(A,p){!A||!this.cm.display.view.length||((A.focus||p)&&this.showPrimarySelection(),this.showMultipleSelections(A))},qo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},qo.prototype.showPrimarySelection=function(){var A=this.getSelection(),p=this.cm,w=p.doc.sel.primary(),_=w.from(),C=w.to();if(p.display.viewTo==p.display.viewFrom||_.line>=p.display.viewTo||C.line<p.display.viewFrom)A.removeAllRanges();else{var O=$A(p,A.anchorNode,A.anchorOffset),V=$A(p,A.focusNode,A.focusOffset);if(!O||O.bad||!V||V.bad||0!=Ot(Co(O,V),_)||0!=Ot(be(O,V),C)){var J=p.display.view,re=_.line>=p.display.viewFrom&&uc(p,_)||{node:J[0].measure.map[2],offset:0},de=C.line<p.display.viewTo&&uc(p,C);if(!de){var ze=J[J.length-1].measure,nt=ze.maps?ze.maps[ze.maps.length-1]:ze.map;de={node:nt[nt.length-1],offset:nt[nt.length-2]-nt[nt.length-3]}}if(!re||!de)return void A.removeAllRanges();var Dt,Pt=A.rangeCount&&A.getRangeAt(0);try{Dt=R(re.node,re.offset,de.offset,de.node)}catch{}Dt&&(!Ln&&p.state.focused?(A.collapse(re.node,re.offset),Dt.collapsed||(A.removeAllRanges(),A.addRange(Dt))):(A.removeAllRanges(),A.addRange(Dt)),Pt&&null==A.anchorNode?A.addRange(Pt):Ln&&this.startGracePeriod()),this.rememberSelection()}}},qo.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},qo.prototype.showMultipleSelections=function(A){L(this.cm.display.cursorDiv,A.cursors),L(this.cm.display.selectionDiv,A.selection)},qo.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},qo.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var p=A.getRangeAt(0).commonAncestorContainer;return oe(this.div,p)},qo.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||le(ne(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},qo.prototype.blur=function(){this.div.blur()},qo.prototype.getField=function(){return this.div},qo.prototype.supportsTouch=function(){return!0},qo.prototype.receivedFocus=function(){var A=this,p=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):Kl(this.cm,function(){return p.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function w(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,w))})},qo.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},qo.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var A=this.getSelection(),p=this.cm;if(fn&&bn&&this.cm.display.gutterSpecs.length&&function Yl(A){for(var p=A;p;p=p.parentNode)if(/CodeMirror-gutter-wrapper/.test(p.className))return!0;return!1}(A.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var w=$A(p,A.anchorNode,A.anchorOffset),_=$A(p,A.focusNode,A.focusOffset);w&&_&&Kl(p,function(){Ml(p.doc,Ca(w,_),si),(w.bad||_.bad)&&(p.curOp.selectionChanged=!0)})}}},qo.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var O,V,J,A=this.cm,p=A.display,w=A.doc.sel.primary(),_=w.from(),C=w.to();if(0==_.ch&&_.line>A.firstLine()&&(_=rt(_.line-1,Xt(A.doc,_.line-1).length)),C.ch==Xt(A.doc,C.line).text.length&&C.line<A.lastLine()&&(C=rt(C.line+1,0)),_.line<p.viewFrom||C.line>p.viewTo-1)return!1;_.line==p.viewFrom||0==(O=al(A,_.line))?(V=ar(p.view[0].line),J=p.view[0].node):(V=ar(p.view[O].line),J=p.view[O-1].node.nextSibling);var de,ze,re=al(A,C.line);if(re==p.view.length-1?(de=p.viewTo-1,ze=p.lineDiv.lastChild):(de=ar(p.view[re+1].line)-1,ze=p.view[re+1].node.previousSibling),!J)return!1;for(var nt=A.doc.splitLines(function Tc(A,p,w,_,C){var O="",V=!1,J=A.doc.lineSeparator(),re=!1;function ze(){V&&(O+=J,re&&(O+=J),V=re=!1)}function nt(Dt){Dt&&(ze(),O+=Dt)}function Pt(Dt){if(1==Dt.nodeType){var Bn=Dt.getAttribute("cm-text");if(Bn)return void nt(Bn);var Ai,$n=Dt.getAttribute("cm-marker");if($n){var Ni=A.findMarks(rt(_,0),rt(C+1,0),function de(Dt){return function(Bn){return Bn.id==Dt}}(+$n));return void(Ni.length&&(Ai=Ni[0].find(0))&&nt(hr(A.doc,Ai.from,Ai.to).join(J)))}if("false"==Dt.getAttribute("contenteditable"))return;var Oi=/^(pre|div|p|li|table|br)$/i.test(Dt.nodeName);if(!/^br$/i.test(Dt.nodeName)&&0==Dt.textContent.length)return;Oi&&ze();for(var Ri=0;Ri<Dt.childNodes.length;Ri++)Pt(Dt.childNodes[Ri]);/^(pre|p)$/i.test(Dt.nodeName)&&(re=!0),Oi&&(V=!0)}else 3==Dt.nodeType&&nt(Dt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Pt(p),p!=w;)p=p.nextSibling,re=!1;return O}(A,J,ze,V,de)),Pt=hr(A.doc,rt(V,0),rt(de,Xt(A.doc,de).text.length));nt.length>1&&Pt.length>1;)if(Ve(nt)==Ve(Pt))nt.pop(),Pt.pop(),de--;else{if(nt[0]!=Pt[0])break;nt.shift(),Pt.shift(),V++}for(var Dt=0,Bn=0,$n=nt[0],Ai=Pt[0],Ni=Math.min($n.length,Ai.length);Dt<Ni&&$n.charCodeAt(Dt)==Ai.charCodeAt(Dt);)++Dt;for(var Oi=Ve(nt),Ri=Ve(Pt),Ki=Math.min(Oi.length-(1==nt.length?Dt:0),Ri.length-(1==Pt.length?Dt:0));Bn<Ki&&Oi.charCodeAt(Oi.length-Bn-1)==Ri.charCodeAt(Ri.length-Bn-1);)++Bn;if(1==nt.length&&1==Pt.length&&V==_.line)for(;Dt&&Dt>_.ch&&Oi.charCodeAt(Oi.length-Bn-1)==Ri.charCodeAt(Ri.length-Bn-1);)Dt--,Bn++;nt[nt.length-1]=Oi.slice(0,Oi.length-Bn).replace(/^\u200b+/,""),nt[0]=nt[0].slice(Dt).replace(/\u200b+$/,"");var Dr=rt(V,Dt),xr=rt(de,Pt.length?Ve(Pt).length-Bn:0);return nt.length>1||nt[0]||Ot(Dr,xr)?(Pg(A.doc,nt,Dr,xr,"+input"),!0):void 0},qo.prototype.ensurePolled=function(){this.forceCompositionEnd()},qo.prototype.reset=function(){this.forceCompositionEnd()},qo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},qo.prototype.readFromDOMSoon=function(){var A=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing){if(!A.composing.done)return;A.composing=null}A.updateFromDOM()},80))},qo.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&Kl(this.cm,function(){return Hs(A.cm)})},qo.prototype.setUneditable=function(A){A.contentEditable="false"},qo.prototype.onKeyPress=function(A){0==A.charCode||this.composing||(A.preventDefault(),this.cm.isReadOnly()||cl(this.cm,Bv)(this.cm,String.fromCharCode(null==A.charCode?A.keyCode:A.charCode),0))},qo.prototype.readOnlyChanged=function(A){this.div.contentEditable=String("nocursor"!=A)},qo.prototype.onContextMenu=function(){},qo.prototype.resetPosition=function(){},qo.prototype.needsContentAttribute=!0;var ta=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new Ft,this.hasSelection=!1,this.composing=null,this.resetting=!1};ta.prototype.init=function(A){var p=this,w=this,_=this.cm;this.createField(A);var C=this.textarea;function O(V){if(!Ct(_,V)){if(_.somethingSelected())zh({lineWise:!1,text:_.getSelections()});else{if(!_.options.lineWiseCopyCut)return;var J=Fs(_);zh({lineWise:!0,text:J.text}),"cut"==V.type?_.setSelections(J.ranges,null,si):(w.prevInput="",C.value=J.text.join("\n"),$e(C))}"cut"==V.type&&(_.state.cutIncoming=+new Date)}}A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),an&&(C.style.width="0px"),Ge(C,"input",function(){_n&&De>=9&&p.hasSelection&&(p.hasSelection=null),w.poll()}),Ge(C,"paste",function(V){Ct(_,V)||Pl(V,_)||(_.state.pasteIncoming=+new Date,w.fastPoll())}),Ge(C,"cut",O),Ge(C,"copy",O),Ge(A.scroller,"paste",function(V){if(!Da(A,V)&&!Ct(_,V)){if(!C.dispatchEvent)return _.state.pasteIncoming=+new Date,void w.focus();var J=new Event("paste");J.clipboardData=V.clipboardData,C.dispatchEvent(J)}}),Ge(A.lineSpace,"selectstart",function(V){Da(A,V)||xn(V)}),Ge(C,"compositionstart",function(){var V=_.getCursor("from");w.composing&&w.composing.range.clear(),w.composing={start:V,range:_.markText(V,_.getCursor("to"),{className:"CodeMirror-composing"})}}),Ge(C,"compositionend",function(){w.composing&&(w.poll(),w.composing.range.clear(),w.composing=null)})},ta.prototype.createField=function(A){this.wrapper=$h(),this.textarea=this.wrapper.firstChild;var p=this.cm.options;lc(this.textarea,p.spellcheck,p.autocorrect,p.autocapitalize)},ta.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},ta.prototype.prepareSelection=function(){var A=this.cm,p=A.display,w=A.doc,_=IA(A);if(A.options.moveInputWithCursor){var C=Ur(A,w.sel.primary().head,"div"),O=p.wrapper.getBoundingClientRect(),V=p.lineDiv.getBoundingClientRect();_.teTop=Math.max(0,Math.min(p.wrapper.clientHeight-10,C.top+V.top-O.top)),_.teLeft=Math.max(0,Math.min(p.wrapper.clientWidth-10,C.left+V.left-O.left))}return _},ta.prototype.showSelection=function(A){var w=this.cm.display;L(w.cursorDiv,A.cursors),L(w.selectionDiv,A.selection),null!=A.teTop&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},ta.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing&&A)){var p=this.cm;if(this.resetting=!0,p.somethingSelected()){this.prevInput="";var w=p.getSelection();this.textarea.value=w,p.state.focused&&$e(this.textarea),_n&&De>=9&&(this.hasSelection=w)}else A||(this.prevInput=this.textarea.value="",_n&&De>=9&&(this.hasSelection=null));this.resetting=!1}},ta.prototype.getField=function(){return this.textarea},ta.prototype.supportsTouch=function(){return!1},ta.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Tt||le(ne(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},ta.prototype.blur=function(){this.textarea.blur()},ta.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ta.prototype.receivedFocus=function(){this.slowPoll()},ta.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},ta.prototype.fastPoll=function(){var A=!1,p=this;p.pollingFast=!0,p.polling.set(20,function w(){p.poll()||A?(p.pollingFast=!1,p.slowPoll()):(A=!0,p.polling.set(60,w))})},ta.prototype.poll=function(){var A=this,p=this.cm,w=this.textarea,_=this.prevInput;if(this.contextMenuPending||this.resetting||!p.state.focused||br(w)&&!_&&!this.composing||p.isReadOnly()||p.options.disableInput||p.state.keySeq)return!1;var C=w.value;if(C==_&&!p.somethingSelected())return!1;if(_n&&De>=9&&this.hasSelection===C||In&&/[\uf700-\uf7ff]/.test(C))return p.display.input.reset(),!1;if(p.doc.sel==p.display.selForContextMenu){var O=C.charCodeAt(0);if(8203==O&&!_&&(_="\u200b"),8666==O)return this.reset(),this.cm.execCommand("undo")}for(var V=0,J=Math.min(_.length,C.length);V<J&&_.charCodeAt(V)==C.charCodeAt(V);)++V;return Kl(p,function(){Bv(p,C.slice(V),_.length-V,null,A.composing?"*compose":null),C.length>1e3||C.indexOf("\n")>-1?w.value=A.prevInput="":A.prevInput=C,A.composing&&(A.composing.range.clear(),A.composing.range=p.markText(A.composing.start,p.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ta.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ta.prototype.onKeyPress=function(){_n&&De>=9&&(this.hasSelection=null),this.fastPoll()},ta.prototype.onContextMenu=function(A){var p=this,w=p.cm,_=w.display,C=p.textarea;p.contextMenuPending&&p.contextMenuPending();var O=xo(w,A),V=_.scroller.scrollTop;if(O&&!Ht){w.options.resetSelectionOnContextMenu&&-1==w.doc.sel.contains(O)&&cl(w,Ml)(w.doc,Ca(O),si);var nt,re=C.style.cssText,de=p.wrapper.style.cssText,ze=p.wrapper.offsetParent.getBoundingClientRect();if(p.wrapper.style.cssText="position: static",C.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(A.clientY-ze.top-5)+"px; left: "+(A.clientX-ze.left-5)+"px;\n      z-index: 1000; background: "+(_n?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",it&&(nt=C.ownerDocument.defaultView.scrollY),_.input.focus(),it&&C.ownerDocument.defaultView.scrollTo(null,nt),_.input.reset(),w.somethingSelected()||(C.value=p.prevInput=" "),p.contextMenuPending=Dt,_.selForContextMenu=w.doc.sel,clearTimeout(_.detectingSelectAll),_n&&De>=9&&Pt(),qt){Br(A);var Bn=function(){Kt(window,"mouseup",Bn),setTimeout(Dt,20)};Ge(window,"mouseup",Bn)}else setTimeout(Dt,50)}function Pt(){if(null!=C.selectionStart){var $n=w.somethingSelected(),Ai="\u200b"+($n?C.value:"");C.value="\u21da",C.value=Ai,p.prevInput=$n?"":"\u200b",C.selectionStart=1,C.selectionEnd=Ai.length,_.selForContextMenu=w.doc.sel}}function Dt(){if(p.contextMenuPending==Dt&&(p.contextMenuPending=!1,p.wrapper.style.cssText=de,C.style.cssText=re,_n&&De<9&&_.scrollbars.setScrollTop(_.scroller.scrollTop=V),null!=C.selectionStart)){(!_n||_n&&De<9)&&Pt();var $n=0,Ai=function(){_.selForContextMenu==w.doc.sel&&0==C.selectionStart&&C.selectionEnd>0&&"\u200b"==p.prevInput?cl(w,T9)(w):$n++<10?_.detectingSelectAll=setTimeout(Ai,500):(_.selForContextMenu=null,_.input.reset())};_.detectingSelectAll=setTimeout(Ai,200)}}},ta.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled="nocursor"==A,this.textarea.readOnly=!!A},ta.prototype.setUneditable=function(){},ta.prototype.needsContentAttribute=!1,function Kg(A){var p=A.optionHandlers;function w(_,C,O,V){A.defaults[_]=C,O&&(p[_]=V?function(J,re,de){de!=qd&&O(J,re,de)}:O)}A.defineOption=w,A.Init=qd,w("value","",function(_,C){return _.setValue(C)},!0),w("mode",null,function(_,C){_.doc.modeOption=C,ur(_)},!0),w("indentUnit",2,ur,!0),w("indentWithTabs",!1),w("smartIndent",!0),w("tabSize",4,function(_){Hd(_),mr(_),Hs(_)},!0),w("lineSeparator",null,function(_,C){if(_.doc.lineSep=C,C){var O=[],V=_.doc.first;_.doc.iter(function(re){for(var de=0;;){var ze=re.text.indexOf(C,de);if(-1==ze)break;de=ze+C.length,O.push(rt(V,ze))}V++});for(var J=O.length-1;J>=0;J--)Pg(_.doc,C,O[J],rt(O[J].line,O[J].ch+C.length))}}),w("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(_,C,O){_.state.specialChars=new RegExp(C.source+(C.test("\t")?"":"|\t"),"g"),O!=qd&&_.refresh()}),w("specialCharPlaceholder",Sc,function(_){return _.refresh()},!0),w("electricChars",!0),w("inputStyle",Tt?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),w("spellcheck",!1,function(_,C){return _.getInputField().spellcheck=C},!0),w("autocorrect",!1,function(_,C){return _.getInputField().autocorrect=C},!0),w("autocapitalize",!1,function(_,C){return _.getInputField().autocapitalize=C},!0),w("rtlMoveVisually",!An),w("wholeLineUpdateBefore",!0),w("theme","default",function(_){o5(_),cp(_)},!0),w("keyMap","default",function(_,C,O){var V=zA(C),J=O!=qd&&zA(O);J&&J.detach&&J.detach(_,V),V.attach&&V.attach(_,J||null)}),w("extraKeys",null),w("configureMouse",null),w("lineWrapping",!1,Sv,!0),w("gutters",[],function(_,C){_.display.gutterSpecs=uv(C,_.options.lineNumbers),cp(_)},!0),w("fixedGutter",!0,function(_,C){_.display.gutters.style.left=C?El(_.display)+"px":"0",_.refresh()},!0),w("coverGutterNextToScrollbar",!1,function(_){return Nh(_)},!0),w("scrollbarStyle","native",function(_){$4(_),Nh(_),_.display.scrollbars.setScrollTop(_.doc.scrollTop),_.display.scrollbars.setScrollLeft(_.doc.scrollLeft)},!0),w("lineNumbers",!1,function(_,C){_.display.gutterSpecs=uv(_.options.gutters,C),cp(_)},!0),w("firstLineNumber",1,cp,!0),w("lineNumberFormatter",function(_){return _},cp,!0),w("showCursorWhenSelecting",!1,Ga,!0),w("resetSelectionOnContextMenu",!0),w("lineWiseCopyCut",!0),w("pasteLinesPerSelection",!0),w("selectionsMayTouch",!1),w("readOnly",!1,function(_,C){"nocursor"==C&&(Oa(_),_.display.input.blur()),_.display.input.readOnlyChanged(C)}),w("screenReaderLabel",null,function(_,C){_.display.input.screenReaderLabelChanged(C=""===C?null:C)}),w("disableInput",!1,function(_,C){C||_.display.input.reset()},!0),w("dragDrop",!0,xv),w("allowDropFileTypes",null),w("cursorBlinkRate",530),w("cursorScrollMargin",0),w("cursorHeight",1,Ga,!0),w("singleCursorHeightPerLine",!0,Ga,!0),w("workTime",100),w("workDelay",100),w("flattenSpans",!0,Hd,!0),w("addModeClass",!1,Hd,!0),w("pollInterval",100),w("undoDepth",200,function(_,C){return _.doc.history.undoDepth=C}),w("historyEventDelay",1250),w("viewportMargin",10,function(_){return _.refresh()},!0),w("maxHighlightLength",1e4,Hd,!0),w("moveInputWithCursor",!0,function(_,C){C||_.display.input.resetPosition()}),w("tabindex",null,function(_,C){return _.display.input.getField().tabIndex=C||""}),w("autofocus",null),w("direction","ltr",function(_,C){return _.doc.setDirection(C)},!0),w("phrases",null)}(Cs),function a5(A){var p=A.optionHandlers,w=A.helpers={};A.prototype={constructor:A,focus:function(){at(this).focus(),this.display.input.focus()},setOption:function(_,C){var O=this.options,V=O[_];O[_]==C&&"mode"!=_||(O[_]=C,p.hasOwnProperty(_)&&cl(this,p[_])(this,C,V),xt(this,"optionChange",this,_))},getOption:function(_){return this.options[_]},getDoc:function(){return this.doc},addKeyMap:function(_,C){this.state.keyMaps[C?"push":"unshift"](zA(_))},removeKeyMap:function(_){for(var C=this.state.keyMaps,O=0;O<C.length;++O)if(C[O]==_||C[O].name==_)return C.splice(O,1),!0},addOverlay:qa(function(_,C){var O=_.token?_:A.getMode(this.options,_);if(O.startState)throw new Error("Overlays may not be stateful.");(function ht(A,p,w){for(var _=0,C=w(p);_<A.length&&w(A[_])<=C;)_++;A.splice(_,0,p)})(this.state.overlays,{mode:O,modeSpec:_,opaque:C&&C.opaque,priority:C&&C.priority||0},function(V){return V.priority}),this.state.modeGen++,Hs(this)}),removeOverlay:qa(function(_){for(var C=this.state.overlays,O=0;O<C.length;++O){var V=C[O].modeSpec;if(V==_||"string"==typeof _&&V.name==_)return C.splice(O,1),this.state.modeGen++,void Hs(this)}}),indentLine:qa(function(_,C,O){"string"!=typeof C&&"number"!=typeof C&&(C=null==C?this.options.smartIndent?"smart":"prev":C?"add":"subtract"),ue(this.doc,_)&&jd(this,_,C,O)}),indentSelection:qa(function(_){for(var C=this.doc.sel.ranges,O=-1,V=0;V<C.length;V++){var J=C[V];if(J.empty())J.head.line>O&&(jd(this,J.head.line,_,!0),O=J.head.line,V==this.doc.sel.primIndex&&rp(this));else{var re=J.from(),de=J.to(),ze=Math.max(O,re.line);O=Math.min(this.lastLine(),de.line-(de.ch?0:1))+1;for(var nt=ze;nt<O;++nt)jd(this,nt,_);var Pt=this.doc.sel.ranges;0==re.ch&&C.length==Pt.length&&Pt[V].from().ch>0&&$d(this.doc,V,new Vr(re,Pt[V].to()),si)}}}),getTokenAt:function(_,C){return ie(this,_,C)},getLineTokens:function(_,C){return ie(this,rt(_),C,!0)},getTokenTypeAt:function(_){_=En(this.doc,_);var re,C=Fu(this,Xt(this.doc,_.line)),O=0,V=(C.length-1)/2,J=_.ch;if(0==J)re=C[2];else for(;;){var de=O+V>>1;if((de?C[2*de-1]:0)>=J)V=de;else{if(!(C[2*de+1]<J)){re=C[2*de+2];break}O=de+1}}var ze=re?re.indexOf("overlay "):-1;return ze<0?re:0==ze?null:re.slice(0,ze-1)},getModeAt:function(_){var C=this.doc.mode;return C.innerMode?A.innerMode(C,this.getTokenAt(_).state).mode:C},getHelper:function(_,C){return this.getHelpers(_,C)[0]},getHelpers:function(_,C){var O=[];if(!w.hasOwnProperty(C))return O;var V=w[C],J=this.getModeAt(_);if("string"==typeof J[C])V[J[C]]&&O.push(V[J[C]]);else if(J[C])for(var re=0;re<J[C].length;re++){var de=V[J[C][re]];de&&O.push(de)}else J.helperType&&V[J.helperType]?O.push(V[J.helperType]):V[J.name]&&O.push(V[J.name]);for(var ze=0;ze<V._global.length;ze++){var nt=V._global[ze];nt.pred(J,this)&&-1==Pn(O,nt.val)&&O.push(nt.val)}return O},getStateAfter:function(_,C){var O=this.doc;return dr(this,(_=$o(O,_??O.first+O.size-1))+1,C).state},cursorCoords:function(_,C){var V=this.doc.sel.primary();return Ur(this,null==_?V.head:"object"==typeof _?En(this.doc,_):_?V.from():V.to(),C||"page")},charCoords:function(_,C){return co(this,En(this.doc,_),C||"page")},coordsChar:function(_,C){return Vo(this,(_=wi(this,_,C||"page")).left,_.top)},lineAtHeight:function(_,C){return _=wi(this,{top:_,left:0},C||"page").top,Zr(this.doc,_+this.display.viewOffset)},heightAtLine:function(_,C,O){var J,V=!1;if("number"==typeof _){var re=this.doc.first+this.doc.size-1;_<this.doc.first?_=this.doc.first:_>re&&(_=re,V=!0),J=Xt(this.doc,_)}else J=_;return li(this,J,{top:0,left:0},C||"page",O||V).top+(V?this.doc.height-Us(J):0)},defaultTextHeight:function(){return as(this.display)},defaultCharWidth:function(){return Fa(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(_,C,O,V,J){var re=this.display,de=(_=Ur(this,En(this.doc,_))).bottom,ze=_.left;if(C.style.position="absolute",C.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(C),re.sizer.appendChild(C),"over"==V)de=_.top;else if("above"==V||"near"==V){var nt=Math.max(re.wrapper.clientHeight,this.doc.height),Pt=Math.max(re.sizer.clientWidth,re.lineSpace.clientWidth);("above"==V||_.bottom+C.offsetHeight>nt)&&_.top>C.offsetHeight?de=_.top-C.offsetHeight:_.bottom+C.offsetHeight<=nt&&(de=_.bottom),ze+C.offsetWidth>Pt&&(ze=Pt-C.offsetWidth)}C.style.top=de+"px",C.style.left=C.style.right="","right"==J?(ze=re.sizer.clientWidth-C.offsetWidth,C.style.right="0px"):("left"==J?ze=0:"middle"==J&&(ze=(re.sizer.clientWidth-C.offsetWidth)/2),C.style.left=ze+"px"),O&&function z4(A,p){var w=em(A,p);null!=w.scrollTop&&op(A,w.scrollTop),null!=w.scrollLeft&&sp(A,w.scrollLeft)}(this,{left:ze,top:de,right:ze+C.offsetWidth,bottom:de+C.offsetHeight})},triggerOnKeyDown:qa(Fn),triggerOnKeyPress:qa(Dn),triggerOnKeyUp:Tn,triggerOnMouseDown:qa(Ph),execCommand:function(_){if(yp.hasOwnProperty(_))return yp[_].call(null,this)},triggerElectric:qa(function(_){Kd(this,_)}),findPosH:function(_,C,O,V){var J=1;C<0&&(J=-1,C=-C);for(var re=En(this.doc,_),de=0;de<C&&!(re=Ea(this.doc,re,J,O,V)).hitSide;++de);return re},moveH:qa(function(_,C){var O=this;this.extendSelectionsBy(function(V){return O.display.shift||O.doc.extend||V.empty()?Ea(O.doc,V.head,_,C,O.options.rtlMoveVisually):_<0?V.from():V.to()},zn)}),deleteH:qa(function(_,C){var V=this.doc;this.doc.sel.somethingSelected()?V.replaceSelection("",null,"+delete"):td(this,function(J){var re=Ea(V,J.head,_,C,!1);return _<0?{from:re,to:J.head}:{from:J.head,to:re}})}),findPosV:function(_,C,O,V){var J=1,re=V;C<0&&(J=-1,C=-C);for(var de=En(this.doc,_),ze=0;ze<C;++ze){var nt=Ur(this,de,"div");if(null==re?re=nt.left:nt.left=re,(de=Wd(this,nt,J,O)).hitSide)break}return de},moveV:qa(function(_,C){var O=this,V=this.doc,J=[],re=!this.display.shift&&!V.extend&&V.sel.somethingSelected();if(V.extendSelectionsBy(function(ze){if(re)return _<0?ze.from():ze.to();var nt=Ur(O,ze.head,"div");null!=ze.goalColumn&&(nt.left=ze.goalColumn),J.push(nt.left);var Pt=Wd(O,nt,_,C);return"page"==C&&ze==V.sel.primary()&&ip(O,co(O,Pt,"div").top-nt.top),Pt},zn),J.length)for(var de=0;de<V.sel.ranges.length;de++)V.sel.ranges[de].goalColumn=J[de]}),findWordAt:function(_){var O=Xt(this.doc,_.line).text,V=_.ch,J=_.ch;if(O){var re=this.getHelper(_,"wordChars");"before"!=_.sticky&&J!=O.length||!V?++J:--V;for(var de=O.charAt(V),ze=pt(de,re)?function(nt){return pt(nt,re)}:/\s/.test(de)?function(nt){return/\s/.test(nt)}:function(nt){return!/\s/.test(nt)&&!pt(nt)};V>0&&ze(O.charAt(V-1));)--V;for(;J<O.length&&ze(O.charAt(J));)++J}return new Vr(rt(_.line,V),rt(_.line,J))},toggleOverwrite:function(_){null!=_&&_==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Me(this.display.cursorDiv,"CodeMirror-overwrite"):Wn(this.display.cursorDiv,"CodeMirror-overwrite"),xt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==le(ve(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:qa(function(_,C){TA(this,_,C)}),getScrollInfo:function(){var _=this.display.scroller;return{left:_.scrollLeft,top:_.scrollTop,height:_.scrollHeight-ou(this)-this.display.barHeight,width:_.scrollWidth-ou(this)-this.display.barWidth,clientHeight:tc(this),clientWidth:Cl(this)}},scrollIntoView:qa(function(_,C){null==_?(_={from:this.doc.sel.primary().head,to:null},null==C&&(C=this.options.cursorScrollMargin)):"number"==typeof _?_={from:rt(_,0),to:null}:null==_.from&&(_={from:_,to:null}),_.to||(_.to=_.from),_.margin=C||0,null!=_.from.line?function kg(A,p){tm(A),A.curOp.scrollToPos=p}(this,_):nm(this,_.from,_.to,_.margin)}),setSize:qa(function(_,C){var O=this,V=function(re){return"number"==typeof re||/^\d+$/.test(String(re))?re+"px":re};null!=_&&(this.display.wrapper.style.width=V(_)),null!=C&&(this.display.wrapper.style.height=V(C)),this.options.lineWrapping&&Gi(this);var J=this.display.viewFrom;this.doc.iter(J,this.display.viewTo,function(re){if(re.widgets)for(var de=0;de<re.widgets.length;de++)if(re.widgets[de].noHScroll){Ul(O,J,"widget");break}++J}),this.curOp.forceUpdate=!0,xt(this,"refresh",this)}),operation:function(_){return Kl(this,_)},startOperation:function(){return Jf(this)},endOperation:function(){return Pd(this)},refresh:qa(function(){var _=this.display.cachedTextHeight;Hs(this),this.curOp.forceUpdate=!0,mr(this),TA(this,this.doc.scrollLeft,this.doc.scrollTop),om(this.display),(null==_||Math.abs(_-as(this.display))>.5||this.options.lineWrapping)&&Aa(this),xt(this,"refresh",this)}),swapDoc:qa(function(_){var C=this.doc;return C.cm=null,this.state.selectingText&&this.state.selectingText(),fp(this,_),mr(this),this.display.input.reset(),TA(this,_.scrollLeft,_.scrollTop),this.curOp.forceScroll=!0,ba(this,"swapDoc",this,C),C}),phrase:function(_){var C=this.options.phrases;return C&&Object.prototype.hasOwnProperty.call(C,_)?C[_]:_},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},mn(A),A.registerHelper=function(_,C,O){w.hasOwnProperty(_)||(w[_]=A[_]={_global:[]}),w[_][C]=O},A.registerGlobalHelper=function(_,C,O,V){A.registerHelper(_,C,V),w[_]._global.push({pred:O,val:V})}}(Cs);var l5="iter insert remove copy getEditor constructor".split(" ");for(var rd in pa.prototype)pa.prototype.hasOwnProperty(rd)&&Pn(l5,rd)<0&&(Cs.prototype[rd]=function(A){return function(){return A.apply(this.doc,arguments)}}(pa.prototype[rd]));return mn(pa),Cs.inputStyles={textarea:ta,contenteditable:qo},Cs.defineMode=function(A){!Cs.defaults.mode&&"null"!=A&&(Cs.defaults.mode=A),ke.apply(this,arguments)},Cs.defineMIME=function ee(A,p){ge[A]=p},Cs.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),Cs.defineMIME("text/plain","null"),Cs.defineExtension=function(A,p){Cs.prototype[A]=p},Cs.defineDocExtension=function(A,p){pa.prototype[A]=p},Cs.fromTextArea=function mm(A,p){if((p=p?Rt(p):{}).value=A.value,!p.tabindex&&A.tabIndex&&(p.tabindex=A.tabIndex),!p.placeholder&&A.placeholder&&(p.placeholder=A.placeholder),null==p.autofocus){var w=le(ne(A));p.autofocus=w==A||null!=A.getAttribute("autofocus")&&w==document.body}function _(){A.value=J.getValue()}var C;if(A.form&&(Ge(A.form,"submit",_),!p.leaveSubmitMethodAlone)){var O=A.form;C=O.submit;try{var V=O.submit=function(){_(),O.submit=C,O.submit(),O.submit=V}}catch{}}p.finishInit=function(re){re.save=_,re.getTextArea=function(){return A},re.toTextArea=function(){re.toTextArea=isNaN,_(),A.parentNode.removeChild(re.getWrapperElement()),A.style.display="",A.form&&(Kt(A.form,"submit",_),!p.leaveSubmitMethodAlone&&"function"==typeof A.form.submit&&(A.form.submit=C))}},A.style.display="none";var J=Cs(function(re){return A.parentNode.insertBefore(re,A.nextSibling)},p);return J},function wp(A){A.off=Kt,A.on=Ge,A.wheelEventPixels=ha,A.Doc=pa,A.splitLines=Yn,A.countColumn=Jt,A.findColumn=ri,A.isWordChar=Cn,A.Pass=gi,A.signal=xt,A.Line=Ll,A.changeEnd=fl,A.scrollbarModel=OA,A.Pos=rt,A.cmpPos=Ot,A.modes=he,A.mimeModes=ge,A.resolveMode=Ue,A.getMode=gt,A.modeExtensions=Bt,A.extendMode=zt,A.copyState=Et,A.startState=yn,A.innerMode=vn,A.commands=yp,A.keyMap=rc,A.keyName=$g,A.isModifierKey=e5,A.lookupKey=yf,A.normalizeKeyMap=Qs,A.StringStream=Sn,A.SharedTextMarker=mp,A.TextMarker=vf,A.LineWidget=Hg,A.e_preventDefault=xn,A.e_stopPropagation=hi,A.e_stop=Br,A.addClass=Me,A.contains=oe,A.rmClass=Wn,A.keyNames=Dc}(Cs),Cs.version="5.65.19",Cs}()},471:(ko,Kr,ei)=>{!function(Ln){"use strict";Ln.defineMode("javascript",function(Ae,F){var an,fn,dn=Ae.indentUnit,_n=F.statementIndent,De=F.jsonld,it=F.json||De,qn=!1!==F.trackScope,bn=F.typescript,Qi=F.wordCharacters||/[\w$\xa1-\uffff]/,Ht=function(){function ue(Co){return{type:Co,style:"keyword"}}var Oe=ue("keyword a"),rt=ue("keyword b"),Ot=ue("keyword c"),zi=ue("keyword d"),nn=ue("operator"),be={type:"atom",style:"atom"};return{if:ue("if"),while:Oe,with:Oe,else:rt,do:rt,try:rt,finally:rt,return:zi,break:zi,continue:zi,new:ue("new"),delete:Ot,void:Ot,throw:Ot,debugger:ue("debugger"),var:ue("var"),const:ue("var"),let:ue("var"),function:ue("function"),catch:ue("catch"),for:ue("for"),switch:ue("switch"),case:ue("case"),default:ue("default"),in:nn,typeof:nn,instanceof:nn,true:be,false:be,null:be,undefined:be,NaN:be,Infinity:be,this:ue("this"),class:ue("class"),super:ue("atom"),yield:Ot,export:ue("export"),import:ue("import"),extends:Ot,await:Ot}}(),Fe=/[+\-*&%=<>!?|~^@]/,$t=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Tt(ue,Oe,rt){return an=ue,fn=rt,Oe}function In(ue,Oe){var rt=ue.next();if('"'==rt||"'"==rt)return Oe.tokenize=function Xe(ue){return function(Oe,rt){var zi,Ot=!1;if(De&&"@"==Oe.peek()&&Oe.match($t))return rt.tokenize=In,Tt("jsonld-keyword","meta");for(;null!=(zi=Oe.next())&&(zi!=ue||Ot);)Ot=!Ot&&"\\"==zi;return Ot||(rt.tokenize=In),Tt("string","string")}}(rt),Oe.tokenize(ue,Oe);if("."==rt&&ue.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return Tt("number","number");if("."==rt&&ue.match(".."))return Tt("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(rt))return Tt(rt);if("="==rt&&ue.eat(">"))return Tt("=>","operator");if("0"==rt&&ue.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return Tt("number","number");if(/\d/.test(rt))return ue.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),Tt("number","number");if("/"==rt)return ue.eat("*")?(Oe.tokenize=An,An(ue,Oe)):ue.eat("/")?(ue.skipToEnd(),Tt("comment","comment")):Zr(ue,Oe,1)?(function Bi(ue){for(var rt,Oe=!1,Ot=!1;null!=(rt=ue.next());){if(!Oe){if("/"==rt&&!Ot)return;"["==rt?Ot=!0:Ot&&"]"==rt&&(Ot=!1)}Oe=!Oe&&"\\"==rt}}(ue),ue.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),Tt("regexp","string-2")):(ue.eat("="),Tt("operator","operator",ue.current()));if("`"==rt)return Oe.tokenize=Un,Un(ue,Oe);if("#"==rt&&"!"==ue.peek())return ue.skipToEnd(),Tt("meta","meta");if("#"==rt&&ue.eatWhile(Qi))return Tt("variable","property");if("<"==rt&&ue.match("!--")||"-"==rt&&ue.match("->")&&!/\S/.test(ue.string.slice(0,ue.start)))return ue.skipToEnd(),Tt("comment","comment");if(Fe.test(rt))return(">"!=rt||!Oe.lexical||">"!=Oe.lexical.type)&&(ue.eat("=")?("!"==rt||"="==rt)&&ue.eat("="):/[<>*+\-|&?]/.test(rt)&&(ue.eat(rt),">"==rt&&ue.eat(rt))),"?"==rt&&ue.eat(".")?Tt("."):Tt("operator","operator",ue.current());if(Qi.test(rt)){ue.eatWhile(Qi);var Ot=ue.current();if("."!=Oe.lastType){if(Ht.propertyIsEnumerable(Ot)){var zi=Ht[Ot];return Tt(zi.type,zi.style,Ot)}if("async"==Ot&&ue.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return Tt("async","keyword",Ot)}return Tt("variable","variable",Ot)}}function An(ue,Oe){for(var Ot,rt=!1;Ot=ue.next();){if("/"==Ot&&rt){Oe.tokenize=In;break}rt="*"==Ot}return Tt("comment","comment")}function Un(ue,Oe){for(var Ot,rt=!1;null!=(Ot=ue.next());){if(!rt&&("`"==Ot||"$"==Ot&&ue.eat("{"))){Oe.tokenize=In;break}rt=!rt&&"\\"==Ot}return Tt("quasi","string-2",ue.current())}var gn="([{}])";function qt(ue,Oe){Oe.fatArrowAt&&(Oe.fatArrowAt=null);var rt=ue.string.indexOf("=>",ue.start);if(!(rt<0)){if(bn){var Ot=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ue.string.slice(ue.start,rt));Ot&&(rt=Ot.index)}for(var zi=0,nn=!1,be=rt-1;be>=0;--be){var Co=ue.string.charAt(be),$o=gn.indexOf(Co);if($o>=0&&$o<3){if(!zi){++be;break}if(0==--zi){"("==Co&&(nn=!0);break}}else if($o>=3&&$o<6)++zi;else if(Qi.test(Co))nn=!0;else if(/["'\/`]/.test(Co))for(;;--be){if(0==be)return;if(ue.string.charAt(be-1)==Co&&"\\"!=ue.string.charAt(be-2)){be--;break}}else if(nn&&!zi){++be;break}}nn&&!zi&&(Oe.fatArrowAt=be)}}var Di={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function Wn(ue,Oe,rt,Ot,zi,nn){this.indented=ue,this.column=Oe,this.type=rt,this.prev=zi,this.info=nn,null!=Ot&&(this.align=Ot)}function qe(ue,Oe){if(!qn)return!1;for(var rt=ue.localVars;rt;rt=rt.next)if(rt.name==Oe)return!0;for(var Ot=ue.context;Ot;Ot=Ot.prev)for(rt=Ot.vars;rt;rt=rt.next)if(rt.name==Oe)return!0}function L(ue,Oe,rt,Ot,zi){var nn=ue.cc;for(U.state=ue,U.stream=zi,U.marked=null,U.cc=nn,U.style=Oe,ue.lexical.hasOwnProperty("align")||(ue.lexical.align=!0);;)if((nn.length?nn.pop():it?gi:Pn)(rt,Ot)){for(;nn.length&&nn[nn.length-1].lex;)nn.pop()();return U.marked?U.marked:"variable"==rt&&qe(ue,Ot)?"variable-2":Oe}}var U={state:null,column:null,marked:null,cc:null};function G(){for(var ue=arguments.length-1;ue>=0;ue--)U.cc.push(arguments[ue])}function R(){return G.apply(null,arguments),!0}function oe(ue,Oe){for(var rt=Oe;rt;rt=rt.next)if(rt.name==ue)return!0;return!1}function le(ue){var Oe=U.state;if(U.marked="def",qn){if(Oe.context)if("var"==Oe.lexical.info&&Oe.context&&Oe.context.block){var rt=Me(ue,Oe.context);if(null!=rt)return void(Oe.context=rt)}else if(!oe(ue,Oe.localVars))return void(Oe.localVars=new et(ue,Oe.localVars));F.globalVars&&!oe(ue,Oe.globalVars)&&(Oe.globalVars=new et(ue,Oe.globalVars))}}function Me(ue,Oe){if(Oe){if(Oe.block){var rt=Me(ue,Oe.prev);return rt?rt==Oe.prev?Oe:new $e(rt,Oe.vars,!0):null}return oe(ue,Oe.vars)?Oe:new $e(Oe.prev,new et(ue,Oe.vars),!1)}return null}function Re(ue){return"public"==ue||"private"==ue||"protected"==ue||"abstract"==ue||"readonly"==ue}function $e(ue,Oe,rt){this.prev=ue,this.vars=Oe,this.block=rt}function et(ue,Oe){this.name=ue,this.next=Oe}var ve=new et("this",new et("arguments",null));function ne(){U.state.context=new $e(U.state.context,U.state.localVars,!1),U.state.localVars=ve}function at(){U.state.context=new $e(U.state.context,U.state.localVars,!0),U.state.localVars=null}function Yt(){U.state.localVars=U.state.context.vars,U.state.context=U.state.context.prev}function Rt(ue,Oe){var rt=function(){var Ot=U.state,zi=Ot.indented;if("stat"==Ot.lexical.type)zi=Ot.lexical.indented;else for(var nn=Ot.lexical;nn&&")"==nn.type&&nn.align;nn=nn.prev)zi=nn.indented;Ot.lexical=new Wn(zi,U.stream.column(),ue,null,Ot.lexical,Oe)};return rt.lex=!0,rt}function Jt(){var ue=U.state;ue.lexical.prev&&(")"==ue.lexical.type&&(ue.indented=ue.lexical.indented),ue.lexical=ue.lexical.prev)}function Ft(ue){return function Oe(rt){return rt==ue?R():";"==ue||"}"==rt||")"==rt||"]"==rt?G():R(Oe)}}function Pn(ue,Oe){return"var"==ue?R(Rt("vardef",Oe),Br,Ft(";"),Jt):"keyword a"==ue?R(Rt("form"),Wi,Pn,Jt):"keyword b"==ue?R(Rt("form"),Pn,Jt):"keyword d"==ue?U.stream.match(/^\s*$/,!1)?R():R(Rt("stat"),ri,Ft(";"),Jt):"debugger"==ue?R(Ft(";")):"{"==ue?R(Rt("}"),at,vt,Jt,Yt):";"==ue?R():"if"==ue?("else"==U.state.lexical.info&&U.state.cc[U.state.cc.length-1]==Jt&&U.state.cc.pop()(),R(Rt("form"),Wi,Pn,Jt,Mr)):"function"==ue?R(Pr):"for"==ue?R(Rt("form"),at,ui,Pn,Yt,Jt):"class"==ue||bn&&"interface"==Oe?(U.marked="keyword",R(Rt("form","class"==ue?ue:Oe),ke,Jt)):"variable"==ue?bn&&"declare"==Oe?(U.marked="keyword",R(Pn)):bn&&("module"==Oe||"enum"==Oe||"type"==Oe)&&U.stream.match(/^\s*\w/,!1)?(U.marked="keyword","enum"==Oe?R(yo):"type"==Oe?R(fe,Ft("operator"),Ge,Ft(";")):R(Rt("form"),mi,Ft("{"),Rt("}"),vt,Jt,Jt)):bn&&"namespace"==Oe?(U.marked="keyword",R(Rt("form"),gi,Pn,Jt)):bn&&"abstract"==Oe?(U.marked="keyword",R(Pn)):R(Rt("stat"),pt):"switch"==ue?R(Rt("form"),Wi,Ft("{"),Rt("}","switch"),at,vt,Jt,Jt,Yt):"case"==ue?R(gi,Ft(":")):"default"==ue?R(Ft(":")):"catch"==ue?R(Rt("form"),ne,Si,Pn,Jt,Yt):"export"==ue?R(Rt("stat"),Bt,Jt):"import"==ue?R(Rt("stat"),Et,Jt):"async"==ue?R(Pn):"@"==Oe?R(gi,Pn):G(Rt("stat"),gi,Ft(";"),Jt)}function Si(ue){if("("==ue)return R(he,Ft(")"))}function gi(ue,Oe){return zn(ue,Oe,!1)}function si(ue,Oe){return zn(ue,Oe,!0)}function Wi(ue){return"("!=ue?G():R(Rt(")"),ri,Ft(")"),Jt)}function zn(ue,Oe,rt){if(U.state.fatArrowAt==U.stream.start){var Ot=rt?ot:ht;if("("==ue)return R(ne,Rt(")"),Ne(he,")"),Jt,Ft("=>"),Ot,Yt);if("variable"==ue)return G(ne,mi,Ft("=>"),Ot,Yt)}var zi=rt?rr:Yi;return Di.hasOwnProperty(ue)?R(zi):"function"==ue?R(Pr,zi):"class"==ue||bn&&"interface"==Oe?(U.marked="keyword",R(Rt("form"),ge,Jt)):"keyword c"==ue||"async"==ue?R(rt?si:gi):"("==ue?R(Rt(")"),ri,Ft(")"),Jt,zi):"operator"==ue||"spread"==ue?R(rt?si:gi):"["==ue?R(Rt("]"),hr,Jt,zi):"{"==ue?At(jn,"}",null,zi):"quasi"==ue?G(Ve,zi):"new"==ue?R(function Gt(ue){return function(Oe){return"."==Oe?R(ue?Cn:en):"variable"==Oe&&bn?R(xn,ue?rr:Yi):G(ue?si:gi)}}(rt)):R()}function ri(ue){return ue.match(/[;\}\)\],]/)?G():G(gi)}function Yi(ue,Oe){return","==ue?R(ri):rr(ue,Oe,!1)}function rr(ue,Oe,rt){var Ot=0==rt?Yi:rr,zi=0==rt?gi:si;if("=>"==ue)return R(ne,rt?ot:ht,Yt);if("operator"==ue)return/\+\+|--/.test(Oe)||bn&&"!"==Oe?R(Ot):bn&&"<"==Oe&&U.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?R(Rt(">"),Ne(Ge,">"),Jt,Ot):"?"==Oe?R(gi,Ft(":"),zi):R(zi);if("quasi"==ue)return G(Ve,Ot);if(";"!=ue){if("("==ue)return At(si,")","call",Ot);if("."==ue)return R(ft,Ot);if("["==ue)return R(Rt("]"),ri,Ft("]"),Jt,Ot);if(bn&&"as"==Oe)return U.marked="keyword",R(Ge,Ot);if("regexp"==ue)return U.state.lastType=U.marked="operator",U.stream.backUp(U.stream.pos-U.stream.start-1),R(zi)}}function Ve(ue,Oe){return"quasi"!=ue?G():"${"!=Oe.slice(Oe.length-2)?R(Ve):R(ri,We)}function We(ue){if("}"==ue)return U.marked="string-2",U.state.tokenize=Un,R(Ve)}function ht(ue){return qt(U.stream,U.state),G("{"==ue?Pn:gi)}function ot(ue){return qt(U.stream,U.state),G("{"==ue?Pn:si)}function en(ue,Oe){if("target"==Oe)return U.marked="keyword",R(Yi)}function Cn(ue,Oe){if("target"==Oe)return U.marked="keyword",R(rr)}function pt(ue){return":"==ue?R(Jt,Pn):G(Yi,Ft(";"),Jt)}function ft(ue){if("variable"==ue)return U.marked="property",R()}function jn(ue,Oe){return"async"==ue?(U.marked="property",R(jn)):"variable"==ue||"keyword"==U.style?(U.marked="property","get"==Oe||"set"==Oe?R(K):(bn&&U.state.fatArrowAt==U.stream.start&&(rt=U.stream.match(/^\s*:\s*/,!1))&&(U.state.fatArrowAt=U.stream.pos+rt[0].length),R(_e))):"number"==ue||"string"==ue?(U.marked=De?"property":U.style+" property",R(_e)):"jsonld-keyword"==ue?R(_e):bn&&Re(Oe)?(U.marked="keyword",R(jn)):"["==ue?R(gi,xe,Ft("]"),_e):"spread"==ue?R(si,_e):"*"==Oe?(U.marked="keyword",R(jn)):":"==ue?G(_e):void 0;var rt}function K(ue){return"variable"!=ue?G(_e):(U.marked="property",R(Pr))}function _e(ue){return":"==ue?R(si):"("==ue?G(Pr):void 0}function Ne(ue,Oe,rt){function Ot(zi,nn){if(rt?rt.indexOf(zi)>-1:","==zi){var be=U.state.lexical;return"call"==be.info&&(be.pos=(be.pos||0)+1),R(function(Co,$o){return Co==Oe||$o==Oe?G():G(ue)},Ot)}return zi==Oe||nn==Oe?R():rt&&rt.indexOf(";")>-1?G(ue):R(Ft(Oe))}return function(zi,nn){return zi==Oe||nn==Oe?R():G(ue,Ot)}}function At(ue,Oe,rt){for(var Ot=3;Ot<arguments.length;Ot++)U.cc.push(arguments[Ot]);return R(Rt(Oe,rt),Ne(ue,Oe),Jt)}function vt(ue){return"}"==ue?R():G(Pn,vt)}function xe(ue,Oe){if(bn){if(":"==ue)return R(Ge);if("?"==Oe)return R(xe)}}function Nt(ue,Oe){if(bn&&(":"==ue||"in"==Oe))return R(Ge)}function Ye(ue){if(bn&&":"==ue)return U.stream.match(/^\s*\w+\s+is\b/,!1)?R(gi,_t,Ge):R(Ge)}function _t(ue,Oe){if("is"==Oe)return U.marked="keyword",R()}function Ge(ue,Oe){return"keyof"==Oe||"typeof"==Oe||"infer"==Oe||"readonly"==Oe?(U.marked="keyword",R("typeof"==Oe?si:Ge)):"variable"==ue||"void"==Oe?(U.marked="type",R(mn)):"|"==Oe||"&"==Oe?R(Ge):"string"==ue||"number"==ue||"atom"==ue?R(mn):"["==ue?R(Rt("]"),Ne(Ge,"]",","),Jt,mn):"{"==ue?R(Rt("}"),Kt,Jt,mn):"("==ue?R(Ne(hn,")"),yt,mn):"<"==ue?R(Ne(Ge,">"),Ge):"quasi"==ue?G(Ct,mn):void 0}function yt(ue){if("=>"==ue)return R(Ge)}function Kt(ue){return ue.match(/[\}\)\]]/)?R():","==ue||";"==ue?R(Kt):G(xt,Kt)}function xt(ue,Oe){return"variable"==ue||"keyword"==U.style?(U.marked="property",R(xt)):"?"==Oe||"number"==ue||"string"==ue?R(xt):":"==ue?R(Ge):"["==ue?R(Ft("variable"),Nt,Ft("]"),xt):"("==ue?G(j,xt):ue.match(/[;\}\)\],]/)?void 0:R()}function Ct(ue,Oe){return"quasi"!=ue?G():"${"!=Oe.slice(Oe.length-2)?R(Ct):R(Ge,mt)}function mt(ue){if("}"==ue)return U.marked="string-2",U.state.tokenize=Un,R(Ct)}function hn(ue,Oe){return"variable"==ue&&U.stream.match(/^\s*[?:]/,!1)||"?"==Oe?R(hn):":"==ue?R(Ge):"spread"==ue?R(hn):G(Ge)}function mn(ue,Oe){return"<"==Oe?R(Rt(">"),Ne(Ge,">"),Jt,mn):"|"==Oe||"."==ue||"&"==Oe?R(Ge):"["==ue?R(Ge,Ft("]"),mn):"extends"==Oe||"implements"==Oe?(U.marked="keyword",R(Ge)):"?"==Oe?R(Ge,Ft(":"),Ge):void 0}function xn(ue,Oe){if("<"==Oe)return R(Rt(">"),Ne(Ge,">"),Jt,mn)}function hi(){return G(Ge,ti)}function ti(ue,Oe){if("="==Oe)return R(Ge)}function Br(ue,Oe){return"enum"==Oe?(U.marked="keyword",R(yo)):G(mi,xe,ii,_r)}function mi(ue,Oe){return bn&&Re(Oe)?(U.marked="keyword",R(mi)):"variable"==ue?(le(Oe),R()):"spread"==ue?R(mi):"["==ue?At(Tr,"]"):"{"==ue?At(ni,"}"):void 0}function ni(ue,Oe){return"variable"!=ue||U.stream.match(/^\s*:/,!1)?("variable"==ue&&(U.marked="property"),"spread"==ue?R(mi):"}"==ue?G():"["==ue?R(gi,Ft("]"),Ft(":"),ni):R(Ft(":"),mi,ii)):(le(Oe),R(ii))}function Tr(){return G(mi,ii)}function ii(ue,Oe){if("="==Oe)return R(si)}function _r(ue){if(","==ue)return R(Br)}function Mr(ue,Oe){if("keyword b"==ue&&"else"==Oe)return R(Rt("form","else"),Pn,Jt)}function ui(ue,Oe){return"await"==Oe?R(ui):"("==ue?R(Rt(")"),Yn,Jt):void 0}function Yn(ue){return"var"==ue?R(Br,br):"variable"==ue?R(br):G(br)}function br(ue,Oe){return")"==ue?R():";"==ue?R(br):"in"==Oe||"of"==Oe?(U.marked="keyword",R(gi,br)):G(gi,br)}function Pr(ue,Oe){return"*"==Oe?(U.marked="keyword",R(Pr)):"variable"==ue?(le(Oe),R(Pr)):"("==ue?R(ne,Rt(")"),Ne(he,")"),Jt,Ye,Pn,Yt):bn&&"<"==Oe?R(Rt(">"),Ne(hi,">"),Jt,Pr):void 0}function j(ue,Oe){return"*"==Oe?(U.marked="keyword",R(j)):"variable"==ue?(le(Oe),R(j)):"("==ue?R(ne,Rt(")"),Ne(he,")"),Jt,Ye,Yt):bn&&"<"==Oe?R(Rt(">"),Ne(hi,">"),Jt,j):void 0}function fe(ue,Oe){return"keyword"==ue||"variable"==ue?(U.marked="type",R(fe)):"<"==Oe?R(Rt(">"),Ne(hi,">"),Jt):void 0}function he(ue,Oe){return"@"==Oe&&R(gi,he),"spread"==ue?R(he):bn&&Re(Oe)?(U.marked="keyword",R(he)):bn&&"this"==ue?R(xe,ii):G(mi,xe,ii)}function ge(ue,Oe){return"variable"==ue?ke(ue,Oe):ee(ue,Oe)}function ke(ue,Oe){if("variable"==ue)return le(Oe),R(ee)}function ee(ue,Oe){return"<"==Oe?R(Rt(">"),Ne(hi,">"),Jt,ee):"extends"==Oe||"implements"==Oe||bn&&","==ue?("implements"==Oe&&(U.marked="keyword"),R(bn?Ge:gi,ee)):"{"==ue?R(Rt("}"),Ue,Jt):void 0}function Ue(ue,Oe){return"async"==ue||"variable"==ue&&("static"==Oe||"get"==Oe||"set"==Oe||bn&&Re(Oe))&&U.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(U.marked="keyword",R(Ue)):"variable"==ue||"keyword"==U.style?(U.marked="property",R(gt,Ue)):"number"==ue||"string"==ue?R(gt,Ue):"["==ue?R(gi,xe,Ft("]"),gt,Ue):"*"==Oe?(U.marked="keyword",R(Ue)):bn&&"("==ue?G(j,Ue):";"==ue||","==ue?R(Ue):"}"==ue?R():"@"==Oe?R(gi,Ue):void 0}function gt(ue,Oe){if("!"==Oe||"?"==Oe)return R(gt);if(":"==ue)return R(Ge,ii);if("="==Oe)return R(si);var rt=U.state.lexical.prev;return G(rt&&"interface"==rt.info?j:Pr)}function Bt(ue,Oe){return"*"==Oe?(U.marked="keyword",R(Xt,Ft(";"))):"default"==Oe?(U.marked="keyword",R(gi,Ft(";"))):"{"==ue?R(Ne(zt,"}"),Xt,Ft(";")):G(Pn)}function zt(ue,Oe){return"as"==Oe?(U.marked="keyword",R(Ft("variable"))):"variable"==ue?G(si,zt):void 0}function Et(ue){return"string"==ue?R():"("==ue?G(gi):"."==ue?G(Yi):G(vn,yn,Xt)}function vn(ue,Oe){return"{"==ue?At(vn,"}"):("variable"==ue&&le(Oe),"*"==Oe&&(U.marked="keyword"),R(Sn))}function yn(ue){if(","==ue)return R(vn,yn)}function Sn(ue,Oe){if("as"==Oe)return U.marked="keyword",R(vn)}function Xt(ue,Oe){if("from"==Oe)return U.marked="keyword",R(gi)}function hr(ue){return"]"==ue?R():G(Ne(si,"]"))}function yo(){return G(Rt("form"),mi,Ft("{"),Rt("}"),Ne(Yr,"}"),Jt,Jt)}function Yr(){return G(mi,ii)}function Zr(ue,Oe,rt){return Oe.tokenize==In&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Oe.lastType)||"quasi"==Oe.lastType&&/\{\s*$/.test(ue.string.slice(0,ue.pos-(rt||0)))}return ne.lex=at.lex=!0,Yt.lex=!0,Jt.lex=!0,{startState:function(ue){var Oe={tokenize:In,lastType:"sof",cc:[],lexical:new Wn((ue||0)-dn,0,"block",!1),localVars:F.localVars,context:F.localVars&&new $e(null,null,!1),indented:ue||0};return F.globalVars&&"object"==typeof F.globalVars&&(Oe.globalVars=F.globalVars),Oe},token:function(ue,Oe){if(ue.sol()&&(Oe.lexical.hasOwnProperty("align")||(Oe.lexical.align=!1),Oe.indented=ue.indentation(),qt(ue,Oe)),Oe.tokenize!=An&&ue.eatSpace())return null;var rt=Oe.tokenize(ue,Oe);return"comment"==an?rt:(Oe.lastType="operator"!=an||"++"!=fn&&"--"!=fn?an:"incdec",L(Oe,rt,an,fn,ue))},indent:function(ue,Oe){if(ue.tokenize==An||ue.tokenize==Un)return Ln.Pass;if(ue.tokenize!=In)return 0;var zi,rt=Oe&&Oe.charAt(0),Ot=ue.lexical;if(!/^\s*else\b/.test(Oe))for(var nn=ue.cc.length-1;nn>=0;--nn){var be=ue.cc[nn];if(be==Jt)Ot=Ot.prev;else if(be!=Mr&&be!=Yt)break}for(;("stat"==Ot.type||"form"==Ot.type)&&("}"==rt||(zi=ue.cc[ue.cc.length-1])&&(zi==Yi||zi==rr)&&!/^[,\.=+\-*:?[\(]/.test(Oe));)Ot=Ot.prev;_n&&")"==Ot.type&&"stat"==Ot.prev.type&&(Ot=Ot.prev);var Co=Ot.type,$o=rt==Co;return"vardef"==Co?Ot.indented+("operator"==ue.lastType||","==ue.lastType?Ot.info.length+1:0):"form"==Co&&"{"==rt?Ot.indented:"form"==Co?Ot.indented+dn:"stat"==Co?Ot.indented+(function ar(ue,Oe){return"operator"==ue.lastType||","==ue.lastType||Fe.test(Oe.charAt(0))||/[,.]/.test(Oe.charAt(0))}(ue,Oe)?_n||dn:0):"switch"!=Ot.info||$o||0==F.doubleIndentSwitch?Ot.align?Ot.column+($o?0:1):Ot.indented+($o?0:dn):Ot.indented+(/^(?:case|default)\b/.test(Oe)?dn:2*dn)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:it?null:"/*",blockCommentEnd:it?null:"*/",blockCommentContinue:it?null:" * ",lineComment:it?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:it?"json":"javascript",jsonldMode:De,jsonMode:it,expressionAllowed:Zr,skipExpression:function(ue){L(ue,"atom","atom","true",new Ln.StringStream("",2,null))}}}),Ln.registerHelper("wordChars","javascript",/[\w$]/),Ln.defineMIME("text/javascript","javascript"),Ln.defineMIME("text/ecmascript","javascript"),Ln.defineMIME("application/javascript","javascript"),Ln.defineMIME("application/x-javascript","javascript"),Ln.defineMIME("application/ecmascript","javascript"),Ln.defineMIME("application/json",{name:"javascript",json:!0}),Ln.defineMIME("application/x-json",{name:"javascript",json:!0}),Ln.defineMIME("application/manifest+json",{name:"javascript",json:!0}),Ln.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Ln.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Ln.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(ei(382))},167:(ko,Kr,ei)=>{!function(Ln){"use strict";Ln.defineMode("markdown",function(Ae,F){var dn=Ln.getMode(Ae,"text/html"),_n="null"==dn.name;void 0===F.highlightFormatting&&(F.highlightFormatting=!1),void 0===F.maxBlockquoteDepth&&(F.maxBlockquoteDepth=0),void 0===F.taskLists&&(F.taskLists=!1),void 0===F.strikethrough&&(F.strikethrough=!1),void 0===F.emoji&&(F.emoji=!1),void 0===F.fencedCodeBlockHighlighting&&(F.fencedCodeBlockHighlighting=!0),void 0===F.fencedCodeBlockDefaultMode&&(F.fencedCodeBlockDefaultMode="text/plain"),void 0===F.xml&&(F.xml=!0),void 0===F.tokenTypeOverrides&&(F.tokenTypeOverrides={});var it={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var qn in it)it.hasOwnProperty(qn)&&F.tokenTypeOverrides[qn]&&(it[qn]=F.tokenTypeOverrides[qn]);var bn=/^([*\-_])(?:\s*\1){2,}\s*$/,Qi=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,Ht=/^\[(x| )\](?=\s)/i,Fe=F.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,$t=/^ {0,3}(?:\={1,}|-{2,})\s*$/,Bi=/^[^#!\[\]*_\\<>` "'(~:]+/,an=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,fn=/^\s*\[[^\]]+?\]:.*$/,Tt=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function Xe(ve,ne,at){return ne.f=ne.inline=at,at(ve,ne)}function An(ve,ne,at){return ne.f=ne.block=at,at(ve,ne)}function gn(ve){if(ve.linkTitle=!1,ve.linkHref=!1,ve.linkText=!1,ve.em=!1,ve.strong=!1,ve.strikethrough=!1,ve.quote=0,ve.indentedCode=!1,ve.f==Di){var ne=_n;if(!ne){var at=Ln.innerMode(dn,ve.htmlState);ne="xml"==at.mode.name&&null===at.state.tagStart&&!at.state.context&&at.state.tokenize.isInText}ne&&(ve.f=U,ve.block=qt,ve.htmlState=null)}return ve.trailingSpace=0,ve.trailingSpaceNewLine=!1,ve.prevLine=ve.thisLine,ve.thisLine={stream:null},null}function qt(ve,ne){var at=ve.column()===ne.indentation,Yt=function Un(ve){return!ve||!/\S/.test(ve.string)}(ne.prevLine.stream),Rt=ne.indentedCode,Jt=ne.prevLine.hr,Ft=!1!==ne.list,Pn=(ne.listStack[ne.listStack.length-1]||0)+3;ne.indentedCode=!1;var Si=ne.indentation;if(null===ne.indentationDiff&&(ne.indentationDiff=ne.indentation,Ft)){for(ne.list=null;Si<ne.listStack[ne.listStack.length-1];)ne.listStack.pop(),ne.listStack.length?ne.indentation=ne.listStack[ne.listStack.length-1]:ne.list=!1;!1!==ne.list&&(ne.indentationDiff=Si-ne.listStack[ne.listStack.length-1])}var gi=!(Yt||Jt||ne.prevLine.header||Ft&&Rt||ne.prevLine.fencedCodeEnd),si=(!1===ne.list||Jt||Yt)&&ne.indentation<=Pn&&ve.match(bn),Wi=null;if(ne.indentationDiff>=4&&(Rt||ne.prevLine.fencedCodeEnd||ne.prevLine.header||Yt))return ve.skipToEnd(),ne.indentedCode=!0,it.code;if(ve.eatSpace())return null;if(at&&ne.indentation<=Pn&&(Wi=ve.match(Fe))&&Wi[1].length<=6)return ne.quote=0,ne.header=Wi[1].length,ne.thisLine.header=!0,F.highlightFormatting&&(ne.formatting="header"),ne.f=ne.inline,qe(ne);if(ne.indentation<=Pn&&ve.eat(">"))return ne.quote=at?1:ne.quote+1,F.highlightFormatting&&(ne.formatting="quote"),ve.eatSpace(),qe(ne);if(!si&&!ne.setext&&at&&ne.indentation<=Pn&&(Wi=ve.match(Qi))){var zn=Wi[1]?"ol":"ul";return ne.indentation=Si+ve.current().length,ne.list=!0,ne.quote=0,ne.listStack.push(ne.indentation),ne.em=!1,ne.strong=!1,ne.code=!1,ne.strikethrough=!1,F.taskLists&&ve.match(Ht,!1)&&(ne.taskList=!0),ne.f=ne.inline,F.highlightFormatting&&(ne.formatting=["list","list-"+zn]),qe(ne)}return at&&ne.indentation<=Pn&&(Wi=ve.match(an,!0))?(ne.quote=0,ne.fencedEndRE=new RegExp(Wi[1]+"+ *$"),ne.localMode=F.fencedCodeBlockHighlighting&&function De(ve){if(Ln.findModeByName){var ne=Ln.findModeByName(ve);ne&&(ve=ne.mime||ne.mimes[0])}var at=Ln.getMode(Ae,ve);return"null"==at.name?null:at}(Wi[2]||F.fencedCodeBlockDefaultMode),ne.localMode&&(ne.localState=Ln.startState(ne.localMode)),ne.f=ne.block=Wn,F.highlightFormatting&&(ne.formatting="code-block"),ne.code=-1,qe(ne)):ne.setext||!(gi&&Ft||ne.quote||!1!==ne.list||ne.code||si||fn.test(ve.string))&&(Wi=ve.lookAhead(1))&&(Wi=Wi.match($t))?(ne.setext?(ne.header=ne.setext,ne.setext=0,ve.skipToEnd(),F.highlightFormatting&&(ne.formatting="header")):(ne.header="="==Wi[0].charAt(0)?1:2,ne.setext=ne.header),ne.thisLine.header=!0,ne.f=ne.inline,qe(ne)):si?(ve.skipToEnd(),ne.hr=!0,ne.thisLine.hr=!0,it.hr):"["===ve.peek()?Xe(ve,ne,Me):Xe(ve,ne,ne.inline)}function Di(ve,ne){var at=dn.token(ve,ne.htmlState);if(!_n){var Yt=Ln.innerMode(dn,ne.htmlState);("xml"==Yt.mode.name&&null===Yt.state.tagStart&&!Yt.state.context&&Yt.state.tokenize.isInText||ne.md_inside&&ve.current().indexOf(">")>-1)&&(ne.f=U,ne.block=qt,ne.htmlState=null)}return at}function Wn(ve,ne){var Jt,at=ne.listStack[ne.listStack.length-1]||0,Yt=ne.indentation<at;return ne.fencedEndRE&&ne.indentation<=at+3&&(Yt||ve.match(ne.fencedEndRE))?(F.highlightFormatting&&(ne.formatting="code-block"),Yt||(Jt=qe(ne)),ne.localMode=ne.localState=null,ne.block=qt,ne.f=U,ne.fencedEndRE=null,ne.code=0,ne.thisLine.fencedCodeEnd=!0,Yt?An(ve,ne,ne.block):Jt):ne.localMode?ne.localMode.token(ve,ne.localState):(ve.skipToEnd(),it.code)}function qe(ve){var ne=[];if(ve.formatting){ne.push(it.formatting),"string"==typeof ve.formatting&&(ve.formatting=[ve.formatting]);for(var at=0;at<ve.formatting.length;at++)ne.push(it.formatting+"-"+ve.formatting[at]),"header"===ve.formatting[at]&&ne.push(it.formatting+"-"+ve.formatting[at]+"-"+ve.header),"quote"===ve.formatting[at]&&ne.push(!F.maxBlockquoteDepth||F.maxBlockquoteDepth>=ve.quote?it.formatting+"-"+ve.formatting[at]+"-"+ve.quote:"error")}if(ve.taskOpen)return ne.push("meta"),ne.length?ne.join(" "):null;if(ve.taskClosed)return ne.push("property"),ne.length?ne.join(" "):null;if(ve.linkHref?ne.push(it.linkHref,"url"):(ve.strong&&ne.push(it.strong),ve.em&&ne.push(it.em),ve.strikethrough&&ne.push(it.strikethrough),ve.emoji&&ne.push(it.emoji),ve.linkText&&ne.push(it.linkText),ve.code&&ne.push(it.code),ve.image&&ne.push(it.image),ve.imageAltText&&ne.push(it.imageAltText,"link"),ve.imageMarker&&ne.push(it.imageMarker)),ve.header&&ne.push(it.header,it.header+"-"+ve.header),ve.quote&&(ne.push(it.quote),ne.push(!F.maxBlockquoteDepth||F.maxBlockquoteDepth>=ve.quote?it.quote+"-"+ve.quote:it.quote+"-"+F.maxBlockquoteDepth)),!1!==ve.list){var Yt=(ve.listStack.length-1)%3;ne.push(Yt?1===Yt?it.list2:it.list3:it.list1)}return ve.trailingSpaceNewLine?ne.push("trailing-space-new-line"):ve.trailingSpace&&ne.push("trailing-space-"+(ve.trailingSpace%2?"a":"b")),ne.length?ne.join(" "):null}function L(ve,ne){if(ve.match(Bi,!0))return qe(ne)}function U(ve,ne){var at=ne.text(ve,ne);if(typeof at<"u")return at;if(ne.list)return ne.list=null,qe(ne);if(ne.taskList)return" "===ve.match(Ht,!0)[1]?ne.taskOpen=!0:ne.taskClosed=!0,F.highlightFormatting&&(ne.formatting="task"),ne.taskList=!1,qe(ne);if(ne.taskOpen=!1,ne.taskClosed=!1,ne.header&&ve.match(/^#+$/,!0))return F.highlightFormatting&&(ne.formatting="header"),qe(ne);var Rt=ve.next();if(ne.linkTitle){ne.linkTitle=!1;var Jt=Rt;if("("===Rt&&(Jt=")"),Jt=(Jt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"),ve.match(new RegExp("^\\s*(?:[^"+Jt+"\\\\]+|\\\\\\\\|\\\\.)"+Jt),!0))return it.linkHref}if("`"===Rt){var Pn=ne.formatting;F.highlightFormatting&&(ne.formatting="code"),ve.eatWhile("`");var Si=ve.current().length;if(0==ne.code&&(!ne.quote||1==Si))return ne.code=Si,qe(ne);if(Si==ne.code){var gi=qe(ne);return ne.code=0,gi}return ne.formatting=Pn,qe(ne)}if(ne.code)return qe(ne);if("\\"===Rt&&(ve.next(),F.highlightFormatting)){var si=qe(ne),Wi=it.formatting+"-escape";return si?si+" "+Wi:Wi}if("!"===Rt&&ve.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return ne.imageMarker=!0,ne.image=!0,F.highlightFormatting&&(ne.formatting="image"),qe(ne);if("["===Rt&&ne.imageMarker&&ve.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return ne.imageMarker=!1,ne.imageAltText=!0,F.highlightFormatting&&(ne.formatting="image"),qe(ne);if("]"===Rt&&ne.imageAltText){F.highlightFormatting&&(ne.formatting="image");si=qe(ne);return ne.imageAltText=!1,ne.image=!1,ne.inline=ne.f=R,si}if("["===Rt&&!ne.image)return ne.linkText&&ve.match(/^.*?\]/)||(ne.linkText=!0,F.highlightFormatting&&(ne.formatting="link")),qe(ne);if("]"===Rt&&ne.linkText){F.highlightFormatting&&(ne.formatting="link");si=qe(ne);return ne.linkText=!1,ne.inline=ne.f=ve.match(/\(.*?\)| ?\[.*?\]/,!1)?R:U,si}if("<"===Rt&&ve.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return ne.f=ne.inline=G,F.highlightFormatting&&(ne.formatting="link"),(si=qe(ne))?si+=" ":si="",si+it.linkInline;if("<"===Rt&&ve.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return ne.f=ne.inline=G,F.highlightFormatting&&(ne.formatting="link"),(si=qe(ne))?si+=" ":si="",si+it.linkEmail;if(F.xml&&"<"===Rt&&ve.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var zn=ve.string.indexOf(">",ve.pos);if(-1!=zn){var ri=ve.string.substring(ve.start,zn);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(ri)&&(ne.md_inside=!0)}return ve.backUp(1),ne.htmlState=Ln.startState(dn),An(ve,ne,Di)}if(F.xml&&"<"===Rt&&ve.match(/^\/\w*?>/))return ne.md_inside=!1,"tag";if("*"===Rt||"_"===Rt){for(var Yi=1,rr=1==ve.pos?" ":ve.string.charAt(ve.pos-2);Yi<3&&ve.eat(Rt);)Yi++;var Ve=ve.peek()||" ",We=!/\s/.test(Ve)&&(!Tt.test(Ve)||/\s/.test(rr)||Tt.test(rr)),ht=!/\s/.test(rr)&&(!Tt.test(rr)||/\s/.test(Ve)||Tt.test(Ve)),ot=null,Gt=null;if(Yi%2&&(ne.em||!We||"*"!==Rt&&ht&&!Tt.test(rr)?ne.em==Rt&&ht&&("*"===Rt||!We||Tt.test(Ve))&&(ot=!1):ot=!0),Yi>1&&(ne.strong||!We||"*"!==Rt&&ht&&!Tt.test(rr)?ne.strong==Rt&&ht&&("*"===Rt||!We||Tt.test(Ve))&&(Gt=!1):Gt=!0),null!=Gt||null!=ot)return F.highlightFormatting&&(ne.formatting=null==ot?"strong":null==Gt?"em":"strong em"),!0===ot&&(ne.em=Rt),!0===Gt&&(ne.strong=Rt),gi=qe(ne),!1===ot&&(ne.em=!1),!1===Gt&&(ne.strong=!1),gi}else if(" "===Rt&&(ve.eat("*")||ve.eat("_"))){if(" "===ve.peek())return qe(ne);ve.backUp(1)}if(F.strikethrough)if("~"===Rt&&ve.eatWhile(Rt)){if(ne.strikethrough)return F.highlightFormatting&&(ne.formatting="strikethrough"),gi=qe(ne),ne.strikethrough=!1,gi;if(ve.match(/^[^\s]/,!1))return ne.strikethrough=!0,F.highlightFormatting&&(ne.formatting="strikethrough"),qe(ne)}else if(" "===Rt&&ve.match("~~",!0)){if(" "===ve.peek())return qe(ne);ve.backUp(2)}if(F.emoji&&":"===Rt&&ve.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){ne.emoji=!0,F.highlightFormatting&&(ne.formatting="emoji");var en=qe(ne);return ne.emoji=!1,en}return" "===Rt&&(ve.match(/^ +$/,!1)?ne.trailingSpace++:ne.trailingSpace&&(ne.trailingSpaceNewLine=!0)),qe(ne)}function G(ve,ne){if(">"===ve.next()){ne.f=ne.inline=U,F.highlightFormatting&&(ne.formatting="link");var Yt=qe(ne);return Yt?Yt+=" ":Yt="",Yt+it.linkInline}return ve.match(/^[^>]+/,!0),it.linkInline}function R(ve,ne){if(ve.eatSpace())return null;var at=ve.next();return"("===at||"["===at?(ne.f=ne.inline=function le(ve){return function(ne,at){if(ne.next()===ve){at.f=at.inline=U,F.highlightFormatting&&(at.formatting="link-string");var Rt=qe(at);return at.linkHref=!1,Rt}return ne.match(oe[ve]),at.linkHref=!0,qe(at)}}("("===at?")":"]"),F.highlightFormatting&&(ne.formatting="link-string"),ne.linkHref=!0,qe(ne)):"error"}var oe={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Me(ve,ne){return ve.match(/^([^\]\\]|\\.)*\]:/,!1)?(ne.f=Re,ve.next(),F.highlightFormatting&&(ne.formatting="link"),ne.linkText=!0,qe(ne)):Xe(ve,ne,U)}function Re(ve,ne){if(ve.match("]:",!0)){ne.f=ne.inline=$e,F.highlightFormatting&&(ne.formatting="link");var at=qe(ne);return ne.linkText=!1,at}return ve.match(/^([^\]\\]|\\.)+/,!0),it.linkText}function $e(ve,ne){return ve.eatSpace()?null:(ve.match(/^[^\s]+/,!0),void 0===ve.peek()?ne.linkTitle=!0:ve.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),ne.f=ne.inline=U,it.linkHref+" url")}var et={startState:function(){return{f:qt,prevLine:{stream:null},thisLine:{stream:null},block:qt,htmlState:null,indentation:0,inline:U,text:L,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ve){return{f:ve.f,prevLine:ve.prevLine,thisLine:ve.thisLine,block:ve.block,htmlState:ve.htmlState&&Ln.copyState(dn,ve.htmlState),indentation:ve.indentation,localMode:ve.localMode,localState:ve.localMode?Ln.copyState(ve.localMode,ve.localState):null,inline:ve.inline,text:ve.text,formatting:!1,linkText:ve.linkText,linkTitle:ve.linkTitle,linkHref:ve.linkHref,code:ve.code,em:ve.em,strong:ve.strong,strikethrough:ve.strikethrough,emoji:ve.emoji,header:ve.header,setext:ve.setext,hr:ve.hr,taskList:ve.taskList,list:ve.list,listStack:ve.listStack.slice(0),quote:ve.quote,indentedCode:ve.indentedCode,trailingSpace:ve.trailingSpace,trailingSpaceNewLine:ve.trailingSpaceNewLine,md_inside:ve.md_inside,fencedEndRE:ve.fencedEndRE}},token:function(ve,ne){if(ne.formatting=!1,ve!=ne.thisLine.stream){if(ne.header=0,ne.hr=!1,ve.match(/^\s*$/,!0))return gn(ne),null;if(ne.prevLine=ne.thisLine,ne.thisLine={stream:ve},ne.taskList=!1,ne.trailingSpace=0,ne.trailingSpaceNewLine=!1,!ne.localState&&(ne.f=ne.block,ne.f!=Di)){var at=ve.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(ne.indentation=at,ne.indentationDiff=null,at>0)return null}}return ne.f(ve,ne)},innerMode:function(ve){return ve.block==Di?{state:ve.htmlState,mode:dn}:ve.localState?{state:ve.localState,mode:ve.localMode}:{state:ve,mode:et}},indent:function(ve,ne,at){return ve.block==Di&&dn.indent?dn.indent(ve.htmlState,ne,at):ve.localState&&ve.localMode.indent?ve.localMode.indent(ve.localState,ne,at):Ln.Pass},blankLine:gn,getType:qe,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return et},"xml"),Ln.defineMIME("text/markdown","markdown"),Ln.defineMIME("text/x-markdown","markdown")}(ei(382),ei(775),ei(39))},39:(ko,Kr,ei)=>{!function(Ln){"use strict";Ln.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var Ae=0;Ae<Ln.modeInfo.length;Ae++){var F=Ln.modeInfo[Ae];F.mimes&&(F.mime=F.mimes[0])}Ln.findModeByMIME=function(dn){dn=dn.toLowerCase();for(var _n=0;_n<Ln.modeInfo.length;_n++){var De=Ln.modeInfo[_n];if(De.mime==dn)return De;if(De.mimes)for(var it=0;it<De.mimes.length;it++)if(De.mimes[it]==dn)return De}return/\+xml$/.test(dn)?Ln.findModeByMIME("application/xml"):/\+json$/.test(dn)?Ln.findModeByMIME("application/json"):void 0},Ln.findModeByExtension=function(dn){dn=dn.toLowerCase();for(var _n=0;_n<Ln.modeInfo.length;_n++){var De=Ln.modeInfo[_n];if(De.ext)for(var it=0;it<De.ext.length;it++)if(De.ext[it]==dn)return De}},Ln.findModeByFileName=function(dn){for(var _n=0;_n<Ln.modeInfo.length;_n++){var De=Ln.modeInfo[_n];if(De.file&&De.file.test(dn))return De}var it=dn.lastIndexOf("."),qn=it>-1&&dn.substring(it+1,dn.length);if(qn)return Ln.findModeByExtension(qn)},Ln.findModeByName=function(dn){dn=dn.toLowerCase();for(var _n=0;_n<Ln.modeInfo.length;_n++){var De=Ln.modeInfo[_n];if(De.name.toLowerCase()==dn)return De;if(De.alias)for(var it=0;it<De.alias.length;it++)if(De.alias[it].toLowerCase()==dn)return De}}}(ei(382))},775:(ko,Kr,ei)=>{!function(Ln){"use strict";var Ae={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},F={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};Ln.defineMode("xml",function(dn,_n){var Qi,Ht,De=dn.indentUnit,it={},qn=_n.htmlMode?Ae:F;for(var bn in qn)it[bn]=qn[bn];for(var bn in _n)it[bn]=_n[bn];function Fe(R,oe){function le($e){return oe.tokenize=$e,$e(R,oe)}var Me=R.next();return"<"==Me?R.eat("!")?R.eat("[")?R.match("CDATA[")?le(an("atom","]]>")):null:R.match("--")?le(an("comment","--\x3e")):R.match("DOCTYPE",!0,!0)?(R.eatWhile(/[\w\._\-]/),le(fn(1))):null:R.eat("?")?(R.eatWhile(/[\w\._\-]/),oe.tokenize=an("meta","?>"),"meta"):(Qi=R.eat("/")?"closeTag":"openTag",oe.tokenize=$t,"tag bracket"):"&"==Me?(R.eat("#")?R.eat("x")?R.eatWhile(/[a-fA-F\d]/)&&R.eat(";"):R.eatWhile(/[\d]/)&&R.eat(";"):R.eatWhile(/[\w\.\-:]/)&&R.eat(";"))?"atom":"error":(R.eatWhile(/[^&<]/),null)}function $t(R,oe){var le=R.next();if(">"==le||"/"==le&&R.eat(">"))return oe.tokenize=Fe,Qi=">"==le?"endTag":"selfcloseTag","tag bracket";if("="==le)return Qi="equals",null;if("<"==le){oe.tokenize=Fe,oe.state=Un,oe.tagName=oe.tagStart=null;var Me=oe.tokenize(R,oe);return Me?Me+" tag error":"tag error"}return/[\'\"]/.test(le)?(oe.tokenize=function Bi(R){var oe=function(le,Me){for(;!le.eol();)if(le.next()==R){Me.tokenize=$t;break}return"string"};return oe.isInAttribute=!0,oe}(le),oe.stringStartCol=R.column(),oe.tokenize(R,oe)):(R.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function an(R,oe){return function(le,Me){for(;!le.eol();){if(le.match(oe)){Me.tokenize=Fe;break}le.next()}return R}}function fn(R){return function(oe,le){for(var Me;null!=(Me=oe.next());){if("<"==Me)return le.tokenize=fn(R+1),le.tokenize(oe,le);if(">"==Me){if(1==R){le.tokenize=Fe;break}return le.tokenize=fn(R-1),le.tokenize(oe,le)}}return"meta"}}function Tt(R){return R&&R.toLowerCase()}function In(R,oe,le){this.prev=R.context,this.tagName=oe||"",this.indent=R.indented,this.startOfLine=le,(it.doNotIndent.hasOwnProperty(oe)||R.context&&R.context.noIndent)&&(this.noIndent=!0)}function Xe(R){R.context&&(R.context=R.context.prev)}function An(R,oe){for(var le;;){if(!R.context||!it.contextGrabbers.hasOwnProperty(Tt(le=R.context.tagName))||!it.contextGrabbers[Tt(le)].hasOwnProperty(Tt(oe)))return;Xe(R)}}function Un(R,oe,le){return"openTag"==R?(le.tagStart=oe.column(),gn):"closeTag"==R?qt:Un}function gn(R,oe,le){return"word"==R?(le.tagName=oe.current(),Ht="tag",qe):it.allowMissingTagName&&"endTag"==R?(Ht="tag bracket",qe(R,0,le)):(Ht="error",gn)}function qt(R,oe,le){if("word"==R){var Me=oe.current();return le.context&&le.context.tagName!=Me&&it.implicitlyClosed.hasOwnProperty(Tt(le.context.tagName))&&Xe(le),le.context&&le.context.tagName==Me||!1===it.matchClosing?(Ht="tag",Di):(Ht="tag error",Wn)}return it.allowMissingTagName&&"endTag"==R?(Ht="tag bracket",Di(R,0,le)):(Ht="error",Wn)}function Di(R,oe,le){return"endTag"!=R?(Ht="error",Di):(Xe(le),Un)}function Wn(R,oe,le){return Ht="error",Di(R,0,le)}function qe(R,oe,le){if("word"==R)return Ht="attribute",L;if("endTag"==R||"selfcloseTag"==R){var Me=le.tagName,Re=le.tagStart;return le.tagName=le.tagStart=null,"selfcloseTag"==R||it.autoSelfClosers.hasOwnProperty(Tt(Me))?An(le,Me):(An(le,Me),le.context=new In(le,Me,Re==le.indented)),Un}return Ht="error",qe}function L(R,oe,le){return"equals"==R?U:(it.allowMissing||(Ht="error"),qe(R,0,le))}function U(R,oe,le){return"string"==R?G:"word"==R&&it.allowUnquoted?(Ht="string",qe):(Ht="error",qe(R,0,le))}function G(R,oe,le){return"string"==R?G:qe(R,0,le)}return Fe.isInText=!0,{startState:function(R){var oe={tokenize:Fe,state:Un,indented:R||0,tagName:null,tagStart:null,context:null};return null!=R&&(oe.baseIndent=R),oe},token:function(R,oe){if(!oe.tagName&&R.sol()&&(oe.indented=R.indentation()),R.eatSpace())return null;Qi=null;var le=oe.tokenize(R,oe);return(le||Qi)&&"comment"!=le&&(Ht=null,oe.state=oe.state(Qi||le,R,oe),Ht&&(le="error"==Ht?le+" error":Ht)),le},indent:function(R,oe,le){var Me=R.context;if(R.tokenize.isInAttribute)return R.tagStart==R.indented?R.stringStartCol+1:R.indented+De;if(Me&&Me.noIndent)return Ln.Pass;if(R.tokenize!=$t&&R.tokenize!=Fe)return le?le.match(/^(\s*)/)[0].length:0;if(R.tagName)return!1!==it.multilineTagIndentPastTag?R.tagStart+R.tagName.length+2:R.tagStart+De*(it.multilineTagIndentFactor||1);if(it.alignCDATA&&/<!\[CDATA\[/.test(oe))return 0;var Re=oe&&/^<(\/)?([\w_:\.-]*)/.exec(oe);if(Re&&Re[1])for(;Me;){if(Me.tagName==Re[2]){Me=Me.prev;break}if(!it.implicitlyClosed.hasOwnProperty(Tt(Me.tagName)))break;Me=Me.prev}else if(Re)for(;Me;){var $e=it.contextGrabbers[Tt(Me.tagName)];if(!$e||!$e.hasOwnProperty(Tt(Re[2])))break;Me=Me.prev}for(;Me&&Me.prev&&!Me.startOfLine;)Me=Me.prev;return Me?Me.indent+De:R.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:it.htmlMode?"html":"xml",helperType:it.htmlMode?"html":"xml",skipAttribute:function(R){R.state==U&&(R.state=qe)},xmlCurrentTag:function(R){return R.tagName?{name:R.tagName,close:"closeTag"==R.type}:null},xmlCurrentContext:function(R){for(var oe=[],le=R.context;le;le=le.prev)oe.push(le.tagName);return oe.reverse()}}}),Ln.defineMIME("text/xml","xml"),Ln.defineMIME("application/xml","xml"),Ln.mimeModes.hasOwnProperty("text/html")||Ln.defineMIME("text/html",{name:"xml",htmlMode:!0})}(ei(382))},554:(ko,Kr,ei)=>{"use strict";var Ln=ei(489);ko.exports=function(F,dn,_n){F&&Ln(function(){F.apply(_n||null,dn||[])})}},123:(ko,Kr,ei)=>{"use strict";var Ln=ei(468),Ae=ei(554);ko.exports=function(dn,_n){var De=_n||{},it={};return void 0===dn&&(dn={}),dn.on=function(qn,bn){return it[qn]?it[qn].push(bn):it[qn]=[bn],dn},dn.once=function(qn,bn){return bn._once=!0,dn.on(qn,bn),dn},dn.off=function(qn,bn){var Qi=arguments.length;if(1===Qi)delete it[qn];else if(0===Qi)it={};else{var Ht=it[qn];if(!Ht)return dn;Ht.splice(Ht.indexOf(bn),1)}return dn},dn.emit=function(){var qn=Ln(arguments);return dn.emitterSnapshot(qn.shift()).apply(this,qn)},dn.emitterSnapshot=function(qn){var bn=(it[qn]||[]).slice(0);return function(){var Qi=Ln(arguments),Ht=this||dn;if("error"===qn&&!1!==De.throws&&!bn.length)throw 1===Qi.length?Qi[0]:Qi;return bn.forEach(function($t){De.async?Ae($t,Qi,Ht):$t.apply(Ht,Qi),$t._once&&dn.off(qn,$t)}),dn}},dn}},565:(ko,Kr,ei)=>{"use strict";var Ln=ei(906),Ae=ei(918),F=global.document,dn=function it(fn,Tt,In,Xe){return fn.addEventListener(Tt,In,Xe)},_n=function bn(fn,Tt,In,Xe){return fn.removeEventListener(Tt,In,Xe)},De=[];function Bi(fn,Tt,In){var Xe=function an(fn,Tt,In){var Xe,An;for(Xe=0;Xe<De.length;Xe++)if((An=De[Xe]).element===fn&&An.type===Tt&&An.fn===In)return Xe}(fn,Tt,In);if(Xe){var An=De[Xe].wrapper;return De.splice(Xe,1),An}}global.addEventListener||(dn=function qn(fn,Tt,In){return fn.attachEvent("on"+Tt,function $t(fn,Tt,In){var Xe=Bi(fn,Tt,In)||function Fe(fn,Tt,In){return function(An){var Un=An||global.event;Un.target=Un.target||Un.srcElement,Un.preventDefault=Un.preventDefault||function(){Un.returnValue=!1},Un.stopPropagation=Un.stopPropagation||function(){Un.cancelBubble=!0},Un.which=Un.which||Un.keyCode,In.call(fn,Un)}}(fn,0,In);return De.push({wrapper:Xe,element:fn,type:Tt,fn:In}),Xe}(fn,Tt,In))},_n=function Qi(fn,Tt,In){var Xe=Bi(fn,Tt,In);if(Xe)return fn.detachEvent("on"+Tt,Xe)}),ko.exports={add:dn,remove:_n,fabricate:function Ht(fn,Tt,In){var Xe=-1===Ae.indexOf(Tt)?function Un(){return new Ln(Tt,{detail:In})}():function An(){var gn;return F.createEvent?(gn=F.createEvent("Event")).initEvent(Tt,!0,!0):F.createEventObject&&(gn=F.createEventObject()),gn}();fn.dispatchEvent?fn.dispatchEvent(Xe):fn.fireEvent("on"+Tt,Xe)}}},918:ko=>{"use strict";var Kr=[],ei="",Ln=/^on/;for(ei in global)Ln.test(ei)&&Kr.push(ei.slice(2));ko.exports=Kr},906:ko=>{var Kr=global.CustomEvent;ko.exports=function ei(){try{var Ln=new Kr("cat",{detail:{foo:"bar"}});return"cat"===Ln.type&&"bar"===Ln.detail.foo}catch{}return!1}()?Kr:typeof document<"u"&&"function"==typeof document.createEvent?function(Ae,F){var dn=document.createEvent("CustomEvent");return F?dn.initCustomEvent(Ae,F.bubbles,F.cancelable,F.detail):dn.initCustomEvent(Ae,!1,!1,void 0),dn}:function(Ae,F){var dn=document.createEventObject();return dn.type=Ae,F?(dn.bubbles=!!F.bubbles,dn.cancelable=!!F.cancelable,dn.detail=F.detail):(dn.bubbles=!1,dn.cancelable=!1,dn.detail=void 0),dn}},674:ko=>{"use strict";var Kr={};function Ae(_n){var De=Kr[_n];return De?De.lastIndex=0:Kr[_n]=De=new RegExp("(?:^|\\s)"+_n+"(?:\\s|$)","g"),De}ko.exports={add:function F(_n,De){var it=_n.className;it.length?Ae(De).test(it)||(_n.className+=" "+De):_n.className=De},rm:function dn(_n,De){_n.className=_n.className.replace(Ae(De)," ").trim()}}},712:(ko,Kr,ei)=>{"use strict";var Ln=ei(123),Ae=ei(565),F=ei(674),dn=document,_n=dn.documentElement;function it(gn,qt,Di,Wn){global.navigator.pointerEnabled?Ae[qt](gn,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[Di],Wn):global.navigator.msPointerEnabled?Ae[qt](gn,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[Di],Wn):(Ae[qt](gn,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[Di],Wn),Ae[qt](gn,Di,Wn))}function qn(gn){if(void 0!==gn.touches)return gn.touches.length;if(void 0!==gn.which&&0!==gn.which)return gn.which;if(void 0!==gn.buttons)return gn.buttons;var qt=gn.button;return void 0!==qt?1&qt?1:2&qt?3:4&qt?2:0:void 0}function Qi(gn,qt){return typeof global[qt]<"u"?global[qt]:_n.clientHeight?_n[gn]:dn.body[gn]}function Ht(gn,qt,Di){var qe,Wn=(gn=gn||{}).className||"";return gn.className+=" gu-hide",qe=dn.elementFromPoint(qt,Di),gn.className=Wn,qe}function Fe(){return!1}function $t(){return!0}function Bi(gn){return gn.width||gn.right-gn.left}function an(gn){return gn.height||gn.bottom-gn.top}function fn(gn){return gn.parentNode===dn?null:gn.parentNode}function Tt(gn){return"INPUT"===gn.tagName||"TEXTAREA"===gn.tagName||"SELECT"===gn.tagName||In(gn)}function In(gn){return!(!gn||"false"===gn.contentEditable)&&("true"===gn.contentEditable||In(fn(gn)))}function Xe(gn){return gn.nextElementSibling||function qt(){var Di=gn;do{Di=Di.nextSibling}while(Di&&1!==Di.nodeType);return Di}()}function Un(gn,qt){var Di=function An(gn){return gn.targetTouches&&gn.targetTouches.length?gn.targetTouches[0]:gn.changedTouches&&gn.changedTouches.length?gn.changedTouches[0]:gn}(qt),Wn={pageX:"clientX",pageY:"clientY"};return gn in Wn&&!(gn in Di)&&Wn[gn]in Di&&(gn=Wn[gn]),Di[gn]}ko.exports=function De(gn,qt){1===arguments.length&&!1===Array.isArray(gn)&&(qt=gn,gn=[]);var Wn,qe,L,U,G,R,oe,le,Me,Re,$e,ve,et=null,ne=qt||{};void 0===ne.moves&&(ne.moves=$t),void 0===ne.accepts&&(ne.accepts=$t),void 0===ne.invalid&&(ne.invalid=function rr(){return!1}),void 0===ne.containers&&(ne.containers=gn||[]),void 0===ne.isContainer&&(ne.isContainer=Fe),void 0===ne.copy&&(ne.copy=!1),void 0===ne.copySortSource&&(ne.copySortSource=!1),void 0===ne.revertOnSpill&&(ne.revertOnSpill=!1),void 0===ne.removeOnSpill&&(ne.removeOnSpill=!1),void 0===ne.direction&&(ne.direction="vertical"),void 0===ne.ignoreInputTextSelection&&(ne.ignoreInputTextSelection=!0),void 0===ne.mirrorContainer&&(ne.mirrorContainer=dn.body);var at=Ln({containers:ne.containers,start:function ri(Ye){var _t=Wi(Ye);_t&&Yi(_t)},end:Ve,cancel:en,remove:Gt,destroy:function Pn(){Rt(!0),ht({})},canMove:function zn(Ye){return!!Wi(Ye)},dragging:!1});return!0===ne.removeOnSpill&&at.on("over",function K(Ye){F.rm(Ye,"gu-hide")}).on("out",function _e(Ye){at.dragging&&F.add(Ye,"gu-hide")}),Rt(),at;function Yt(Ye){return-1!==at.containers.indexOf(Ye)||ne.isContainer(Ye)}function Rt(Ye){var _t=Ye?"remove":"add";it(_n,_t,"mousedown",gi),it(_n,_t,"mouseup",ht)}function Jt(Ye){it(_n,Ye?"remove":"add","mousemove",si)}function Ft(Ye){var _t=Ye?"remove":"add";Ae[_t](_n,"selectstart",Si),Ae[_t](_n,"click",Si)}function Si(Ye){ve&&Ye.preventDefault()}function gi(Ye){if(R=Ye.clientX,oe=Ye.clientY,1===qn(Ye)&&!Ye.metaKey&&!Ye.ctrlKey){var Ge=Ye.target,yt=Wi(Ge);yt&&(ve=yt,Jt(),"mousedown"===Ye.type&&(Tt(Ge)?Ge.focus():Ye.preventDefault()))}}function si(Ye){if(ve){if(0===qn(Ye))return void ht({});if(!(void 0!==Ye.clientX&&Math.abs(Ye.clientX-R)<=(ne.slideFactorX||0)&&void 0!==Ye.clientY&&Math.abs(Ye.clientY-oe)<=(ne.slideFactorY||0))){if(ne.ignoreInputTextSelection){var _t=Un("clientX",Ye)||0,Ge=Un("clientY",Ye)||0;if(Tt(dn.elementFromPoint(_t,Ge)))return}var Kt=ve;Jt(!0),Ft(),Ve(),Yi(Kt);var xt=function bn(gn){var qt=gn.getBoundingClientRect();return{left:qt.left+Qi("scrollLeft","pageXOffset"),top:qt.top+Qi("scrollTop","pageYOffset")}}(L);U=Un("pageX",Ye)-xt.left,G=Un("pageY",Ye)-xt.top,F.add(Re||L,"gu-transit"),function Ne(){if(!Wn){var Ye=L.getBoundingClientRect();(Wn=L.cloneNode(!0)).style.width=Bi(Ye)+"px",Wn.style.height=an(Ye)+"px",F.rm(Wn,"gu-transit"),F.add(Wn,"gu-mirror"),ne.mirrorContainer.appendChild(Wn),it(_n,"add","mousemove",jn),F.add(ne.mirrorContainer,"gu-unselectable"),at.emit("cloned",Wn,L,"mirror")}}(),jn(Ye)}}}function Wi(Ye){if(!(at.dragging&&Wn||Yt(Ye))){for(var _t=Ye;fn(Ye)&&!1===Yt(fn(Ye));)if(ne.invalid(Ye,_t)||!(Ye=fn(Ye)))return;var Ge=fn(Ye);if(Ge&&!ne.invalid(Ye,_t)&&ne.moves(Ye,Ge,_t,Xe(Ye)))return{item:Ye,source:Ge}}}function Yi(Ye){(function Nt(Ye,_t){return"boolean"==typeof ne.copy?ne.copy:ne.copy(Ye,_t)})(Ye.item,Ye.source)&&(Re=Ye.item.cloneNode(!0),at.emit("cloned",Re,Ye.item,"copy")),qe=Ye.source,L=Ye.item,le=Me=Xe(Ye.item),at.dragging=!0,at.emit("drag",L,qe)}function Ve(){if(at.dragging){var Ye=Re||L;ot(Ye,fn(Ye))}}function We(){ve=!1,Jt(!0),Ft(!0)}function ht(Ye){if(We(),at.dragging){var _t=Re||L,Ge=Un("clientX",Ye)||0,yt=Un("clientY",Ye)||0,xt=ft(Ht(Wn,Ge,yt),Ge,yt);xt&&(Re&&ne.copySortSource||!Re||xt!==qe)?ot(_t,xt):ne.removeOnSpill?Gt():en()}}function ot(Ye,_t){var Ge=fn(Ye);Re&&ne.copySortSource&&_t===qe&&Ge.removeChild(L),pt(_t)?at.emit("cancel",Ye,qe,qe):at.emit("drop",Ye,_t,qe,Me),Cn()}function Gt(){if(at.dragging){var Ye=Re||L,_t=fn(Ye);_t&&_t.removeChild(Ye),at.emit(Re?"cancel":"remove",Ye,_t,qe),Cn()}}function en(Ye){if(at.dragging){var _t=arguments.length>0?Ye:ne.revertOnSpill,Ge=Re||L,yt=fn(Ge),Kt=pt(yt);!1===Kt&&_t&&(Re?yt&&yt.removeChild(Re):qe.insertBefore(Ge,le)),Kt||_t?at.emit("cancel",Ge,qe,qe):at.emit("drop",Ge,yt,qe,Me),Cn()}}function Cn(){var Ye=Re||L;We(),function At(){Wn&&(F.rm(ne.mirrorContainer,"gu-unselectable"),it(_n,"remove","mousemove",jn),fn(Wn).removeChild(Wn),Wn=null)}(),Ye&&F.rm(Ye,"gu-transit"),$e&&clearTimeout($e),at.dragging=!1,et&&at.emit("out",Ye,et,qe),at.emit("dragend",Ye),qe=L=Re=le=Me=$e=et=null}function pt(Ye,_t){var Ge;return Ge=void 0!==_t?_t:Wn?Me:Xe(Re||L),Ye===qe&&Ge===le}function ft(Ye,_t,Ge){for(var yt=Ye;yt&&!Kt();)yt=fn(yt);return yt;function Kt(){if(!1===Yt(yt))return!1;var Ct=vt(yt,Ye),mt=xe(yt,Ct,_t,Ge);return!!pt(yt,mt)||ne.accepts(L,yt,qe,mt)}}function jn(Ye){if(Wn){Ye.preventDefault();var _t=Un("clientX",Ye)||0,Ge=Un("clientY",Ye)||0,Kt=Ge-G;Wn.style.left=_t-U+"px",Wn.style.top=Kt+"px";var xt=Re||L,Ct=Ht(Wn,_t,Ge),mt=ft(Ct,_t,Ge),hn=null!==mt&&mt!==et;(hn||null===mt)&&(function mi(){et&&ti("out")}(),et=mt,function Br(){hn&&ti("over")}());var mn=fn(xt);if(mt!==qe||!Re||ne.copySortSource){var xn,hi=vt(mt,Ct);if(null!==hi)xn=xe(mt,hi,_t,Ge);else{if(!0!==ne.revertOnSpill||Re)return void(Re&&mn&&mn.removeChild(xt));xn=le,mt=qe}(null===xn&&hn||xn!==xt&&xn!==Xe(xt))&&(Me=xn,mt.insertBefore(xt,xn),at.emit("shadow",xt,mt,qe))}else mn&&mn.removeChild(xt)}function ti(ni){at.emit(ni,xt,et,qe)}}function vt(Ye,_t){for(var Ge=_t;Ge!==Ye&&fn(Ge)!==Ye;)Ge=fn(Ge);return Ge===_n?null:Ge}function xe(Ye,_t,Ge,yt){var Kt="horizontal"===ne.direction;return _t!==Ye?function mt(){var mn=_t.getBoundingClientRect();return function hn(mn){return mn?Xe(_t):_t}(Kt?Ge>mn.left+Bi(mn)/2:yt>mn.top+an(mn)/2)}():function Ct(){var xn,hi,ti,mn=Ye.children.length;for(xn=0;xn<mn;xn++)if(ti=(hi=Ye.children[xn]).getBoundingClientRect(),Kt&&ti.left+ti.width/2>Ge||!Kt&&ti.top+ti.height/2>yt)return hi;return null}()}}},239:function(ko){ko.exports=function(){"use strict";var Kr=function(B,x){return(Kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,I){D.__proto__=I}||function(D,I){for(var q in I)Object.prototype.hasOwnProperty.call(I,q)&&(D[q]=I[q])})(B,x)};function ei(B,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function D(){this.constructor=B}Kr(B,x),B.prototype=null===x?Object.create(x):(D.prototype=x.prototype,new D)}var Ln=function(){return Ln=Object.assign||function(x){for(var D,I=1,q=arguments.length;I<q;I++)for(var ae in D=arguments[I])Object.prototype.hasOwnProperty.call(D,ae)&&(x[ae]=D[ae]);return x},Ln.apply(this,arguments)};function Ae(B,x,D,I){return new(D||(D=Promise))(function(ae,Se){function Pe(Qt){try{kt(I.next(Qt))}catch(rn){Se(rn)}}function He(Qt){try{kt(I.throw(Qt))}catch(rn){Se(rn)}}function kt(Qt){Qt.done?ae(Qt.value):function q(ae){return ae instanceof D?ae:new D(function(Se){Se(ae)})}(Qt.value).then(Pe,He)}kt((I=I.apply(B,x||[])).next())})}function F(B,x){var I,q,ae,Se,D={label:0,sent:function(){if(1&ae[0])throw ae[1];return ae[1]},trys:[],ops:[]};return Se={next:Pe(0),throw:Pe(1),return:Pe(2)},"function"==typeof Symbol&&(Se[Symbol.iterator]=function(){return this}),Se;function Pe(kt){return function(Qt){return function He(kt){if(I)throw new TypeError("Generator is already executing.");for(;D;)try{if(I=1,q&&(ae=2&kt[0]?q.return:kt[0]?q.throw||((ae=q.return)&&ae.call(q),0):q.next)&&!(ae=ae.call(q,kt[1])).done)return ae;switch(q=0,ae&&(kt=[2&kt[0],ae.value]),kt[0]){case 0:case 1:ae=kt;break;case 4:return D.label++,{value:kt[1],done:!1};case 5:D.label++,q=kt[1],kt=[0];continue;case 7:kt=D.ops.pop(),D.trys.pop();continue;default:if(!(ae=(ae=D.trys).length>0&&ae[ae.length-1])&&(6===kt[0]||2===kt[0])){D=0;continue}if(3===kt[0]&&(!ae||kt[1]>ae[0]&&kt[1]<ae[3])){D.label=kt[1];break}if(6===kt[0]&&D.label<ae[1]){D.label=ae[1],ae=kt;break}if(ae&&D.label<ae[2]){D.label=ae[2],D.ops.push(kt);break}ae[2]&&D.ops.pop(),D.trys.pop();continue}kt=x.call(B,D)}catch(Qt){kt=[6,Qt],q=0}finally{I=ae=0}if(5&kt[0])throw kt[1];return{value:kt[0]?kt[1]:void 0,done:!0}}([kt,Qt])}}}function dn(B,x,D){if(D||2===arguments.length)for(var ae,I=0,q=x.length;I<q;I++)(ae||!(I in x))&&(ae||(ae=Array.prototype.slice.call(x,0,I)),ae[I]=x[I]);return B.concat(ae||x)}for(var _n=function(){function B(x,D,I,q){this.left=x,this.top=D,this.width=I,this.height=q}return B.prototype.add=function(x,D,I,q){return new B(this.left+x,this.top+D,this.width+I,this.height+q)},B.fromClientRect=function(x,D){return new B(D.left+x.windowBounds.left,D.top+x.windowBounds.top,D.width,D.height)},B.fromDOMRectList=function(x,D){var I=Array.from(D).find(function(q){return 0!==q.width});return I?new B(I.left+x.windowBounds.left,I.top+x.windowBounds.top,I.width,I.height):B.EMPTY},B.EMPTY=new B(0,0,0,0),B}(),De=function(B,x){return _n.fromClientRect(B,x.getBoundingClientRect())},qn=function(B){for(var x=[],D=0,I=B.length;D<I;){var q=B.charCodeAt(D++);if(q>=55296&&q<=56319&&D<I){var ae=B.charCodeAt(D++);56320==(64512&ae)?x.push(((1023&q)<<10)+(1023&ae)+65536):(x.push(q),D--)}else x.push(q)}return x},bn=function(){for(var B=[],x=0;x<arguments.length;x++)B[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,B);var D=B.length;if(!D)return"";for(var I=[],q=-1,ae="";++q<D;){var Se=B[q];Se<=65535?I.push(Se):I.push(55296+((Se-=65536)>>10),Se%1024+56320),(q+1===D||I.length>16384)&&(ae+=String.fromCharCode.apply(String,I),I.length=0)}return ae},Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ht=typeof Uint8Array>"u"?[]:new Uint8Array(256),Fe=0;Fe<64;Fe++)Ht[Qi.charCodeAt(Fe)]=Fe;for(var $t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bi=typeof Uint8Array>"u"?[]:new Uint8Array(256),an=0;an<64;an++)Bi[$t.charCodeAt(an)]=an;for(var Re=function(B,x,D){return B.slice?B.slice(x,D):new Uint16Array(Array.prototype.slice.call(B,x,D))},ve=function(){function B(x,D,I,q,ae,Se){this.initialValue=x,this.errorValue=D,this.highStart=I,this.highValueIndex=q,this.index=ae,this.data=Se}return B.prototype.get=function(x){var D;if(x>=0){if(x<55296||x>56319&&x<=65535)return this.data[D=((D=this.index[x>>5])<<2)+(31&x)];if(x<=65535)return this.data[D=((D=this.index[2048+(x-55296>>5)])<<2)+(31&x)];if(x<this.highStart)return D=this.index[D=2080+(x>>11)],this.data[D=((D=this.index[D+=x>>5&63])<<2)+(31&x)];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},B}(),ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",at=typeof Uint8Array>"u"?[]:new Uint8Array(256),Yt=0;Yt<64;Yt++)at[ne.charCodeAt(Yt)]=Yt;var D,I,q,Se,Pe,Yi=10,We=13,ot=15,en=17,Cn=18,pt=19,ft=20,jn=21,K=22,Ne=24,At=25,vt=26,xe=27,Nt=28,_t=30,yt=32,Kt=33,xt=34,Ct=35,hn=37,mn=38,xn=39,hi=40,Br=42,ni=[9001,65288],ii="\xd7",Mr=(D=function(B){var I,ae,Se,Pe,He,x=.75*B.length,D=B.length,q=0;"="===B[B.length-1]&&(x--,"="===B[B.length-2]&&x--);var kt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),Qt=Array.isArray(kt)?kt:new Uint8Array(kt);for(I=0;I<D;I+=4)ae=Bi[B.charCodeAt(I)],Se=Bi[B.charCodeAt(I+1)],Pe=Bi[B.charCodeAt(I+2)],He=Bi[B.charCodeAt(I+3)],Qt[q++]=ae<<2|Se>>4,Qt[q++]=(15&Se)<<4|Pe>>2,Qt[q++]=(3&Pe)<<6|63&He;return kt}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),I=Array.isArray(D)?function(B){for(var x=B.length,D=[],I=0;I<x;I+=4)D.push(B[I+3]<<24|B[I+2]<<16|B[I+1]<<8|B[I]);return D}(D):new Uint32Array(D),q=Array.isArray(D)?function(B){for(var x=B.length,D=[],I=0;I<x;I+=2)D.push(B[I+1]<<8|B[I]);return D}(D):new Uint16Array(D),Se=Re(q,12,I[4]/2),Pe=2===I[5]?Re(q,(24+I[4])/2):function(B,x,D){return B.slice?B.slice(x,D):new Uint32Array(Array.prototype.slice.call(B,x,D))}(I,Math.ceil((24+I[4])/4)),new ve(I[0],I[1],I[2],I[3],Se,Pe)),ui=[_t,36],Yn=[1,2,3,5],br=[Yi,8],Pr=[xe,vt],j=Yn.concat(br),fe=[mn,xn,hi,xt,Ct],he=[ot,We],ke=function(B,x,D,I){var q=I[D];if(Array.isArray(B)?-1!==B.indexOf(q):B===q)for(var ae=D;ae<=I.length;){if((Se=I[++ae])===x)return!0;if(Se!==Yi)break}if(q===Yi)for(ae=D;ae>0;){var Pe=I[--ae];if(Array.isArray(B)?-1!==B.indexOf(Pe):B===Pe)for(var He=D;He<=I.length;){var Se;if((Se=I[++He])===x)return!0;if(Se!==Yi)break}if(Pe!==Yi)break}return!1},ee=function(B,x){for(var D=B;D>=0;){var I=x[D];if(I!==Yi)return I;D--}return 0},Ue=function(B,x,D,I,q){if(0===D[I])return ii;var ae=I-1;if(Array.isArray(q)&&!0===q[ae])return ii;var Se=ae-1,Pe=ae+1,He=x[ae],kt=Se>=0?x[Se]:0,Qt=x[Pe];if(2===He&&3===Qt)return ii;if(-1!==Yn.indexOf(He))return"!";if(-1!==Yn.indexOf(Qt)||-1!==br.indexOf(Qt))return ii;if(8===ee(ae,x))return"\xf7";if(11===Mr.get(B[ae])||(He===yt||He===Kt)&&11===Mr.get(B[Pe])||7===He||7===Qt||9===He||-1===[Yi,We,ot].indexOf(He)&&9===Qt||-1!==[en,Cn,pt,Ne,Nt].indexOf(Qt)||ee(ae,x)===K||ke(23,K,ae,x)||ke([en,Cn],jn,ae,x)||ke(12,12,ae,x))return ii;if(He===Yi)return"\xf7";if(23===He||23===Qt)return ii;if(16===Qt||16===He)return"\xf7";if(-1!==[We,ot,jn].indexOf(Qt)||14===He||36===kt&&-1!==he.indexOf(He)||He===Nt&&36===Qt||Qt===ft||-1!==ui.indexOf(Qt)&&He===At||-1!==ui.indexOf(He)&&Qt===At||He===xe&&-1!==[hn,yt,Kt].indexOf(Qt)||-1!==[hn,yt,Kt].indexOf(He)&&Qt===vt||-1!==ui.indexOf(He)&&-1!==Pr.indexOf(Qt)||-1!==Pr.indexOf(He)&&-1!==ui.indexOf(Qt)||-1!==[xe,vt].indexOf(He)&&(Qt===At||-1!==[K,ot].indexOf(Qt)&&x[Pe+1]===At)||-1!==[K,ot].indexOf(He)&&Qt===At||He===At&&-1!==[At,Nt,Ne].indexOf(Qt))return ii;if(-1!==[At,Nt,Ne,en,Cn].indexOf(Qt))for(var rn=ae;rn>=0;){if((Nn=x[rn])===At)return ii;if(-1===[Nt,Ne].indexOf(Nn))break;rn--}if(-1!==[xe,vt].indexOf(Qt))for(rn=-1!==[en,Cn].indexOf(He)?Se:ae;rn>=0;){var Nn;if((Nn=x[rn])===At)return ii;if(-1===[Nt,Ne].indexOf(Nn))break;rn--}if(mn===He&&-1!==[mn,xn,xt,Ct].indexOf(Qt)||-1!==[xn,xt].indexOf(He)&&-1!==[xn,hi].indexOf(Qt)||-1!==[hi,Ct].indexOf(He)&&Qt===hi||-1!==fe.indexOf(He)&&-1!==[ft,vt].indexOf(Qt)||-1!==fe.indexOf(Qt)&&He===xe||-1!==ui.indexOf(He)&&-1!==ui.indexOf(Qt)||He===Ne&&-1!==ui.indexOf(Qt)||-1!==ui.concat(At).indexOf(He)&&Qt===K&&-1===ni.indexOf(B[Pe])||-1!==ui.concat(At).indexOf(Qt)&&He===Cn)return ii;if(41===He&&41===Qt){for(var cr=D[ae],Pi=1;cr>0&&41===x[--cr];)Pi++;if(Pi%2!=0)return ii}return He===yt&&Qt===Kt?ii:"\xf7"},gt=function(B,x){x||(x={lineBreak:"normal",wordBreak:"normal"});var D=function(B,x){void 0===x&&(x="strict");var D=[],I=[],q=[];return B.forEach(function(ae,Se){var Pe=Mr.get(ae);if(Pe>50?(q.push(!0),Pe-=50):q.push(!1),-1!==["normal","auto","loose"].indexOf(x)&&-1!==[8208,8211,12316,12448].indexOf(ae))return I.push(Se),D.push(16);if(4===Pe||11===Pe){if(0===Se)return I.push(Se),D.push(_t);var He=D[Se-1];return-1===j.indexOf(He)?(I.push(I[Se-1]),D.push(He)):(I.push(Se),D.push(_t))}return I.push(Se),31===Pe?D.push("strict"===x?jn:hn):Pe===Br||29===Pe?D.push(_t):43===Pe?D.push(ae>=131072&&ae<=196605||ae>=196608&&ae<=262141?hn:_t):void D.push(Pe)}),[I,D,q]}(B,x.lineBreak),I=D[0],q=D[1],ae=D[2];return("break-all"===x.wordBreak||"break-word"===x.wordBreak)&&(q=q.map(function(Pe){return-1!==[At,_t,Br].indexOf(Pe)?hn:Pe})),[I,q,"keep-all"===x.wordBreak?ae.map(function(Pe,He){return Pe&&B[He]>=19968&&B[He]<=40959}):void 0]},Bt=function(){function B(x,D,I,q){this.codePoints=x,this.required="!"===D,this.start=I,this.end=q}return B.prototype.slice=function(){return bn.apply(void 0,this.codePoints.slice(this.start,this.end))},B}(),Ds=function(B){return B>=48&&B<=57},Gr=function(B){return Ds(B)||B>=65&&B<=70||B>=97&&B<=102},Va=function(B){return 10===B||9===B||32===B},wl=function(B){return function(B){return function(B){return B>=97&&B<=122}(B)||function(B){return B>=65&&B<=90}(B)}(B)||function(B){return B>=128}(B)||95===B},Us=function(B){return wl(B)||Ds(B)||45===B},Ia=function(B){return B>=0&&B<=8||11===B||B>=14&&B<=31||127===B},bl=function(B,x){return 92===B&&10!==x},Ll=function(B,x,D){return 45===B?wl(x)||bl(x,D):!!wl(B)||!(92!==B||!bl(B,x))},rl=function(B,x,D){return 43===B||45===B?!!Ds(x)||46===x&&Ds(D):Ds(46===B?x:B)},ol=function(B){var x=0,D=1;(43===B[x]||45===B[x])&&(45===B[x]&&(D=-1),x++);for(var I=[];Ds(B[x]);)I.push(B[x++]);var q=I.length?parseInt(bn.apply(void 0,I),10):0;46===B[x]&&x++;for(var ae=[];Ds(B[x]);)ae.push(B[x++]);var Se=ae.length,Pe=Se?parseInt(bn.apply(void 0,ae),10):0;(69===B[x]||101===B[x])&&x++;var He=1;(43===B[x]||45===B[x])&&(45===B[x]&&(He=-1),x++);for(var kt=[];Ds(B[x]);)kt.push(B[x++]);var Qt=kt.length?parseInt(bn.apply(void 0,kt),10):0;return D*(q+Pe*Math.pow(10,-Se))*Math.pow(10,He*Qt)},ku={type:2},Qr={type:3},Er={type:4},Eo={type:13},Sc={type:8},Nu={type:21},Wf={type:9},za={type:10},Rl={type:11},Or={type:12},Xf={type:14},Yf={type:23},$a={type:1},X1={type:25},Q4={type:24},V4={type:26},hf={type:27},ba={type:28},J0={type:29},Y1={type:31},Ld={type:32},Z1=function(){function B(){this._value=[]}return B.prototype.write=function(x){this._value=this._value.concat(qn(x))},B.prototype.read=function(){for(var x=[],D=this.consumeToken();D!==Ld;)x.push(D),D=this.consumeToken();return x},B.prototype.consumeToken=function(){var x=this.consumeCodePoint();switch(x){case 34:return this.consumeStringToken(34);case 35:var D=this.peekCodePoint(0),I=this.peekCodePoint(1),q=this.peekCodePoint(2);if(Us(D)||bl(I,q)){var ae=Ll(D,I,q)?2:1;return{type:5,value:this.consumeName(),flags:ae}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Eo;break;case 39:return this.consumeStringToken(39);case 40:return ku;case 41:return Qr;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Xf;break;case 43:if(rl(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case 44:return Er;case 45:var Pe=x,He=this.peekCodePoint(0),kt=this.peekCodePoint(1);if(rl(Pe,He,kt))return this.reconsumeCodePoint(x),this.consumeNumericToken();if(Ll(Pe,He,kt))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();if(45===He&&62===kt)return this.consumeCodePoint(),this.consumeCodePoint(),Q4;break;case 46:if(rl(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var Qt=this.consumeCodePoint();if(42===Qt&&47===(Qt=this.consumeCodePoint()))return this.consumeToken();if(-1===Qt)return this.consumeToken()}break;case 58:return V4;case 59:return hf;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),X1;break;case 64:var rn=this.peekCodePoint(0),Nn=this.peekCodePoint(1),cr=this.peekCodePoint(2);if(Ll(rn,Nn,cr))return{type:7,value:this.consumeName()};break;case 91:return ba;case 92:if(bl(x,this.peekCodePoint(0)))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();break;case 93:return J0;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Sc;break;case 123:return Rl;case 125:return Or;case 117:case 85:var Pi=this.peekCodePoint(0),Hi=this.peekCodePoint(1);return 43===Pi&&(Gr(Hi)||63===Hi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(x),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Wf;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Nu;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),za;break;case-1:return Ld}return Va(x)?(this.consumeWhiteSpace(),Y1):Ds(x)?(this.reconsumeCodePoint(x),this.consumeNumericToken()):wl(x)?(this.reconsumeCodePoint(x),this.consumeIdentLikeToken()):{type:6,value:bn(x)}},B.prototype.consumeCodePoint=function(){var x=this._value.shift();return typeof x>"u"?-1:x},B.prototype.reconsumeCodePoint=function(x){this._value.unshift(x)},B.prototype.peekCodePoint=function(x){return x>=this._value.length?-1:this._value[x]},B.prototype.consumeUnicodeRangeToken=function(){for(var x=[],D=this.consumeCodePoint();Gr(D)&&x.length<6;)x.push(D),D=this.consumeCodePoint();for(var I=!1;63===D&&x.length<6;)x.push(D),D=this.consumeCodePoint(),I=!0;if(I)return{type:30,start:parseInt(bn.apply(void 0,x.map(function(He){return 63===He?48:He})),16),end:parseInt(bn.apply(void 0,x.map(function(He){return 63===He?70:He})),16)};var Se=parseInt(bn.apply(void 0,x),16);if(45===this.peekCodePoint(0)&&Gr(this.peekCodePoint(1))){this.consumeCodePoint(),D=this.consumeCodePoint();for(var Pe=[];Gr(D)&&Pe.length<6;)Pe.push(D),D=this.consumeCodePoint();return{type:30,start:Se,end:parseInt(bn.apply(void 0,Pe),16)}}return{type:30,start:Se,end:Se}},B.prototype.consumeIdentLikeToken=function(){var x=this.consumeName();return"url"===x.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:x}):{type:20,value:x}},B.prototype.consumeUrlToken=function(){var x=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var D=this.peekCodePoint(0);if(39===D||34===D){var I=this.consumeStringToken(this.consumeCodePoint());return 0===I.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:I.value}):(this.consumeBadUrlRemnants(),Yf)}for(;;){var q=this.consumeCodePoint();if(-1===q||41===q)return{type:22,value:bn.apply(void 0,x)};if(Va(q))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:bn.apply(void 0,x)}):(this.consumeBadUrlRemnants(),Yf);if(34===q||39===q||40===q||Ia(q))return this.consumeBadUrlRemnants(),Yf;if(92===q){if(!bl(q,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Yf;x.push(this.consumeEscapedCodePoint())}else x.push(q)}},B.prototype.consumeWhiteSpace=function(){for(;Va(this.peekCodePoint(0));)this.consumeCodePoint()},B.prototype.consumeBadUrlRemnants=function(){for(;;){var x=this.consumeCodePoint();if(41===x||-1===x)return;bl(x,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},B.prototype.consumeStringSlice=function(x){for(var I="";x>0;){var q=Math.min(5e4,x);I+=bn.apply(void 0,this._value.splice(0,q)),x-=q}return this._value.shift(),I},B.prototype.consumeStringToken=function(x){for(var D="",I=0;;){var q=this._value[I];if(-1===q||void 0===q||q===x)return{type:0,value:D+=this.consumeStringSlice(I)};if(10===q)return this._value.splice(0,I),$a;if(92===q){var ae=this._value[I+1];-1!==ae&&void 0!==ae&&(10===ae?(D+=this.consumeStringSlice(I),I=-1,this._value.shift()):bl(q,ae)&&(D+=this.consumeStringSlice(I),D+=bn(this.consumeEscapedCodePoint()),I=-1))}I++}},B.prototype.consumeNumber=function(){var x=[],D=4,I=this.peekCodePoint(0);for((43===I||45===I)&&x.push(this.consumeCodePoint());Ds(this.peekCodePoint(0));)x.push(this.consumeCodePoint());I=this.peekCodePoint(0);var q=this.peekCodePoint(1);if(46===I&&Ds(q))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),D=8;Ds(this.peekCodePoint(0));)x.push(this.consumeCodePoint());I=this.peekCodePoint(0),q=this.peekCodePoint(1);var ae=this.peekCodePoint(2);if((69===I||101===I)&&((43===q||45===q)&&Ds(ae)||Ds(q)))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),D=8;Ds(this.peekCodePoint(0));)x.push(this.consumeCodePoint());return[ol(x),D]},B.prototype.consumeNumericToken=function(){var x=this.consumeNumber(),D=x[0],I=x[1],q=this.peekCodePoint(0),ae=this.peekCodePoint(1),Se=this.peekCodePoint(2);return Ll(q,ae,Se)?{type:15,number:D,flags:I,unit:this.consumeName()}:37===q?(this.consumeCodePoint(),{type:16,number:D,flags:I}):{type:17,number:D,flags:I}},B.prototype.consumeEscapedCodePoint=function(){var x=this.consumeCodePoint();if(Gr(x)){for(var D=bn(x);Gr(this.peekCodePoint(0))&&D.length<6;)D+=bn(this.consumeCodePoint());Va(this.peekCodePoint(0))&&this.consumeCodePoint();var I=parseInt(D,16);return 0===I||function(B){return B>=55296&&B<=57343}(I)||I>1114111?65533:I}return-1===x?65533:x},B.prototype.consumeName=function(){for(var x="";;){var D=this.consumeCodePoint();if(Us(D))x+=bn(D);else{if(!bl(D,this.peekCodePoint(0)))return this.reconsumeCodePoint(D),x;x+=bn(this.consumeEscapedCodePoint())}}},B}(),ep=function(){function B(x){this._tokens=x}return B.create=function(x){var D=new Z1;return D.write(x),new B(D.read())},B.parseValue=function(x){return B.create(x).parseComponentValue()},B.parseValues=function(x){return B.create(x).parseComponentValues()},B.prototype.parseComponentValue=function(){for(var x=this.consumeToken();31===x.type;)x=this.consumeToken();if(32===x.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(x);var D=this.consumeComponentValue();do{x=this.consumeToken()}while(31===x.type);if(32===x.type)return D;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},B.prototype.parseComponentValues=function(){for(var x=[];;){var D=this.consumeComponentValue();if(32===D.type)return x;x.push(D),x.push()}},B.prototype.consumeComponentValue=function(){var x=this.consumeToken();switch(x.type){case 11:case 28:case 2:return this.consumeSimpleBlock(x.type);case 19:return this.consumeFunction(x)}return x},B.prototype.consumeSimpleBlock=function(x){for(var D={type:x,values:[]},I=this.consumeToken();;){if(32===I.type||Rd(I,x))return D;this.reconsumeToken(I),D.values.push(this.consumeComponentValue()),I=this.consumeToken()}},B.prototype.consumeFunction=function(x){for(var D={name:x.value,values:[],type:18};;){var I=this.consumeToken();if(32===I.type||3===I.type)return D;this.reconsumeToken(I),D.values.push(this.consumeComponentValue())}},B.prototype.consumeToken=function(){var x=this._tokens.shift();return typeof x>"u"?Ld:x},B.prototype.reconsumeToken=function(x){this._tokens.unshift(x)},B}(),Bc=function(B){return 15===B.type},Zf=function(B){return 17===B.type},Lo=function(B){return 20===B.type},tv=function(B){return 0===B.type},Ar=function(B,x){return Lo(B)&&B.value===x},tp=function(B){return 31!==B.type},Kn=function(B){return 31!==B.type&&4!==B.type},du=function(B){var x=[],D=[];return B.forEach(function(I){if(4===I.type){if(0===D.length)throw new Error("Error parsing function args, zero tokens for arg");return x.push(D),void(D=[])}31!==I.type&&D.push(I)}),D.length&&x.push(D),x},Rd=function(B,x){return 11===x&&12===B.type||28===x&&29===B.type||2===x&&3===B.type},Da=function(B){return 17===B.type||15===B.type},Zs=function(B){return 16===B.type||Da(B)},np=function(B){return B.length>1?[B[0],B[1]]:[B[0]]},sl={type:17,number:0,flags:4},ou={type:16,number:50,flags:4},Cl={type:16,number:100,flags:4},tc=function(B,x,D){var I=B[0],q=B[1];return[S(I,x),S(typeof q<"u"?q:I,D)]},S=function(B,x){if(16===B.type)return B.number/100*x;if(Bc(B))switch(B.unit){case"rem":case"em":return 16*B.number;default:return B.number}return B.number},It_parse=function(B,x){if(15===x.type)switch(x.unit){case"deg":return Math.PI*x.number/180;case"grad":return Math.PI/200*x.number;case"rad":return x.number;case"turn":return 2*Math.PI*x.number}throw new Error("Unsupported angle type")},Ut=function(B){return 15===B.type&&("deg"===B.unit||"grad"===B.unit||"rad"===B.unit||"turn"===B.unit)},Zt=function(B){switch(B.filter(Lo).map(function(D){return D.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[sl,sl];case"to top":case"bottom":return kn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[sl,Cl];case"to right":case"left":return kn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Cl,Cl];case"to bottom":case"top":return kn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Cl,sl];case"to left":case"right":return kn(270)}return 0},kn=function(B){return Math.PI*B/180},Rn_parse=function(B,x){if(18===x.type){var D=Mo[x.name];if(typeof D>"u")throw new Error('Attempting to parse an unsupported color function "'+x.name+'"');return D(B,x.values)}if(5===x.type){if(3===x.value.length){var I=x.value.substring(0,1),q=x.value.substring(1,2),ae=x.value.substring(2,3);return or(parseInt(I+I,16),parseInt(q+q,16),parseInt(ae+ae,16),1)}if(4===x.value.length){I=x.value.substring(0,1),q=x.value.substring(1,2),ae=x.value.substring(2,3);var Se=x.value.substring(3,4);return or(parseInt(I+I,16),parseInt(q+q,16),parseInt(ae+ae,16),parseInt(Se+Se,16)/255)}if(6===x.value.length)return I=x.value.substring(0,2),q=x.value.substring(2,4),ae=x.value.substring(4,6),or(parseInt(I,16),parseInt(q,16),parseInt(ae,16),1);if(8===x.value.length)return I=x.value.substring(0,2),q=x.value.substring(2,4),ae=x.value.substring(4,6),Se=x.value.substring(6,8),or(parseInt(I,16),parseInt(q,16),parseInt(ae,16),parseInt(Se,16)/255)}if(20===x.type){var Pe=wi[x.value.toUpperCase()];if(typeof Pe<"u")return Pe}return wi.TRANSPARENT},vi=function(B){return!(255&B)},tn=function(B){var x=255&B,D=255&B>>8,I=255&B>>16,q=255&B>>24;return x<255?"rgba("+q+","+I+","+D+","+x/255+")":"rgb("+q+","+I+","+D+")"},or=function(B,x,D,I){return(B<<24|x<<16|D<<8|Math.round(255*I))>>>0},Gi=function(B,x){if(17===B.type)return B.number;if(16===B.type){var D=3===x?1:255;return 3===x?B.number/100*D:Math.round(B.number/100*D)}return 0},mr=function(B,x){var D=x.filter(Kn);if(3===D.length){var I=D.map(Gi);return or(I[0],I[1],I[2],1)}if(4===D.length){var Pe=D.map(Gi);return or(Pe[0],Pe[1],Pe[2],Pe[3])}return 0};function Ir(B,x,D){return D<0&&(D+=1),D>=1&&(D-=1),D<1/6?(x-B)*D*6+B:D<.5?x:D<2/3?6*(x-B)*(2/3-D)+B:B}var go=function(B,x){var D=x.filter(Kn),I=D[0],q=D[1],ae=D[2],Se=D[3],Pe=(17===I.type?kn(I.number):It_parse(B,I))/(2*Math.PI),He=Zs(q)?q.number/100:0,kt=Zs(ae)?ae.number/100:0,Qt=typeof Se<"u"&&Zs(Se)?S(Se,1):1;if(0===He)return or(255*kt,255*kt,255*kt,1);var rn=kt<=.5?kt*(He+1):kt+He-kt*He,Nn=2*kt-rn,cr=Ir(Nn,rn,Pe+1/3),Pi=Ir(Nn,rn,Pe),Hi=Ir(Nn,rn,Pe-1/3);return or(255*cr,255*Pi,255*Hi,Qt)},Mo={hsl:go,hsla:go,rgb:mr,rgba:mr},li=function(B,x){return Rn_parse(B,ep.create(x).parseComponentValue())},wi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},co={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(B,x){return x.map(function(D){if(Lo(D))switch(D.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ur={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Oo=function(B,x){var D=Rn_parse(B,x[0]),I=x[1];return I&&Zs(I)?{color:D,stop:I}:{color:D,stop:null}},Go=function(B,x){var D=B[0],I=B[B.length-1];null===D.stop&&(D.stop=sl),null===I.stop&&(I.stop=Cl);for(var q=[],ae=0,Se=0;Se<B.length;Se++){var Pe=B[Se].stop;if(null!==Pe){var He=S(Pe,x);q.push(He>ae?He:ae),ae=He}else q.push(null)}var kt=null;for(Se=0;Se<q.length;Se++){var Qt=q[Se];if(null===Qt)null===kt&&(kt=Se);else if(null!==kt){for(var rn=Se-kt,cr=(Qt-q[kt-1])/(rn+1),Pi=1;Pi<=rn;Pi++)q[kt+Pi-1]=cr*Pi;kt=null}}return B.map(function(Hi,So){return{color:Hi.color,stop:Math.max(Math.min(1,q[So]/x),0)}})},_o=function(B,x,D){var I="number"==typeof B?B:function(B,x,D){var I=x/2,q=D/2,ae=S(B[0],x)-I,Se=q-S(B[1],D);return(Math.atan2(Se,ae)+2*Math.PI)%(2*Math.PI)}(B,x,D),q=Math.abs(x*Math.sin(I))+Math.abs(D*Math.cos(I)),ae=x/2,Se=D/2,Pe=q/2,He=Math.sin(I-Math.PI/2)*Pe,kt=Math.cos(I-Math.PI/2)*Pe;return[q,ae-kt,ae+kt,Se-He,Se+He]},cn=function(B,x){return Math.sqrt(B*B+x*x)},Js=function(B,x,D,I,q){return[[0,0],[0,x],[B,0],[B,x]].reduce(function(Se,Pe){var Qt=cn(D-Pe[0],I-Pe[1]);return(q?Qt<Se.optimumDistance:Qt>Se.optimumDistance)?{optimumCorner:Pe,optimumDistance:Qt}:Se},{optimumDistance:q?1/0:-1/0,optimumCorner:null}).optimumCorner},ea=function(B,x){var D=kn(180),I=[];return du(x).forEach(function(q,ae){if(0===ae){var Se=q[0];if(20===Se.type&&-1!==["top","left","right","bottom"].indexOf(Se.value))return void(D=Zt(q));if(Ut(Se))return void(D=(It_parse(B,Se)+kn(270))%kn(360))}var Pe=Oo(B,q);I.push(Pe)}),{angle:D,stops:I,type:1}},as="closest-side",Fa="farthest-side",Au="closest-corner",El="farthest-corner",Aa="ellipse",al="contain",Ul=function(B,x){var D=0,I=3,q=[],ae=[];return du(x).forEach(function(Se,Pe){var He=!0;if(0===Pe?He=Se.reduce(function(Qt,rn){if(Lo(rn))switch(rn.value){case"center":return ae.push(ou),!1;case"top":case"left":return ae.push(sl),!1;case"right":case"bottom":return ae.push(Cl),!1}else if(Zs(rn)||Da(rn))return ae.push(rn),!1;return Qt},He):1===Pe&&(He=Se.reduce(function(Qt,rn){if(Lo(rn))switch(rn.value){case"circle":return D=0,!1;case Aa:return D=1,!1;case al:case as:return I=0,!1;case Fa:return I=1,!1;case Au:return I=2,!1;case"cover":case El:return I=3,!1}else if(Da(rn)||Zs(rn))return Array.isArray(I)||(I=[]),I.push(rn),!1;return Qt},He)),He){var kt=Oo(B,Se);q.push(kt)}}),{size:I,shape:D,stops:q,position:ae,type:2}},Ud_parse=function(B,x){if(22===x.type){var D={url:x.value,type:0};return B.cache.addImage(x.value),D}if(18===x.type){var I=Ga[x.name];if(typeof I>"u")throw new Error('Attempting to parse an unsupported image function "'+x.name+'"');return I(B,x.values)}throw new Error("Unsupported image type "+x.type)};for(var Ga={"linear-gradient":function(B,x){var D=kn(180),I=[];return du(x).forEach(function(q,ae){if(0===ae){var Se=q[0];if(20===Se.type&&"to"===Se.value)return void(D=Zt(q));if(Ut(Se))return void(D=It_parse(B,Se))}var Pe=Oo(B,q);I.push(Pe)}),{angle:D,stops:I,type:1}},"-moz-linear-gradient":ea,"-ms-linear-gradient":ea,"-o-linear-gradient":ea,"-webkit-linear-gradient":ea,"radial-gradient":function(B,x){var D=0,I=3,q=[],ae=[];return du(x).forEach(function(Se,Pe){var He=!0;if(0===Pe){var kt=!1;He=Se.reduce(function(rn,Nn){if(kt)if(Lo(Nn))switch(Nn.value){case"center":return ae.push(ou),rn;case"top":case"left":return ae.push(sl),rn;case"right":case"bottom":return ae.push(Cl),rn}else(Zs(Nn)||Da(Nn))&&ae.push(Nn);else if(Lo(Nn))switch(Nn.value){case"circle":return D=0,!1;case Aa:return D=1,!1;case"at":return kt=!0,!1;case as:return I=0,!1;case"cover":case Fa:return I=1,!1;case al:case Au:return I=2,!1;case El:return I=3,!1}else if(Da(Nn)||Zs(Nn))return Array.isArray(I)||(I=[]),I.push(Nn),!1;return rn},He)}if(He){var Qt=Oo(B,Se);q.push(Qt)}}),{size:I,shape:D,stops:q,position:ae,type:2}},"-moz-radial-gradient":Ul,"-ms-radial-gradient":Ul,"-o-radial-gradient":Ul,"-webkit-radial-gradient":Ul,"-webkit-gradient":function(B,x){var D=kn(180),I=[],q=1;return du(x).forEach(function(He,kt){var Qt=He[0];if(0===kt){if(Lo(Qt)&&"linear"===Qt.value)return void(q=1);if(Lo(Qt)&&"radial"===Qt.value)return void(q=2)}if(18===Qt.type)if("from"===Qt.name){var rn=Rn_parse(B,Qt.values[0]);I.push({stop:sl,color:rn})}else if("to"===Qt.name)rn=Rn_parse(B,Qt.values[0]),I.push({stop:Cl,color:rn});else if("color-stop"===Qt.name){var Nn=Qt.values.filter(Kn);if(2===Nn.length){rn=Rn_parse(B,Nn[1]);var cr=Nn[0];Zf(cr)&&I.push({stop:{type:16,number:100*cr.number,flags:cr.flags},color:rn})}}}),1===q?{angle:(D+kn(180))%kn(360),stops:I,type:q}:{size:3,shape:0,stops:I,position:[],type:q}}},IA={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(B,x){if(0===x.length)return[];var D=x[0];return 20===D.type&&"none"===D.value?[]:x.filter(function(I){return Kn(I)&&function Mc(B){return!(20===B.type&&"none"===B.value||18===B.type&&!Ga[B.name])}(I)}).map(function(I){return Ud_parse(B,I)})}},Ic={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(B,x){return x.map(function(D){if(Lo(D))switch(D.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mo={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(B,x){return du(x).map(function(D){return D.filter(Zs)}).map(np)}},Dh={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(B,x){return du(x).map(function(D){return D.filter(Lo).map(function(I){return I.value}).join(" ")}).map(Th)}},Th=function(B){switch(B){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Yo=function(B){return B.AUTO="auto",B.CONTAIN="contain",B.COVER="cover",B}(Yo||{}),J1={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(B,x){return du(x).map(function(D){return D.filter(Lr)})}},Lr=function(B){return Lo(B)||Zs(B)},Oa=function(B){return{name:"border-"+B+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},wo=Oa("top"),ll=Oa("right"),ul=Oa("bottom"),DA=Oa("left"),xl=function(B){return{name:"border-radius-"+B,initialValue:"0 0",prefix:!1,type:1,parse:function(x,D){return np(D.filter(Zs))}}},z4=xl("top-left"),em=xl("top-right"),ip=xl("bottom-right"),rp=xl("bottom-left"),TA=function(B){return{name:"border-"+B+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(x,D){switch(D){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},kg=TA("top"),tm=TA("right"),nm=TA("bottom"),op=TA("left"),FA=function(B){return{name:"border-"+B+"-width",initialValue:"0",type:0,prefix:!1,parse:function(x,D){return Bc(D)?D.number:0}}},sp=FA("top"),Fh=FA("right"),Oh=FA("bottom"),kh=FA("left"),Nh={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nv={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(B,x){return"rtl"===x?1:0}},OA={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(B,x){return x.filter(Lo).reduce(function(D,I){return D|$4(I.value)},0)}},$4=function(B){switch(B){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},iv={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(B,x){switch(x){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Jf={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(B,x){return 20===x.type&&"normal"===x.value?0:17===x.type||15===x.type?x.number:0}},Pd=function(B){return B.NORMAL="normal",B.STRICT="strict",B}(Pd||{}),rv={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(B,x){return"strict"===x?Pd.STRICT:Pd.NORMAL}},im={name:"line-height",initialValue:"normal",prefix:!1,type:4},su=function(B,x){return Lo(B)&&"normal"===B.value?1.2*x:17===B.type?x*B.number:Zs(B)?S(B,x):x},ap={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(B,x){return 20===x.type&&"none"===x.value?null:Ud_parse(B,x)}},ov={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(B,x){return"inside"===x?0:1}},sv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(B,x){switch(x){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Kl=function(B){return{name:"margin-"+B,initialValue:"0",prefix:!1,type:4}},cl=Kl("top"),qa=Kl("right"),Sl=Kl("bottom"),Ng=Kl("left"),M9={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(B,x){return x.filter(Lo).map(function(D){switch(D.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},lp={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(B,x){return"break-word"===x?"break-word":"normal"}},nc=function(B){return{name:"padding-"+B,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},G4=nc("top"),rm=nc("right"),kA=nc("bottom"),q4=nc("left"),av={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(B,x){switch(x){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Bl={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(B,x){switch(x){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},om={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(B,x){return 1===x.length&&Ar(x[0],"none")?[]:du(x).map(function(D){for(var I={color:wi.TRANSPARENT,offsetX:sl,offsetY:sl,blur:sl},q=0,ae=0;ae<D.length;ae++){var Se=D[ae];Da(Se)?(0===q?I.offsetX=Se:1===q?I.offsetY=Se:I.blur=Se,q++):I.color=Rn_parse(B,Se)}return I})}},lv={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(B,x){switch(x){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},up={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(B,x){if(20===x.type&&"none"===x.value)return null;if(18===x.type){var D=K4[x.name];if(typeof D>"u")throw new Error('Attempting to parse an unsupported transform function "'+x.name+'"');return D(x.values)}return null}},K4={matrix:function(B){var x=B.filter(function(D){return 17===D.type}).map(function(D){return D.number});return 6===x.length?x:null},matrix3d:function(B){var x=B.filter(function(He){return 17===He.type}).map(function(He){return He.number});return 16===x.length?[x[0],x[1],x[4],x[5],x[12],x[13]]:null}},cp={type:16,number:50,flags:4},I9=[cp,cp],sm={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(B,x){var D=x.filter(Zs);return 2!==D.length?I9:[D[0],D[1]]}},pf={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(B,x){switch(x){case"hidden":return 1;case"collapse":return 2;default:return 0}}},NA=function(B){return B.NORMAL="normal",B.BREAK_ALL="break-all",B.KEEP_ALL="keep-all",B}(NA||{}),ha={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(B,x){switch(x){case"break-all":return NA.BREAK_ALL;case"keep-all":return NA.KEEP_ALL;default:return NA.NORMAL}}},Ii={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(B,x){if(20===x.type)return{auto:!0,order:0};if(Zf(x))return{auto:!1,order:x.number};throw new Error("Invalid z-index number parsed")}},sr={name:"time",parse:function(B,x){if(15===x.type)switch(x.unit.toLowerCase()){case"s":return 1e3*x.number;case"ms":return x.number}throw new Error("Unsupported time type")}},Vr={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(B,x){return Zf(x)?x.number:1}},ja={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ca={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(B,x){return x.filter(Lo).map(function(D){switch(D.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(D){return 0!==D})}},fl={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(B,x){var D=[],I=[];return x.forEach(function(q){switch(q.type){case 20:case 0:D.push(q.value);break;case 17:D.push(q.number.toString());break;case 4:I.push(D.join(" ")),D.length=0}}),D.length&&I.push(D.join(" ")),I.map(function(q){return-1===q.indexOf(" ")?q:"'"+q+"'"})}},Lh={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},bs={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(B,x){return Zf(x)?x.number:Lo(x)&&"bold"===x.value?700:400}},Ka={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(B,x){return x.filter(Lo).map(function(D){return D.value})}},gf={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(B,x){switch(x){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ur=function(B,x){return!!(B&x)},Hd={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(B,x){if(0===x.length)return[];var D=x[0];return 20===D.type&&"none"===D.value?[]:x}},cv={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(B,x){if(0===x.length)return null;var D=x[0];if(20===D.type&&"none"===D.value)return null;for(var I=[],q=x.filter(tp),ae=0;ae<q.length;ae++){var Se=q[ae],Pe=q[ae+1];if(20===Se.type){var He=Pe&&Zf(Pe)?Pe.number:1;I.push({counter:Se.value,increment:He})}}return I}},LA={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(B,x){if(0===x.length)return[];for(var D=[],I=x.filter(tp),q=0;q<I.length;q++){var ae=I[q],Se=I[q+1];if(Lo(ae)&&"none"!==ae.value){var Pe=Se&&Zf(Se)?Se.number:0;D.push({counter:ae.value,reset:Pe})}}return D}},hs={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(B,x){return x.filter(Bc).map(function(D){return sr.parse(B,D)})}},fp={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(B,x){if(0===x.length)return null;var D=x[0];if(20===D.type&&"none"===D.value)return null;var I=[],q=x.filter(tv);if(q.length%2!=0)return null;for(var ae=0;ae<q.length;ae+=2)I.push({open:q[ae].value,close:q[ae+1].value});return I}},RA=function(B,x,D){if(!B)return"";var I=B[Math.min(x,B.length-1)];return I?D?I.open:I.close:""},Qd={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(B,x){return 1===x.length&&Ar(x[0],"none")?[]:du(x).map(function(D){for(var I={color:255,offsetX:sl,offsetY:sl,blur:sl,spread:sl,inset:!1},q=0,ae=0;ae<D.length;ae++){var Se=D[ae];Ar(Se,"inset")?I.inset=!0:Da(Se)?(0===q?I.offsetX=Se:1===q?I.offsetY=Se:2===q?I.blur=Se:I.spread=Se,q++):I.color=Rn_parse(B,Se)}return I})}},UA={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(B,x){var I=[];return x.filter(Lo).forEach(function(q){switch(q.value){case"stroke":I.push(1);break;case"fill":I.push(0);break;case"markers":I.push(2)}}),[0,1,2].forEach(function(q){-1===I.indexOf(q)&&I.push(q)}),I}},am={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Vd={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(B,x){return Bc(x)?x.number:0}},lm=function(){function B(x,D){var I,q;this.animationDuration=tr(x,hs,D.animationDuration),this.backgroundClip=tr(x,co,D.backgroundClip),this.backgroundColor=tr(x,Ur,D.backgroundColor),this.backgroundImage=tr(x,IA,D.backgroundImage),this.backgroundOrigin=tr(x,Ic,D.backgroundOrigin),this.backgroundPosition=tr(x,mo,D.backgroundPosition),this.backgroundRepeat=tr(x,Dh,D.backgroundRepeat),this.backgroundSize=tr(x,J1,D.backgroundSize),this.borderTopColor=tr(x,wo,D.borderTopColor),this.borderRightColor=tr(x,ll,D.borderRightColor),this.borderBottomColor=tr(x,ul,D.borderBottomColor),this.borderLeftColor=tr(x,DA,D.borderLeftColor),this.borderTopLeftRadius=tr(x,z4,D.borderTopLeftRadius),this.borderTopRightRadius=tr(x,em,D.borderTopRightRadius),this.borderBottomRightRadius=tr(x,ip,D.borderBottomRightRadius),this.borderBottomLeftRadius=tr(x,rp,D.borderBottomLeftRadius),this.borderTopStyle=tr(x,kg,D.borderTopStyle),this.borderRightStyle=tr(x,tm,D.borderRightStyle),this.borderBottomStyle=tr(x,nm,D.borderBottomStyle),this.borderLeftStyle=tr(x,op,D.borderLeftStyle),this.borderTopWidth=tr(x,sp,D.borderTopWidth),this.borderRightWidth=tr(x,Fh,D.borderRightWidth),this.borderBottomWidth=tr(x,Oh,D.borderBottomWidth),this.borderLeftWidth=tr(x,kh,D.borderLeftWidth),this.boxShadow=tr(x,Qd,D.boxShadow),this.color=tr(x,Nh,D.color),this.direction=tr(x,nv,D.direction),this.display=tr(x,OA,D.display),this.float=tr(x,iv,D.cssFloat),this.fontFamily=tr(x,fl,D.fontFamily),this.fontSize=tr(x,Lh,D.fontSize),this.fontStyle=tr(x,gf,D.fontStyle),this.fontVariant=tr(x,Ka,D.fontVariant),this.fontWeight=tr(x,bs,D.fontWeight),this.letterSpacing=tr(x,Jf,D.letterSpacing),this.lineBreak=tr(x,rv,D.lineBreak),this.lineHeight=tr(x,im,D.lineHeight),this.listStyleImage=tr(x,ap,D.listStyleImage),this.listStylePosition=tr(x,ov,D.listStylePosition),this.listStyleType=tr(x,sv,D.listStyleType),this.marginTop=tr(x,cl,D.marginTop),this.marginRight=tr(x,qa,D.marginRight),this.marginBottom=tr(x,Sl,D.marginBottom),this.marginLeft=tr(x,Ng,D.marginLeft),this.opacity=tr(x,Vr,D.opacity);var ae=tr(x,M9,D.overflow);this.overflowX=ae[0],this.overflowY=ae[ae.length>1?1:0],this.overflowWrap=tr(x,lp,D.overflowWrap),this.paddingTop=tr(x,G4,D.paddingTop),this.paddingRight=tr(x,rm,D.paddingRight),this.paddingBottom=tr(x,kA,D.paddingBottom),this.paddingLeft=tr(x,q4,D.paddingLeft),this.paintOrder=tr(x,UA,D.paintOrder),this.position=tr(x,Bl,D.position),this.textAlign=tr(x,av,D.textAlign),this.textDecorationColor=tr(x,ja,null!==(I=D.textDecorationColor)&&void 0!==I?I:D.color),this.textDecorationLine=tr(x,Ca,null!==(q=D.textDecorationLine)&&void 0!==q?q:D.textDecoration),this.textShadow=tr(x,om,D.textShadow),this.textTransform=tr(x,lv,D.textTransform),this.transform=tr(x,up,D.transform),this.transformOrigin=tr(x,sm,D.transformOrigin),this.visibility=tr(x,pf,D.visibility),this.webkitTextStrokeColor=tr(x,am,D.webkitTextStrokeColor),this.webkitTextStrokeWidth=tr(x,Vd,D.webkitTextStrokeWidth),this.wordBreak=tr(x,ha,D.wordBreak),this.zIndex=tr(x,Ii,D.zIndex)}return B.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},B.prototype.isTransparent=function(){return vi(this.backgroundColor)},B.prototype.isTransformed=function(){return null!==this.transform},B.prototype.isPositioned=function(){return 0!==this.position},B.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},B.prototype.isFloating=function(){return 0!==this.float},B.prototype.isInlineLevel=function(){return ur(this.display,4)||ur(this.display,33554432)||ur(this.display,268435456)||ur(this.display,536870912)||ur(this.display,67108864)||ur(this.display,134217728)},B}(),PA=function(){return function B(x,D){this.content=tr(x,Hd,D.content),this.quotes=tr(x,fp,D.quotes)}}(),ro=function(){return function B(x,D){this.counterIncrement=tr(x,cv,D.counterIncrement),this.counterReset=tr(x,LA,D.counterReset)}}(),tr=function(B,x,D){var I=new Z1,q=null!==D&&typeof D<"u"?D.toString():x.initialValue;I.write(q);var ae=new ep(I.read());switch(x.type){case 2:var Se=ae.parseComponentValue();return x.parse(B,Lo(Se)?Se.value:x.initialValue);case 0:return x.parse(B,ae.parseComponentValue());case 1:return x.parse(B,ae.parseComponentValues());case 4:return ae.parseComponentValue();case 3:switch(x.format){case"angle":return It_parse(B,ae.parseComponentValue());case"color":return Rn_parse(B,ae.parseComponentValue());case"image":return Ud_parse(B,ae.parseComponentValue());case"length":var Pe=ae.parseComponentValue();return Da(Pe)?Pe:sl;case"length-percentage":var He=ae.parseComponentValue();return Zs(He)?He:sl;case"time":return sr.parse(B,ae.parseComponentValue())}}},dp=function(B,x){var D=function(B){switch(B.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(B);return 1===D||x===D},gu=function(){return function B(x,D){this.context=x,this.textNodes=[],this.elements=[],this.flags=0,dp(D,3),this.styles=new lm(x,window.getComputedStyle(D,null)),oc(D)&&(this.styles.animationDuration.some(function(I){return I>0})&&(D.style.animationDuration="0s"),null!==this.styles.transform&&(D.style.transform="none")),this.bounds=De(this.context,D),dp(D,4)&&(this.flags|=16)}}(),zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Na=typeof Uint8Array>"u"?[]:new Uint8Array(256),La=0;La<64;La++)Na[zd.charCodeAt(La)]=La;for(var W4=function(B,x,D){return B.slice?B.slice(x,D):new Uint16Array(Array.prototype.slice.call(B,x,D))},Pg=function(){function B(x,D,I,q,ae,Se){this.initialValue=x,this.errorValue=D,this.highStart=I,this.highValueIndex=q,this.index=ae,this.data=Se}return B.prototype.get=function(x){var D;if(x>=0){if(x<55296||x>56319&&x<=65535)return this.data[D=((D=this.index[x>>5])<<2)+(31&x)];if(x<=65535)return this.data[D=((D=this.index[2048+(x-55296>>5)])<<2)+(31&x)];if(x<this.highStart)return D=this.index[D=2080+(x>>11)],this.data[D=((D=this.index[D+=x>>5&63])<<2)+(31&x)];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},B}(),X4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hv=typeof Uint8Array>"u"?[]:new Uint8Array(256),hp=0;hp<64;hp++)hv[X4.charCodeAt(hp)]=hp;var Il=8,vf=9,mp=11,gv=12,pa=function(){for(var B=[],x=0;x<arguments.length;x++)B[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,B);var D=B.length;if(!D)return"";for(var I=[],q=-1,ae="";++q<D;){var Se=B[q];Se<=65535?I.push(Se):I.push(55296+((Se-=65536)>>10),Se%1024+56320),(q+1===D||I.length>16384)&&(ae+=String.fromCharCode.apply(String,I),I.length=0)}return ae},mv=function(B,x){var D=function(B){var I,ae,Se,Pe,He,x=.75*B.length,D=B.length,q=0;"="===B[B.length-1]&&(x--,"="===B[B.length-2]&&x--);var kt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),Qt=Array.isArray(kt)?kt:new Uint8Array(kt);for(I=0;I<D;I+=4)ae=Na[B.charCodeAt(I)],Se=Na[B.charCodeAt(I+1)],Pe=Na[B.charCodeAt(I+2)],He=Na[B.charCodeAt(I+3)],Qt[q++]=ae<<2|Se>>4,Qt[q++]=(15&Se)<<4|Pe>>2,Qt[q++]=(3&Pe)<<6|63&He;return kt}(B),I=Array.isArray(D)?function(B){for(var x=B.length,D=[],I=0;I<x;I+=4)D.push(B[I+3]<<24|B[I+2]<<16|B[I+1]<<8|B[I]);return D}(D):new Uint32Array(D),q=Array.isArray(D)?function(B){for(var x=B.length,D=[],I=0;I<x;I+=2)D.push(B[I+1]<<8|B[I]);return D}(D):new Uint16Array(D),Se=W4(q,12,I[4]/2),Pe=2===I[5]?W4(q,(24+I[4])/2):function(B,x,D){return B.slice?B.slice(x,D):new Uint32Array(Array.prototype.slice.call(B,x,D))}(I,Math.ceil((24+I[4])/4));return new Pg(I[0],I[1],I[2],I[3],Se,Pe)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),N9=function(B){return mv.get(B)},L9=function(B,x,D){var I=D-2,q=x[I],ae=x[D-1],Se=x[D];if(2===ae&&3===Se)return"\xd7";if(2===ae||3===ae||4===ae||2===Se||3===Se||4===Se)return"\xf7";if(ae===Il&&-1!==[Il,vf,mp,gv].indexOf(Se)||(ae===mp||ae===vf)&&(Se===vf||10===Se)||(ae===gv||10===ae)&&10===Se||13===Se||5===Se||7===Se||1===ae)return"\xd7";if(13===ae&&14===Se){for(;5===q;)q=x[--I];if(14===q)return"\xd7"}if(15===ae&&15===Se){for(var Pe=0;15===q;)Pe++,q=x[--I];if(Pe%2==0)return"\xd7"}return"\xf7"},_s=function(B){var x=function(B){for(var x=[],D=0,I=B.length;D<I;){var q=B.charCodeAt(D++);if(q>=55296&&q<=56319&&D<I){var ae=B.charCodeAt(D++);56320==(64512&ae)?x.push(((1023&q)<<10)+(1023&ae)+65536):(x.push(q),D--)}else x.push(q)}return x}(B),D=x.length,I=0,q=0,ae=x.map(N9);return{next:function(){if(I>=D)return{done:!0,value:null};for(var Se="\xd7";I<D&&"\xd7"===(Se=L9(0,ae,++I)););if("\xd7"!==Se||I===D){var Pe=pa.apply(null,x.slice(q,I));return q=I,{value:Pe,done:!1}}return{done:!0,value:null}}}},Xl=function(B){return 0===B[0]&&255===B[1]&&0===B[2]&&255===B[3]},rc=function(B,x,D,I,q){var ae="http://www.w3.org/2000/svg",Se=document.createElementNS(ae,"svg"),Pe=document.createElementNS(ae,"foreignObject");return Se.setAttributeNS(null,"width",B.toString()),Se.setAttributeNS(null,"height",x.toString()),Pe.setAttributeNS(null,"width","100%"),Pe.setAttributeNS(null,"height","100%"),Pe.setAttributeNS(null,"x",D.toString()),Pe.setAttributeNS(null,"y",I.toString()),Pe.setAttributeNS(null,"externalResourcesRequired","true"),Se.appendChild(Pe),Pe.appendChild(q),Se},J4=function(B){return new Promise(function(x,D){var I=new Image;I.onload=function(){return x(I)},I.onerror=D,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(B))})},Qs={get SUPPORT_RANGE_BOUNDS(){var B=function(B){if(B.createRange){var D=B.createRange();if(D.getBoundingClientRect){var I=B.createElement("boundtest");I.style.height="123px",I.style.display="block",B.body.appendChild(I),D.selectNode(I);var q=D.getBoundingClientRect(),ae=Math.round(q.height);if(B.body.removeChild(I),123===ae)return!0}}return!1}(document);return Object.defineProperty(Qs,"SUPPORT_RANGE_BOUNDS",{value:B}),B},get SUPPORT_WORD_BREAKING(){var B=Qs.SUPPORT_RANGE_BOUNDS&&function(B){var x=B.createElement("boundtest");x.style.width="50px",x.style.display="block",x.style.fontSize="12px",x.style.letterSpacing="0px",x.style.wordSpacing="0px",B.body.appendChild(x);var D=B.createRange();x.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var I=x.firstChild,q=qn(I.data).map(function(He){return bn(He)}),ae=0,Se={},Pe=q.every(function(He,kt){D.setStart(I,ae),D.setEnd(I,ae+He.length);var Qt=D.getBoundingClientRect();ae+=He.length;var rn=Qt.x>Se.x||Qt.y>Se.y;return Se=Qt,0===kt||rn});return B.body.removeChild(x),Pe}(document);return Object.defineProperty(Qs,"SUPPORT_WORD_BREAKING",{value:B}),B},get SUPPORT_SVG_DRAWING(){var B=function(B){var x=new Image,D=B.createElement("canvas"),I=D.getContext("2d");if(!I)return!1;x.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{I.drawImage(x,0,0),D.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Qs,"SUPPORT_SVG_DRAWING",{value:B}),B},get SUPPORT_FOREIGNOBJECT_DRAWING(){var B="function"==typeof Array.from&&"function"==typeof window.fetch?function(B){var x=B.createElement("canvas"),D=100;x.width=D,x.height=D;var I=x.getContext("2d");if(!I)return Promise.reject(!1);I.fillStyle="rgb(0, 255, 0)",I.fillRect(0,0,D,D);var q=new Image,ae=x.toDataURL();q.src=ae;var Se=rc(D,D,0,0,q);return I.fillStyle="red",I.fillRect(0,0,D,D),J4(Se).then(function(Pe){I.drawImage(Pe,0,0);var He=I.getImageData(0,0,D,D).data;I.fillStyle="red",I.fillRect(0,0,D,D);var kt=B.createElement("div");return kt.style.backgroundImage="url("+ae+")",kt.style.height=D+"px",Xl(He)?J4(rc(D,D,0,0,kt)):Promise.reject(!1)}).then(function(Pe){return I.drawImage(Pe,0,0),Xl(I.getImageData(0,0,D,D).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Qs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:B}),B},get SUPPORT_CORS_IMAGES(){var B=typeof(new Image).crossOrigin<"u";return Object.defineProperty(Qs,"SUPPORT_CORS_IMAGES",{value:B}),B},get SUPPORT_RESPONSE_TYPE(){var B="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Qs,"SUPPORT_RESPONSE_TYPE",{value:B}),B},get SUPPORT_CORS_XHR(){var B="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Qs,"SUPPORT_CORS_XHR",{value:B}),B},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var B=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Qs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:B}),B}},yf=function(){return function B(x,D){this.text=x,this.bounds=D}}(),vv=function(B,x){var D=x.ownerDocument;if(D){var I=D.createElement("html2canvaswrapper");I.appendChild(x.cloneNode(!0));var q=x.parentNode;if(q){q.replaceChild(I,x);var ae=De(B,I);return I.firstChild&&q.replaceChild(I.firstChild,I),ae}}return _n.EMPTY},$g=function(B,x,D){var I=B.ownerDocument;if(!I)throw new Error("Node has no owner document");var q=I.createRange();return q.setStart(B,x),q.setEnd(B,x+D),q},zA=function(B){if(Qs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var x=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(x.segment(B)).map(function(D){return D.segment})}return function(B){for(var I,x=_s(B),D=[];!(I=x.next()).done;)I.value&&D.push(I.value.slice());return D}(B)},vp=function(B,x){return 0!==x.letterSpacing?zA(B):function(B,x){if(Qs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var D=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(D.segment(B)).map(function(I){return I.segment})}return Gd(B,x)}(B,x)},Gg=[32,160,4961,65792,65793,4153,4241],Gd=function(B,x){for(var q,D=function(B,x){var D=qn(B),I=gt(D,x),q=I[0],ae=I[1],Se=I[2],Pe=D.length,He=0,kt=0;return{next:function(){if(kt>=Pe)return{done:!0,value:null};for(var Qt=ii;kt<Pe&&(Qt=Ue(D,ae,q,++kt,Se))===ii;);if(Qt!==ii||kt===Pe){var rn=new Bt(D,Qt,He,kt);return He=kt,{value:rn,done:!1}}return{done:!0,value:null}}}}(B,{lineBreak:x.lineBreak,wordBreak:"break-word"===x.overflowWrap?"break-word":x.wordBreak}),I=[],ae=function(){if(q.value){var Se=q.value.slice(),Pe=qn(Se),He="";Pe.forEach(function(kt){-1===Gg.indexOf(kt)?He+=bn(kt):(He.length&&I.push(He),I.push(bn(kt)),He="")}),He.length&&I.push(He)}};!(q=D.next()).done;)ae();return I},Xr=function(){return function B(x,D,I){this.text=yp(D.data,I.textTransform),this.textBounds=function(B,x,D,I){var q=vp(x,D),ae=[],Se=0;return q.forEach(function(Pe){if(D.textDecorationLine.length||Pe.trim().length>0)if(Qs.SUPPORT_RANGE_BOUNDS){var He=$g(I,Se,Pe.length).getClientRects();if(He.length>1){var kt=zA(Pe),Qt=0;kt.forEach(function(Nn){ae.push(new yf(Nn,_n.fromDOMRectList(B,$g(I,Qt+Se,Nn.length).getClientRects()))),Qt+=Nn.length})}else ae.push(new yf(Pe,_n.fromDOMRectList(B,He)))}else{var rn=I.splitText(Pe.length);ae.push(new yf(Pe,vv(B,I))),I=rn}else Qs.SUPPORT_RANGE_BOUNDS||(I=I.splitText(Pe.length));Se+=Pe.length}),ae}(x,this.text,I,D)}}(),yp=function(B,x){switch(x){case 1:return B.toLowerCase();case 3:return B.replace(U9,P9);case 2:return B.toUpperCase();default:return B}},U9=/(^|\s|:|-|\(|\))([a-z])/g,P9=function(B,x,D){return B.length>0?x+D.toUpperCase():B},yv=function(B){function x(D,I){var q=B.call(this,D,I)||this;return q.src=I.currentSrc||I.src,q.intrinsicWidth=I.naturalWidth,q.intrinsicHeight=I.naturalHeight,q.context.cache.addImage(q.src),q}return ei(x,B),x}(gu),qg=function(B){function x(D,I){var q=B.call(this,D,I)||this;return q.canvas=I,q.intrinsicWidth=I.width,q.intrinsicHeight=I.height,q}return ei(x,B),x}(gu),_v=function(B){function x(D,I){var q=B.call(this,D,I)||this,ae=new XMLSerializer,Se=De(D,I);return I.setAttribute("width",Se.width+"px"),I.setAttribute("height",Se.height+"px"),q.svg="data:image/svg+xml,"+encodeURIComponent(ae.serializeToString(I)),q.intrinsicWidth=I.width.baseVal.value,q.intrinsicHeight=I.height.baseVal.value,q.context.cache.addImage(q.svg),q}return ei(x,B),x}(gu),Rh=function(B){function x(D,I){var q=B.call(this,D,I)||this;return q.value=I.value,q}return ei(x,B),x}(gu),Uh=function(B){function x(D,I){var q=B.call(this,D,I)||this;return q.start=I.start,q.reversed="boolean"==typeof I.reversed&&!0===I.reversed,q}return ei(x,B),x}(gu),t5=[{type:15,flags:0,unit:"px",number:3}],n5=[{type:16,flags:0,number:50}],Fn="checkbox",Io="radio",Tn="password",Dn=707406591,ls=function(B){function x(D,I){var q=B.call(this,D,I)||this;switch(q.type=I.type.toLowerCase(),q.checked=I.checked,q.value=function(B){var x=B.type===Tn?new Array(B.value.length+1).join("\u2022"):B.value;return 0===x.length?B.placeholder||"":x}(I),(q.type===Fn||q.type===Io)&&(q.styles.backgroundColor=3739148031,q.styles.borderTopColor=q.styles.borderRightColor=q.styles.borderBottomColor=q.styles.borderLeftColor=2779096575,q.styles.borderTopWidth=q.styles.borderRightWidth=q.styles.borderBottomWidth=q.styles.borderLeftWidth=1,q.styles.borderTopStyle=q.styles.borderRightStyle=q.styles.borderBottomStyle=q.styles.borderLeftStyle=1,q.styles.backgroundClip=[0],q.styles.backgroundOrigin=[0],q.bounds=function(B){return B.width>B.height?new _n(B.left+(B.width-B.height)/2,B.top,B.height,B.height):B.width<B.height?new _n(B.left,B.top+(B.height-B.width)/2,B.width,B.width):B}(q.bounds)),q.type){case Fn:q.styles.borderTopRightRadius=q.styles.borderTopLeftRadius=q.styles.borderBottomRightRadius=q.styles.borderBottomLeftRadius=t5;break;case Io:q.styles.borderTopRightRadius=q.styles.borderTopLeftRadius=q.styles.borderBottomRightRadius=q.styles.borderBottomLeftRadius=n5}return q}return ei(x,B),x}(gu),jg=function(B){function x(D,I){var q=B.call(this,D,I)||this,ae=I.options[I.selectedIndex||0];return q.value=ae&&ae.text||"",q}return ei(x,B),x}(gu),nd=function(B){function x(D,I){var q=B.call(this,D,I)||this;return q.value=I.value,q}return ei(x,B),x}(gu),vu=function(B){function x(D,I){var q=B.call(this,D,I)||this;q.src=I.src,q.width=parseInt(I.width,10)||0,q.height=parseInt(I.height,10)||0,q.backgroundColor=q.styles.backgroundColor;try{if(I.contentWindow&&I.contentWindow.document&&I.contentWindow.document.documentElement){q.tree=Q9(D,I.contentWindow.document.documentElement);var ae=I.contentWindow.document.documentElement?li(D,getComputedStyle(I.contentWindow.document.documentElement).backgroundColor):wi.TRANSPARENT,Se=I.contentWindow.document.body?li(D,getComputedStyle(I.contentWindow.document.body).backgroundColor):wi.TRANSPARENT;q.backgroundColor=vi(ae)?vi(Se)?q.styles.backgroundColor:Se:ae}}catch{}return q}return ei(x,B),x}(gu),bv=["OL","UL","MENU"],Ph=function(B,x,D,I){for(var q=x.firstChild,ae=void 0;q;q=ae)if(ae=q.nextSibling,_f(q)&&q.data.trim().length>0)D.textNodes.push(new Xr(B,q,D.styles));else if(Hh(q))if(ac(q)&&q.assignedNodes)q.assignedNodes().forEach(function(Pe){return Ph(B,Pe,D,I)});else{var Se=i5(B,q);Se.styles.isVisible()&&(r5(q,Se,I)?Se.flags|=4:yu(Se.styles)&&(Se.flags|=2),-1!==bv.indexOf(q.tagName)&&(Se.flags|=8),D.elements.push(Se),q.shadowRoot?Ph(B,q.shadowRoot,Se,I):!Vh(q)&&!qd(q)&&!jd(q)&&Ph(B,q,Se,I))}},i5=function(B,x){return xv(x)?new yv(B,x):Qh(x)?new qg(B,x):qd(x)?new _v(B,x):Cv(x)?new Rh(B,x):Ev(x)?new Uh(B,x):V9(x)?new ls(B,x):jd(x)?new jg(B,x):Vh(x)?new nd(B,x):Sv(x)?new vu(B,x):new gu(B,x)},Q9=function(B,x){var D=i5(B,x);return D.flags|=4,Ph(B,x,D,D),D},r5=function(B,x,D){return x.styles.isPositionedWithZIndex()||x.styles.opacity<1||x.styles.isTransformed()||_p(B)&&D.styles.isTransparent()},yu=function(B){return B.isPositioned()||B.isFloating()},_f=function(B){return B.nodeType===Node.TEXT_NODE},Hh=function(B){return B.nodeType===Node.ELEMENT_NODE},oc=function(B){return Hh(B)&&typeof B.style<"u"&&!sc(B)},sc=function(B){return"object"==typeof B.className},Cv=function(B){return"LI"===B.tagName},Ev=function(B){return"OL"===B.tagName},V9=function(B){return"INPUT"===B.tagName},qd=function(B){return"svg"===B.tagName},_p=function(B){return"BODY"===B.tagName},Qh=function(B){return"CANVAS"===B.tagName},Kg=function(B){return"VIDEO"===B.tagName},xv=function(B){return"IMG"===B.tagName},Sv=function(B){return"IFRAME"===B.tagName},Cs=function(B){return"STYLE"===B.tagName},Vh=function(B){return"TEXTAREA"===B.tagName},jd=function(B){return"SELECT"===B.tagName},ac=function(B){return"SLOT"===B.tagName},zh=function(B){return B.tagName.indexOf("-")>0},Bv=function(){function B(){this.counters={}}return B.prototype.getCounterValue=function(x){var D=this.counters[x];return D&&D.length?D[D.length-1]:1},B.prototype.getCounterValues=function(x){return this.counters[x]||[]},B.prototype.pop=function(x){var D=this;x.forEach(function(I){return D.counters[I].pop()})},B.prototype.parse=function(x){var D=this,I=x.counterIncrement,q=x.counterReset,ae=!0;null!==I&&I.forEach(function(Pe){var He=D.counters[Pe.counter];He&&0!==Pe.increment&&(ae=!1,He.length||He.push(1),He[Math.max(0,He.length-1)]+=Pe.increment)});var Se=[];return ae&&q.forEach(function(Pe){var He=D.counters[Pe.counter];Se.push(Pe.counter),He||(He=D.counters[Pe.counter]=[]),He.push(Pe.reset)}),Se},B}(),Pl={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Kd={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Fs={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},lc={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},$h=function(B,x,D,I,q,ae){return B<x||B>D?wp(B,q,ae.length>0):I.integers.reduce(function(Se,Pe,He){for(;B>=Pe;)B-=Pe,Se+=I.values[He];return Se},"")+ae},a5=function(B,x,D,I){var q="";do{D||B--,q=I(B)+q,B/=x}while(B*x>=x);return q},Ea=function(B,x,D,I,q){var ae=D-x+1;return(B<0?"-":"")+(a5(Math.abs(B),ae,I,function(Se){return bn(Math.floor(Se%ae)+x)})+q)},Wd=function(B,x,D){void 0===D&&(D=". ");var I=x.length;return a5(Math.abs(B),I,!1,function(q){return x[Math.floor(q%I)]})+D},Tc=function(B,x,D,I,q,ae){if(B<-9999||B>9999)return wp(B,4,q.length>0);var Se=Math.abs(B),Pe=q;if(0===Se)return x[0]+Pe;for(var He=0;Se>0&&He<=4;He++){var kt=Se%10;0===kt&&ur(ae,1)&&""!==Pe?Pe=x[kt]+Pe:kt>1||1===kt&&0===He||1===kt&&1===He&&ur(ae,2)||1===kt&&1===He&&ur(ae,4)&&B>100||1===kt&&He>1&&ur(ae,8)?Pe=x[kt]+(He>0?D[He-1]:"")+Pe:1===kt&&He>0&&(Pe=D[He-1]+Pe),Se=Math.floor(Se/10)}return(B<0?I:"")+Pe},mm="\ub9c8\uc774\ub108\uc2a4",wp=function(B,x,D){var I=D?". ":"",q=D?"\u3001":"",ae=D?", ":"",Se=D?" ":"";switch(x){case 0:return"\u2022"+Se;case 1:return"\u25e6"+Se;case 2:return"\u25fe"+Se;case 5:var Pe=Ea(B,48,57,!0,I);return Pe.length<4?"0"+Pe:Pe;case 4:return Wd(B,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",q);case 6:return $h(B,1,3999,Pl,3,I).toLowerCase();case 7:return $h(B,1,3999,Pl,3,I);case 8:return Ea(B,945,969,!1,I);case 9:return Ea(B,97,122,!1,I);case 10:return Ea(B,65,90,!1,I);case 11:return Ea(B,1632,1641,!0,I);case 12:case 49:return $h(B,1,9999,Kd,3,I);case 35:return $h(B,1,9999,Kd,3,I).toLowerCase();case 13:return Ea(B,2534,2543,!0,I);case 14:case 30:return Ea(B,6112,6121,!0,I);case 15:return Wd(B,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",q);case 16:return Wd(B,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",q);case 17:case 48:return Tc(B,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",q,14);case 47:return Tc(B,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",q,15);case 42:return Tc(B,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",q,14);case 41:return Tc(B,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",q,15);case 26:return Tc(B,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",q,0);case 25:return Tc(B,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",q,7);case 31:return Tc(B,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",mm,ae,7);case 33:return Tc(B,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",mm,ae,0);case 32:return Tc(B,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",mm,ae,7);case 18:return Ea(B,2406,2415,!0,I);case 20:return $h(B,1,19999,lc,3,I);case 21:return Ea(B,2790,2799,!0,I);case 22:return Ea(B,2662,2671,!0,I);case 22:return $h(B,1,10999,Fs,3,I);case 23:return Wd(B,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Wd(B,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ea(B,3302,3311,!0,I);case 28:return Wd(B,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",q);case 29:return Wd(B,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",q);case 34:return Ea(B,3792,3801,!0,I);case 37:return Ea(B,6160,6169,!0,I);case 38:return Ea(B,4160,4169,!0,I);case 39:return Ea(B,2918,2927,!0,I);case 40:return Ea(B,1776,1785,!0,I);case 43:return Ea(B,3046,3055,!0,I);case 44:return Ea(B,3174,3183,!0,I);case 45:return Ea(B,3664,3673,!0,I);case 46:return Ea(B,3872,3881,!0,I);default:return Ea(B,48,57,!0,I)}},l5="data-html2canvas-ignore",rd=function(){function B(x,D,I){if(this.context=x,this.options=I,this.scrolledElements=[],this.referenceElement=D,this.counters=new Bv,this.quoteDepth=0,!D.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(D.ownerDocument.documentElement,!1)}return B.prototype.toIFrame=function(x,D){var I=this,q=p(x,D);if(!q.contentWindow)return Promise.reject("Unable to find iframe window");var ae=x.defaultView.pageXOffset,Se=x.defaultView.pageYOffset,Pe=q.contentWindow,He=Pe.document,kt=C(q).then(function(){return Ae(I,void 0,void 0,function(){var Qt,rn;return F(this,function(Nn){switch(Nn.label){case 0:return this.scrolledElements.forEach(de),Pe&&(Pe.scrollTo(D.left,D.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Pe.scrollY!==D.top||Pe.scrollX!==D.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Pe.scrollX-D.left,Pe.scrollY-D.top,0,0))),Qt=this.options.onclone,typeof(rn=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:He.fonts&&He.fonts.ready?[4,He.fonts.ready]:[3,2];case 1:Nn.sent(),Nn.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,_(He)]:[3,4];case 3:Nn.sent(),Nn.label=4;case 4:return"function"==typeof Qt?[2,Promise.resolve().then(function(){return Qt(He,rn)}).then(function(){return q})]:[2,q]}})})});return He.open(),He.write(J(document.doctype)+"<html></html>"),re(this.referenceElement.ownerDocument,ae,Se),He.replaceChild(He.adoptNode(this.documentElement),He.documentElement),He.close(),kt},B.prototype.createElementClone=function(x){if(dp(x,2),Qh(x))return this.createCanvasClone(x);if(Kg(x))return this.createVideoClone(x);if(Cs(x))return this.createStyleClone(x);var D=x.cloneNode(!1);return xv(D)&&(xv(x)&&x.currentSrc&&x.currentSrc!==x.src&&(D.src=x.currentSrc,D.srcset=""),"lazy"===D.loading&&(D.loading="eager")),zh(D)?this.createCustomElementClone(D):D},B.prototype.createCustomElementClone=function(x){var D=document.createElement("html2canvascustomelement");return V(x.style,D),D},B.prototype.createStyleClone=function(x){try{var D=x.sheet;if(D&&D.cssRules){var I=[].slice.call(D.cssRules,0).reduce(function(ae,Se){return Se&&"string"==typeof Se.cssText?ae+Se.cssText:ae},""),q=x.cloneNode(!1);return q.textContent=I,q}}catch(ae){if(this.context.logger.error("Unable to access cssRules property",ae),"SecurityError"!==ae.name)throw ae}return x.cloneNode(!1)},B.prototype.createCanvasClone=function(x){var D;if(this.options.inlineImages&&x.ownerDocument){var I=x.ownerDocument.createElement("img");try{return I.src=x.toDataURL(),I}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",x)}}var q=x.cloneNode(!1);try{q.width=x.width,q.height=x.height;var ae=x.getContext("2d"),Se=q.getContext("2d");if(Se)if(!this.options.allowTaint&&ae)Se.putImageData(ae.getImageData(0,0,x.width,x.height),0,0);else{var Pe=null!==(D=x.getContext("webgl2"))&&void 0!==D?D:x.getContext("webgl");if(Pe){var He=Pe.getContextAttributes();!1===He?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",x)}Se.drawImage(x,0,0)}return q}catch{this.context.logger.info("Unable to clone canvas as it is tainted",x)}return q},B.prototype.createVideoClone=function(x){var D=x.ownerDocument.createElement("canvas");D.width=x.offsetWidth,D.height=x.offsetHeight;var I=D.getContext("2d");try{return I&&(I.drawImage(x,0,0,D.width,D.height),this.options.allowTaint||I.getImageData(0,0,D.width,D.height)),D}catch{this.context.logger.info("Unable to clone video as it is tainted",x)}var q=x.ownerDocument.createElement("canvas");return q.width=x.offsetWidth,q.height=x.offsetHeight,q},B.prototype.appendChildNode=function(x,D,I){(!Hh(D)||!function(B){return"SCRIPT"===B.tagName}(D)&&!D.hasAttribute(l5)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(D)))&&(!this.options.copyStyles||!Hh(D)||!Cs(D))&&x.appendChild(this.cloneNode(D,I))},B.prototype.cloneChildNodes=function(x,D,I){for(var q=this,ae=x.shadowRoot?x.shadowRoot.firstChild:x.firstChild;ae;ae=ae.nextSibling)if(Hh(ae)&&ac(ae)&&"function"==typeof ae.assignedNodes){var Se=ae.assignedNodes();Se.length&&Se.forEach(function(Pe){return q.appendChildNode(D,Pe,I)})}else this.appendChildNode(D,ae,I)},B.prototype.cloneNode=function(x,D){if(_f(x))return document.createTextNode(x.data);if(!x.ownerDocument)return x.cloneNode(!1);var I=x.ownerDocument.defaultView;if(I&&Hh(x)&&(oc(x)||sc(x))){var q=this.createElementClone(x);q.style.transitionProperty="none";var ae=I.getComputedStyle(x),Se=I.getComputedStyle(x,":before"),Pe=I.getComputedStyle(x,":after");this.referenceElement===x&&oc(q)&&(this.clonedReferenceElement=q),_p(q)&&$n(q);var He=this.counters.parse(new ro(this.context,ae)),kt=this.resolvePseudoContent(x,q,Se,A.BEFORE);zh(x)&&(D=!0),Kg(x)||this.cloneChildNodes(x,q,D),kt&&q.insertBefore(kt,q.firstChild);var Qt=this.resolvePseudoContent(x,q,Pe,A.AFTER);return Qt&&q.appendChild(Qt),this.counters.pop(He),(ae&&(this.options.copyStyles||sc(x))&&!Sv(x)||D)&&V(ae,q),(0!==x.scrollTop||0!==x.scrollLeft)&&this.scrolledElements.push([q,x.scrollLeft,x.scrollTop]),(Vh(x)||jd(x))&&(Vh(q)||jd(q))&&(q.value=x.value),q}return x.cloneNode(!1)},B.prototype.resolvePseudoContent=function(x,D,I,q){var ae=this;if(I){var Se=I.content,Pe=D.ownerDocument;if(Pe&&Se&&"none"!==Se&&"-moz-alt-content"!==Se&&"none"!==I.display){this.counters.parse(new ro(this.context,I));var He=new PA(this.context,I),kt=Pe.createElement("html2canvaspseudoelement");V(I,kt),He.content.forEach(function(rn){if(0===rn.type)kt.appendChild(Pe.createTextNode(rn.value));else if(22===rn.type){var Nn=Pe.createElement("img");Nn.src=rn.value,Nn.style.opacity="1",kt.appendChild(Nn)}else if(18===rn.type){if("attr"===rn.name){var cr=rn.values.filter(Lo);cr.length&&kt.appendChild(Pe.createTextNode(x.getAttribute(cr[0].value)||""))}else if("counter"===rn.name){var Pi=rn.values.filter(Kn),So=Pi[1];if((Hi=Pi[0])&&Lo(Hi)){var Sr=ae.counters.getCounterValue(Hi.value),vr=So&&Lo(So)?sv.parse(ae.context,So.value):3;kt.appendChild(Pe.createTextNode(wp(Sr,vr,!1)))}}else if("counters"===rn.name){var Hi,fo=rn.values.filter(Kn),bo=fo[1];if(So=fo[2],(Hi=fo[0])&&Lo(Hi)){var so=ae.counters.getCounterValues(Hi.value),ir=So&&Lo(So)?sv.parse(ae.context,So.value):3,os=bo&&0===bo.type?bo.value:"",ts=so.map(function(Fc){return wp(Fc,ir,!1)}).join(os);kt.appendChild(Pe.createTextNode(ts))}}}else if(20===rn.type)switch(rn.value){case"open-quote":kt.appendChild(Pe.createTextNode(RA(He.quotes,ae.quoteDepth++,!0)));break;case"close-quote":kt.appendChild(Pe.createTextNode(RA(He.quotes,--ae.quoteDepth,!1)));break;default:kt.appendChild(Pe.createTextNode(rn.value))}}),kt.className=Pt+" "+Dt;var Qt=q===A.BEFORE?" "+Pt:" "+Dt;return sc(D)?D.className.baseValue+=Qt:D.className+=Qt,kt}}},B.destroy=function(x){return!!x.parentNode&&(x.parentNode.removeChild(x),!0)},B}(),A=function(B){return B[B.BEFORE=0]="BEFORE",B[B.AFTER=1]="AFTER",B}(A||{}),p=function(B,x){var D=B.createElement("iframe");return D.className="html2canvas-container",D.style.visibility="hidden",D.style.position="fixed",D.style.left="-10000px",D.style.top="0px",D.style.border="0",D.width=x.width.toString(),D.height=x.height.toString(),D.scrolling="no",D.setAttribute(l5,"true"),B.body.appendChild(D),D},w=function(B){return new Promise(function(x){B.complete?x():B.src?(B.onload=x,B.onerror=x):x()})},_=function(B){return Promise.all([].slice.call(B.images,0).map(w))},C=function(B){return new Promise(function(x,D){var I=B.contentWindow;if(!I)return D("No window assigned for iframe");var q=I.document;I.onload=B.onload=function(){I.onload=B.onload=null;var ae=setInterval(function(){q.body.childNodes.length>0&&"complete"===q.readyState&&(clearInterval(ae),x(B))},50)}})},O=["all","d","content"],V=function(B,x){for(var D=B.length-1;D>=0;D--){var I=B.item(D);-1===O.indexOf(I)&&x.style.setProperty(I,B.getPropertyValue(I))}return x},J=function(B){var x="";return B&&(x+="<!DOCTYPE ",B.name&&(x+=B.name),B.internalSubset&&(x+=B.internalSubset),B.publicId&&(x+='"'+B.publicId+'"'),B.systemId&&(x+='"'+B.systemId+'"'),x+=">"),x},re=function(B,x,D){B&&B.defaultView&&(x!==B.defaultView.pageXOffset||D!==B.defaultView.pageYOffset)&&B.defaultView.scrollTo(x,D)},de=function(B){var x=B[0],I=B[2];x.scrollLeft=B[1],x.scrollTop=I},Pt="___html2canvas___pseudoelement_before",Dt="___html2canvas___pseudoelement_after",Bn='{\n    content: "" !important;\n    display: none !important;\n}',$n=function(B){Ai(B,"."+Pt+":before"+Bn+"\n         ."+Dt+":after"+Bn)},Ai=function(B,x){var D=B.ownerDocument;if(D){var I=D.createElement("style");I.textContent=x,B.appendChild(I)}},Ni=function(){function B(){}return B.getOrigin=function(x){var D=B._link;return D?(D.href=x,D.href=D.href,D.protocol+D.hostname+D.port):"about:blank"},B.isSameOrigin=function(x){return B.getOrigin(x)===B._origin},B.setContext=function(x){B._link=x.document.createElement("a"),B._origin=B.getOrigin(x.location.href)},B._origin="about:blank",B}(),Oi=function(){function B(x,D){this.context=x,this._options=D,this._cache={}}return B.prototype.addImage=function(x){var D=Promise.resolve();return this.has(x)||(Wa(x)||xr(x))&&(this._cache[x]=this.loadImage(x)).catch(function(){}),D},B.prototype.match=function(x){return this._cache[x]},B.prototype.loadImage=function(x){return Ae(this,void 0,void 0,function(){var D,I,q,ae,Se=this;return F(this,function(Pe){switch(Pe.label){case 0:return D=Ni.isSameOrigin(x),I=!eo(x)&&!0===this._options.useCORS&&Qs.SUPPORT_CORS_IMAGES&&!D,q=!eo(x)&&!D&&!Wa(x)&&"string"==typeof this._options.proxy&&Qs.SUPPORT_CORS_XHR&&!I,D||!1!==this._options.allowTaint||eo(x)||Wa(x)||q||I?(ae=x,q?[4,this.proxy(ae)]:[3,2]):[2];case 1:ae=Pe.sent(),Pe.label=2;case 2:return this.context.logger.debug("Added image "+x.substring(0,256)),[4,new Promise(function(He,kt){var Qt=new Image;Qt.onload=function(){return He(Qt)},Qt.onerror=kt,(ps(ae)||I)&&(Qt.crossOrigin="anonymous"),Qt.src=ae,!0===Qt.complete&&setTimeout(function(){return He(Qt)},500),Se._options.imageTimeout>0&&setTimeout(function(){return kt("Timed out ("+Se._options.imageTimeout+"ms) loading image")},Se._options.imageTimeout)})];case 3:return[2,Pe.sent()]}})})},B.prototype.has=function(x){return typeof this._cache[x]<"u"},B.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},B.prototype.proxy=function(x){var D=this,I=this._options.proxy;if(!I)throw new Error("No proxy defined");var q=x.substring(0,256);return new Promise(function(ae,Se){var Pe=Qs.SUPPORT_RESPONSE_TYPE?"blob":"text",He=new XMLHttpRequest;He.onload=function(){if(200===He.status)if("text"===Pe)ae(He.response);else{var rn=new FileReader;rn.addEventListener("load",function(){return ae(rn.result)},!1),rn.addEventListener("error",function(Nn){return Se(Nn)},!1),rn.readAsDataURL(He.response)}else Se("Failed to proxy resource "+q+" with status code "+He.status)},He.onerror=Se;var kt=I.indexOf("?")>-1?"&":"?";if(He.open("GET",""+I+kt+"url="+encodeURIComponent(x)+"&responseType="+Pe),"text"!==Pe&&He instanceof XMLHttpRequest&&(He.responseType=Pe),D._options.imageTimeout){var Qt=D._options.imageTimeout;He.timeout=Qt,He.ontimeout=function(){return Se("Timed out ("+Qt+"ms) proxying "+q)}}He.send()})},B}(),Ri=/^data:image\/svg\+xml/i,Ki=/^data:image\/.*;base64,/i,Dr=/^data:image\/.*/i,xr=function(B){return Qs.SUPPORT_SVG_DRAWING||!na(B)},eo=function(B){return Dr.test(B)},ps=function(B){return Ki.test(B)},Wa=function(B){return"blob"===B.substr(0,4)},na=function(B){return"svg"===B.substr(-3).toLowerCase()||Ri.test(B)},Ui=function(){function B(x,D){this.type=0,this.x=x,this.y=D}return B.prototype.add=function(x,D){return new B(this.x+x,this.y+D)},B}(),Xa=function(B,x,D){return new Ui(B.x+(x.x-B.x)*D,B.y+(x.y-B.y)*D)},ia=function(){function B(x,D,I,q){this.type=1,this.start=x,this.startControl=D,this.endControl=I,this.end=q}return B.prototype.subdivide=function(x,D){var I=Xa(this.start,this.startControl,x),q=Xa(this.startControl,this.endControl,x),ae=Xa(this.endControl,this.end,x),Se=Xa(I,q,x),Pe=Xa(q,ae,x),He=Xa(Se,Pe,x);return D?new B(this.start,I,Se,He):new B(He,Pe,ae,this.end)},B.prototype.add=function(x,D){return new B(this.start.add(x,D),this.startControl.add(x,D),this.endControl.add(x,D),this.end.add(x,D))},B.prototype.reverse=function(){return new B(this.end,this.endControl,this.startControl,this.start)},B}(),Vs=function(B){return 1===B.type},Ya=function(){return function B(x){var D=x.styles,I=x.bounds,q=tc(D.borderTopLeftRadius,I.width,I.height),ae=q[0],Se=q[1],Pe=tc(D.borderTopRightRadius,I.width,I.height),He=Pe[0],kt=Pe[1],Qt=tc(D.borderBottomRightRadius,I.width,I.height),rn=Qt[0],Nn=Qt[1],cr=tc(D.borderBottomLeftRadius,I.width,I.height),Pi=cr[0],Hi=cr[1],So=[];So.push((ae+He)/I.width),So.push((Pi+rn)/I.width),So.push((Se+Hi)/I.height),So.push((kt+Nn)/I.height);var Sr=Math.max.apply(Math,So);Sr>1&&(ae/=Sr,Se/=Sr,He/=Sr,kt/=Sr,rn/=Sr,Nn/=Sr,Pi/=Sr,Hi/=Sr);var vr=I.width-He,fo=I.height-Nn,bo=I.width-rn,so=I.height-Hi,ir=D.borderTopWidth,os=D.borderRightWidth,ts=D.borderBottomWidth,ho=D.borderLeftWidth,Tl=S(D.paddingTop,x.bounds.width),Fc=S(D.paddingRight,x.bounds.width),Oc=S(D.paddingBottom,x.bounds.width),zs=S(D.paddingLeft,x.bounds.width);this.topLeftBorderDoubleOuterBox=ae>0||Se>0?Ao(I.left+ho/3,I.top+ir/3,ae-ho/3,Se-ir/3,Hr.TOP_LEFT):new Ui(I.left+ho/3,I.top+ir/3),this.topRightBorderDoubleOuterBox=ae>0||Se>0?Ao(I.left+vr,I.top+ir/3,He-os/3,kt-ir/3,Hr.TOP_RIGHT):new Ui(I.left+I.width-os/3,I.top+ir/3),this.bottomRightBorderDoubleOuterBox=rn>0||Nn>0?Ao(I.left+bo,I.top+fo,rn-os/3,Nn-ts/3,Hr.BOTTOM_RIGHT):new Ui(I.left+I.width-os/3,I.top+I.height-ts/3),this.bottomLeftBorderDoubleOuterBox=Pi>0||Hi>0?Ao(I.left+ho/3,I.top+so,Pi-ho/3,Hi-ts/3,Hr.BOTTOM_LEFT):new Ui(I.left+ho/3,I.top+I.height-ts/3),this.topLeftBorderDoubleInnerBox=ae>0||Se>0?Ao(I.left+2*ho/3,I.top+2*ir/3,ae-2*ho/3,Se-2*ir/3,Hr.TOP_LEFT):new Ui(I.left+2*ho/3,I.top+2*ir/3),this.topRightBorderDoubleInnerBox=ae>0||Se>0?Ao(I.left+vr,I.top+2*ir/3,He-2*os/3,kt-2*ir/3,Hr.TOP_RIGHT):new Ui(I.left+I.width-2*os/3,I.top+2*ir/3),this.bottomRightBorderDoubleInnerBox=rn>0||Nn>0?Ao(I.left+bo,I.top+fo,rn-2*os/3,Nn-2*ts/3,Hr.BOTTOM_RIGHT):new Ui(I.left+I.width-2*os/3,I.top+I.height-2*ts/3),this.bottomLeftBorderDoubleInnerBox=Pi>0||Hi>0?Ao(I.left+2*ho/3,I.top+so,Pi-2*ho/3,Hi-2*ts/3,Hr.BOTTOM_LEFT):new Ui(I.left+2*ho/3,I.top+I.height-2*ts/3),this.topLeftBorderStroke=ae>0||Se>0?Ao(I.left+ho/2,I.top+ir/2,ae-ho/2,Se-ir/2,Hr.TOP_LEFT):new Ui(I.left+ho/2,I.top+ir/2),this.topRightBorderStroke=ae>0||Se>0?Ao(I.left+vr,I.top+ir/2,He-os/2,kt-ir/2,Hr.TOP_RIGHT):new Ui(I.left+I.width-os/2,I.top+ir/2),this.bottomRightBorderStroke=rn>0||Nn>0?Ao(I.left+bo,I.top+fo,rn-os/2,Nn-ts/2,Hr.BOTTOM_RIGHT):new Ui(I.left+I.width-os/2,I.top+I.height-ts/2),this.bottomLeftBorderStroke=Pi>0||Hi>0?Ao(I.left+ho/2,I.top+so,Pi-ho/2,Hi-ts/2,Hr.BOTTOM_LEFT):new Ui(I.left+ho/2,I.top+I.height-ts/2),this.topLeftBorderBox=ae>0||Se>0?Ao(I.left,I.top,ae,Se,Hr.TOP_LEFT):new Ui(I.left,I.top),this.topRightBorderBox=He>0||kt>0?Ao(I.left+vr,I.top,He,kt,Hr.TOP_RIGHT):new Ui(I.left+I.width,I.top),this.bottomRightBorderBox=rn>0||Nn>0?Ao(I.left+bo,I.top+fo,rn,Nn,Hr.BOTTOM_RIGHT):new Ui(I.left+I.width,I.top+I.height),this.bottomLeftBorderBox=Pi>0||Hi>0?Ao(I.left,I.top+so,Pi,Hi,Hr.BOTTOM_LEFT):new Ui(I.left,I.top+I.height),this.topLeftPaddingBox=ae>0||Se>0?Ao(I.left+ho,I.top+ir,Math.max(0,ae-ho),Math.max(0,Se-ir),Hr.TOP_LEFT):new Ui(I.left+ho,I.top+ir),this.topRightPaddingBox=He>0||kt>0?Ao(I.left+Math.min(vr,I.width-os),I.top+ir,vr>I.width+os?0:Math.max(0,He-os),Math.max(0,kt-ir),Hr.TOP_RIGHT):new Ui(I.left+I.width-os,I.top+ir),this.bottomRightPaddingBox=rn>0||Nn>0?Ao(I.left+Math.min(bo,I.width-ho),I.top+Math.min(fo,I.height-ts),Math.max(0,rn-os),Math.max(0,Nn-ts),Hr.BOTTOM_RIGHT):new Ui(I.left+I.width-os,I.top+I.height-ts),this.bottomLeftPaddingBox=Pi>0||Hi>0?Ao(I.left+ho,I.top+Math.min(so,I.height-ts),Math.max(0,Pi-ho),Math.max(0,Hi-ts),Hr.BOTTOM_LEFT):new Ui(I.left+ho,I.top+I.height-ts),this.topLeftContentBox=ae>0||Se>0?Ao(I.left+ho+zs,I.top+ir+Tl,Math.max(0,ae-(ho+zs)),Math.max(0,Se-(ir+Tl)),Hr.TOP_LEFT):new Ui(I.left+ho+zs,I.top+ir+Tl),this.topRightContentBox=He>0||kt>0?Ao(I.left+Math.min(vr,I.width+ho+zs),I.top+ir+Tl,vr>I.width+ho+zs?0:He-ho+zs,kt-(ir+Tl),Hr.TOP_RIGHT):new Ui(I.left+I.width-(os+Fc),I.top+ir+Tl),this.bottomRightContentBox=rn>0||Nn>0?Ao(I.left+Math.min(bo,I.width-(ho+zs)),I.top+Math.min(fo,I.height+ir+Tl),Math.max(0,rn-(os+Fc)),Nn-(ts+Oc),Hr.BOTTOM_RIGHT):new Ui(I.left+I.width-(os+Fc),I.top+I.height-(ts+Oc)),this.bottomLeftContentBox=Pi>0||Hi>0?Ao(I.left+ho+zs,I.top+so,Math.max(0,Pi-(ho+zs)),Hi-(ts+Oc),Hr.BOTTOM_LEFT):new Ui(I.left+ho+zs,I.top+I.height-(ts+Oc))}}(),Hr=function(B){return B[B.TOP_LEFT=0]="TOP_LEFT",B[B.TOP_RIGHT=1]="TOP_RIGHT",B[B.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",B[B.BOTTOM_LEFT=3]="BOTTOM_LEFT",B}(Hr||{}),Ao=function(B,x,D,I,q){var ae=(Math.sqrt(2)-1)/3*4,Se=D*ae,Pe=I*ae,He=B+D,kt=x+I;switch(q){case Hr.TOP_LEFT:return new ia(new Ui(B,kt),new Ui(B,kt-Pe),new Ui(He-Se,x),new Ui(He,x));case Hr.TOP_RIGHT:return new ia(new Ui(B,x),new Ui(B+Se,x),new Ui(He,kt-Pe),new Ui(He,kt));case Hr.BOTTOM_RIGHT:return new ia(new Ui(He,x),new Ui(He,x+Pe),new Ui(B+Se,kt),new Ui(B,kt));default:return new ia(new Ui(He,kt),new Ui(He-Se,kt),new Ui(B,x+Pe),new Ui(B,x))}},Os=function(B){return[B.topLeftBorderBox,B.topRightBorderBox,B.bottomRightBorderBox,B.bottomLeftBorderBox]},Lu=function(B){return[B.topLeftPaddingBox,B.topRightPaddingBox,B.bottomRightPaddingBox,B.bottomLeftPaddingBox]},cc=function(){return function B(x,D,I){this.offsetX=x,this.offsetY=D,this.matrix=I,this.type=0,this.target=6}}(),Ro=function(){return function B(x,D){this.path=x,this.target=D,this.type=1}}(),od=function(){return function B(x){this.opacity=x,this.type=2,this.target=6}}(),bp=function(B){return 1===B.type},Yd=function(B,x){return B.length===x.length&&B.some(function(D,I){return D===x[I]})},Zl=function(){return function B(x){this.element=x,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),GA=function(){function B(x,D){if(this.container=x,this.parent=D,this.effects=[],this.curves=new Ya(this.container),this.container.styles.opacity<1&&this.effects.push(new od(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new cc(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var Se=Os(this.curves),Pe=Lu(this.curves);Yd(Se,Pe)?this.effects.push(new Ro(Se,6)):(this.effects.push(new Ro(Se,2)),this.effects.push(new Ro(Pe,4)))}}return B.prototype.getEffects=function(x){for(var D=-1===[2,3].indexOf(this.container.styles.position),I=this.parent,q=this.effects.slice(0);I;){var ae=I.effects.filter(function(He){return!bp(He)});if(D||0!==I.container.styles.position||!I.parent){if(q.unshift.apply(q,ae),D=-1===[2,3].indexOf(I.container.styles.position),0!==I.container.styles.overflowX){var Se=Os(I.curves),Pe=Lu(I.curves);Yd(Se,Pe)||q.unshift(new Ro(Pe,6))}}else q.unshift.apply(q,ae);I=I.parent}return q.filter(function(He){return ur(He.target,x)})},B}(),Gh=function(B,x,D,I){B.container.elements.forEach(function(q){var ae=ur(q.flags,4),Se=ur(q.flags,2),Pe=new GA(q,B);ur(q.styles.display,2048)&&I.push(Pe);var He=ur(q.flags,8)?[]:I;if(ae||Se){var kt=ae||q.styles.isPositioned()?D:x,Qt=new Zl(Pe);if(q.styles.isPositioned()||q.styles.opacity<1||q.styles.isTransformed()){var rn=q.styles.zIndex.order;if(rn<0){var Nn=0;kt.negativeZIndex.some(function(Pi,Hi){return rn>Pi.element.container.styles.zIndex.order?(Nn=Hi,!1):Nn>0}),kt.negativeZIndex.splice(Nn,0,Qt)}else if(rn>0){var cr=0;kt.positiveZIndex.some(function(Pi,Hi){return rn>=Pi.element.container.styles.zIndex.order?(cr=Hi+1,!1):cr>0}),kt.positiveZIndex.splice(cr,0,Qt)}else kt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Qt)}else q.styles.isFloating()?kt.nonPositionedFloats.push(Qt):kt.nonPositionedInlineLevel.push(Qt);Gh(Pe,Qt,ae?Qt:D,He)}else q.styles.isInlineLevel()?x.inlineLevel.push(Pe):x.nonInlineLevel.push(Pe),Gh(Pe,x,D,He);ur(q.flags,8)&&Mv(q,He)})},Mv=function(B,x){for(var D=B instanceof Uh?B.start:1,I=B instanceof Uh&&B.reversed,q=0;q<x.length;q++){var ae=x[q];ae.container instanceof Rh&&"number"==typeof ae.container.value&&0!==ae.container.value&&(D=ae.container.value),ae.listValue=wp(D,ae.container.styles.listStyleType,!0),D+=I?-1:1}},iC=function(B,x){switch(x){case 0:return bf(B.topLeftBorderBox,B.topLeftPaddingBox,B.topRightBorderBox,B.topRightPaddingBox);case 1:return bf(B.topRightBorderBox,B.topRightPaddingBox,B.bottomRightBorderBox,B.bottomRightPaddingBox);case 2:return bf(B.bottomRightBorderBox,B.bottomRightPaddingBox,B.bottomLeftBorderBox,B.bottomLeftPaddingBox);default:return bf(B.bottomLeftBorderBox,B.bottomLeftPaddingBox,B.topLeftBorderBox,B.topLeftPaddingBox)}},u5=function(B,x){var D=[];return Vs(B)?D.push(B.subdivide(.5,!1)):D.push(B),Vs(x)?D.push(x.subdivide(.5,!0)):D.push(x),D},bf=function(B,x,D,I){var q=[];return Vs(B)?q.push(B.subdivide(.5,!1)):q.push(B),Vs(D)?q.push(D.subdivide(.5,!0)):q.push(D),Vs(I)?q.push(I.subdivide(.5,!0).reverse()):q.push(I),Vs(x)?q.push(x.subdivide(.5,!1).reverse()):q.push(x),q},oC=function(B){var D=B.styles;return B.bounds.add(D.borderLeftWidth,D.borderTopWidth,-(D.borderRightWidth+D.borderLeftWidth),-(D.borderTopWidth+D.borderBottomWidth))},c5=function(B){var x=B.styles,D=B.bounds,I=S(x.paddingLeft,D.width),q=S(x.paddingRight,D.width),ae=S(x.paddingTop,D.width),Se=S(x.paddingBottom,D.width);return D.add(I+x.borderLeftWidth,ae+x.borderTopWidth,-(x.borderRightWidth+x.borderLeftWidth+I+q),-(x.borderTopWidth+x.borderBottomWidth+ae+Se))},f5=function(B,x,D){var I=function(B,x){return 0===B?x.bounds:2===B?c5(x):oC(x)}(Iv(B.styles.backgroundOrigin,x),B),q=function(B,x){return 0===B?x.bounds:2===B?c5(x):oC(x)}(Iv(B.styles.backgroundClip,x),B),ae=aC(Iv(B.styles.backgroundSize,x),D,I),Se=ae[0],Pe=ae[1],He=tc(Iv(B.styles.backgroundPosition,x),I.width-Se,I.height-Pe);return[$9(Iv(B.styles.backgroundRepeat,x),He,ae,I,q),Math.round(I.left+He[0]),Math.round(I.top+He[1]),Se,Pe]},Dl=function(B){return Lo(B)&&B.value===Yo.AUTO},z9=function(B){return"number"==typeof B},aC=function(B,x,D){var I=x[0],q=x[1],ae=x[2],Se=B[0],Pe=B[1];if(!Se)return[0,0];if(Zs(Se)&&Pe&&Zs(Pe))return[S(Se,D.width),S(Pe,D.height)];var He=z9(ae);if(Lo(Se)&&(Se.value===Yo.CONTAIN||Se.value===Yo.COVER))return z9(ae)?D.width/D.height<ae!=(Se.value===Yo.COVER)?[D.width,D.width/ae]:[D.height*ae,D.height]:[D.width,D.height];var Qt=z9(I),rn=z9(q),Nn=Qt||rn;if(Dl(Se)&&(!Pe||Dl(Pe)))return Qt&&rn?[I,q]:He||Nn?Nn&&He?[Qt?I:q*ae,rn?q:I/ae]:[Qt?I:D.width,rn?q:D.height]:[D.width,D.height];if(He){var Sr=0,vr=0;return Zs(Se)?Sr=S(Se,D.width):Zs(Pe)&&(vr=S(Pe,D.height)),Dl(Se)?Sr=vr*ae:(!Pe||Dl(Pe))&&(vr=Sr/ae),[Sr,vr]}var fo=null,bo=null;if(Zs(Se)?fo=S(Se,D.width):Pe&&Zs(Pe)&&(bo=S(Pe,D.height)),null!==fo&&(!Pe||Dl(Pe))&&(bo=Qt&&rn?fo/I*q:D.height),null!==bo&&Dl(Se)&&(fo=Qt&&rn?bo/q*I:D.width),null!==fo&&null!==bo)return[fo,bo];throw new Error("Unable to calculate background-size for element")},Iv=function(B,x){var D=B[x];return typeof D>"u"?B[0]:D},$9=function(B,x,D,I,q){var ae=x[0],Se=x[1],Pe=D[0],He=D[1];switch(B){case 2:return[new Ui(Math.round(I.left),Math.round(I.top+Se)),new Ui(Math.round(I.left+I.width),Math.round(I.top+Se)),new Ui(Math.round(I.left+I.width),Math.round(He+I.top+Se)),new Ui(Math.round(I.left),Math.round(He+I.top+Se))];case 3:return[new Ui(Math.round(I.left+ae),Math.round(I.top)),new Ui(Math.round(I.left+ae+Pe),Math.round(I.top)),new Ui(Math.round(I.left+ae+Pe),Math.round(I.height+I.top)),new Ui(Math.round(I.left+ae),Math.round(I.height+I.top))];case 1:return[new Ui(Math.round(I.left+ae),Math.round(I.top+Se)),new Ui(Math.round(I.left+ae+Pe),Math.round(I.top+Se)),new Ui(Math.round(I.left+ae+Pe),Math.round(I.top+Se+He)),new Ui(Math.round(I.left+ae),Math.round(I.top+Se+He))];default:return[new Ui(Math.round(q.left),Math.round(q.top)),new Ui(Math.round(q.left+q.width),Math.round(q.top)),new Ui(Math.round(q.left+q.width),Math.round(q.height+q.top)),new Ui(Math.round(q.left),Math.round(q.height+q.top))]}},G9="Hidden Text",vm=function(){function B(x){this._data={},this._document=x}return B.prototype.parseMetrics=function(x,D){var I=this._document.createElement("div"),q=this._document.createElement("img"),ae=this._document.createElement("span"),Se=this._document.body;I.style.visibility="hidden",I.style.fontFamily=x,I.style.fontSize=D,I.style.margin="0",I.style.padding="0",I.style.whiteSpace="nowrap",Se.appendChild(I),q.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",q.width=1,q.height=1,q.style.margin="0",q.style.padding="0",q.style.verticalAlign="baseline",ae.style.fontFamily=x,ae.style.fontSize=D,ae.style.margin="0",ae.style.padding="0",ae.appendChild(this._document.createTextNode(G9)),I.appendChild(ae),I.appendChild(q);var Pe=q.offsetTop-ae.offsetTop+2;I.removeChild(ae),I.appendChild(this._document.createTextNode(G9)),I.style.lineHeight="normal",q.style.verticalAlign="super";var He=q.offsetTop-I.offsetTop+2;return Se.removeChild(I),{baseline:Pe,middle:He}},B.prototype.getMetrics=function(x,D){var I=x+" "+D;return typeof this._data[I]>"u"&&(this._data[I]=this.parseMetrics(x,D)),this._data[I]},B}(),lC=function(){return function B(x,D){this.context=x,this.options=D}}(),uC=function(B){function x(D,I){var q=B.call(this,D,I)||this;return q._activeEffects=[],q.canvas=I.canvas?I.canvas:document.createElement("canvas"),q.ctx=q.canvas.getContext("2d"),I.canvas||(q.canvas.width=Math.floor(I.width*I.scale),q.canvas.height=Math.floor(I.height*I.scale),q.canvas.style.width=I.width+"px",q.canvas.style.height=I.height+"px"),q.fontMetrics=new vm(document),q.ctx.scale(q.options.scale,q.options.scale),q.ctx.translate(-I.x,-I.y),q.ctx.textBaseline="bottom",q._activeEffects=[],q.context.logger.debug("Canvas renderer initialized ("+I.width+"x"+I.height+") with scale "+I.scale),q}return ei(x,B),x.prototype.applyEffects=function(D){for(var I=this;this._activeEffects.length;)this.popEffect();D.forEach(function(q){return I.applyEffect(q)})},x.prototype.applyEffect=function(D){this.ctx.save(),function(B){return 2===B.type}(D)&&(this.ctx.globalAlpha=D.opacity),function(B){return 0===B.type}(D)&&(this.ctx.translate(D.offsetX,D.offsetY),this.ctx.transform(D.matrix[0],D.matrix[1],D.matrix[2],D.matrix[3],D.matrix[4],D.matrix[5]),this.ctx.translate(-D.offsetX,-D.offsetY)),bp(D)&&(this.path(D.path),this.ctx.clip()),this._activeEffects.push(D)},x.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},x.prototype.renderStack=function(D){return Ae(this,void 0,void 0,function(){return F(this,function(q){switch(q.label){case 0:return D.element.container.styles.isVisible()?[4,this.renderStackContent(D)]:[3,2];case 1:q.sent(),q.label=2;case 2:return[2]}})})},x.prototype.renderNode=function(D){return Ae(this,void 0,void 0,function(){return F(this,function(I){switch(I.label){case 0:return ur(D.container.flags,16),D.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(D)]:[3,3];case 1:return I.sent(),[4,this.renderNodeContent(D)];case 2:I.sent(),I.label=3;case 3:return[2]}})})},x.prototype.renderTextWithLetterSpacing=function(D,I,q){var ae=this;0===I?this.ctx.fillText(D.text,D.bounds.left,D.bounds.top+q):zA(D.text).reduce(function(Pe,He){return ae.ctx.fillText(He,Pe,D.bounds.top+q),Pe+ae.ctx.measureText(He).width},D.bounds.left)},x.prototype.createFontStyle=function(D){var I=D.fontVariant.filter(function(Se){return"normal"===Se||"small-caps"===Se}).join(""),q=gF(D.fontFamily).join(", "),ae=Bc(D.fontSize)?""+D.fontSize.number+D.fontSize.unit:D.fontSize.number+"px";return[[D.fontStyle,I,D.fontWeight,ae,q].join(" "),q,ae]},x.prototype.renderTextNode=function(D,I){return Ae(this,void 0,void 0,function(){var q,Se,Pe,He,kt,Qt,rn,Nn=this;return F(this,function(cr){return q=this.createFontStyle(I),Se=q[1],Pe=q[2],this.ctx.font=q[0],this.ctx.direction=1===I.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",He=this.fontMetrics.getMetrics(Se,Pe),kt=He.baseline,Qt=He.middle,rn=I.paintOrder,D.textBounds.forEach(function(Pi){rn.forEach(function(Hi){switch(Hi){case 0:Nn.ctx.fillStyle=tn(I.color),Nn.renderTextWithLetterSpacing(Pi,I.letterSpacing,kt);var So=I.textShadow;So.length&&Pi.text.trim().length&&(So.slice(0).reverse().forEach(function(Sr){Nn.ctx.shadowColor=tn(Sr.color),Nn.ctx.shadowOffsetX=Sr.offsetX.number*Nn.options.scale,Nn.ctx.shadowOffsetY=Sr.offsetY.number*Nn.options.scale,Nn.ctx.shadowBlur=Sr.blur.number,Nn.renderTextWithLetterSpacing(Pi,I.letterSpacing,kt)}),Nn.ctx.shadowColor="",Nn.ctx.shadowOffsetX=0,Nn.ctx.shadowOffsetY=0,Nn.ctx.shadowBlur=0),I.textDecorationLine.length&&(Nn.ctx.fillStyle=tn(I.textDecorationColor||I.color),I.textDecorationLine.forEach(function(Sr){switch(Sr){case 1:Nn.ctx.fillRect(Pi.bounds.left,Math.round(Pi.bounds.top+kt),Pi.bounds.width,1);break;case 2:Nn.ctx.fillRect(Pi.bounds.left,Math.round(Pi.bounds.top),Pi.bounds.width,1);break;case 3:Nn.ctx.fillRect(Pi.bounds.left,Math.ceil(Pi.bounds.top+Qt),Pi.bounds.width,1)}}));break;case 1:I.webkitTextStrokeWidth&&Pi.text.trim().length&&(Nn.ctx.strokeStyle=tn(I.webkitTextStrokeColor),Nn.ctx.lineWidth=I.webkitTextStrokeWidth,Nn.ctx.lineJoin=window.chrome?"miter":"round",Nn.ctx.strokeText(Pi.text,Pi.bounds.left,Pi.bounds.top+kt)),Nn.ctx.strokeStyle="",Nn.ctx.lineWidth=0,Nn.ctx.lineJoin="miter"}})}),[2]})})},x.prototype.renderReplacedElement=function(D,I,q){if(q&&D.intrinsicWidth>0&&D.intrinsicHeight>0){var ae=c5(D),Se=Lu(I);this.path(Se),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(q,0,0,D.intrinsicWidth,D.intrinsicHeight,ae.left,ae.top,ae.width,ae.height),this.ctx.restore()}},x.prototype.renderNodeContent=function(D){return Ae(this,void 0,void 0,function(){var I,q,ae,Se,Pe,Qt,rn,Nn,Pi,Hi,So,Sr,vr,fo,bo,so;return F(this,function(ir){switch(ir.label){case 0:this.applyEffects(D.getEffects(4)),q=D.curves,ae=(I=D.container).styles,Se=0,Pe=I.textNodes,ir.label=1;case 1:return Se<Pe.length?[4,this.renderTextNode(Pe[Se],ae)]:[3,4];case 2:ir.sent(),ir.label=3;case 3:return Se++,[3,1];case 4:if(!(I instanceof yv))return[3,8];ir.label=5;case 5:return ir.trys.push([5,7,,8]),[4,this.context.cache.match(I.src)];case 6:return vr=ir.sent(),this.renderReplacedElement(I,q,vr),[3,8];case 7:return ir.sent(),this.context.logger.error("Error loading image "+I.src),[3,8];case 8:if(I instanceof qg&&this.renderReplacedElement(I,q,I.canvas),!(I instanceof _v))return[3,12];ir.label=9;case 9:return ir.trys.push([9,11,,12]),[4,this.context.cache.match(I.svg)];case 10:return vr=ir.sent(),this.renderReplacedElement(I,q,vr),[3,12];case 11:return ir.sent(),this.context.logger.error("Error loading svg "+I.svg.substring(0,255)),[3,12];case 12:return I instanceof vu&&I.tree?[4,new x(this.context,{scale:this.options.scale,backgroundColor:I.backgroundColor,x:0,y:0,width:I.width,height:I.height}).render(I.tree)]:[3,14];case 13:Qt=ir.sent(),I.width&&I.height&&this.ctx.drawImage(Qt,0,0,I.width,I.height,I.bounds.left,I.bounds.top,I.bounds.width,I.bounds.height),ir.label=14;case 14:if(I instanceof ls&&(rn=Math.min(I.bounds.width,I.bounds.height),I.type===Fn?I.checked&&(this.ctx.save(),this.path([new Ui(I.bounds.left+.39363*rn,I.bounds.top+.79*rn),new Ui(I.bounds.left+.16*rn,I.bounds.top+.5549*rn),new Ui(I.bounds.left+.27347*rn,I.bounds.top+.44071*rn),new Ui(I.bounds.left+.39694*rn,I.bounds.top+.5649*rn),new Ui(I.bounds.left+.72983*rn,I.bounds.top+.23*rn),new Ui(I.bounds.left+.84*rn,I.bounds.top+.34085*rn),new Ui(I.bounds.left+.39363*rn,I.bounds.top+.79*rn)]),this.ctx.fillStyle=tn(Dn),this.ctx.fill(),this.ctx.restore()):I.type===Io&&I.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(I.bounds.left+rn/2,I.bounds.top+rn/2,rn/4,0,2*Math.PI,!0),this.ctx.fillStyle=tn(Dn),this.ctx.fill(),this.ctx.restore())),TW(I)&&I.value.length){switch(Nn=this.createFontStyle(ae),Pi=this.fontMetrics.getMetrics(bo=Nn[0],Nn[1]).baseline,this.ctx.font=bo,this.ctx.fillStyle=tn(ae.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=cC(I.styles.textAlign),so=c5(I),Hi=0,I.styles.textAlign){case 1:Hi+=so.width/2;break;case 2:Hi+=so.width}So=so.add(Hi,0,0,-so.height/2+1),this.ctx.save(),this.path([new Ui(so.left,so.top),new Ui(so.left+so.width,so.top),new Ui(so.left+so.width,so.top+so.height),new Ui(so.left,so.top+so.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new yf(I.value,So),ae.letterSpacing,Pi),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ur(I.styles.display,2048))return[3,20];if(null===I.styles.listStyleImage)return[3,19];if(0!==(Sr=I.styles.listStyleImage).type)return[3,18];vr=void 0,fo=Sr.url,ir.label=15;case 15:return ir.trys.push([15,17,,18]),[4,this.context.cache.match(fo)];case 16:return vr=ir.sent(),this.ctx.drawImage(vr,I.bounds.left-(vr.width+10),I.bounds.top),[3,18];case 17:return ir.sent(),this.context.logger.error("Error loading list-style-image "+fo),[3,18];case 18:return[3,20];case 19:D.listValue&&-1!==I.styles.listStyleType&&(bo=this.createFontStyle(ae)[0],this.ctx.font=bo,this.ctx.fillStyle=tn(ae.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",so=new _n(I.bounds.left,I.bounds.top+S(I.styles.paddingTop,I.bounds.width),I.bounds.width,su(ae.lineHeight,ae.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new yf(D.listValue,so),ae.letterSpacing,su(ae.lineHeight,ae.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ir.label=20;case 20:return[2]}})})},x.prototype.renderStackContent=function(D){return Ae(this,void 0,void 0,function(){var I,q,ae,Se,Pe,He,kt,Qt,rn,Nn,cr,Pi,Hi,So;return F(this,function(vr){switch(vr.label){case 0:return ur(D.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(D.element)];case 1:vr.sent(),I=0,q=D.negativeZIndex,vr.label=2;case 2:return I<q.length?[4,this.renderStack(q[I])]:[3,5];case 3:vr.sent(),vr.label=4;case 4:return I++,[3,2];case 5:return[4,this.renderNodeContent(D.element)];case 6:vr.sent(),ae=0,Se=D.nonInlineLevel,vr.label=7;case 7:return ae<Se.length?[4,this.renderNode(Se[ae])]:[3,10];case 8:vr.sent(),vr.label=9;case 9:return ae++,[3,7];case 10:Pe=0,He=D.nonPositionedFloats,vr.label=11;case 11:return Pe<He.length?[4,this.renderStack(He[Pe])]:[3,14];case 12:vr.sent(),vr.label=13;case 13:return Pe++,[3,11];case 14:kt=0,Qt=D.nonPositionedInlineLevel,vr.label=15;case 15:return kt<Qt.length?[4,this.renderStack(Qt[kt])]:[3,18];case 16:vr.sent(),vr.label=17;case 17:return kt++,[3,15];case 18:rn=0,Nn=D.inlineLevel,vr.label=19;case 19:return rn<Nn.length?[4,this.renderNode(Nn[rn])]:[3,22];case 20:vr.sent(),vr.label=21;case 21:return rn++,[3,19];case 22:cr=0,Pi=D.zeroOrAutoZIndexOrTransformedOrOpacity,vr.label=23;case 23:return cr<Pi.length?[4,this.renderStack(Pi[cr])]:[3,26];case 24:vr.sent(),vr.label=25;case 25:return cr++,[3,23];case 26:Hi=0,So=D.positiveZIndex,vr.label=27;case 27:return Hi<So.length?[4,this.renderStack(So[Hi])]:[3,30];case 28:vr.sent(),vr.label=29;case 29:return Hi++,[3,27];case 30:return[2]}})})},x.prototype.mask=function(D){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(D.slice(0).reverse()),this.ctx.closePath()},x.prototype.path=function(D){this.ctx.beginPath(),this.formatPath(D),this.ctx.closePath()},x.prototype.formatPath=function(D){var I=this;D.forEach(function(q,ae){var Se=Vs(q)?q.start:q;0===ae?I.ctx.moveTo(Se.x,Se.y):I.ctx.lineTo(Se.x,Se.y),Vs(q)&&I.ctx.bezierCurveTo(q.startControl.x,q.startControl.y,q.endControl.x,q.endControl.y,q.end.x,q.end.y)})},x.prototype.renderRepeat=function(D,I,q,ae){this.path(D),this.ctx.fillStyle=I,this.ctx.translate(q,ae),this.ctx.fill(),this.ctx.translate(-q,-ae)},x.prototype.resizeImage=function(D,I,q){var ae;if(D.width===I&&D.height===q)return D;var Pe=(null!==(ae=this.canvas.ownerDocument)&&void 0!==ae?ae:document).createElement("canvas");return Pe.width=Math.max(1,I),Pe.height=Math.max(1,q),Pe.getContext("2d").drawImage(D,0,0,D.width,D.height,0,0,I,q),Pe},x.prototype.renderBackgroundImage=function(D){return Ae(this,void 0,void 0,function(){var I,q,ae,Se,Pe;return F(this,function(kt){switch(kt.label){case 0:I=D.styles.backgroundImage.length-1,q=function(Qt){var rn,Nn,cr,Pi,Hi,So,Sr,vr,fo,bo,so,ir,os,ts,ho,Tl,Fc,Oc,zs,_u,Cp,kc,fc,Ep,Zd,Jd,xp,Sp,jA,Bp,qh;return F(this,function(_m){switch(_m.label){case 0:if(0!==Qt.type)return[3,5];rn=void 0,Nn=Qt.url,_m.label=1;case 1:return _m.trys.push([1,3,,4]),[4,ae.context.cache.match(Nn)];case 2:return rn=_m.sent(),[3,4];case 3:return _m.sent(),ae.context.logger.error("Error loading background-image "+Nn),[3,4];case 4:return rn&&(cr=f5(D,I,[rn.width,rn.height,rn.width/rn.height]),Tl=cr[0],kc=cr[1],fc=cr[2],ts=ae.ctx.createPattern(ae.resizeImage(rn,zs=cr[3],_u=cr[4]),"repeat"),ae.renderRepeat(Tl,ts,kc,fc)),[3,6];case 5:!function(B){return 1===B.type}(Qt)?function(B){return 2===B.type}(Qt)&&(ho=f5(D,I,[null,null,null]),Tl=ho[0],Fc=ho[1],Oc=ho[2],_u=ho[4],kc=S((Cp=0===Qt.position.length?[ou]:Qt.position)[0],zs=ho[3]),fc=S(Cp[Cp.length-1],_u),Ep=function(B,x,D,I,q){var ae=0,Se=0;switch(B.size){case 0:0===B.shape?ae=Se=Math.min(Math.abs(x),Math.abs(x-I),Math.abs(D),Math.abs(D-q)):1===B.shape&&(ae=Math.min(Math.abs(x),Math.abs(x-I)),Se=Math.min(Math.abs(D),Math.abs(D-q)));break;case 2:if(0===B.shape)ae=Se=Math.min(cn(x,D),cn(x,D-q),cn(x-I,D),cn(x-I,D-q));else if(1===B.shape){var Pe=Math.min(Math.abs(D),Math.abs(D-q))/Math.min(Math.abs(x),Math.abs(x-I)),He=Js(I,q,x,D,!0);Se=Pe*(ae=cn(He[0]-x,(He[1]-D)/Pe))}break;case 1:0===B.shape?ae=Se=Math.max(Math.abs(x),Math.abs(x-I),Math.abs(D),Math.abs(D-q)):1===B.shape&&(ae=Math.max(Math.abs(x),Math.abs(x-I)),Se=Math.max(Math.abs(D),Math.abs(D-q)));break;case 3:if(0===B.shape)ae=Se=Math.max(cn(x,D),cn(x,D-q),cn(x-I,D),cn(x-I,D-q));else if(1===B.shape){Pe=Math.max(Math.abs(D),Math.abs(D-q))/Math.max(Math.abs(x),Math.abs(x-I));var rn=Js(I,q,x,D,!1);Se=Pe*(ae=cn(rn[0]-x,(rn[1]-D)/Pe))}}return Array.isArray(B.size)&&(ae=S(B.size[0],I),Se=2===B.size.length?S(B.size[1],q):ae),[ae,Se]}(Qt,kc,fc,zs,_u),Jd=Ep[1],(Zd=Ep[0])>0&&Jd>0&&(xp=ae.ctx.createRadialGradient(Fc+kc,Oc+fc,0,Fc+kc,Oc+fc,Zd),Go(Qt.stops,2*Zd).forEach(function(Dv){return xp.addColorStop(Dv.stop,tn(Dv.color))}),ae.path(Tl),ae.ctx.fillStyle=xp,Zd!==Jd?(Sp=D.bounds.left+.5*D.bounds.width,jA=D.bounds.top+.5*D.bounds.height,qh=1/(Bp=Jd/Zd),ae.ctx.save(),ae.ctx.translate(Sp,jA),ae.ctx.transform(1,0,0,Bp,0,0),ae.ctx.translate(-Sp,-jA),ae.ctx.fillRect(Fc,qh*(Oc-jA)+jA,zs,_u*qh),ae.ctx.restore()):ae.ctx.fill())):(Pi=f5(D,I,[null,null,null]),Tl=Pi[0],kc=Pi[1],fc=Pi[2],Hi=_o(Qt.angle,zs=Pi[3],_u=Pi[4]),So=Hi[0],Sr=Hi[1],vr=Hi[2],fo=Hi[3],bo=Hi[4],(so=document.createElement("canvas")).width=zs,so.height=_u,ir=so.getContext("2d"),os=ir.createLinearGradient(Sr,fo,vr,bo),Go(Qt.stops,So).forEach(function(Dv){return os.addColorStop(Dv.stop,tn(Dv.color))}),ir.fillStyle=os,ir.fillRect(0,0,zs,_u),zs>0&&_u>0&&(ts=ae.ctx.createPattern(so,"repeat"),ae.renderRepeat(Tl,ts,kc,fc))),_m.label=6;case 6:return I--,[2]}})},ae=this,Se=0,Pe=D.styles.backgroundImage.slice(0).reverse(),kt.label=1;case 1:return Se<Pe.length?[5,q(Pe[Se])]:[3,4];case 2:kt.sent(),kt.label=3;case 3:return Se++,[3,1];case 4:return[2]}})})},x.prototype.renderSolidBorder=function(D,I,q){return Ae(this,void 0,void 0,function(){return F(this,function(ae){return this.path(iC(q,I)),this.ctx.fillStyle=tn(D),this.ctx.fill(),[2]})})},x.prototype.renderDoubleBorder=function(D,I,q,ae){return Ae(this,void 0,void 0,function(){var Se,Pe;return F(this,function(He){switch(He.label){case 0:return I<3?[4,this.renderSolidBorder(D,q,ae)]:[3,2];case 1:return He.sent(),[2];case 2:return Se=function(B,x){switch(x){case 0:return bf(B.topLeftBorderBox,B.topLeftBorderDoubleOuterBox,B.topRightBorderBox,B.topRightBorderDoubleOuterBox);case 1:return bf(B.topRightBorderBox,B.topRightBorderDoubleOuterBox,B.bottomRightBorderBox,B.bottomRightBorderDoubleOuterBox);case 2:return bf(B.bottomRightBorderBox,B.bottomRightBorderDoubleOuterBox,B.bottomLeftBorderBox,B.bottomLeftBorderDoubleOuterBox);default:return bf(B.bottomLeftBorderBox,B.bottomLeftBorderDoubleOuterBox,B.topLeftBorderBox,B.topLeftBorderDoubleOuterBox)}}(ae,q),this.path(Se),this.ctx.fillStyle=tn(D),this.ctx.fill(),Pe=function(B,x){switch(x){case 0:return bf(B.topLeftBorderDoubleInnerBox,B.topLeftPaddingBox,B.topRightBorderDoubleInnerBox,B.topRightPaddingBox);case 1:return bf(B.topRightBorderDoubleInnerBox,B.topRightPaddingBox,B.bottomRightBorderDoubleInnerBox,B.bottomRightPaddingBox);case 2:return bf(B.bottomRightBorderDoubleInnerBox,B.bottomRightPaddingBox,B.bottomLeftBorderDoubleInnerBox,B.bottomLeftPaddingBox);default:return bf(B.bottomLeftBorderDoubleInnerBox,B.bottomLeftPaddingBox,B.topLeftBorderDoubleInnerBox,B.topLeftPaddingBox)}}(ae,q),this.path(Pe),this.ctx.fill(),[2]}})})},x.prototype.renderNodeBackgroundAndBorders=function(D){return Ae(this,void 0,void 0,function(){var I,q,ae,Se,Pe,He,kt,Qt,rn=this;return F(this,function(Nn){switch(Nn.label){case 0:return this.applyEffects(D.getEffects(2)),q=!vi((I=D.container.styles).backgroundColor)||I.backgroundImage.length,ae=[{style:I.borderTopStyle,color:I.borderTopColor,width:I.borderTopWidth},{style:I.borderRightStyle,color:I.borderRightColor,width:I.borderRightWidth},{style:I.borderBottomStyle,color:I.borderBottomColor,width:I.borderBottomWidth},{style:I.borderLeftStyle,color:I.borderLeftColor,width:I.borderLeftWidth}],Se=FW(Iv(I.backgroundClip,0),D.curves),q||I.boxShadow.length?(this.ctx.save(),this.path(Se),this.ctx.clip(),vi(I.backgroundColor)||(this.ctx.fillStyle=tn(I.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(D.container)]):[3,2];case 1:Nn.sent(),this.ctx.restore(),I.boxShadow.slice(0).reverse().forEach(function(cr){rn.ctx.save();var Pi=Os(D.curves),Hi=cr.inset?0:1e4,So=function(B,x,D,I,q){return B.map(function(ae,Se){switch(Se){case 0:return ae.add(x,D);case 1:return ae.add(x+I,D);case 2:return ae.add(x+I,D+q);case 3:return ae.add(x,D+q)}return ae})}(Pi,(cr.inset?1:-1)*cr.spread.number-Hi,(cr.inset?1:-1)*cr.spread.number,cr.spread.number*(cr.inset?-2:2),cr.spread.number*(cr.inset?-2:2));cr.inset?(rn.path(Pi),rn.ctx.clip(),rn.mask(So)):(rn.mask(Pi),rn.ctx.clip(),rn.path(So)),rn.ctx.shadowOffsetX=cr.offsetX.number+Hi,rn.ctx.shadowOffsetY=cr.offsetY.number,rn.ctx.shadowColor=tn(cr.color),rn.ctx.shadowBlur=cr.blur.number,rn.ctx.fillStyle=cr.inset?tn(cr.color):"rgba(0,0,0,1)",rn.ctx.fill(),rn.ctx.restore()}),Nn.label=2;case 2:Pe=0,He=0,kt=ae,Nn.label=3;case 3:return He<kt.length?0!==(Qt=kt[He]).style&&!vi(Qt.color)&&Qt.width>0?2!==Qt.style?[3,5]:[4,this.renderDashedDottedBorder(Qt.color,Qt.width,Pe,D.curves,2)]:[3,11]:[3,13];case 4:return Nn.sent(),[3,11];case 5:return 3!==Qt.style?[3,7]:[4,this.renderDashedDottedBorder(Qt.color,Qt.width,Pe,D.curves,3)];case 6:return Nn.sent(),[3,11];case 7:return 4!==Qt.style?[3,9]:[4,this.renderDoubleBorder(Qt.color,Qt.width,Pe,D.curves)];case 8:return Nn.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Qt.color,Pe,D.curves)];case 10:Nn.sent(),Nn.label=11;case 11:Pe++,Nn.label=12;case 12:return He++,[3,3];case 13:return[2]}})})},x.prototype.renderDashedDottedBorder=function(D,I,q,ae,Se){return Ae(this,void 0,void 0,function(){var Pe,He,kt,Qt,rn,Nn,cr,Pi,Hi,So,Sr,vr,fo,bo,so,ir;return F(this,function(os){return this.ctx.save(),Pe=function(B,x){switch(x){case 0:return u5(B.topLeftBorderStroke,B.topRightBorderStroke);case 1:return u5(B.topRightBorderStroke,B.bottomRightBorderStroke);case 2:return u5(B.bottomRightBorderStroke,B.bottomLeftBorderStroke);default:return u5(B.bottomLeftBorderStroke,B.topLeftBorderStroke)}}(ae,q),He=iC(ae,q),2===Se&&(this.path(He),this.ctx.clip()),Vs(He[0])?(kt=He[0].start.x,Qt=He[0].start.y):(kt=He[0].x,Qt=He[0].y),Vs(He[1])?(rn=He[1].end.x,Nn=He[1].end.y):(rn=He[1].x,Nn=He[1].y),cr=0===q||2===q?Math.abs(kt-rn):Math.abs(Qt-Nn),this.ctx.beginPath(),this.formatPath(3===Se?Pe:He.slice(0,2)),Pi=I<3?3*I:2*I,Hi=I<3?2*I:I,3===Se&&(Pi=I,Hi=I),So=!0,cr<=2*Pi?So=!1:cr<=2*Pi+Hi?(Pi*=Sr=cr/(2*Pi+Hi),Hi*=Sr):(vr=Math.floor((cr+Hi)/(Pi+Hi)),fo=(cr-vr*Pi)/(vr-1),Hi=(bo=(cr-(vr+1)*Pi)/vr)<=0||Math.abs(Hi-fo)<Math.abs(Hi-bo)?fo:bo),So&&this.ctx.setLineDash(3===Se?[0,Pi+Hi]:[Pi,Hi]),3===Se?(this.ctx.lineCap="round",this.ctx.lineWidth=I):this.ctx.lineWidth=2*I+1.1,this.ctx.strokeStyle=tn(D),this.ctx.stroke(),this.ctx.setLineDash([]),2===Se&&(Vs(He[0])&&(so=He[3],ir=He[0],this.ctx.beginPath(),this.formatPath([new Ui(so.end.x,so.end.y),new Ui(ir.start.x,ir.start.y)]),this.ctx.stroke()),Vs(He[1])&&(so=He[1],ir=He[2],this.ctx.beginPath(),this.formatPath([new Ui(so.end.x,so.end.y),new Ui(ir.start.x,ir.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},x.prototype.render=function(D){return Ae(this,void 0,void 0,function(){var I;return F(this,function(q){switch(q.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=tn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),I=function(B){var x=new GA(B,null),D=new Zl(x),I=[];return Gh(x,D,D,I),Mv(x.container,I),D}(D),[4,this.renderStack(I)];case 1:return q.sent(),this.applyEffects([]),[2,this.canvas]}})})},x}(lC),TW=function(B){return B instanceof nd||B instanceof jg||B instanceof ls&&B.type!==Io&&B.type!==Fn},FW=function(B,x){switch(B){case 0:return Os(x);case 2:return function(B){return[B.topLeftContentBox,B.topRightContentBox,B.bottomRightContentBox,B.bottomLeftContentBox]}(x);default:return Lu(x)}},cC=function(B){switch(B){case 1:return"center";case 2:return"right";default:return"left"}},pF=["-apple-system","system-ui"],gF=function(B){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?B.filter(function(x){return-1===pF.indexOf(x)}):B},mF=function(B){function x(D,I){var q=B.call(this,D,I)||this;return q.canvas=I.canvas?I.canvas:document.createElement("canvas"),q.ctx=q.canvas.getContext("2d"),q.options=I,q.canvas.width=Math.floor(I.width*I.scale),q.canvas.height=Math.floor(I.height*I.scale),q.canvas.style.width=I.width+"px",q.canvas.style.height=I.height+"px",q.ctx.scale(q.options.scale,q.options.scale),q.ctx.translate(-I.x,-I.y),q.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+I.width+"x"+I.height+" at "+I.x+","+I.y+") with scale "+I.scale),q}return ei(x,B),x.prototype.render=function(D){return Ae(this,void 0,void 0,function(){var I,q;return F(this,function(ae){switch(ae.label){case 0:return I=rc(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,D),[4,ym(I)];case 1:return q=ae.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=tn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(q,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},x}(lC),ym=function(B){return new Promise(function(x,D){var I=new Image;I.onload=function(){x(I)},I.onerror=D,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(B))})},rs=function(){function B(x){var I=x.enabled;this.id=x.id,this.enabled=I,this.start=Date.now()}return B.prototype.debug=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,dn([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},B.prototype.getTime=function(){return Date.now()-this.start},B.prototype.info=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,dn([this.id,this.getTime()+"ms"],x))},B.prototype.warn=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,dn([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},B.prototype.error=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,dn([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},B.instances={},B}(),fC=function(){function B(x,D){var I;this.windowBounds=D,this.instanceName="#"+B.instanceCount++,this.logger=new rs({id:this.instanceName,enabled:x.logging}),this.cache=null!==(I=x.cache)&&void 0!==I?I:new Oi(this,x)}return B.instanceCount=1,B}();typeof window<"u"&&Ni.setContext(window);var q9=function(B,x){return Ae(void 0,void 0,void 0,function(){var D,I,q,ae,Se,Pe,He,kt,Qt,rn,Nn,cr,Pi,Hi,So,Sr,vr,fo,bo,so,ir,ts,ho,Tl,Fc,Oc,zs,_u,Cp,kc,fc,Ep,Zd,Jd,xp,Sp,jA,Bp;return F(this,function(qh){switch(qh.label){case 0:if(!B||"object"!=typeof B)return[2,Promise.reject("Invalid element provided as first argument")];if(!(D=B.ownerDocument))throw new Error("Element is not attached to a Document");if(!(I=D.defaultView))throw new Error("Document is not attached to a Window");return q={allowTaint:null!==(ts=x.allowTaint)&&void 0!==ts&&ts,imageTimeout:null!==(ho=x.imageTimeout)&&void 0!==ho?ho:15e3,proxy:x.proxy,useCORS:null!==(Tl=x.useCORS)&&void 0!==Tl&&Tl},ae=Ln({logging:null===(Fc=x.logging)||void 0===Fc||Fc,cache:x.cache},q),Se={windowWidth:null!==(Oc=x.windowWidth)&&void 0!==Oc?Oc:I.innerWidth,windowHeight:null!==(zs=x.windowHeight)&&void 0!==zs?zs:I.innerHeight,scrollX:null!==(_u=x.scrollX)&&void 0!==_u?_u:I.pageXOffset,scrollY:null!==(Cp=x.scrollY)&&void 0!==Cp?Cp:I.pageYOffset},Pe=new _n(Se.scrollX,Se.scrollY,Se.windowWidth,Se.windowHeight),He=new fC(ae,Pe),kt=null!==(kc=x.foreignObjectRendering)&&void 0!==kc&&kc,Qt={allowTaint:null!==(fc=x.allowTaint)&&void 0!==fc&&fc,onclone:x.onclone,ignoreElements:x.ignoreElements,inlineImages:kt,copyStyles:kt},He.logger.debug("Starting document clone with size "+Pe.width+"x"+Pe.height+" scrolled to "+-Pe.left+","+-Pe.top),rn=new rd(He,B,Qt),(Nn=rn.clonedReferenceElement)?[4,rn.toIFrame(D,Pe)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return cr=qh.sent(),Pi=_p(Nn)||function(B){return"HTML"===B.tagName}(Nn)?function(B){var x=B.body,D=B.documentElement;if(!x||!D)throw new Error("Unable to get document size");var I=Math.max(Math.max(x.scrollWidth,D.scrollWidth),Math.max(x.offsetWidth,D.offsetWidth),Math.max(x.clientWidth,D.clientWidth)),q=Math.max(Math.max(x.scrollHeight,D.scrollHeight),Math.max(x.offsetHeight,D.offsetHeight),Math.max(x.clientHeight,D.clientHeight));return new _n(0,0,I,q)}(Nn.ownerDocument):De(He,Nn),Hi=Pi.width,So=Pi.height,Sr=Pi.left,vr=Pi.top,fo=Xi(He,Nn,x.backgroundColor),bo={canvas:x.canvas,backgroundColor:fo,scale:null!==(Zd=null!==(Ep=x.scale)&&void 0!==Ep?Ep:I.devicePixelRatio)&&void 0!==Zd?Zd:1,x:(null!==(Jd=x.x)&&void 0!==Jd?Jd:0)+Sr,y:(null!==(xp=x.y)&&void 0!==xp?xp:0)+vr,width:null!==(Sp=x.width)&&void 0!==Sp?Sp:Math.ceil(Hi),height:null!==(jA=x.height)&&void 0!==jA?jA:Math.ceil(So)},kt?(He.logger.debug("Document cloned, using foreign object rendering"),[4,new mF(He,bo).render(Nn)]):[3,3];case 2:return so=qh.sent(),[3,5];case 3:return He.logger.debug("Document cloned, element located at "+Sr+","+vr+" with size "+Hi+"x"+So+" using computed rendering"),He.logger.debug("Starting DOM parsing"),ir=Q9(He,Nn),fo===ir.styles.backgroundColor&&(ir.styles.backgroundColor=wi.TRANSPARENT),He.logger.debug("Starting renderer for element at "+bo.x+","+bo.y+" with size "+bo.width+"x"+bo.height),[4,new uC(He,bo).render(ir)];case 4:so=qh.sent(),qh.label=5;case 5:return(!(null!==(Bp=x.removeContainer)&&void 0!==Bp)||Bp)&&(rd.destroy(cr)||He.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),He.logger.debug("Finished rendering"),[2,so]}})})},Xi=function(B,x,D){var I=x.ownerDocument,q=I.documentElement?li(B,getComputedStyle(I.documentElement).backgroundColor):wi.TRANSPARENT,ae=I.body?li(B,getComputedStyle(I.body).backgroundColor):wi.TRANSPARENT,Se="string"==typeof D?li(B,D):null===D?wi.TRANSPARENT:4294967295;return x===I.documentElement?vi(q)?vi(ae)?Se:ae:q:Se};return function(B,x){return void 0===x&&(x={}),q9(B,x)}}()},130:(ko,Kr,ei)=>{var Ln=ei(745);ei(540),function(){"use strict";var Ae=Ln.getCore(),F=Ae.PARSER,dn=Ae.groups.N,_n=Ae.groups.P,De=Ae.groups.S,it=Ae.groups.EX,qn=Ae.groups.FN,bn=Ae.groups.PL,Qi=Ae.groups.CP,Ht=Ae.groups.CB,Fe=Ae.Utils.keys,$t=Ae.Utils.even,Bi=Ae.Utils.variables,an=Ae.Utils.format,fn=Ae.Utils.round,Tt=Ae.Frac,In=Ae.Utils.isInt,Xe=Ae.Symbol,An=Ae.Settings.CONST_HASH,Un=Ae.Utils.importFunctions();function qt(L,U,G){if(Ae.Utils.isSymbol(L))this.parse(L),this.variable=this.variable||U;else if(isNaN(L))"string"==typeof L&&this.parse(F.parse(L));else{if(G=G||0,void 0===U)throw new Ae.exceptions.InvalidVariableNameError("Polynomial expects a variable name when creating using order");this.coeffs=[],this.coeffs[G]=L,this.fill(L)}}function Di(){this.factors={},this.length=0}function Wn(L,U,G){this.terms=U||[],this.coeff=L,this.map=G,this.sum=new Ae.Frac(0),this.image=void 0}qt.fromArray=function(L,U){if(typeof U>"u")throw new Ae.exceptions.InvalidVariableNameError("A variable name must be specified when creating polynomial from array");var G=new qt;return G.coeffs=L,G.variable=U,G},qt.fit=function(L,U,G,R,oe,le){var Me=new Array(oe+1),Re=G-U;Me[0]=U,Me[oe]=L,Re-=L*Math.pow(R,oe);for(var $e=oe-1;$e>0;$e--){var et=Math.pow(R,$e),ve=Re/et,at=Math.sign(ve)*Math.floor(Math.abs(ve));Re-=at*et,Me[$e]=at}if(0!==Re)return null;for($e=0;$e<Me.length;$e++)Me[$e]=new Tt(Me[$e]);return qt.fromArray(Me,le)},qt.prototype={parse:function(L,U){if(this.variable=Bi(L)[0],!L.isPoly())throw Ae.exceptions.NerdamerTypeError("Polynomial Expected! Received "+Ae.Utils.text(L));if(U=U||[],L.power.absEquals(1)||(L=F.expand(L)),L.group===Ae.groups.N)U[0]=L.multiplier;else if(L.group===Ae.groups.S)U[L.power.toDecimal()]=L.multiplier;else for(var G in L.symbols){var R=L.symbols[G],oe=R.power;if(Ae.Utils.isSymbol(oe))throw new Ae.exceptions.NerdamerTypeError("power cannot be a Symbol");oe=R.group===dn?0:oe.toDecimal(),R.symbols?this.parse(R,U):U[oe]=R.multiplier}this.coeffs=U,this.fill()},fill:function(L){L=Number(L)||0;for(var U=this.coeffs.length,G=0;G<U;G++)void 0===this.coeffs[G]&&(this.coeffs[G]=new Tt(L));return this},trim:function(){for(var L=this.coeffs.length;L--;){var U=this.coeffs[L],G=U.equals(0);if(!U||!G)break;if(0===L)break;this.coeffs.pop()}return this},modP:function(L){for(var U=this.coeffs.length,G=0;G<U;G++){var R=this.coeffs[G];if(R<0){for(var oe,le=G;le<U;le++)if(this.coeffs[le]>0){oe=this.coeffs[le];break}if(oe){for(;le>G;le--)this.coeffs[le]=this.coeffs[le].subtract(new Tt(1)),this.coeffs[le-1]=this.coeffs[le-1].add(new Tt(L));R=this.coeffs[G]}}var Me=R.mod(L),Re=R.subtract(Me).divide(L);if(!Re.equals(0)){var $e=G+1,et=this.coeffs[$e]||new Tt(0);et=et.add(Re),this.coeffs[$e]=new Tt(et),this.coeffs[G]=new Tt(Me)}}return this},add:function(L){for(var U=Math.max(this.coeffs.length,L.coeffs.length),G=0;G<U;G++){var R=this.coeffs[G]||new Tt(0),oe=L.coeffs[G]||new Tt(0);this.coeffs[G]=R.add(oe)}return this},subtract:function(L){for(var U=Math.max(this.coeffs.length,L.coeffs.length),G=0;G<U;G++){var R=this.coeffs[G]||new Tt(0),oe=L.coeffs[G]||new Tt(0);this.coeffs[G]=R.subtract(oe)}return this},divide:function(L){for(var U=this.variable,G=Ae.Utils.arrayClone(this.coeffs),R=Ae.Utils.arrayClone(L.coeffs),oe=G.length,le=R.length-1,Me=[],Re=0;Re<oe;Re++){var $e=oe-(Re+1),et=$e-le,ve=G[$e].divide(R[le]);if(et<0)break;Me[et]=ve;for(var ne=0;ne<=le;ne++)G[ne+et]=G[ne+et].subtract(R[ne].multiply(ve))}var at=qt.fromArray(G,U||"x").trim();return[qt.fromArray(Me,U||"x"),at]},multiply:function(L){for(var U=this.coeffs.length,G=L.coeffs.length,R=[],oe=0;oe<U;oe++)for(var le=this.coeffs[oe],Me=0;Me<G;Me++){var Re=oe+Me,$e=L.coeffs[Me],et=R[Re]||new Tt(0);R[Re]=et.add(le.multiply($e))}return this.coeffs=R,this},isZero:function(){for(var L=this.coeffs.length,U=0;U<L;U++)if(!this.coeffs[U].equals(0))return!1;return!0},sub:function(L){for(var U=new Tt(0),G=this.coeffs.length,R=0;R<G;R++){var oe=this.coeffs[R];oe.equals(0)||(U=U.add(oe.multiply(new Tt(Math.pow(L,R)))))}return U},clone:function(){var L=new qt;return L.coeffs=this.coeffs,L.variable=this.variable,L},deg:function(){return this.trim(),this.coeffs.length-1},lc:function(){return this.coeffs[this.deg()].clone()},monic:function(){for(var L=this.lc(),U=this.coeffs.length,G=0;G<U;G++)this.coeffs[G]=this.coeffs[G].divide(L);return this},gcd:function(L){if(this.coeffs.length-1<L.coeffs.length-1)return L.gcd(this);for(var oe=this;!L.isZero();){var le=L.clone();L=(oe=oe.clone()).divide(le)[1],oe=le}var Me=Ae.Math2.QGCD.apply(null,oe.coeffs);if(!Me.equals(1))for(var Re=oe.coeffs.length,$e=0;$e<Re;$e++)oe.coeffs[$e]=oe.coeffs[$e].divide(Me);return oe},diff:function(){for(var L=[],U=this.coeffs.length,G=1;G<U;G++)L.push(this.coeffs[G].multiply(new Tt(G)));return this.coeffs=L,this},integrate:function(){for(var L=[0],U=this.coeffs.length,G=0;G<U;G++){var R=new Tt(G+1);L[R]=this.coeffs[G].divide(R)}return this.coeffs=L,this},gcf:function(L){for(var G=[],R=0;R<this.coeffs.length;R++){var oe=this.coeffs[R];!oe.equals(0)&&-1===G.indexOf(oe)&&G.push(oe)}var le=[Ae.Math2.QGCD.apply(void 0,G),function(Re){for(var $e=0;$e<Re.length;$e++)if(!Re[$e].equals(0))return $e}(this.coeffs)].toDecimal();if(L){var Me=[];Me[le[1]-1]=le[0],le=qt.fromArray(Me,this.variable).fill()}return le},quad:function(L){var U=[];if(this.coeffs.length>3)throw new Error("Cannot calculate quadratic order of "+(this.coeffs.length-1));if(0===this.coeffs.length)throw new Error("Polynomial array has no terms");var G=this.coeffs[2]||0,R=this.coeffs[1]||0,le=R*R-4*G*this.coeffs[0];return le<0&&!L||(U[0]=(-R+Math.sqrt(le))/(2*G),U[1]=(-R-Math.sqrt(le))/(2*G)),U},squareFree:function(){for(var L=this.clone(),U=1,G=L.clone().diff(),R=L.clone().gcd(G),oe=L.divide(R)[0],le=qt.fromArray([new Tt(1)],L.variable);!R.equalsNumber(1);){var Me=oe.gcd(R),Re=oe.divide(Me)[0];if(!Re.equalsNumber(1)&&U>1){for(var $e=Re.clone(),et=1;et<U;et++)$e.multiply(Re.clone());Re=$e}le=le.multiply(Re),U++,oe=Me,R=R.divide(Me)[0]}return[le,oe,U]},toSymbol:function(){var L=this.coeffs.length,U=this.variable;if(0===L)return new Ae.Symbol(0);for(var G=L-1,R="",oe=0;oe<L;oe++){var le=oe===G?"":"+",Me=this.coeffs[oe];Me.equals(0)||(R+=Me+"*"+U+"^"+oe+le)}return F.parse(R)},equalsNumber:function(L){return this.trim(),1===this.coeffs.length&&this.coeffs[0].toDecimal()===String(L)},toString:function(){return this.toSymbol().toString()}},Xe.prototype.coeffs=function(L,U){U&&!this.isPoly(!0)&&F.error("Polynomial expected when requesting coefficients with order"),L=L||[];var G=this.clone().distributeMultiplier();if(G.isComposite())for(var R in G.symbols){var oe=G.symbols[R];oe.isComposite()?oe.clone().distributeMultiplier().coeffs(L,U):U?L[oe.isConstant()?0:oe.power.toDecimal()]=oe.multiplier:L.push(oe.multiplier)}else if(U)L[G.isConstant(!0)?0:G.power.toDecimal()]=G.multiplier;else if(G.group===Ht&&G.isImaginary()){var le=new Xe(G.multiplier);G.each(function(Re){(Re.isConstant(!0)||Re.imaginary)&&(le=F.multiply(le,Re))}),L.push(le)}else L.push(G.multiplier);if(U)for(var Me=0;Me<L.length;Me++)void 0===L[Me]&&(L[Me]=new Xe(0));return L},Xe.prototype.tBase=function(L){if(typeof L>"u")throw new Error("Symbol.tBase requires a map object!");for(var U=[],G=this.collectSymbols(null,null,null,!0),R=G.length,oe=0;oe<R;oe++){var le=G[oe],Me=le.group,Re=new Wn(le.multiplier,[],L);if(Me===Ht)for(var $e in le.symbols)Re.terms[L[$e]]=le.symbols[$e].power;else Re.terms[L[le.value]]=le.power;U.push(Re.fill()),Re.updateCount()}return U},Xe.prototype.altVar=function(L){var U=this.multiplier.toString(),G=this.power.toString();return("1"===U?"":U+"*")+L+("1"===G?"":"^"+G)},Xe.prototype.sameVars=function(L){if(!this.symbols&&this.group!==L.group)return!1;for(var U in this.symbols){var R=L.symbols[U];if(!R||this.symbols[U].value!==R.value)return!1}return!0},Xe.prototype.groupTerms=function(L){L=String(L);var U,G,R,oe=[];return this.each(function(le){if(le.group===bn){R=le.groupTerms(L);for(var Me=0;Me<R.length;Me++){var Re=R[Me];Re&&(oe[Me]=Re)}}else U=Ae.Utils.decompose_fn(le,L,!0),G=U.x.value===L?Number(U.x.power):0,oe[G]=F.add(oe[G]||new Xe(0),U.a)}),oe},Xe.prototype.collectFactors=function(){var L=[];return this.group===Ht?this.each(function(U){L.push(U.clone())}):L.push(this.clone()),L},Di.prototype.getNumberSymbolics=function(){var L=0;return this.each(function(U){U.isConstant(!0)||L++}),L},Di.prototype.add=function(L){if(L.equals(0))return this;if(L.equals(-1)&&this.length>0){var U=Ae.Utils.firstObject(this.factors,null,!0);return this.add(F.symfunction(Ae.Settings.PARENTHESIS,[U.obj]).negate()),delete this.factors[U.key],this.length--,this}if(L.group===Ht){var G=this;L.multiplier.equals(1)||G.add(new Xe(L.multiplier)),L.each(function(le){G.add(le)})}else{this.preAdd&&(L=this.preAdd(L)),this.pFactor&&(L=F.pow(L,new Xe(this.pFactor)));var R=L.isConstant();if(R&&L.equals(1))return this;var oe=R?L.value:L.text();oe in this.factors?(this.factors[oe]=F.multiply(this.factors[oe],L),this.factors[oe].equals(1)&&(delete this.factors[oe],this.length--)):(this.factors[oe]=L,this.length++)}return this},Di.prototype.toSymbol=function(){for(var L=new Xe(1),U=Object.values(this.factors).sort(function(Me,Re){return Me.group>Re.group}),G=0,R=U.length;G<R;G++){var oe=U[G],le=oe.power.equals(1)&&""!==oe.fname?F.symfunction(Ae.PARENTHESIS,[oe]):oe;L=F.multiply(L,le)}return""===L.fname&&(L=Xe.unwrapPARENS(L)),L},Di.prototype.merge=function(L){for(var U in L)this.factors[U]=U in this.factors?F.multiply(this.factors[U],L[U]):L[U];return this},Di.prototype.each=function(L){for(var U in this.factors){var G=this.factors[U];G.fname===Ae.PARENTHESIS&&G.isLinear()&&(G=G.args[0]),L.call(this,G,U)}return this},Di.prototype.count=function(){return Fe(this.factors).length},Di.prototype.clean=function(){try{var L=Ae.Settings.CONST_HASH;this.factors[L].lessThan(0)&&(this.factors[L].equals(-1)?delete this.factors[L]:this.factors[L].negate(),this.each(function(U){U.negate()}))}catch{}},Di.prototype.toString=function(){return this.toSymbol().toString()},Wn.prototype.updateCount=function(){this.count=this.count||0;for(var L=0;L<this.terms.length;L++)this.terms[L].equals(0)||this.count++;return this},Wn.prototype.getVars=function(){for(var L=[],U=0;U<this.terms.length;U++){var G=this.terms[U];this.getRevMap(),G.equals(0)||L.push(this.rev_map[U])}return L.join(" ")},Wn.prototype.len=function(){return typeof this.count>"u"&&this.updateCount(),this.count},Wn.prototype.toSymbol=function(L){L=L||this.getRevMap();for(var U=new Xe(this.coeff),G=0;G<this.terms.length;G++){var R=L[G],oe=this.terms[G];if(!oe.equals(0)&&R!==An){var le=new Xe(R);le.power=oe,U=F.multiply(U,le)}}return U},Wn.prototype.getRevMap=function(){if(this.rev_map)return this.rev_map;var L={};for(var U in this.map)L[this.map[U]]=U;return this.rev_map=L,L},Wn.prototype.generateImage=function(){return this.image=this.terms.join(" "),this},Wn.prototype.getImg=function(){return this.image||this.generateImage(),this.image},Wn.prototype.fill=function(){for(var L=this.map.length,U=0;U<L;U++)typeof this.terms[U]>"u"?this.terms[U]=new Ae.Frac(0):this.sum=this.sum.add(this.terms[U]);return this},Wn.prototype.divide=function(L){for(var U=this.coeff.divide(L.coeff),G=this.terms.length,R=new Wn(U,[],this.map),oe=0;oe<G;oe++)R.terms[oe]=this.terms[oe].subtract(L.terms[oe]),R.sum=R.sum.add(R.terms[oe]);return R},Wn.prototype.multiply=function(L){for(var U=this.coeff.multiply(L.coeff),G=this.terms.length,R=new Wn(U,[],this.map),oe=0;oe<G;oe++)R.terms[oe]=this.terms[oe].add(L.terms[oe]),R.sum=R.sum.add(R.terms[oe]);return R},Wn.prototype.isZero=function(){return this.coeff.equals(0)},Wn.prototype.toString=function(){return"{ coeff: "+this.coeff.toString()+", terms: ["+this.terms.join(",")+"]: sum: "+this.sum.toString()+", count: "+this.count+"}"},Ae.Utils.toMapObj=function(L){for(var U=0,G={},R=0;R<L.length;R++){var oe=L[R];typeof G[oe]>"u"&&(G[oe]=U,U++)}return G.length=U,G},Ae.Utils.filledArray=function(L,U,G){for(var R=[];U--;)R[U]=G?new G(L):L;return R},Ae.Utils.arrSum=function(L){for(var U=0,G=L.length,R=0;R<G;R++)U+=L[R];return U},Ae.Utils.haveIntersection=function(L,U){var G;return U.length>L.length&&(G=U,U=L,L=G),L.some(function(R){return U.indexOf(R)>-1})},Ae.Utils.subFunctions=function(L,U){U=U||{};var G=[];return L.each(function(R){if(R.group===qn||R.previousGroup===qn){var oe=Ae.Utils.text(R,"hash"),le=U[oe];if(le)G.push(R.altVar(le));else{var Me=R.fname+Fe(U).length;U[oe]=Me,G.push(R.altVar(Me))}}else G.push(R.group===Ht||R.group===bn||R.group===Qi?Ae.Utils.subFunctions(R,U):R.text())}),L.group===Qi||L.group===bn?L.altVar(Ae.Utils.inBrackets(G.join("+"))):L.group===Ht?L.altVar(Ae.Utils.inBrackets(G.join("*"))):L.text()},Ae.Utils.getFunctionsSubs=function(L){var U={};for(var G in L)U[L[G]]=F.parse(G);return U};var qe=Ae.Algebra={version:"1.4.6",proots:function(L,U){U=U||7;var R=[],oe=function(ri,Yi,rr){for(var Ve=function zn(ri,Yi,rr){var We=ri.slice(0);if(ri.unshift(rr),rr>100)throw new Ae.exceptions.ValueLimitExceededError("This utility accepts polynomials of degree up to 100. ");var ht=[],ot={};for(ot.Degree=rr,Rt=0;Rt<rr;Rt++)ht.push(0);var Gt=ht.slice(0);function en(Ge,yt,Kt,xt,Ct,mt){Ct[0]=mt.b=xt[0],Ct[1]=mt.a=-yt*mt.b+xt[1];for(var hn=2;hn<Ge;hn++)Ct[hn]=-(yt*mt.a+Kt*mt.b)+xt[hn],mt.b=mt.a,mt.a=Ct[hn]}function Cn(Ge,yt,Kt,xt,Ct,mt,hn,mn,xn){var hi=new Object,ti=3;return hi.b=hi.a=0,en(yt,hn,mn,mt,xn,hi),Ct.c=hi.a,Ct.d=hi.b,Math.abs(Ct.c)<=100*Ge*Math.abs(mt[yt-1])&&Math.abs(Ct.d)<=100*Ge*Math.abs(mt[yt-2])||(Ct.h=mn*xt,Math.abs(Ct.d)>=Math.abs(Ct.c)?(ti=2,Ct.e=Kt/Ct.d,Ct.f=Ct.c/Ct.d,Ct.g=hn*xt,Ct.a3=Ct.e*(Ct.g+Kt)+Ct.h*(xt/Ct.d),Ct.a1=Ct.f*xt-Kt,Ct.a7=Ct.h+(Ct.f+hn)*Kt):(ti=1,Ct.e=Kt/Ct.c,Ct.f=Ct.d/Ct.c,Ct.g=Ct.e*hn,Ct.a3=Ct.e*Kt+(Ct.g+Ct.h/Ct.c)*xt,Ct.a1=Ct.d/Ct.c*-Kt+xt,Ct.a7=Ct.g*Ct.d+Ct.h*Ct.f+Kt)),ti}function pt(Ge,yt,Kt,xt,Ct,mt,hn,mn,xn){var hi;if(3!=Kt)if(hi=1==Kt?Ct:xt,Math.abs(mt.a1)>10*Ge*Math.abs(hi))for(mt.a7/=mt.a1,mt.a3/=mt.a1,hn[0]=xn[0],hn[1]=-xn[0]*mt.a7+xn[1],ti=2;ti<yt;ti++)hn[ti]=-xn[ti-1]*mt.a7+mn[ti-2]*mt.a3+xn[ti];else for(hn[0]=0,hn[1]=-xn[0]*mt.a7,ti=2;ti<yt;ti++)hn[ti]=-xn[ti-1]*mt.a7+mn[ti-2]*mt.a3;else{hn[1]=hn[0]=0;for(var ti=2;ti<yt;ti++)hn[ti]=mn[ti-2]}}function ft(Ge,yt,Kt,xt,Ct,mt,hn,mn,xn,hi,ti,Br,mi,ni,Tr,ii,_r){var Mr,ui,Yn,br,j,fe,he,ge;yt.b=yt.a=0,3!=Ge&&(2!=Ge?(Mr=Kt+mi*hn+Br*hi,ui=mn+(mi+ni*hi)*xn):(Mr=(Kt+ti)*hi+Br,ui=(hi+mi)*mn+ni*xn),0!=(ge=-(he=-((j=(Yn=-Tr[ii-1]/_r[ii])*mt)+(fe=Yn*Yn*Ct))+ni*(br=-(Tr[ii-2]+Yn*_r[ii-1])/_r[ii])*xt)+ui+Yn*Mr)&&(yt.a=-(mi*(fe+j)+ni*(Yn*xt+br*mt))/ge+mi,yt.b=ni*(1+he/ge)))}function jn(Ge,yt,Kt,xt){var Ct,mt,hn;xt.sr=xt.si=xt.lr=xt.li=0,0!=Ge?0!=Kt?(Ct=yt/2,Math.abs(Ct)<Math.abs(Kt)?(hn=-(hn=Kt>=0?Ge:-Ge)+Ct*(Ct/Math.abs(Kt)),mt=Math.sqrt(Math.abs(hn))*Math.sqrt(Math.abs(Kt))):(hn=-Ge/Ct*(Kt/Ct)+1,mt=Math.sqrt(Math.abs(hn))*Math.abs(Ct)),hn>=0?(xt.lr=(-Ct+(mt=Ct>=0?-mt:mt))/Ge,xt.sr=0!=xt.lr?Kt/xt.lr/Ge:xt.sr):(xt.lr=xt.sr=-Ct/Ge,xt.si=Math.abs(mt/Ge),xt.li=-xt.si)):xt.lr=-yt/Ge:xt.sr=0!=yt?-Kt/yt:xt.sr}function K(Ge,yt,Kt,xt,Ct,mt,hn,mn,xn,hi,ti,Br){var ni,Tr,ii,_r,Mr,ui,Yn,br,Pr,j,fe,mi=new Object,he=0,ke=0;Kt.NZ=0,ui=xt,br=Ct;do{if(mi.li=mi.lr=mi.si=mi.sr=0,jn(1,ui,br,mi),Kt.szr=mi.sr,Kt.szi=mi.si,Kt.lzr=mi.lr,Kt.lzi=mi.li,Math.abs(Math.abs(Kt.szr)-Math.abs(Kt.lzr))>.01*Math.abs(Kt.lzr))break;for(en(hn,ui,br,xn,mt,mn),Tr=Math.abs(-Kt.szr*mn.b+mn.a)+Math.abs(Kt.szi*mn.b),j=Math.sqrt(Math.abs(br)),ni=2*Math.abs(mt[0]),Mr=-Kt.szr*mn.b,fe=1;fe<yt;fe++)ni=ni*j+Math.abs(mt[fe]);if(Tr<=20*(ni=(9*(ni=ni*j+Math.abs(Mr+mn.a))+2*Math.abs(Mr)-7*(Math.abs(mn.a+Mr)+j*Math.abs(mn.b)))*Ge)){Kt.NZ=2;break}if(++he>20)break;if(he>=2&&_r<=.01&&Tr>=ii&&!ke){for(en(hn,ui-=ui*(_r=_r<Ge?Math.sqrt(Ge):Math.sqrt(_r)),br+=br*_r,xn,mt,mn),fe=0;fe<5;fe++)pt(Ge,yt,Cn(Ge,yt,mn.a,mn.b,ti,Br,ui,br,hi),mn.a,mn.b,ti,Br,hi,mt);ke=1,he=0}ii=Tr,pt(Ge,yt,Cn(Ge,yt,mn.a,mn.b,ti,Br,ui,br,hi),mn.a,mn.b,ti,Br,hi,mt),ft(Cn(Ge,yt,mn.a,mn.b,ti,Br,ui,br,hi),mn,mn.a,ti.a1,ti.a3,ti.a7,mn.b,ti.c,ti.d,ti.f,ti.g,ti.h,ui,br,Br,yt,xn),Yn=mn.a,0!=(Pr=mn.b)&&(_r=Math.abs((-br+Pr)/Pr),ui=Yn,br=Pr)}while(0!=Pr)}function _e(Ge,yt,Kt,xt,Ct,mt,hn,mn,xn){var hi,ti,Br,mi,ni,Tr,ii,_r,Mr,ui,Yn,br=xt-1;for(yt.NZ=Yn=Mr=0,ii=Kt.a;;){for(hn[0]=Tr=Ct[0],ui=1;ui<mt;ui++)hn[ui]=Tr=Tr*ii+Ct[ui];for(Br=Math.abs(Tr),mi=Math.abs(ii),hi=.5*Math.abs(hn[0]),ui=1;ui<mt;ui++)hi=hi*mi+Math.abs(hn[ui]);if(Br<=20*Ge*(2*hi-Br)){yt.NZ=1,yt.szr=ii,yt.szi=0;break}if(++Yn>10)break;if(Yn>=2&&Math.abs(_r)<=.001*Math.abs(-_r+ii)&&Br>ni){Mr=1,yt.a=ii;break}for(ni=Br,xn[0]=ti=mn[0],ui=1;ui<xt;ui++)xn[ui]=ti=ti*ii+mn[ui];if(Math.abs(ti)>10*Math.abs(mn[br])*Ge)for(_r=-Tr/ti,mn[0]=hn[0],ui=1;ui<xt;ui++)mn[ui]=_r*xn[ui-1]+hn[ui];else for(mn[0]=0,ui=1;ui<xt;ui++)mn[ui]=xn[ui-1];for(ti=mn[0],ui=1;ui<xt;ui++)ti=ti*ii+mn[ui];ii+=_r=Math.abs(ti)>10*Math.abs(mn[br])*Ge?-Tr/ti:0}return Mr}function Ne(Ge,yt,Kt,xt,Ct,mt,hn,mn,xn,hi,ti,Br){var _r,Mr,ui,Yn,br,Pr,j,fe,he,ge,ke,ee,Ue,gt,Bt,zt,Et,vn,yn,Xt,hr,yo,Yr,ar,Zr,mi=new Object,ni=new Object,Tr=new Array(yt),ii=new Array(yt),Sn=1;for(Br.NZ=0,Yn=ui=.25,br=xt,fe=Ct,mi.b=mi.a=0,en(xn,ti,Ct,mn,hi,mi),_r=mi.a,Mr=mi.b,ni.h=ni.g=ni.f=ni.e=ni.d=ni.c=ni.a7=ni.a3=ni.a1=0,Yr=Cn(Ge,hn,_r,Mr,ni,mt,ti,Ct,Tr),Xt=0;Xt<Kt;Xt++){if(vn=1,pt(Ge,hn,Yr,_r,Mr,ni,mt,Tr,hi),ft(Yr=Cn(Ge,hn,_r,Mr,ni,mt,ti,Ct,Tr),mi,_r,ni.a1,ni.a3,ni.a7,Mr,ni.c,ni.d,ni.f,ni.g,ni.h,ti,Ct,mt,hn,mn),Bt=mi.a,Et=zt=mi.b,ge=0!=mt[hn-1]?-mn[hn]/mt[hn-1]:0,ke=Ue=1,0!=Xt&&3!=Yr&&(ar=(gt=(Ue=0!=Et?Math.abs((Et-fe)/Et):Ue)<j?Ue*j:1)<Yn?1:0,(hr=(ee=(ke=0!=ge?Math.abs((ge-br)/ge):ke)<Pr?ke*Pr:1)<ui?1:0)||ar)){for(yn=0;yn<hn;yn++)ii[yn]=mt[yn];for(he=ge,yo=Zr=0;;){if(!vn||0!=(vn=0)||!hr||ar&&!(ee<gt)){if(K(Ge,hn,Br,Bt,zt,hi,xn,mi,mn,Tr,ni,mt),_r=mi.a,Mr=mi.b,Br.NZ>0)return;if(Sn=Zr=1,Yn*=.25,yo||!hr)Sn=0;else for(yn=0;yn<hn;yn++)mt[yn]=ii[yn]}if(0!=Sn){if(mi.a=he,Sn=_e(Ge,Br,mi,hn,mn,xn,hi,mt,Tr),he=mi.a,Br.NZ>0)return;if(yo=1,ui*=.25,0!=Sn){Bt=-(he+he),zt=he*he;continue}}for(yn=0;yn<hn;yn++)mt[yn]=ii[yn];if(!ar||Zr)break}en(xn,ti,Ct,mn,hi,mi),Yr=Cn(Ge,hn,_r=mi.a,Mr=mi.b,ni,mt,ti,Ct,Tr)}fe=Et,br=ge,j=Ue,Pr=ke}}!function At(Ge,yt,Kt,xt){var Tr,ii,_r,Mr,ui,Yn,br,Pr,j,fe,he,ge,ke,ee,Ue,gt,zt,Et,vn,yn,Sn,Xt,hr,Ct=Ge.Degree,mt=.017453292519943295,hn=Math.LN2,mn=Ge.Degree+1,xn=new Array(mn),hi=new Array(mn),ti=new Array(mn),Br=new Array(mn),mi=new Object,ni=new Object;ge=1;do{ii=ge,ke=1+(ge/=2)}while(ke>1);var yo=Number.MIN_VALUE/ii,Yr=Math.cos(94*mt),ar=Math.sin(94*mt),Zr=Math.sqrt(.5),ue=-Zr;for(ni.NZ=Et=0,ni.szr=ni.szi=ni.lzr=ni.lzi=0;0==yt[Ct];)Kt[Et]=xt[Et]=0,Ct--,Et++;for(Xt=Ct+1;Ct>=1;){if(Ct<=2){Ct<2?(Kt[Ge.Degree-1]=-yt[1]/yt[0],xt[Ge.Degree-1]=0):(mi.li=mi.lr=mi.si=mi.sr=0,jn(yt[0],yt[1],yt[2],mi),Kt[Ge.Degree-2]=mi.sr,xt[Ge.Degree-2]=mi.si,Kt[Ge.Degree-1]=mi.lr,xt[Ge.Degree-1]=mi.li);break}for(br=0,Pr=Number.MAX_VALUE,Oe=0;Oe<Xt;Oe++)(fe=Math.abs(yt[Oe]))>br&&(br=fe),0!=fe&&fe<Pr&&(Pr=fe);if(((j=yo/Pr)<=1&&br>=10||j>1&&Number.MAX_VALUE/j>=br)&&(j=0==j?Number.MIN_VALUE:j,yn=Math.floor(Math.log(j)/hn+.5),1!=(ui=Math.pow(2,yn))))for(Oe=0;Oe<Xt;Oe++)yt[Oe]*=ui;for(var Oe=0;Oe<Xt;Oe++)hi[Oe]=Math.abs(yt[Oe]);hi[Ct]=-hi[Ct],Sn=Ct-1,fe=Math.exp((Math.log(-hi[Ct])-Math.log(hi[0]))/Ct),0!=hi[Sn]&&(fe=(he=-hi[Ct]/hi[Sn])<fe?he:fe),he=fe;do{for(he=.1*(fe=he),Yn=hi[0],Oe=1;Oe<Xt;Oe++)Yn=Yn*he+hi[Oe]}while(Yn>0);Mr=fe;do{for(_r=Yn=hi[0],Oe=1;Oe<Ct;Oe++)_r=fe*_r+(Yn=fe*Yn+hi[Oe]);fe-=Mr=(Yn=fe*Yn+hi[Ct])/_r}while(Math.abs(Mr/fe)>.005);for(Tr=fe,Oe=1;Oe<Ct;Oe++)xn[Oe]=(Ct-Oe)*yt[Oe]/Ct;for(xn[0]=yt[0],ge=yt[Ct],ke=yt[Sn],hr=0==xn[Sn]?1:0,vn=0;vn<5;vn++)if(ee=xn[Sn],hr){for(Oe=0;Oe<Sn;Oe++)xn[Et=Sn-Oe]=xn[Et-1];xn[0]=0,hr=0==xn[Sn]?1:0}else{for(gt=-ge/ee,Oe=0;Oe<Sn;Oe++)xn[Et=Sn-Oe]=gt*xn[Et-1]+yt[Et];xn[0]=yt[0],hr=Math.abs(xn[Sn])<=Math.abs(ke)*ii*10?1:0}for(Oe=0;Oe<Ct;Oe++)Br[Oe]=xn[Oe];for(vn=1;vn<=20;vn++){if(zt=-ar*ue+Yr*Zr,ue=ar*Zr+Yr*ue,Ne(ii,mn,20*vn,Ue=Tr*(Zr=zt),Tr,xn,Ct,yt,Xt,ti,-2*Ue,ni),0!=ni.NZ){for(Kt[Et=Ge.Degree-Ct]=ni.szr,xt[Et]=ni.szi,Ct=(Xt-=ni.NZ)-1,Oe=0;Oe<Xt;Oe++)yt[Oe]=ti[Oe];1!=ni.NZ&&(Kt[Et+1]=ni.lzr,xt[Et+1]=ni.lzi);break}for(Oe=0;Oe<Ct;Oe++)xn[Oe]=Br[Oe]}if(vn>20){Ge.Degree-=Ct;break}}}(ot,We,Gt,ht);var vt=ht.length;for(Rt=0;Rt<vt;Rt++){var xe=fn(ht[Rt],U+8),Nt=fn(Gt[Rt],U+8),Ye=xe<0?"-":"";0===(Nt=U-String(Nt).length>2?Nt:Gt[Rt])&&(Nt=""),0===xe&&(xe=""),xe=1===Math.abs(xe)?Ye+"i":xe?xe+"*i":"",Gt[Rt]=(Nt&&xe?Nt+"+"+xe:Nt+xe).replace(/\+\-/g,"-")}return Gt}(ri,0,rr).concat(R),We=0;We<0;We++)Ve.unshift(0);return Ve};if(L instanceof Xe&&L.isPoly()){if(L.distributeMultiplier(),L.group===bn){var le=Ae.Utils.arrayMin(Fe(L.symbols)),Me=L.symbols[le].clone().toUnitMultiplier();L=F.expand(F.divide(L,Me)),R.push(0)}if(L.group===Ae.groups.S)return[0];if(L.group===Ae.groups.PL){var ne=Fe(L.symbols),Re=Ae.Utils.arrayMin(ne);L=Ae.PARSER.divide(L,Ae.PARSER.parse(L.value+"^"+Re))}for(var $e=Fe(L.symbols).sort().pop(),et=L.group===Ae.groups.PL?L.symbols:L.symbols[$e],ve=et.group,at=(ne=ve===De?[et.power.toDecimal()]:Fe(et.symbols),[]),Yt=Ae.Utils.arrayMax(ne),Rt=1;Rt<=Yt;Rt++){var Jt=0;-1!==ne.indexOf(Rt+"")&&(Jt=ve===De?et.multiplier:et.symbols[Rt].multiplier),at.unshift(Jt)}return at.push(L.symbols[An].multiplier),et.group===De&&(at[0]=et.multiplier),oe(at,0,Yt)}if(Ae.Utils.isArray(L)){var Ft=L,Pn=(at=[],ne=[],0);for(Rt=0;Rt<Ft.length;Rt++){for(var Si=Ft[Rt][0],gi=Ft[Rt][1],si=gi-Pn-1,Wi=0;Wi<si;Wi++)at.unshift(0);at.unshift(Si),0!==gi&&ne.push(gi),Pn=gi}return oe(at,0,Yt=Math.max.apply(void 0,ne))}throw new Ae.exceptions.NerdamerTypeError("Cannot calculate roots. Symbol must be a polynomial!")},roots:function(L){if(L.isConstant(!0,!0))return Ae.Utils.nroots(L);var U=qe.proots(L).map(function(G){return F.parse(G)});return Ae.Vector.fromArray(U)},froot:function(L,U,G){return function(oe){for(var Me=G||Ae.Utils.build(Ae.Calculus.diff(L.clone())),Re=L instanceof Function?L:Ae.Utils.build(L),et=!1,ve=0;!et;){var ne=oe-Re(oe)/Me(oe),at=Math.abs(ne)-Math.abs(oe);oe=ne,Math.abs(at)<1e-12?et=!0:ve>1e4&&(oe=null,et=!0),ve++}return oe}(Number(U))},quad:function(L,U,G){var R=function(oe,le,Me,Re){return F.parse("-("+le+"+"+Re+"*sqrt(("+le+")^2-4*("+oe+")*("+Me+")))/(2*"+oe+")")};return[R(L,U,G,1),R(L,U,G,-1)]},sumProd:function(L,U){return qe.quad(-U,L,-1).map(function(G){return G.invert()})},coeffs:function(L,U,G){U=String(U),L=F.expand(L),G=G||[new Xe(0)],L.group===it&&L.contains(U,!0)&&F.error("Unable to get coefficients using expression "+L.toString());var R=Bi(L);if(1!==R.length||R[0]!==U||L.isImaginary())if(U||F.error("Polynomial contains more than one variable. Please specify which variable is to be used!"),-1===R.indexOf(U))G[0]=F.add(L,G[0]);else if(G=G||[new Xe(0)],L.group===Ht){var et=L.symbols[U];et||F.error("Expression is not a polynomial!");var ve=Number(et.power);((Re=F.divide(L.clone(),et.clone())).contains(U,!0)||ve<0||!In(ve))&&F.error("Expression is not a polynomial!"),($e=G[ve])&&(Re=F.add($e,Re)),G[ve]=Re}else L.group===Qi&&L.each(function(ne){qe.coeffs(ne.clone(),U,G)},!0);else for(var oe=new qt(L).coeffs.map(function(ne){return new Xe(ne)}),le=0,Me=oe.length;le<Me;le++){var $e,Re=oe[le];($e=G[le])&&(Re=F.add($e,Re)),G[le]=Re}for(le=0,Me=G.length;le<Me;le++)typeof G[le]>"u"&&(G[le]=new Xe(0));return G},polyPowers:function(L,U,G){if(G=G||[],(R=R=L.group)===bn&&U===L.value)G=G.concat(Fe(L.symbols));else if(R===Qi)for(var oe in L.symbols){var R,le=L.symbols[oe],Me=le.value;if((R=le.group)===De&&U===Me)G.push(le.power);else if(R===bn||R===Qi)G=qe.polyPowers(le,U,G);else if(R===Ht&&le.contains(U)){var Re=le.symbols[U];Re&&G.push(Re.power)}else(R===dn||U!==Me)&&G.push(0)}else R===Ht&&L.contains(U)&&G.push(Ae.Utils.decompose_fn(L,U,!0).x.power);return Ae.Utils.arrayUnique(G).sort()},Factor:{split:function(L){var U=new Xe(1),G=new Xe(1);return qe.Factor.factor(L,new Di).each(function(R){var oe=F.parse(R);R.isConstant(!0)?U=F.multiply(U,oe):G=F.multiply(G,oe)}),[U,G]},mix:function(L,U){for(var G=Fe(L),R=G.length,oe=[],le=0;le<R;le++){for(var Me=G[le],Re=L[Me],$e=oe.length,et=0;et<$e;et++){var ve=oe[et]*Me;oe.push(ve),U&&oe.push(-ve)}for(et=1;et<=Re;et++)oe.push(Math.pow(Me,et))}return oe},common:function(L,U){try{if(L.group===Qi){for(var G=F.expand(L.clone(),!0).collectSymbols(null,null,function(ve,ne){return(ne.length||1)-(ve.length||1)}),R={},oe=[],le=0;le<G.length;le++){var Me=G[le];oe.push(Me.multiplier.clone()),Me.each(function(ve){var ne=Number(ve.power);if(isNaN(ne))throw new Error("exiting");ve.value in R?(ne<R[ve.value][0]&&(R[ve.value][0]=ne),R[ve.value][1].push(ve)):R[ve.value]=[ne,[ve]]})}var Re=new Xe(1);for(var $e in R)R[$e][1].length===G.length&&(Re=F.multiply(Re,F.pow(new Xe($e),new Xe(R[$e][0]))));var et=Ae.Math2.QGCD.apply(null,oe);if(!et.equals(1))for(U.add(new Xe(et)),le=0;le<G.length;le++)G[le].multiplier=G[le].multiplier.divide(et);if(!Re.equals(1))for(U.add(Re),L=new Xe(0),le=0;le<G.length;le++)L=F.add(L,F.divide(G[le],Re.clone()))}}catch{}return L},zeroes:function(L,U){var G=function(){throw new Ae.exceptions.ValueLimitExceededError("Exiting")};try{var R,oe,le,Me,Re;Re=(L=F.expand(L.clone())).toString(),R=Bi(L),le=new Xe(0);for(var $e=[],et=[],ve=0,ne=R.length;ve<R.length;ve++){for(var at={},Yt=0;Yt<ne;Yt++)ve!==Yt&&(at[R[Yt]]=0);oe=F.parse(Re,at),In(oe.power)||G(),$e.push(oe),et.push(oe.power)}if(Ae.Utils.allSame(et)){var Jt=L.length,Ft=$e.length;2===Ft&&(Me=new Tt(et[0]/(Jt-1))),3===Ft&&(Me=new Tt(et[0]/Math.round((Math.sqrt(8*Jt-1)-3)/2)))}else Me=Ae.Math2.QGCD.apply(null,et);for(In(Me)||G(),ve=0;ve<$e.length;ve++){var Pn=$e[ve],Si=Pn.power.clone().divide(Me);Pn.multiplier=new Tt(Math.pow(Pn.multiplier,1/Si)),Pn.power=Me.clone(),le=F.add(le,Pn)}if(le.group!==Qi)return L;for(;;){var gi=qe.div(L.clone(),le.clone());if(!gi[1].equals(0))break;if(L=gi[0],U.add(le.clone()),L.equals(1))break}}catch{}return L},factor:function(L,U){if(L.isConstant())return Ae.Math2.factor(L);var G=F.parse(L),R=qe.Factor._factor(G,U);if(R.equals(L))return R;if(R.group===Ht){var oe=new Xe(1),le=F.parse(R.power),Me=F.parse(R.multiplier);R.toUnitMultiplier(),R.multiplier.lessThan(0)&&(oe.negate(),R.negate()),R.each(function(Re){var $e=F.parse(qe.Factor._factor(Re));$e.group===Ht?(Me=F.multiply(Me,Xe.create($e.multiplier)),$e.each(function(et){var ve=F.parse(qe.Factor._factor(et));oe=F.multiply(oe,ve),ve.group===Ht&&(Me=F.multiply(Me,Xe.create(ve.multiplier)))})):oe=F.multiply(oe,$e)}),R=F.pow(F.multiply(Me,oe),le)}return R},quadFactor:function(L,U){if(L.isPoly()&&qe.degree(L.equals(2))){var G=Ae.Utils.variables(L)[0],R=qe.coeffs(L,G),oe=qe.Factor._factor(R[2].clone());if(oe.group===Ht){var le=oe.collectSymbols();if(le.length>2)return L;var Me=F.multiply(F.parse(R[0]),F.parse(le[0])),Re=F.parse(R[1]).negate(),$e=F.parse(le[1]),et=qe.quad($e,Re,Me).filter(function(at){if(Ae.Utils.isInt(at))return at});if(1===et.length){var ve=et[0],ne=F.divide(R[0],F.parse(ve));Ae.Utils.isInt(ne)&&(U.add(F.parse(an("({0})*({1})+({2})",le[1],G,ne))),U.add(F.parse(an("({0})*({1})+({2})",le[0],G,ve))),L=new Xe(1))}}}return L},cubeFactor:function(L,U){if(L.isComposite()){var G=L.collectSymbols();if(2===G.length){var R=G[0].sign(),oe=G[0].clone().abs(),le=G[1].sign(),Me=G[1].clone().abs();if(oe.isCube()&&Me.isCube()){R<le&&([R,le]=[le,R],[oe,Me]=[Me,oe]);var Re=F.parse(oe.getNth(3)),$e=F.parse(Me.getNth(3)),et=F.multiply(F.expand(F.pow(oe.clone().toUnitMultiplier(),F.parse("1/3"))),Re),ve=F.multiply(F.expand(F.pow(Me.clone().toUnitMultiplier(),F.parse("1/3"))),$e);1===R&&-1===le?(U.add(F.parse(an("(({0})-({1}))",et,ve))),U.add(F.parse(an("(({0})^2+({0})*({1})+({1})^2)",et,ve))),L=Xe(1)):1===R&&1===le&&(U.add(F.parse(an("(({0})+({1}))",et,ve))),U.add(F.parse(an("(({0})^2-({0})*({1})+({1})^2)",et,ve))),L=Xe(1))}}}return L},_factor:function(L,U){if(L.group===qn){var R=L.args[0];if(R.group===De&&R.isSimple())return L}else if(L.group===De&&L.isSimple())return L;if(L.group===Qi){L.distributeMultiplier(!0);var oe=new Xe(0);L.each(function(en){(en.group===Qi&&en.power.greaterThan(1)||en.group===Ht)&&(en=F.expand(en)),oe=F.add(oe,en)}),oe.power=L.power,L=oe}L.group===qn&&"sqrt"!==L.fname&&(L=Ae.Utils.evaluate(L));var le=L.clone();try{if(L.group===Ht){var Me,Re,$e,et,ve,ne,Ft=F.parse(L.power);if(Me=qe.Simplify.strip(L.getDenom()),Re=qe.Simplify.strip(L.getNum()),$e=Me.pop(),(et=Re.pop()).equals(L))return L;ne=qe.Factor.factor(et),ve=qe.Factor.factor($e);var at=qe.Simplify.unstrip(Re,ne),Yt=qe.Simplify.unstrip(Me,ve);return F.divide(at,Yt)}if(L.group===De)return L;if(L.isConstant())return L.equals(1)?L.clone():Ae.Math2.factor(L);if(Ft=L.power.clone(),In(Ft)&&(!Ft.lessThan(0)||L.group!==qn)){var Pn=Ft.sign();L.toLinear(),U=U||new Di;var Si={};L=F.parse(Ae.Utils.subFunctions(L,Si)),Fe(Si).length>0&&(U.preAdd=function(Cn){return F.parse(Cn,Ae.Utils.getFunctionsSubs(Si))}),L.isLinear()||(U.pFactor=L.power.toString(),L.toLinear());var gi=Bi(L);L.isImaginary()&&gi.push(Ae.Settings.IMAGINARY);var si=gi.length>1;if(si){var Wi=!0,zn=!0;if(L.each(function(Cn){Cn.group!==De&&(Wi=!1),Cn.multiplier.equals(1)||(zn=!1)}),Wi&&zn)return F.pow(F.parse(L,Ae.Utils.getFunctionsSubs(Si)),F.parse(Ft))}var ri=new Di;L=qe.Factor.coeffFactor(L,ri),ri.each(function(Cn){$t(Ft)&&Cn.lessThan(0)&&Cn.negate(),Pn<0&&Cn.invert(),U.add(Cn)});var Yi=new Di;if(L=qe.Factor.powerFactor(L,Yi),Yi.each(function(Cn){Pn<0&&Cn.invert(),U.add(Cn)}),si)L=qe.Factor.cubeFactor(L,U),L=qe.Factor.mfactor(L,U),U.each(function(Cn){Pn<0&&Cn.power.negate()});else{var rr=gi[0];L=qe.Factor.squareFree(L,U,rr);var Ve=new Di;L=qe.Factor.trialAndError(L,Ve,rr);var We=Ve.toSymbol();if(We.equals(le))return We;for(var ht in Ve.factors)U.add(F.pow(Ve.factors[ht],F.parse(Ft)));L.equals(le)&&(L=qe.Factor.quadFactor(L,U))}L=F.parse(L,Ae.Utils.getFunctionsSubs(Si));var Gt=1===U.length;U.add(F.pow(L,F.parse(Ft)));var Rt=U.toSymbol();return Gt&&L.equals(1)&&Rt.isLinear()&&(Rt=F.pow(Rt,F.parse(Ft))),Rt}return L}catch{return le}},reduce:function(L,U){if(L.group===Qi&&2===L.length){var G=L.collectSymbols().sort(function(ne,at){return at.multiplier-ne.multiplier});if(G[0].power.equals(G[1].power)){var R=F.parse(G[0].power),oe=G[0].clone().toLinear(),le=G[1].clone().toLinear();U.add(F.add(oe.clone(),le.clone())),le.negate();for(var Me=Number(R),Re=new Xe(0),$e=1;$e<=Me;$e++){var et=F.pow(oe.clone(),F.subtract(R.clone(),new Xe($e))),ve=F.pow(le.clone(),F.subtract(new Xe($e),new Xe(1)));Re=F.add(Re,F.multiply(et,ve))}return Re}}return L},squareFree:function(L,U,G){if(L.isConstant()||L.group===De)return L;var oe=new qt(L,G).squareFree(),le=oe[2];if(1!==le){var Me=oe[1].toSymbol();return Me.power=Me.power.multiply(new Tt(le)),U.add(qe.Factor.factor(Me)),qe.Factor.squareFree(oe[0].toSymbol(),U)}return L},powerFactor:function(L,U){if(L.group!==bn||L.previousGroup===it)return L;var G=Fe(L.symbols);if(!Ae.Utils.allNumeric(G))return L;var R=Ae.Utils.arrayMin(G),oe=new Xe(0),le=F.parse(L.value+"^"+R);return L.each(function(Me){Me=F.divide(Me,le.clone()),oe=F.add(oe,Me)}),U.add(le),oe},coeffFactor:function(L,U){if(L.isComposite()){var G=Ae.Math2.QGCD.apply(null,L.coeffs());if(G.equals(1)){var R=function(Me){var Re;return Me.group===Ht?(Re=0,Me.each(function($e){Re+=$e.power})):Re=Number(Me.power),Re},oe=L.collectSymbols(null,null,null,!0).sort(function(Me,Re){return Me.isConstant(!0)?1:Re.power-Me.power}),le=oe[0];(R(le)>R(oe[1])||oe[1].isConstant(!0))&&le.multiplier.lessThan(0)&&(U.add(new Xe(-1)),L.each(function(Me){Me.negate()},!0))}else L.each(function(Me){Me.isComposite()?Me.each(function(Re){Re.multiplier=Re.multiplier.divide(G)}):Me.multiplier=Me.multiplier.divide(G)}),L.updateHash();U&&U.add(new Xe(G))}return L},trialAndError:function(L,U,G){var R=L.clone();try{var oe=[];if(L.isConstant()||L.group===De)return L;for(var le=new qt(L,G),Re=Ae.Math2.ifactor(le.coeffs[0]),$e=qe.proots(L),et=0;et<$e.length;et++){var ve=$e[et],ne=1;if(!isNaN(ve)){for(var at in Re){var Yt=Ae.Utils.round(Math.log(at)/Math.log(Math.abs(ve)),8);if(In(Yt)){ve=at,ne=Yt;break}}var Rt=new Tt(ve),Jt=[new Tt(Rt.num).negate()];Jt[ne]=new Tt(Rt.den);var Ft=qt.fromArray(Jt,le.variable).fill(),Pn=le.divide(Ft);Pn[1].equalsNumber(0)&&(le=Pn[0],oe.push(Ft.toSymbol()))}}return le.equalsNumber(1)||(le=qe.Factor.search(le,U)),oe.forEach(function(Si){U.add(Si)}),le.toSymbol()}catch{return R}},search:function(L,U,G){G=G||10;var R=L.variable,oe=function(gi,si,Wi,zn){var ri=qt.fit(gi,si,Wi,G,zn,R);if(ri&&ri.coeffs.length>1){var Yi=L.divide(ri);if(Yi[1].equalsNumber(0))return U.add(ri.toSymbol()),[Yi[0],ri]}return null},le=L.coeffs[0],Me=Ae.Math2.ifactor(le),Re=L.lc(),$e=Ae.Math2.ifactor(Re),et=L.sub(G),ve=Ae.Math2.ifactor(et),ne=qe.Factor.mix(ve,et<0),at=Math.ceil(L.coeffs.length/2),Yt=Re.lessThan(0),Rt=le.lessThan(0);for($e[1]=1,Me[1]=1;at--;)for(var Jt in $e)for(var Ft in Me)for(var Pn=0;Pn<ne.length;Pn++){var Si=oe(Jt,Ft,ne[Pn],at);if(Si)return Ae.Utils.isPrime((L=Si[0]).sub(G))||(L=qe.Factor.search(L,U)),L;Si||(Yt&&Rt?Si=oe(-Jt,-Ft,ne[Pn],at):Yt?Si=oe(-Jt,Ft,ne[Pn],at):Rt&&(Si=oe(Jt,-Ft,ne[Pn],at)))}return L},mSqfrFactor:function(L,U){if(L.group!==qn)for(var G=Bi(L).reverse(),R=0;R<G.length;R++)do{if(G[R]!==L.value){var oe=Ae.Calculus.diff(L,G[R]),le=qe.Factor.coeffFactor(oe);if(le.equals(0))break;var Me=!0;if(le.isConstant()&&L.isComposite()&&L.each(function(et){et.multiplier%le!=0&&(Me=!1)},!0),Me){var Re=qe.div(L,le.clone()),$e=Re[1].equals(0);if(L.equals(Re[0])&&Re[1].equals(0))break;if(Re[0].isConstant()){U.add(Re[0]);break}}else $e=!1;$e&&(U.add(Re[0]),L=le)}else U.add(L),L=new Xe(1)}while($e);return L},sqdiff:function(L,U){if(L.isConstant("all"))return L;try{var G=function(ve){return Ae.Utils.block("POSITIVE_MULTIPLIERS",function(){return Xe.unwrapPARENS(Un.sqrt(Un.abs(ve)))},!0)},R=Ae.Utils.separate(L.clone()),oe=[];for(var le in R)"constants"!==le&&oe.push(R[le]);if(oe.sort(function(ve,ne){return ne.power-ve.power}),2===oe.length){var Me,Re;if(Me=oe.pop(),Re=oe.pop(),$t(Me.power)&&$t(Re.power)&&Me.sign()===Re.sign()&&Me.group===De&&Re.group===De)throw new Error("Unable to factor");if(Me.isComposite()&&Re.power.equals(2)){Re=G(Re);var $e=qe.Factor.factor(F.add(Me,R.constants));$e.power.equals(2)&&($e.toLinear(),U.add(F.subtract($e.clone(),Re.clone())),U.add(F.add($e,Re)),L=new Xe(1))}else if(Me=Me.powSimp(),Re=Re.powSimp(),(Me.group===De||""===Me.fname)&&Me.power.equals(2)&&(Re.group===De||""===Re.fname)&&Re.power.equals(2)&&!R.constants){if(Me.multiplier.lessThan(0)){var et=Re;Re=Me,Me=et}Me.multiplier.greaterThan(0)&&(Me=G(Me),Re=G(Re)),U.add(F.subtract(Me.clone(),Re.clone())),U.add(F.add(Me,Re)),L=new Xe(1)}}}catch{}return L},mfactor:function(L,U){if(L.group===qn)if("sqrt"===L.fname){var G=new Di,R=qe.Factor.common(L.args[0].clone(),G);R=qe.Factor.coeffFactor(R,G),L=F.multiply(F.symfunction("sqrt",[R]),F.parse(L.multiplier)),G.each(function(rr){L=F.multiply(L,F.parse(Ae.Utils.format("sqrt({0})",rr)))})}else U.add(L);else{L=qe.Factor.mSqfrFactor(L,U);for(var oe=Bi(L),le=L.collectSymbols().map(function(rr){return Xe.unwrapSQRT(rr)}),Me={},Re={},$e=oe.length,et=le.length,ve=0;ve<$e;ve++){var ne=oe[ve];Me[ne]=new Xe(0);for(var at=0;at<et;at++){var Yt=le[at];if(Yt.contains(ne)){var Rt=Yt.value===ne?Yt.power.toDecimal():Yt.symbols[ne].power.toDecimal();(!Re[ne]||Rt<Re[ne])&&(Re[ne]=Rt),Me[ne]=F.add(Me[ne],Yt.clone())}}}for(var Jt in Me){var Ft=F.parse(Jt+"^"+Re[Jt]),Pn=F.divide(Me[Jt],Ft),Si=F.expand(Pn);if(Si.equals(1))break;var gi=qe.div(L.clone(),Si);if(gi[0].equals(0))break;if(gi[1].equals(0)){var si=!1;if(gi[0].each(function(rr){In(rr.multiplier)||(si=!0)}),si){gi[1]=F.expand(F.multiply(gi[1],Si));break}}var Wi=In(Si)&&Si.lessThan(0);if(gi[1].equals(0)&&!Wi){var zn=qe.div(L.clone(),gi[0].clone());if((Ft=zn[0]).equals(0)||(L=zn[1],Ft.equals(-1)&&!L.equals(0)))return L;var ri=gi[0];if(L.equals(ri)){var Yi=qe.Factor.reduce(ri,U);return L.equals(Yi)?Yi:qe.Factor.mfactor(Yi,U)}return U.add(ri),L.equals(0)?Ft:Ft.isConstant("all")?(U.add(Ft),Ft):qe.Factor.mfactor(Ft,U)}}}return L=qe.Factor.sqdiff(L,U),L=qe.Factor.zeroes(L,U)}},allLinear:function(L){for(var U=L.length,G=0;G<U;G++)if(!qe.isLinear(L[G]))return!1;return!0},isLinear:function(L){var U=!1,G=L.group;if(G===bn||G===Qi)for(var R in U=!0,L.symbols){var oe=L.symbols[R],le=oe.group;if((le===qn||le===it)&&(U=!1),le===Ht)U=1===Bi(oe).length;else if(le===bn||le===Qi)U=qe.isLinear(oe);else if(oe.group!==dn&&"1"!==oe.power.toString()){U=!1;break}}else G===De&&1===L.power&&(U=!0);return U},gcd:function(){var L;if(0===(L=1===arguments.length&&arguments[0]instanceof Ae.Vector?arguments[0].elements:Ae.Utils.arguments2Array(arguments)).length)return new Xe(1);if(1===L.length)return L[0];for(var U=[],G=!1,R=0;R<L.length;R++)if(L[R].group===qn&&"gcd"===L[R].fname)(L=L.concat(arguments[R].args)).splice(R,1);else{var oe=Bi(L[R]);if(Ae.Utils.haveIntersection(oe,U)){G=!0;break}U=U.concat(oe)}if(G||0===U.length){if(L.every(function(Me){return Me.getDenom().equals(1)})){var le=L[0];for(R=1;R<L.length;R++)le=qe.gcd_(L[R],le);return le}return F.divide(qe.gcd.apply(null,L.map(function(Me){return Me.getNum()})),qe.lcm.apply(null,L.map(function(Me){return Me.getDenom()})))}return F.symfunction("gcd",L)},gcd_:function(L,U){if((L.group===qn||L.group===_n)&&(L=Ae.Utils.block("PARSE2NUMBER",function(){return F.parse(L)})),U.group===qn&&(U=Ae.Utils.block("PARSE2NUMBER",function(){return F.parse(U)})),L.isConstant()&&U.isConstant())return new Xe(Ae.Math2.QGCD(new Tt(+L),new Tt(+U)));var G=F.multiply(L.getDenom()||new Xe(1),U.getDenom()||new Xe(1)).invert();if(L=F.multiply(L.clone(),G.clone()),U=F.multiply(U.clone(),G.clone()),L=F.expand(L),U=F.expand(U),L.group===Ht||U.group===Ht){var R=F.divide(L.clone(),U.clone());if(!(oe=F.multiply(U.clone(),R.getDenom().invert())).equals(1))return oe}if(L.group===it||U.group===it){var le=new Xe(Ae.Math2.GCD(L.multiplier,U.multiplier)),Me=qe.gcd_(L.value===An?new Xe(1):F.parse(L.value),U.value===An?new Xe(1):F.parse(U.value)),Re=qe.gcd_(F.parse(L.power),F.parse(U.power));return F.multiply(le,F.pow(Me,Re))}if(L.length<U.length){var oe=L;L=U,U=oe}var $e=Bi(L),et=Bi(U);if($e.length===et.length&&1===$e.length&&$e[0]===et[0]||1===$e.length&&0===et.length||0===$e.length&&1===et.length)return L=new qt(L),U=new qt(U),F.divide(L.gcd(U).toSymbol(),G);var ne,ve=[];for(L.each(function(Yt){ve.push(Yt.multiplier)}),U.each(function(Yt){ve.push(Yt.multiplier)});!U.equals(0);){if(oe=U.clone(),L=L.clone(),ne=qe.div(L,oe),U=ne[1],ne[0].equals(0))return F.divide(new Xe(Ae.Math2.QGCD(L.multiplier,U.multiplier)),G);L=oe}var at=Ae.Math2.QGCD.apply(void 0,ve);return at.equals(1)||L.each(function(Yt){Yt.multiplier=Yt.multiplier.divide(at)}),!L.equals(1)||L.isConstant()||U.isConstant()?F.divide(L,G):F.divide(F.symfunction("gcd",arguments),G)},lcm:function(){var L;1===arguments.length?arguments[0]instanceof Ae.Vector?L=arguments[0].elements:F.error("lcm expects either 1 vector or 2 or more arguments"):L=Ae.Utils.arguments2Array(arguments);var R,U=L.reduce(function(le,Me){return F.multiply(le,Me.clone())},new Xe(1)),G=function(le,Me){Me=Number(Me);var $e,et,ve,Re=[],ne=Math.pow(2,le.length);for(et=Me;et<ne;et++){$e=[],ve=le.length-1;do{et&1<<ve&&$e.push(le[ve])}while(ve--);$e.length===Me&&Re.push($e)}return Re}(arguments,arguments.length-1).map(function(le){return le.reduce(function(Me,Re){return F.multiply(Me,Re.clone())},new Xe(1))});return R=L.every(function(le){return Ae.Utils.isVariableSymbol(le)})?F.symfunction("gcd",Ae.Utils.arrayUnique(G)):qe.gcd.apply(null,G),F.divide(U,R)},divide:function(L,U){var G,R,oe,le;return(le=(oe=Ae.Algebra.Factor.factor(L.clone())).getDenom()).isConstant("all")?le=new Xe(1):L=F.expand(Xe.unwrapPARENS(F.multiply(oe,le.clone()))),G=qe.div(L,U),R=F.divide(G[1],U),F.divide(F.add(G[0],R),le)},div:function(L,U){var _t,Ge,G=[new Xe(0),L.clone()];try{if(U.isConstant("all"))return L.each(function(_t){_t.multiplier=_t.multiplier.divide(U.multiplier)}),[L,new Xe(0)];if(L=F.expand(L),U=F.expand(U),L.group===De&&U.group===Qi){var R=L.value,oe=Ae.Utils.decompose_fn(U.clone(),R,!0);if(L.isLinear()&&oe.x&&oe.x.isLinear()&&U.isLinear()){var le=Xe.create(L.multiplier);return[F.divide(le.clone(),oe.a.clone()),F.divide(F.multiply(le,oe.b),oe.a).negate()]}}if(L.group===De&&U.group===De){var Me=F.divide(L.clone(),U.clone());return Me.isConstant()?[Me,new Xe(0)]:[new Xe(0),L.clone()]}var Re=L.hasFunc(),$e=U.hasFunc(),et=!1;if(Re||$e){et=!0;var ve={},ne=(L=F.parse(Ae.Utils.subFunctions(L,ve)),U=F.parse(Ae.Utils.subFunctions(U,ve)),Ae.Utils.getFunctionsSubs(ve))}var Yt,Rt,at=Ae.Utils.arrayUnique(Bi(L).concat(Bi(U)));if((L.isImaginary()||U.isImaginary())&&at.push(Ae.Settings.IMAGINARY),1===at.length)Yt=(Jt=new qt(L).divide(new qt(U)))[0].toSymbol(),Rt=Jt[1].toSymbol();else{at.push(An);var Ft=function(_t){for(var Ge=new Xe(0),yt=0;yt<_t.length;yt++){var Kt=_t[yt].toSymbol();Ge=F.add(Ge,Kt)}return Ge},Pn=function(_t,Ge){var xt,yt=Math.max.apply(null,_t.terms),Kt=0;if(!Ge)for(var Ct=0;Ct<_t.terms.length;Ct++)if(_t.terms[Ct].equals(yt)&&(xt=Ct,Kt++),Kt>1)return;if(Ge)for(Ct=0;Ct<_t.terms.length;Ct++)if(_t.terms[Ct].equals(yt)){xt=Ct;break}return[yt,xt,_t]},Si=function(_t,Ge){var yt=_t[Ge=Ge||0],Kt=_t.length;if(yt){for(var xt=Pn(yt),Ct=Ge+1;Ct<Kt;Ct++){var mt=_t[Ct],hn=yt.sum.equals(mt.sum);if(!hn&&xt)break;if(hn){for(var mn,xn,hi,ti,Br=yt.terms.length,mi=0;mi<Br;mi++){var ni=yt.terms[mi],Tr=mt.terms[mi];(typeof mn>"u"||ni.greaterThan(mn))&&(mn=ni,hi=mi),(typeof xn>"u"||Tr.greaterThan(xn))&&(xn=Tr,ti=mi)}var ii=mn.subtract(mt.terms[hi]),_r=xn.subtract(yt.terms[ti]);if(_r>ii){xt=[xn,ti,mt];break}if(ii>_r){xt=[mn,hi,yt];break}}else if(xt=Pn(mt))break;xt=Pn(mt)}if(!xt)return Pn(_t[0],!0);var Mr,ui;for(Ct=0;Ct<ri.length;Ct++){var Yn=ri[Ct].terms;if((ui=xt[1])===Yn.length-1)return;if(!(Mr=Yn[ui]).equals(0))break}return Mr.equals(0)?Si(_t,++Ge):xt}},gi=Ae.Utils.toMapObj(at),si=function(_t,Ge){return Ge.sum.subtract(_t.sum)},Wi=function(_t,Ge){if(!_t||!Ge)return!1;for(var yt=0;yt<_t.terms.length;yt++)if(_t.terms[yt].lessThan(Ge.terms[yt]))return!1;return!0},zn=L.tBase(gi).sort(si),ri=U.tBase(gi).sort(si),Yi=Wi(zn[0],ri[0])&&zn[0].count>ri[0].count?ri:zn,rr=Si(Yi),Ve=[];if(rr){var We=rr[1],Gt=function(_t,Ge){var yt=_t.len(),Kt=Ge.len(),xt=Ge.terms[We],Ct=_t.terms[We];return Kt>yt&&xt.greaterThan(Ct)?Kt-yt:xt.subtract(Ct)};We=function(_t,Ge,yt){for(var Kt=[],xt=0;xt<_t.length;xt++)for(var Ct=_t[xt],mt=0;mt<Ct.terms.length;mt++){var hn=Kt[mt],mn=Ct.terms[mt];0===xt?Kt[mt]=mn:hn&&!hn.equals(mn)&&(Kt[mt]=void 0)}for(xt=0;xt<Kt.length;xt++)if((Ct=Kt[xt])&&!Ct.equals(0))return xt;return yt}(zn,0,We),zn.sort(Gt),ri.sort(Gt);var en=ri[0],Cn=zn[0],pt=new Wn(new Tt(1),[],Cn.map);if(en.sum.greaterThan(Cn.sum)&&Cn.len()>1)for(var ft=0;ft<Cn.terms.length;ft++){var jn=en.terms[ft].subtract(Cn.terms[ft]);if(jn.equals(0))pt.terms[ft]=new Tt(0);else{var K=jn.add(new Tt(1));pt.terms[ft]=jn;for(var _e=0;_e<zn.length;_e++)zn[_e].terms[ft]=zn[_e].terms[ft].add(K)}}for(var Ne=Wi(zn[0],ri[0]),At=0;Ne&&(!(_t=zn)[0].sum.equals((Ge=ri)[0].sum)||_t.length>=Ge.length);){if(At++>200)throw new Ae.exceptions.InfiniteLoopError("Unable to compute!");var Jt=zn[0].divide(ri[0]);for(Ve.push(Jt),zn.shift(),ft=1;ft<ri.length;ft++){var xe=ri[ft].multiply(Jt).generateImage(),Nt=zn.length;for(0===Nt&&(xe.coeff=xe.coeff.neg(),zn.push(xe),zn.sort(Gt)),_e=0;_e<Nt;_e++){var Ye=zn[_e];if(Ye.getImg()===xe.getImg()){Ye.coeff=Ye.coeff.subtract(xe.coeff),Ye.coeff.equals(0)&&(Ae.Utils.remove(zn,_e),_e--);break}_e===Nt-1&&(xe.coeff=xe.coeff.neg(),zn.push(xe),zn.sort(Gt))}}if(!(Ne=Wi(zn[0],ri[0]))&&zn.length>=ri.length)for(ft=1;ft<zn.length;ft++)if(Ne=Wi(zn[ft],ri[0])){zn.unshift(Ae.Utils.remove(zn,ft));break}}}Yt=Ft(Ve),Rt=Ft(zn),typeof pt<"u"&&(pt=pt.toSymbol(),Yt=F.divide(Yt,pt.clone()),Rt=F.divide(Rt,pt))}return et&&(Yt=F.parse(Yt.text(),ne),Rt=F.parse(Rt.text(),ne)),[Yt,Rt]}catch{return G}},line:function(L,U,G){Ae.Utils.isArray(L)&&(L=Ae.Utils.convertToVector(L)),Ae.Utils.isArray(U)&&(U=Ae.Utils.convertToVector(U)),G=F.parse(G||"x"),(!Ae.Utils.isVector(L)||!Ae.Utils.isVector(U))&&F.error('Line expects a vector! Received "'+L+'" & "'+U+'"');var R=F.subtract(U.e(1).clone(),L.e(1).clone()),oe=F.subtract(U.e(2).clone(),L.e(2).clone()),le=F.divide(oe,R),Me=F.multiply(G,le.clone()),Re=F.multiply(L.e(1).clone(),le);return F.add(F.subtract(Me,Re),L.e(2).clone())},PartFrac:{createTemplate:function(L,U,G,R){var oe,le,Me,Re,$e,et,ve;(L=qe.Factor.factor(L)).each(function(Ft,Pn){if(Ft.group===qn&&""===Ft.fname&&Ft.args[0].group===De){var Si=Ft.args[0];this.symbols?(delete this.symbols[Pn],this.symbols[Si.value]=Si):L=Ft.args[0]}}),oe=U.collectFactors(),le=[],et=[],ve=new Xe(1);for(var ne=0;ne<oe.length;ne++){var at=Xe.unwrapPARENS(oe[ne]);if(at.power.greaterThan(1)){Re=Number(at.power),Me=at.clone().toLinear(),$e=Number(qe.degree(Me,R));for(var Yt=0;Yt<Re;Yt++){var Rt=F.pow(Me.clone(),new Xe(Yt+1));G.push(Rt.clone());var Jt=F.divide(L.clone(),Rt.clone());et.push($e),le.push(Jt)}}else $e=Number(qe.degree(at,R)),G.push(at),Jt=F.divide(L.clone(),at.clone()),Jt=F.expand(Xe.unwrapPARENS(Jt)),et.push($e),le.push(Jt)}return[G=G.map(function(Ft){return F.multiply(Ft,ve.clone())}),le,et]},partfrac:function(L,U,G){var R=Bi(L);U=U||F.parse(R[0]);try{var oe,le,Me,Re,$e,et,ve,ne,at,Yt,Rt,Jt,Ft,Si,gi,si,zn,ri;if(oe=F.expand(L.getNum()),le=F.expand(L.getDenom().toUnitMultiplier()),oe.multiplier=L.multiplier,$e=oe.groupTerms(U),Number(qe.degree(oe,U))>=Number(qe.degree(le,U))?(Ft=(Jt=qe.div(oe.clone(),F.expand(le.clone())))[0],$e=(oe=Jt[1]).groupTerms(U)):Ft=new Xe(0),1===Number(qe.degree(le,U))){var Wi=F.divide(oe,le);return G?[Ft,Wi]:F.add(Ft,Wi)}Re=qe.Factor.factor(le),gi=qe.PartFrac.createTemplate(le.clone(),Re,[],U),si=gi[0],et=gi[2],Rt=[$e.length],ve=[],Me=[],Si=[],gi[1].map(function(Gt,en){zn=si[en],ri=et[en];for(var Cn=0;Cn<ri;Cn++){Me.push(zn.clone());var pt=Xe.create(U,Cn),ft=F.expand(F.multiply(Gt,pt.clone())).groupTerms(U);Rt.push(ft.length),ve.push(ft),Si.push(pt.clone())}}),ne=Ae.Utils.arrayMax(Rt),Yt=new Ae.Matrix(Ae.Utils.fillHoles($e,ne)).transpose(),at=new Ae.Matrix;for(var Yi=0;Yi<ve.length;Yi++)at.elements.push(Ae.Utils.fillHoles(ve[Yi],ne));var rr=F.multiply(at.transpose().invert(),Yt),Ve=G?[Ft]:Ft;return rr.each(function(Gt,en){var Cn=F.multiply(Si[en],F.divide(Gt,Me[en]));G?Ve.push(Cn):Ve=F.add(Ve,Cn)}),Ve}catch{try{if(L.isComposite()){var We={};L.each(function(en){var Cn=en.getDenom(),pt=en.getNum(),ft=We[Cn];We[Cn]=ft?F.add(ft,pt):pt});var ht=new Xe(0);for(var ot in We)ht=F.add(ht,F.divide(We[ot],F.parse(ot)));L=ht}}catch{}}return L}},degree:function(L,U,G){if(G=G||{nd:[],sd:[],depth:0},!U){var R=Bi(L);if(R.length>1)throw new Error("You must specify the variable for multivariate polynomials!");if(0===R.length)return new Xe(0);U=F.parse(R[0])}var oe=L.group;L.isComposite()?((L=L.clone()).distributeExponent(),L.each(function(Me){G.depth++,qe.degree(Me,U,G),G.depth--})):L.group===Ht?L.each(function(Me){G.depth++,qe.degree(Me,U,G),G.depth++}):oe===it&&L.value===U.value?G.sd.push(L.power.clone()):G.nd.push(oe===De&&L.value===U.value?F.parse(L.power):new Xe(0));var le=G.nd.length>0?Ae.Utils.arrayMax(G.nd):void 0;return 0===G.depth&&G.sd.length>0?(void 0!==le&&G.sd.unshift(le),F.symfunction("max",G.sd)):(Ae.Utils.isSymbol(le)||(le=F.parse(le)),le)},sqComplete:function(L,U,G){Ae.Utils.isSymbol(U)||(U=F.parse(U));var oe,le,Me,Re,$e,et,ve,ne,at,Yt,Rt,R=function(Jt){throw new Ae.exceptions.ValueLimitExceededError(Jt=Jt||"Stopping")};return L.isPoly(!0)||R("Must be a polynomial!"),at=Ae.Utils.inBrackets,L=L.clone(),(oe=Ae.Algebra.degree(L,U)).equals(2)||R("Cannot complete square for degree "+oe),le=(ve=Ae.Algebra.coeffs(L,U))[2],ne=ve[1].sign(),Me=F.divide(ve[1],new Xe(2)),Re=F.pow(Me.clone(),new Xe(2)),G?[le,Me,$e]:(Rt=Un.sqrt(le),et=F.divide(Un.sqrt(Re),Rt.clone()),$e=F.subtract(ve[0],F.pow(et.clone(),new Xe(2))),{a:Yt=F.parse(at(Rt.clone()+"*"+U+(ne<0?"-":"+")+et)),c:$e,f:F.add(F.pow(Yt.clone(),new Xe(2)),$e.clone())})},Simplify:{strip:function(L){var U=F.parse(L.multiplier);L.toUnitMultiplier();var G=F.parse(L.power);return L.toLinear(),[U,G,L]},unstrip:function(L,U){return F.multiply(L[0],F.pow(U,L[1]))},complexSimp:function(L,U){var G,R,oe,le,Me,Re,$e,et,ve;return Re=L.realpart(),et=L.imagpart(),$e=U.realpart(),ve=U.imagpart(),G=F.multiply(Re.clone(),$e.clone()),R=F.multiply(et.clone(),ve.clone()),oe=F.multiply($e.clone(),et),le=F.multiply(Re,ve.clone()),Me=F.add(F.pow($e,new Xe(2)),F.pow(ve,new Xe(2))),F.divide(F.add(F.add(G,R),F.multiply(F.subtract(oe,le),Xe.imaginary())),Me)},trigSimp:function(L){if(L.containsFunction(["cos","sin","tan"])){L=L.clone();var U=qe.Simplify.strip(L),G=(L=U.pop()).clone();if(L.group===Qi){var R=new Xe(0);L.each(function(Re){var $e=qe.Simplify.trigSimp(Re.fnTransform());R=F.add(R,$e)},!0),G=F.pow(F.multiply(new Xe(L.multiplier),R),new Xe(L.power))}else if(L.group===Ht){var oe=L.getNum(),le=L.getDenom();if("sin"===oe.fname&&"cos"===le.fname&&oe.args[0].equals(le.args[0])&&oe.power.equals(le.power)&&(G=F.parse(Ae.Utils.format("({0})*({1})*tan({2})^({3})",le.multiplier,oe.multiplier,oe.args[0],oe.power))),G.group===Ht){var Me=new Xe(1);G.each(function(Re){"tan"===Re.fname&&(Re=F.parse(Ae.Utils.format("({0})*sin({1})^({2})/cos({1})^({2})",Re.multiplier,qe.Simplify.simplify(Re.args[0]),Re.power))),Me=F.multiply(Me,Re)}),G=Me}}L=G=qe.Simplify.unstrip(U,G).distributeMultiplier()}return L},fracSimp:function(L){var U=L.getDenom();if((G=L.getNum()).isImaginary()&&U.isImaginary()&&(L=qe.Simplify.complexSimp(G,U)),L.isComposite()){L.power>1&&(L=F.expand(L));var oe,le,Me,Re,$e,et,ve,ne,at,Yt,Rt,G,R=L.collectSymbols();for(le=R.pop();R.length;)Me=R.pop(),Re=F.parse(le.getDenom()),$e=F.parse(Me.getDenom()),et=le.getNum(),ve=Me.getNum(),Rt=F.multiply(Re.clone(),$e.clone()),at=F.multiply(et,$e),Yt=F.multiply(ve,Re),ne=F.add(at,Yt),le=F.divide(ne,Rt);return U=F.expand(le.getDenom()),(oe=(G=F.expand(le.getNum())).isImaginary()&&U.isImaginary()?qe.Simplify.complexSimp(G,U):F.divide(G,U)).equals(L)?L:qe.Simplify.simplify(oe)}return L},ratSimp:function(L){if(L.group===Ht){var U=L.getDenom(),G=L.getNum().distributeMultiplier(),R=qe.Simplify.fracSimp(U),oe=qe.Simplify.fracSimp(G);L=F.divide(oe,R)}return L},sqrtSimp:function(L,U){if(L.isSQRT()){var Me,R=qe.Factor.factor(L.args[0].clone()),oe=F.parse(R.multiplier),le=oe.sign(),G=F.sqrt(oe.abs());if(In(G)){if(R.group===Ht){var Re=new Xe(1);R.each(function(ve){if(ve.group===dn){var ne=F.sqrt(ve.clone());In(ne)?G=F.multiply(G,ne):Re=F.multiply(Re,ve)}else Re=F.multiply(Re,ve)});var $e=F.multiply(Re,F.parse(le));(Me=F.sqrt($e.clone())).isImaginary&&(Me=F.sqrt(F.expand($e.clone())))}else Me=F.sqrt(R.clone().toUnitMultiplier());return F.multiply(G,Me)}}else L.isComposite()&&L.isLinear()?(G=new Xe(0),L.each(function(et){G=F.add(G,qe.Simplify.sqrtSimp(et))},!0),G=F.multiply(G,F.parse(L.multiplier))):L.group===Ht&&(G=F.parse(L.multiplier),L.each(function(et){var ve=qe.Simplify.sqrtSimp(et);G=F.multiply(G,ve)},!0),G=F.pow(G,F.parse(L.power)));return G||F.parse(L)},patternSub:function(L){var U={},G=function(oe){var le=!1;return oe.each(function(Me){Me.group===Qi?le=!0:Me.symbols&&(le=G(Me))}),le},R=function(oe){oe.each(function(le){if(le.symbols||le.group===qn)if(G(le))R(le);else if(!U[le.value]){var Me=Ae.Utils.getU(L);U[le.value]=Me,L=L.sub(le.value,Me)}},!0)};return R(L),[L,U]},simplify:function(L){var U=qe.Simplify.strip(L);if(L=U.pop(),(L=qe.Simplify.fracSimp(L)).isConstant()||L.group===Ae.groups.S)return U.push(L),qe.Simplify.unstrip(U,L);var R=L.clone();if(R=qe.Simplify.trigSimp(R),R=qe.Simplify.ratSimp(R),(R=qe.Factor.factor(R)).group===Ae.groups.CP&&R.isLinear()){var oe=R.multiplier.clone();R.toUnitMultiplier();var le=new Xe(0);R.each(function(Re){var $e=qe.Simplify.simplify(Re);le=F.add(le,$e)}),R=le,le.multiplier=le.multiplier.multiply(oe)}return qe.Simplify.unstrip(U,R)}},Classes:{Polynomial:qt,Factors:Di,MVTerm:Wn}};Ae.Expression.prototype.simplify=function(){return qe.Simplify.simplify(this.symbol)},Ln.useAlgebraDiv=function(){var L=qe.divideFn=F.divide,U=0;F.divide=function(G,R){var oe;return oe=1==++U?Ae.Algebra.divide(G,R):L(G,R),U=0,oe}},Ln.useParserDiv=function(){qe.divideFn&&(F.divide=qe.divideFn),delete qe.divideFn},Ln.register([{name:"factor",visible:!0,numargs:1,build:function(){return qe.Factor.factor}},{name:"simplify",visible:!0,numargs:1,build:function(){return qe.Simplify.simplify}},{name:"gcd",visible:!0,numargs:[1],build:function(){return qe.gcd}},{name:"lcm",visible:!0,numargs:[1],build:function(){return qe.lcm}},{name:"roots",visible:!0,numargs:-1,build:function(){return qe.roots}},{name:"divide",visible:!0,numargs:2,build:function(){return qe.divide}},{name:"div",visible:!0,numargs:2,build:function(){return qe.div}},{name:"partfrac",visible:!0,numargs:[1,2],build:function(){return qe.PartFrac.partfrac}},{name:"deg",visible:!0,numargs:[1,2],build:function(){return qe.degree}},{name:"coeffs",visible:!0,numargs:[1,2],build:function(){return function(){var U=qe.coeffs.apply(qe,arguments);return new Ae.Vector(U)}}},{name:"line",visible:!0,numargs:[2,3],build:function(){return qe.line}},{name:"sqcomp",visible:!0,numargs:[1,2],build:function(){return function(U,G){try{return G=G||Bi(U)[0],qe.sqComplete(U.clone(),G).f}catch{return U}}}}]),Ln.updateAPI()}()},540:(ko,Kr,ei)=>{if(typeof Ln>"u"){var Ln=ei(745);ei(130)}!function(){"use strict";var Ae=Ln.getCore(),F=Ae.PARSER,dn=Ae.Frac,_n=Ae.Settings,De=Ae.Utils.isSymbol,it=Ae.Symbol,qn=Ae.Utils.text,bn=Ae.Utils.inBrackets,Qi=Ae.Utils.isInt,Ht=Ae.Utils.format,Fe=Ae.Utils.even,$t=Ae.Utils.evaluate,Bi=Ae.groups.N,an=Ae.groups.S,fn=Ae.groups.FN,Tt=Ae.groups.PL,In=Ae.groups.CP,Xe=Ae.groups.CB,An=Ae.groups.EX,Un=Ae.groups.P,gn=_n.LOG,Di="abs",Wn="sqrt",qe="sin",L="cos",U="tan",G="sec",R="csc",oe="cot",le="asin",Me="acos",Re="atan",$e="asec",et="acsc",ve="acot",ne="sinh",at="cosh",Yt="tanh",Jt="sech",Pn="asech",Si="acsch",gi="acoth";function si(We){this.message=We||""}si.prototype=new Error,it.prototype.hasIntegral=function(){return this.containsFunction("integrate")},it.prototype.fnTransform=function(){if(this.group!==fn)return this;var We,ht=this.args[0],ot=new it(this.multiplier),Gt=this.clone().toUnitMultiplier();if(this.isLinear())switch(this.fname){case ne:We=F.parse(Ht("(e^({0})-e^(-({0})))/2",ht));break;case at:We=F.parse(Ht("(e^({0})+e^(-({0})))/2",ht));break;case Yt:We=F.parse(Ht("(e^({0})-e^(-({0})))/(e^({0})+e^(-({0})))",ht));break;case U:We=F.parse(Ht("sin({0})/cos({0})",ht));break;case R:We=F.parse(Ht("1/sin({0})",ht));break;case G:We=F.parse(Ht("1/cos({0})",ht));break;default:We=Gt}else if(this.power.equals(2))switch(this.fname){case qe:We=F.parse(Ht("1/2-cos(2*({0}))/2",ht));break;case L:We=F.parse(Ht("1/2+cos(2*({0}))/2",ht));break;case U:We=F.parse(Ht("sin({0})^2/cos({0})^2",ht));break;case at:We=F.parse(Ht("1/2+cosh(2*({0}))/2",ht));break;case ne:We=F.parse(Ht("-1/2+cosh(2*({0}))/2",ht));break;case Yt:We=F.parse(Ht("(1+cosh(2*({0})))/(-1+cosh(2*({0})))",ht));break;case G:We=F.parse(Ht("(1-cos(2*({0})))/(1+cos(2*({0})))+1",ht));break;default:We=Gt}else if(this.fname===G)We=F.parse(Ht("1/cos({0})^({1})",this.args[0],this.power));else if(this.fname===R)We=F.parse(Ht("1/sin({0})^({1})",this.args[0],this.power));else if(this.fname===U)We=this.power.lessThan(0)?F.parse(Ht("cos({0})^(-({1}))/sin({0})^({1})",this.args[0],this.power.negate())):F.parse(Ht("sin({0})^({1})/cos({0})^({1})",this.args[0],this.power));else if(this.fname===qe&&this.power.lessThan(0))We=F.parse(Ht("csc({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===L&&this.power.lessThan(0))We=F.parse(Ht("sec({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===qe&&this.power.equals(3))We=F.parse(Ht("(3*sin({0})-sin(3*({0})))/4",this.args[0]));else if(this.fname===L&&this.power.equals(3))We=F.parse(Ht("(cos(3*({0}))+3*cos({0}))/4",this.args[0]));else if(this.fname!==L&&this.fname!==qe||!Fe(this.power))We=Gt;else{var en=this.power/2,Cn=F.pow(this.clone().toLinear(),F.parse(2)).fnTransform(),pt=F.expand(F.pow(Cn,F.parse(en)));We=new it(0),pt.each(function(ft){var jn=ft.fnTransform();We=F.add(We,jn)},!0)}return F.multiply(We,ot)},it.prototype.hasTrig=function(){if(this.isConstant(!0)||this.group===an)return!1;if(this.fname&&(Ae.Utils.in_trig(this.fname)||Ae.Utils.in_inverse_trig(this.fname)))return!0;if(this.symbols)for(var We in this.symbols)if(this.symbols[We].hasTrig())return!0;return!1},Ae.Expression.prototype.hasIntegral=function(){return this.symbol.hasIntegral()},Ae.Utils.toCommonDenominator=function(We){if(We.isComposite()&&We.isLinear()){var ht=new it(We.multiplier),ot=new it(1),Gt=new it(0);return We.each(function(Cn){ot=F.multiply(ot,Cn.getDenom())},!0),We.each(function(Cn){var pt=Cn.getNum(),ft=Cn.getDenom(),jn=F.multiply(pt,F.divide(ot.clone(),ft));Gt=F.add(Gt,jn)}),F.multiply(ht,Ae.Algebra.divide(F.expand(Gt),F.expand(ot)))}return We},Ae.Utils.in_inverse_trig=function(We){return-1!==[le,Me,Re,et,$e,ve].indexOf(We)},Ae.Utils.in_trig=function(We){return-1!==[L,qe,U,G,R,oe].indexOf(We)},Ae.Utils.in_htrig=function(We){return-1!==[ne,at,Yt,Si,Pn,gi].indexOf(We)},Ae.Matrix.jacobian=function(We,ht){var ot=new Ae.Matrix;return ht||(ht=Ae.Utils.arrayGetVariables(We)),ht.forEach(function(Gt,en){We.forEach(function(Cn,pt){var ft=Ae.Calculus.diff(Cn.clone(),Gt);ot.set(pt,en,ft)})}),ot},Ae.Matrix.prototype.max=function(){var We=new it(0);return this.each(function(ht){var ot=ht.abs();ot.gt(We)&&(We=ot)}),We},Ae.Matrix.cMatrix=function(We,ht){var ot=new Ae.Matrix;return ht.forEach(function(Gt,en){ot.set(en,0,F.parse(We))}),ot};var Wi=Ae.Utils.all_functions=function(We){for(var ht=0,ot=We.length;ht<ot;ht++)if(We[ht].group!==fn)return!1;return!0},zn=Ae.Utils.cosAsinBtranform=function(We,ht){return F.parse(Ht("(sin(({0})+({1}))-sin(({0})-({1})))/2",We.args[0],ht.args[0]))},ri=Ae.Utils.cosAsinAtranform=function(We,ht){return 1!==Number(ht.power)?F.multiply(We,ht):F.parse(Ht("(sin(2*({0})))/2",We.args[0]))},Yi=Ae.Utils.cosAsinBtranform=function(We,ht){return F.parse(Ht("(cos(({0})+({1}))-cos(({0})-({1})))/2",We.args[0],ht.args[0]))},rr=Ae.Utils.trigTransform=function(We){for(var ot,Gt,ht={},en=new it(1),Cn=0,pt=We.length;Cn<pt;Cn++)if((ot=We[Cn]).group===fn){var ft=ot.fname;ft===L&&ht[qe]?(Gt=ht[qe].args[0].toString()!==ot.args[0].toString()?zn(ot,ht[qe]):ri(ot,ht[qe]),delete ht[qe],en=F.multiply(en,Gt)):ft===qe&&ht[L]?(Gt=ht[L].args[0].toString()!==ot.args[0].toString()?zn(ot,ht[L]):ri(ot,ht[L]),delete ht[L],en=F.multiply(en,Gt)):ft===qe&&ht[qe]?(ht[qe].args[0].toString()!==ot.args[0].toString()?(Gt=Yi(ot,ht[qe]),delete ht[qe]):(Gt=F.multiply(ot,ht[qe]),delete ht[qe]),en=Gt):ht[ft]=ot}else en=F.multiply(en,ot);for(var jn in ht)en=F.multiply(en,ht[jn]);return en};Ae.Settings.integration_depth=10,Ae.Settings.max_lim_depth=10;var Ve=Ae.Calculus={version:"1.4.6",sum:function(We,ht,ot,Gt){if(ht.group!==Ae.groups.S)throw new Ae.exceptions.NerdamerTypeError("Index must be symbol. "+qn(ht)+" provided");var en;if(ht=ht.value,Ae.Utils.isNumericSymbol(ot)&&Ae.Utils.isNumericSymbol(Gt)){var Cn=Gt-ot<200?"":"PARSE2NUMBER";ot=Number(ot),Gt=Number(Gt),en=Ae.Utils.block(Cn,function(){for(var pt=We.text(),ft={"~":!0},jn=new Ae.Symbol(0),K=ot;K<=Gt;K++){ft[ht]=new it(K);var _e=F.parse(pt,ft);jn=F.add(jn,_e)}return jn})}else en=F.symfunction("sum",arguments);return en},product:function(We,ht,ot,Gt){if(ht.group!==Ae.groups.S)throw new Ae.exceptions.NerdamerTypeError("Index must be symbol. "+qn(ht)+" provided");return ht=ht.value,Ae.Utils.isNumericSymbol(ot)&&Ae.Utils.isNumericSymbol(Gt)?Ae.Utils.block(Gt-ot<200?"":"PARSE2NUMBER",function(){ot=Number(ot),Gt=Number(Gt.multiplier);for(var pt=We.text(),ft={},jn=new Ae.Symbol(1),K=ot;K<=Gt;K++)ft[ht]=new it(K),jn=F.multiply(jn,F.parse(pt,ft));return jn}):F.symfunction("product",arguments)},diff:function(We,ht,ot){if(Ae.Utils.isVector(We)){var Gt=new Ae.Vector([]);return We.each(function(xe){Gt.elements.push(Ve.diff(xe,ht,ot))}),Gt}if(Ae.Utils.isMatrix(We)){var en=new Ae.Matrix;return We.each(function(xe,Nt,Ye){en.set(Nt,Ye,Ve.diff(xe,ht,ot))}),en}var Cn=De(ht)?ht.text():ht;if(ot=De(ot)?ot.multiplier:ot||1,void 0===Cn&&(Cn=Ae.Utils.variables(We)[0]),We.group===fn&&We.fname===Wn){var pt=We.args[0],ft=We.power.clone();(pt.group!==Bi||pt.group!==Un)&&(pt.power=De(pt.power)?F.multiply(pt.power,F.multiply(new it(.5)),ft):pt.power.multiply(new dn(.5)).multiply(ft),pt.multiplier=pt.multiplier.multiply(We.multiplier)),We=pt}if(We.group!==fn||De(We.power))We=Ne(We);else{var jn=Ne(F.parse(We)),K=Ve.diff(We.args[0].clone(),Cn);We=F.multiply(jn,K)}return ot>1&&(ot--,We=Ve.diff(We,ht,ot)),We;function _e(xe){return(xe.value===Cn||xe.contains(Cn,!0))&&(xe.multiplier=xe.multiplier.multiply(xe.power),xe.power=xe.power.subtract(new dn(1)),xe.power.equals(0)&&(xe=it(xe.multiplier))),xe}function Ne(xe){var _t,Ge,Nt=xe.group;if(Nt===Bi||Nt===an&&xe.value!==Cn||Nt===Un)xe=it(0);else if(Nt===an)xe=_e(xe);else{if(Nt===Xe){var yt=xe.multiplier.clone();xe.toUnitMultiplier();var Kt=F.multiply(function vt(xe){for(var Nt=xe.collectSymbols(),Ye=new it(0),_t=Nt.length,Ge=0;Ge<_t;Ge++){for(var yt=Ve.diff(Nt[Ge].clone(),Cn),Kt=0;Kt<_t;Kt++)Ge!==Kt&&(yt=F.multiply(yt,Nt[Kt].clone()));Ye=F.add(Ye,yt)}return Ye}(xe),_e(xe));return Kt.multiplier=Kt.multiplier.multiply(yt),Kt}if(Nt===fn&&xe.power.equals(1))switch(xe.fname){case gn:Ge=xe.clone(),(xe=xe.args[0].clone()).power=xe.power.negate(),xe.multiplier=Ge.multiplier.divide(xe.multiplier);break;case L:xe.fname=qe,xe.multiplier.negate();break;case qe:xe.fname=L;break;case U:xe.fname=G,xe.power=new dn(2);break;case G:xe=At(xe,U);break;case R:xe=At(xe,"-cot");break;case oe:xe.fname=R,xe.multiplier.negate(),xe.power=new dn(2);break;case le:xe=F.parse("(sqrt(1-("+qn(xe.args[0])+")^2))^(-1)");break;case Me:xe=F.parse("-(sqrt(1-("+qn(xe.args[0])+")^2))^(-1)");break;case Re:xe=F.parse("(1+("+qn(xe.args[0])+")^2)^(-1)");break;case Di:yt=xe.multiplier.clone(),xe.toUnitMultiplier(),(_t=xe.args[0].clone()).toUnitMultiplier(),(xe=F.parse(bn(qn(xe.args[0]))+"/abs"+bn(qn(_t)))).multiplier=yt;break;case"parens":xe=it(1);break;case"cosh":xe.fname="sinh";break;case"sinh":xe.fname="cosh";break;case Yt:xe.fname=Jt,xe.power=new dn(2);break;case Jt:xe=At(xe,"-tanh");break;case"csch":var xt=String(xe.args[0]);return F.parse("-coth("+xt+")*csch("+xt+")");case"coth":return xt=String(xe.args[0]),F.parse("-csch("+xt+")^2");case"asinh":xe=F.parse("(sqrt(1+("+qn(xe.args[0])+")^2))^(-1)");break;case"acosh":xe=F.parse("(sqrt(-1+("+qn(xe.args[0])+")^2))^(-1)");break;case"atanh":xe=F.parse("(1-("+qn(xe.args[0])+")^2)^(-1)");break;case Pn:xt=String(xe.args[0]),xe=F.parse("-1/(sqrt(1/("+xt+")^2-1)*("+xt+")^2)");break;case gi:xe=F.parse("-1/(("+xe.args[0]+")^2-1)");break;case Si:xt=String(xe.args[0]),xe=F.parse("-1/(sqrt(1/("+xt+")^2+1)*("+xt+")^2)");break;case $e:xt=String(xe.args[0]),xe=F.parse("1/(sqrt(1-1/("+xt+")^2)*("+xt+")^2)");break;case et:xt=String(xe.args[0]),xe=F.parse("-1/(sqrt(1-1/("+xt+")^2)*("+xt+")^2)");break;case ve:xe=F.parse("-1/(("+xe.args[0]+")^2+1)");break;case"S":xt=String(xe.args[0]),xe=F.parse("sin((pi*("+xt+")^2)/2)");break;case"C":xt=String(xe.args[0]),xe=F.parse("cos((pi*("+xt+")^2)/2)");break;case"Si":xe=F.parse("sin("+(xt=xe.args[0])+")/("+xt+")");break;case"Shi":xe=F.parse("sinh("+(xt=xe.args[0])+")/("+xt+")");break;case"Ci":xe=F.parse("cos("+(xt=xe.args[0])+")/("+xt+")");break;case"Chi":xe=F.parse("cosh("+(xt=xe.args[0])+")/("+xt+")");break;case"Ei":xe=F.parse("e^("+(xt=xe.args[0])+")/("+xt+")");break;case"Li":xe=F.parse("1/"+_n.LOG+"("+(xt=xe.args[0])+")");break;case"erf":xe=F.parse("(2*e^(-("+xe.args[0]+")^2))/sqrt(pi)");break;case"atan2":var Ct=String(xe.args[0]),mt=String(xe.args[1]);xe=F.parse("("+mt+")/(("+mt+")^2+("+Ct+")^2)");break;case"sign":xe=new it(0);break;case"sinc":xe=F.parse(Ht("(({0})*cos({0})-sin({0}))*({0})^(-2)",xe.args[0]));break;case _n.LOG10:xe=F.parse("1/(("+xe.args[0]+")*"+_n.LOG+"(10))");break;default:xe=F.symfunction("diff",[xe,ht])}else if(Nt===An||Nt===fn&&De(xe.power)){var hn;hn=Nt===An?xe.value:Nt===fn&&xe.contains(Cn)?xe.fname+bn(qn(xe.args[0])):xe.value+bn(qn(xe.args[0])),F.multiply(F.parse(gn+bn(hn)),xe.power.clone()),_t=Ve.diff(F.multiply(F.parse(gn+bn(hn)),xe.power.clone()),Cn),xe=F.multiply(xe,_t)}else if(Nt!==fn||xe.power.equals(1)){if(Nt===In||Nt===Tt){var mn=xe.clone(),xn=new it(0);for(var hi in xe.symbols)xn=F.add(xn,Ve.diff(xe.symbols[hi].clone(),Cn));xe=F.multiply(_e(mn),xn)}}else(_t=xe.clone()).toLinear(),_t.toUnitMultiplier(),xe=F.multiply(_e(xe.clone()),Ne(_t))}return xe.updateHash(),xe}function At(xe,Nt,Ye){return F.multiply(xe,F.parse(Nt+bn(Ye||qn(xe.args[0]))))}},integration:{u_substitution:function(We,ht){function ot(Ct,mt,hn){var mn=Ve.diff(mt,ht),xn=hn?hn(Ct,mt):F.divide(Ct.clone(),mn);return xn.contains(ht,!0)?null:xn}function Gt(Ct,mt){var hn=Ve.integrate(F.symfunction(Ct,[new it(jn)]),jn,0);return(hn=hn.sub(new it(jn),mt)).updateHash(),hn}var K,en=We[0].clone(),Cn=We[1].clone(),pt=en.group,ft=Cn.group,jn="__u__";if(pt===fn&&ft!==fn){if(K=ot(Cn,(_e=en.args[0]).clone()))return F.multiply(K,Gt(en.fname,_e));if(K=ot(Cn,en))return Ve.integration.poly_integrate(en)}else if(ft===fn&&pt!==fn){var _e;if(K=ot(en,(_e=Cn.args[0]).clone()))return F.multiply(K,Gt(Cn.fname,_e))}else if(pt===fn&&ft===fn){if((K=ot(en.clone(),Cn.clone()))||(K=ot(Cn.clone(),en.clone())))return F.multiply(Ve.integration.poly_integrate(Cn),K)}else{if(pt===An&&ft!==An){if(!(K=ot(Cn,(Ne=en.power).clone()))){var At=Ve.integration.decompose_arg(Ne.clone(),ht),vt=Ve.diff(At[2].clone(),ht),xe=Ve.integration.decompose_arg(vt.clone(),ht);if(F.multiply(At[1],xe[1]).power.equals(Cn.power)){var Nt=F.divide(At[0].clone(),xe[0].clone()),Ye=F.multiply(Nt.clone(),F.pow(new it(en.value),F.multiply(At[0],new it(jn))));return Ye=F.multiply(Ye,new it(jn)),Ve.integration.by_parts(Ye,jn,0,{}).sub(jn,At[1].clone())}}var _t=Ve.integrate(en.sub(Ne.clone(),new it(jn)),jn,0);return F.multiply(_t.sub(new it(jn),Ne),K)}var Ne;if(ft===An&&pt!==An)return K=ot(en,(Ne=Cn.power).clone()),_t=Ve.integrate(Cn.sub(Ne,new it(jn)),jn,0),F.multiply(_t.sub(new it(jn),Ne),K);if(en.isComposite()||Cn.isComposite()){var yt=function(Ct,mt){var hn=Ve.diff(mt,ht),mn=Ae.Algebra.Factor.factor(Ct),xn=Ae.Algebra.Factor.factor(hn);return F.divide(mn,xn)},Kt=en.isComposite()?en.clone().toLinear():en.clone(),xt=Cn.isComposite()?Cn.clone().toLinear():Cn.clone();if(K=ot(Kt.clone(),xt.clone(),yt))return F.multiply(Ve.integration.poly_integrate(Cn),K);if(K=ot(xt.clone(),Kt.clone(),yt))return F.multiply(Ve.integration.poly_integrate(en),K)}}},poly_integrate:function(We){var ht=We.power.toString(),ot=We.multiplier.toDecimal(),Gt=We.toUnitMultiplier().toLinear();return-1===Number(ht)?F.multiply(new it(ot),F.symfunction(gn,[Gt])):F.parse(Ht("({0})*({1})^(({2})+1)/(({2})+1)",ot,Gt,ht))},stop:function(We){throw Ae.Utils.warn(We=We||"Unable to compute integral!"),new si(We)},partial_fraction:function(We,ht,ot,Gt){var en,Cn;return De(ht)||(ht=F.parse(ht)),en=new it(0),(Cn=Ae.Algebra.PartFrac.partfrac(We,ht)).group===Xe&&Cn.isLinear()?(Cn.each(function(pt){pt.isLinear()||Ve.integration.stop()}),Cn.each(function(pt){en=F.add(en,Ve.integrate(pt,ht,ot,Gt))})):en=F.add(en,Ve.integrate(Cn,ht,ot,Gt)),en},get_udv:function(We){var ht=[[],[],[],[],[]],ot=function(_e){var Ne=_e.group;if(Ne===fn){var At=_e.fname;Ae.Utils.in_trig(At)||Ae.Utils.in_htrig(At)?ht[3].push(_e):Ae.Utils.in_inverse_trig(At)?ht[1].push(_e):At===gn?ht[0].push(_e):Ve.integration.stop()}else Ne===an||_e.isComposite()&&_e.isLinear()||Ne===Xe&&_e.isLinear()?ht[2].push(_e):Ne===An||_e.isComposite()&&!_e.isLinear()?ht[4].push(_e):Ve.integration.stop()};We.group===Xe?We.each(function(_e){ot(it.unwrapSQRT(_e,!0))}):ot(We);for(var Gt,en=new it(1),Cn=0;Cn<5;Cn++){var ft,pt=ht[Cn],jn=pt.length;if(jn>0){if(jn>1){ft=new it(1);for(var K=0;K<jn;K++)ft=F.multiply(ft,pt[K].clone())}else ft=pt[0].clone();Gt?en=F.multiply(en,ft):(Gt=ft).multiplier=Gt.multiplier.multiply(We.multiplier)}}return[Gt,en]},trig_sub:function(We,ht,ot,Gt,en,Cn){var jn=(en=en||Ve.integration.decompose_arg(We.clone().toLinear(),ht))[0],K=en[1];if(K.power.equals(2)&&jn.greaterThan(0)){var _e=Ae.Utils.getU(We),Ne=F.parse(U+bn(_e)),At=F.parse(G+bn(_e)+"^2"),vt=F.multiply(We.sub(K,Ne),At),xe=Ve.integrate(vt,_e,ot,Gt).sub(Ne,K);return Ae.Utils.clearU(Ne),xe}},by_parts:function(We,ht,ot,Gt){var en,Cn,pt,ft,jn,K,_e,Ne,At,vt,xe,Nt;if(Gt.previous=Gt.previous||[],pt=(en=Ve.integration.get_udv(We))[1],xe=(ft=it.unwrapSQRT(F.expand(Ve.diff((Cn=en[0]).clone(),ht)),!0)).clone().stripVar(ht),ft=F.divide(ft,xe.clone()),jn=Ve.integrate(pt.clone(),ht,ot||0),Nt=(K=F.multiply(jn.clone(),ft)).toString(),-1!==Gt.previous.indexOf(Nt)&&Ae.Utils.in_trig(Cn.fname)&&pt.isE())return Gt.is_cyclic=!0,new it(1);if(Gt.previous.push(Nt),_e=F.multiply(Cn,jn),vt=K.multiplier.clone(),K.toUnitMultiplier(),(At=F.multiply(Ve.integrate(K.clone(),ht,ot,Gt),xe)).multiplier=At.multiplier.multiply(vt),Ne=F.subtract(_e,At),Gt.is_cyclic&&(Gt.previous.pop(),0===Gt.previous.length)){Ne=F.expand(Ne);var Ye=new it(0);Ne.each(function(_t){_t.contains(ht)||(Ye=F.add(Ye,_t.clone()))}),Ne=F.divide(F.subtract(Ne,Ye.clone()),F.subtract(new it(1),Ye))}return Ne},decompose_arg:Ae.Utils.decompose_fn},integrate:function(We,ht,ot,Gt){if(!ht){var en=Ae.Utils.variables(We);1===en.length&&(ht=en[0]),ht=ht||"x"}if(Ae.Utils.isVector(We)){var Cn=new Ae.Vector([]);return We.each(function(pt){Cn.elements.push(Ve.integrate(pt,ht))}),Cn}return isNaN(ht)||F.error("variable expected but received "+ht),We.isConstant(!0)?F.multiply(We.clone(),F.parse(ht)):(Gt=Gt||{},Ae.Utils.block("PARSE2NUMBER",function(){ot=ot||0;var K,pt=De(ht)?ht.toString():ht,ft=it.unwrapSQRT(We.clone(),!0),jn=ft.group;try{if(++ot>Ae.Settings.integration_depth&&Ve.integration.stop("Maximum depth reached. Exiting!"),ft.contains(pt,!0)){if(jn===an)K=Ve.integration.poly_integrate(ft,pt,ot);else if(jn===An)if(ft.previousGroup===fn&&!("sqrt"===ft.fname||ft.fname===_n.PARENTHESIS)&&Ve.integration.stop(),ft.contains(pt)&&ft.previousGroup!==fn)ft.power.contains(pt)?Ve.integration.stop():((_e=Ve.diff(ft.clone().toLinear(),pt)).contains(pt)&&Ve.integration.stop(),K=Ve.integration.poly_integrate(ft,pt,ot));else{if((Ne=Ve.diff(ft.power.clone(),pt)).contains(pt)){var At=Ne.stripVar(pt);if((vt=F.divide(Ne.clone(),At.clone())).group===an&&vt.isLinear())return At.multiplier=At.multiplier.divide(new dn(2)),F.parse(Ht("({2})*(sqrt(pi)*erf(sqrt(-{0})*{1}))/(2*sqrt(-{0}))",At,pt,ft.multiplier));Ve.integration.stop()}if(ft.isE())Ne.isLinear()?K=ft:Ne.isE()&&Ne.power.group===an&&Ne.power.power.equals(1)?K=F.multiply(F.symfunction("Ei",[ft.power.clone()]),ft.power):Ve.integration.stop();else{var xe=F.symfunction(gn,[F.parse(ft.value)]);K=F.divide(ft,xe)}K=F.divide(K,Ne)}else if(ft.isComposite()&&ft.isLinear()){var Nt=F.parse(ft.multiplier);ft.toUnitMultiplier(),K=new it(0),ft.each(function(Er){K=F.add(K,Ve.integrate(Er,pt,ot))}),K=F.multiply(Nt,K)}else if(jn===In)if(ft.power.greaterThan(1)&&(ft=F.expand(ft)),ft.power.equals(1))K=new it(0),ft.each(function(Er){K=F.add(K,Ve.integrate(Er,pt,ot))},!0);else{var Ye=Number(ft.power);Nt=ft.multiplier.clone(),ft.toUnitMultiplier();var _t=ft.clone().toLinear(),yt=(Ge=Ve.integration.decompose_arg(_t,pt))[3],Kt=Ge[2],Ne=Ge[0],vt=Ge[1];if(-1===Ye&&vt.group!==Tt&&vt.power.equals(2)){var xt=!Qi(yt)||yt>0;if(vt.group===an&&vt.power.equals(2)&&xt){var Ct=function(Wf){var za=new it(1);return Wf.each(function(Rl){za=F.multiply(za,"abs"===Rl.fname?Rl.args[0]:Rl)}),za},mt=Ne.clone(),hn=yt.clone();mt=F.pow(mt,new it(.5)),hn=F.pow(hn,new it(.5)),xe=F.multiply(Ct(hn),Ct(mt));var mn=F.symfunction(Re,[F.divide(F.multiply(Ne,vt.toLinear()),xe.clone())]);K=F.divide(mn,xe)}else if(vt.group===an&&vt.isLinear())K=F.divide(Ve.integration.poly_integrate(ft),Ne);else if(vt.power.equals(4)){var xn,hi,ti,Br,_r,Mr,ui=bn;mt=F.parse(Wn+ui(Ne)+"*"+pt+"^2"),hn=F.parse(Wn+ui(2)+"*"+ui(Ne)+"^"+ui("1/4")+"*"+ui(yt)+"^"+ui("1/4")+"*"+pt),xn=F.parse(Wn+ui(yt)),mi=F.add(F.add(mt.clone(),hn.clone()),xn.clone()),ni=F.add(F.subtract(mt,hn),xn),hi=F.parse(Wn+ui(2)+"*"+ui(yt)+"^"+ui("3/4")),ti=F.parse(Wn+ui(yt)+"*"+ui(yt)+"^"+ui("1/4")+"*"+pt),Br=F.parse("2*"+ui(yt)+"*"+Wn+ui(2)+"*"+ui(yt)+"^"+ui("1/4")),_r=F.divide(F.subtract(hi.clone(),ti.clone()),F.multiply(Br.clone(),ni)),Mr=F.divide(F.add(hi,ti),F.multiply(Br,mi.clone())),K=F.add(Ve.integrate(_r,pt,ot,Gt),Ve.integrate(Mr,pt,ot,Gt))}else K=Ve.integration.partial_fraction(ft,pt,ot)}else if(-.5===Ye)if(vt.group===an&&vt.power.equals(2))if(Kt.multiplier.lessThan(0)&&!yt.multiplier.lessThan(0))if(Ne.negate(),yt.isConstant()&&Ne.isConstant()){xe=F.symfunction(Wn,[Ne.clone()]);var Yn=F.symfunction(Wn,[F.multiply(Ne.clone(),yt)]);K=F.divide(F.symfunction(le,[F.divide(Kt.toLinear(),Yn)]),xe)}else{var br=F.symfunction(Wn,[Ne]),Pr=F.multiply(br.clone(),vt.clone().toLinear());K=F.divide(F.symfunction(Re,[F.divide(Pr,F.symfunction(Wn,[_t.clone()]))]),br)}else Ve.integration.stop();else Ve.integration.stop();else if(.5===Ye&&vt.power.equals(2)&&Ne.greaterThan(0))Ve.integration.stop();else if(vt.isLinear()&&vt.group!==Tt)K=F.divide(Ve.integration.poly_integrate(ft),Ne);else{if(vt.power.equals(2)&&Ne.greaterThan(0)){var j,fe,he,ge,ee,Ue;j=F.parse(Wn+bn(Ne)),fe=F.parse(Wn+bn(yt)),he=F.multiply(j.clone(),fe.clone()).invert(),ge=F.pow(yt,new it(ft.power)),Ue=Ae.Utils.getU(ft),ke=F.multiply(he,vt.clone().toLinear()),ee=F.parse(Re+bn(ke));var gt=2*(Math.abs(ft.power)-1),Bt=Ve.integrate(F.parse(L+bn(Ue)+"^"+gt));return Ae.Utils.clearU(Ue),F.multiply(Bt.sub(Ue,ee),ge)}if(ft.group===Xe||ft.power.lessThan(0)){mn=ft.clone().toLinear();var Et=Ae.Algebra.Factor.factor(mn).toString()!==mn.toString();if(Ae.Algebra.degree(mn,F.parse(pt)).equals(2)&&!Et)try{var mi,vn,yn;yn=Ae.Algebra.sqComplete(mn,pt),ke=Ae.Utils.getU(mn),mi=yn.f.sub(yn.a,ke),vn=F.pow(mi,F.parse(ft.power)),K=Ve.integrate(vn,ke).sub(ke,yn.a)}catch{Ve.integration.stop()}else K=Ve.integration.partial_fraction(ft,pt,ot,Gt)}else K=Ve.integration.by_parts(ft,pt,ot,Gt)}K.multiplier=K.multiplier.multiply(Nt)}else if(jn===fn){var Sn=ft.args[0];Nt=ft.multiplier.clone(),ft.toUnitMultiplier(),Ne=(Ge=Ve.integration.decompose_arg(Sn,pt))[0],vt=Ge[1];var Xt=ft.fname;if(Xt===gn||Xt===le||Xt===Me||Xt===Re&&vt.isLinear())if(Ye=ft.power.toString(),Qi(Ye)&&(ot-=Ye),Sn.isComposite()){var ke=Ae.Utils.getU(ft),hr=(mn=F.pow(F.parse(gn+bn(ke)),new it(Ye)),Ve.diff(Sn,pt)),yo=F.multiply(mn,hr);Bt=Ve.integrate(yo,ke,ot,Gt),K=F.multiply(F.parse(Nt),Bt.sub(ke,Sn))}else K=F.multiply(F.parse(Nt),Ve.integration.by_parts(ft,pt,ot,Gt));else{if(Xt===U&&ft.power.lessThan(0))return(Yr=ft.clone()).power.negate(),Yr.fname=oe,F.multiply(F.parse(Nt),Ve.integrate(Yr,pt,ot));if(!Ne.contains(pt,!0)&&ft.isLinear())if(Xt===Di)if((vt=F.divide(Sn.clone(),Ne.clone())).group!==an||vt.power.lessThan(0))Ve.integration.stop();else if(Ae.Utils.even(vt.power))K=Ve.integrate(Sn,pt,ot);else{var ar=Ve.integrate(vt,pt,ot);ar.power=ar.power.subtract(new dn(1)),K=F.multiply(F.multiply(F.symfunction(Di,[vt.toLinear()]),ar),Ne)}else{var Zr=ft.args[0].group,ue=Ve.integration.decompose_arg(Sn,pt);switch((!(Zr===In||Zr===an||Zr===Xe)||!ue[1].power.equals(1)||Sn.hasFunc())&&Ve.integration.stop(),Xt){case L:K=F.symfunction(qe,[Sn]);break;case qe:(K=F.symfunction(L,[Sn])).negate();break;case U:K=F.parse(Ht(_n.LOG+"(sec({0}))",Sn));break;case G:K=F.parse(Ht(_n.LOG+"(tan({0})+sec({0}))",Sn));break;case R:K=F.parse(Ht("-"+_n.LOG+"(csc({0})+cot({0}))",Sn));break;case oe:K=F.parse(Ht(_n.LOG+"(sin({0}))",Sn));break;case ne:K=F.symfunction(at,[Sn]);break;case at:K=F.symfunction(ne,[Sn]);break;case Yt:K=F.parse(Ht(_n.LOG+"(cosh({0}))",Sn));break;case $e:case et:case ve:case Pn:case Si:case gi:K=Ve.integration.by_parts(ft,pt,ot,Gt);break;case Jt:K=F.parse(Ht("atan(sinh({0}))",Sn));break;case"csch":K=F.parse(Ht(_n.LOG+"(tanh(({0})/2))",Sn));break;case"coth":K=F.parse(Ht(_n.LOG+"(sinh({0}))",Sn));break;case"exp":K=Ve.integrate(F.parse(Ht("e^({0})",Sn)),pt,ot);break;case"S":Sn=ft.args[0].clone();var Ot=(rt=Ve.integration.decompose_arg(Sn,pt))[1];K=F.parse(Ht("(cos((1/2)*pi*(({1})+({0})*({2}))^2)+pi*(({1})+({0})*({2}))*S(({1})+({0})*({2})))/(({0})*pi)",zi=rt[0],rt[3],vt));break;case"C":Sn=ft.args[0].clone();var rt=Ve.integration.decompose_arg(Sn,pt);K=F.parse(Ht("(pi*(({1})+({0})*({2}))*C(({1})+({0})*({2}))-sin((1/2)*pi*(({1})+({0})*({2}))^2))/(({0})*pi)",zi=rt[0],rt[3],Ot=rt[1]));break;case"erf":Sn=ft.args[0].clone(),rt=Ve.integration.decompose_arg(Sn,pt),K=F.parse(Ht("e^(-(({2}))^2)/(({0})*sqrt(pi))+(1/({0})+({1}))*erf(({2}))",zi=rt[0],Ot=rt[1],Sn));break;case"sign":K=F.multiply(ft.clone(),Sn.clone());break;default:Ve.integration.stop()}K=F.divide(K,Ne)}else if(vt.isLinear())if(Xt===L||Xt===qe)if((Ye=Number(ft.power))<0)ft.fname=Xt===qe?R:G,ft.invert().updateHash(),K=Ve.integrate(ft,pt,ot);else{Sn=ft.args[0];var nn=ft.clone(),be=ft.clone(),Co=new it((Ye-1)/Ye),$o=F.multiply(Ne.clone(),new it(Ye)).invert();nn.power=nn.power.subtract(new dn(1)),be.power=be.power.subtract(new dn(2));var _e=F.symfunction(Xt===L?qe:L,[Sn.clone()]);Xt===qe&&_e.negate(),K=F.add(F.multiply(F.multiply($o,nn),_e),F.multiply(Co,Ve.integrate(F.parse(be),pt,ot)))}else if(Xt===U||Xt===oe){if(ft.args[0].isLinear(pt)){gt=ft.power.subtract(new dn(1)).toString();var En=ft.clone().toUnitMultiplier(),Ti=F.parse(Ht((Xt===oe?"-":"")+"1/({2}*{0})*{3}({1})^({0})",gt,Sn,Ne,Xt));En.power=En.power.subtract(new dn(2)),En.power.equals(0)&&(En=F.parse(En)),K=F.subtract(Ti,Ve.integrate(En,pt,ot))}}else if(Xt===G||Xt===R){var gr=ft.power.subtract(new dn(1)).toString(),Fr=ft.power.subtract(new dn(2)).toString(),ni=Xt===G?U:oe,ua=(En=ft.clone().toUnitMultiplier(),Ht((Xt===R?"-":"")+"1/({0}*{1})*{4}({3})^({2})*{5}({3})",Ne,gr,Fr,Sn,Xt,ni));Ti=F.parse(ua),En.power=En.power.subtract(new dn(2)),En.power.equals(0)&&(En=F.parse(En)),K=F.add(Ti,F.multiply(new it(Fr/gr),Ve.integrate(En,pt,ot)))}else Xt!==at&&Xt!==ne||!ft.power.equals(2)?Ve.integration.stop():K=Ve.integrate(ft.fnTransform(),pt,ot);else Ve.integration.stop();K.multiplier=K.multiplier.multiply(Nt)}}else if(jn===Tt)K=Ve.integration.partial_fraction(ft,pt,ot);else if(jn===Xe){ft.getDenom().group===an&&(ft=F.expand(ft));var Fu=ft.stripVar(pt),dr=F.divide(ft.clone(),Fu.clone());if(Fu.contains(pt)&&(dr=F.multiply(dr,Fu),Fu=new it(1)),dr.group!==Xe){if(dr.equals(1))return Ve.integrate(F.expand(ft),pt,ot);dr.clone().toLinear().isPoly(!0)&&Ae.Utils.variables(dr).length>1&&(dr=Ae.Algebra.Factor.factor(dr)),K=Ve.integrate(dr,pt,ot)}else{var m=dr.collectSymbols().sort(function(Er,Eo){return Er.group===Eo.group?Number(Er.power)===Number(Eo.power)?Er<Eo?1:-1:Eo.power-Er.power:Eo.group-Er.group}).map(function(Er){var Eo=it.unwrapSQRT(Er,!0);return"exp"===Eo.fname?F.parse(Ht("({1})*e^({0})",Eo.args[0],Eo.multiplier)):Eo}),T=m.length;if(ft.power<0){if(2===T)return Ve.integrate(F.expand(ft),pt,ot,Gt)}else if(2===T){try{K=Ve.integration.u_substitution(m,pt)}catch{}if(!K){var Q=m[0].group,Y=m[1].group,ie=m[0],pe=m[1],Qe=ie.fname,St=pe.fname;if(ft=F.multiply(ie.clone(),pe.clone()),Q===fn&&Y===fn)if(Qe===gn||St===gn)K=Ve.integration.by_parts(ft.clone(),pt,ot,Gt);else{m.sort(function(Eo,Sc){return Sc.fname>Eo.fname});var on=ie.args[0];if((!on.isLinear()||on.group!==In&&on.group!==Xe&&on.group!==an)&&Ve.integration.stop(),Ne=(Ge=Ve.integration.decompose_arg(on,pt))[0],(vt=Ge[1]).isLinear()||Ve.integration.stop(),on.equals(pe.args[0]))if(Qe===qe&&St===L||Qe===L&&St===qe)if(ie.power.lessThan(0)&&Ve.integration.stop(),Qe===qe&&ie.power.add(pe.power).equals(0))ie.fname=U,ie.updateHash(),K=Ve.integrate(ie,pt,ot);else if(Fe(ie.power)&&St===L&&pe.power.lessThan(0)){gt=Number(ie.power)/2;var un=F.parse(Ht("(1-cos({0})^2)^({1})",ie.args[0],gt));K=Ve.integrate(F.expand(F.multiply(un,pe.clone())),pt,ot,Gt)}else if(Fe(ie.power)&&St===qe&&pe.power.lessThan(0))gt=Number(ie.power)/2,un=F.parse(Ht("(1-sin({0})^2)^({1})",ie.args[0],gt)),K=Ve.integrate(F.expand(F.multiply(un,pe.clone())),pt,ot,Gt);else{var Vi=Ae.Utils.even(ie.power),Zn=Ae.Utils.even(pe.power);if(K=new it(0),Vi&&Zn){var Wr=function(za){var Or=za.power/2;return F.parse(za.fname===L?"((1/2)+(cos(2*("+za.args[0]+"))/2))^"+Or:"((1/2)-(cos(2*("+za.args[0]+"))/2))^"+Or)};return Ne=Wr(ie),yt=Wr(pe),_e=F.multiply(Ne,yt),(Yr=F.expand(_e)).each(function(za){K=F.add(K,Ve.integrate(za,pt,ot))}),F.multiply(K,Fu)}Vi?(ke=ie,En=pe):(ke=pe,En=ie);var bi=ke.fname===L?-1:1,lr=((gt=En.power)-1)/2,Mn=F.parse("(1-"+ke.fname+Ae.Utils.inBrackets(on)+"^2)^"+lr);(Yr=F.expand(F.multiply(new it(bi),F.multiply(ke.clone(),Mn)))).each(function(za){K=F.add(K,Ve.integration.poly_integrate(za.clone()))})}else if(Qe===G&&St===U&&vt.isLinear()&&pe.isLinear())K=F.parse(Ht("sec({0})^({1})/({1})",ie.args[0],ie.power));else if(Qe===U&&St===G&&vt.isLinear())ie.isLinear()&&pe.isLinear()?K=F.divide(F.symfunction(G,[on.clone()]),Ne):Fe(ie.power)?(Ye=Number(ie.power)/2,_e=F.parse(Ht("(sec({0})^2-1)^({1})",ie.args[0],Ye)),K=Ve.integrate(F.expand(F.multiply(_e,pe)),pt,ot)):Ve.integration.stop();else if(Qe===G&&St===L)ie.fname=L,ie.invert().updateHash(),K=Ve.integrate(F.multiply(ie,pe),pt,ot);else if(Qe===qe&&St===R)pe.fname=qe,pe.invert().updateHash(),K=Ve.integrate(F.multiply(ie,pe),pt,ot);else if(Qe!==U||St!==L&&St!==qe||!pe.power.lessThan(0))_e=F.multiply(ie.fnTransform(),pe.fnTransform()),K=Ve.integrate(F.expand(_e),pt,ot);else{_e=F.multiply(ie.fnTransform(),pe);K=Ve.integrate(F.expand(_e),pt,ot)}else if(Qe!==qe&&Qe!==L||St!==qe&&St!==L)Ve.integration.stop();else if(ie.isLinear()&&pe.isLinear())if(ie.args[0].isLinear()&&pe.args[0].isLinear())St===qe?(Kt=ie.args[0],nr=pe.args[0]):(nr=ie.args[0],Kt=pe.args[0]),mn=F.parse(Ht("(sin(({1})+({0}))+sin(({1})-({0})))/2",Kt.toString(),nr.toString())),K=Ve.integrate(mn,pt,ot);else{var Cr=rr(m);K=Ve.integrate(F.expand(Cr),pt,ot)}else Cr=new it(1),m.map(function(Nu){var Wf=Nu.fnTransform();Cr=F.multiply(Cr,Wf)}),_e=F.expand(Cr),(K=Ve.integrate(_e,pt,ot)).hasIntegral()&&(K=Ve.integrate(rr(Cr.collectSymbols()),pt,ot))}else if(Q===fn&&Y===an){var No=ie.isLinear();if(ie.fname===L&&No&&pe.power.equals(-1))K=F.symfunction("Ci",[ie.args[0]]);else if(ie.fname===L&&pe.power.equals(-1))K=Ve.integrate(F.multiply(ie.fnTransform(),pe.clone()),pt,ot);else if(ie.fname===at&&No&&pe.power.equals(-1))K=F.symfunction("Chi",[ie.args[0]]);else if(ie.fname===at&&pe.power.equals(-1))K=Ve.integrate(F.multiply(ie.fnTransform(),pe.clone()),pt,ot);else if(ie.fname===qe&&No&&pe.power.equals(-1))K=F.symfunction("Si",[ie.args[0]]);else if(ie.fname===qe&&pe.power.equals(-1))K=Ve.integrate(F.multiply(ie.fnTransform(),pe.clone()),pt,ot);else if(ie.fname===ne&&No&&pe.power.equals(-1))K=F.symfunction("Shi",[ie.args[0]]);else if(ie.fname===ne&&pe.power.equals(-1))K=Ve.integrate(F.multiply(ie.fnTransform(),pe.clone()),pt,ot);else if(ie.fname===gn&&pe.power.equals(-1))K=Ve.integration.poly_integrate(ie,pt,ot);else if("erf"===ie.fname){if(pe.power.equals(1)){var zi=(rt=Ve.integration.decompose_arg(ie.args[0],pt))[0];Ot=rt[1],Sn=ie.args[0].toString(),K=F.parse(Ht("(e^(-(({2}))^2)*(sqrt(pi)*e^((({2}))^2)*(2*({0})^2*({1})^2-3)*erf(({2}))+2*({0})*({1})-2))/(4*sqrt(pi)*({0})^2)",zi,Ot,Sn))}}else K=Ve.integration.by_parts(ft,pt,ot,Gt)}else if(Q===An&&Y===an)vt=Qe===gn?Ve.integration.decompose_arg(ie.args[0],pt)[1]:null,K=ie.isE()&&(ie.power.group===an||ie.power.group===Xe)&&pe.power.equals(-1)?F.symfunction("Ei",[ie.power.clone()]):Qe===gn&&vt.value===pe.value?Ve.integration.poly_integrate(ie,pt,ot):Ve.integration.by_parts(ft,pt,ot,Gt);else if(Q===Tt&&Y===an){if(pe.value===ie.value&&ie.power.equals(-1)){var is=Math.min.apply(null,Ae.Utils.keys(ie.symbols)),io=Math.min(is,pe.power),vs=pe.clone();vs.power=new dn(io),pe=F.divide(pe,vs.clone()),_e=new it(0),ie.each(function(Eo){_e=F.add(_e,F.divide(Eo.clone(),vs.clone()))}),_e.multiplier=ie.multiplier,ft=F.divide(pe,_e)}else ft=F.expand(ft);K=Ve.integration.partial_fraction(ft,pt,ot)}else if(Q===In&&Y===an){mn=ie.clone().toLinear();var ca=Ae.Algebra.degree(mn,F.parse(pt)).equals(1);if(ie.power.equals(-.5)){Ne=(Ge=Ve.integration.decompose_arg(ie.clone().toLinear(),pt))[0].negate(),vt=Ge[1],yt=Ge[3];var ys=Number(ie.power),Jr=Number(pe.power);if(Qi(Jr)&&Ae.Utils.even(Jr)&&vt.power.equals(2)){var Qo=F.divide(F.multiply(F.pow(yt.clone(),new it(2)),F.symfunction(Wn,[F.divide(yt.clone(),Ne.clone())])),F.pow(Ne.clone(),new it(2)));Qo=F.multiply(Qo,F.symfunction(Wn,[yt]).invert());var ai=F.parse("sin(u)");ai.power=ai.power.multiply(pe.power),Bt=Ve.integrate(ai,"u",ot);var fa=F.parse("asin(sqrt("+Ne+"/"+yt+")*"+pt+")");K=F.multiply(Qo,Bt.sub(new it("u"),fa))}else if(-.5===ys){var Ys=function(za,Rl){var Or=F.parse(Ve.integrate(za,pt,ot,Gt).sub(pt,Ht(Rl,pt)));if(!Or.hasIntegral())return Or};-1===Jr?K=Ys(F.expand(F.expand(F.pow(F.multiply(ie.invert(),pe.invert()),new it(2)))).invert(),"sqrt(1-1/({0})^2)"):-2===Jr&&(K=Ys(F.sqrt(F.expand(F.divide(F.pow(ft,new it(2)).invert(),F.pow(new it(pt),new it(2))).negate())).invert(),"sqrt(1-1/({0})^2)"))}}else if(ie.power.equals(-1)&&pe.isLinear()&&ca)K=Ve.integration.partial_fraction(ft,pt,ot);else if(!ie.power.lessThan(0)&&Qi(ie.power)){var Ds=F.expand(ie);K=new it(0),Ds.each(function(Eo){Eo.group===Tt?Eo.each(function(Sc){K=F.add(K,Ve.integrate(F.multiply(pe.clone(),Sc),pt,ot))}):K=F.add(K,Ve.integrate(F.multiply(pe.clone(),Eo),pt,ot))})}else if(ie.power.lessThan(-2))K=Ve.integration.by_parts(ft,pt,ot,Gt);else if(ie.power.lessThan(0)&&pe.power.greaterThan(1)){var Ge;if(Ne=(Ge=Ve.integration.decompose_arg(ie.clone().toLinear(),pt))[0].negate(),vt=Ge[1],yt=Ge[3],_t=ie.clone().toLinear(),vt.group!==Tt&&vt.isLinear()){Ye=Number(pe.power),ke=new it(hr="_u_");var Rs=F.expand(F.divide(F.pow(F.subtract(ke.clone(),yt.clone()),new it(Ye)),ke.clone())),Gr={};Gr[hr]=_t;var Ts=F.parse(Rs,Gr);K=Ve.integrate(Ts,pt,0)}else if(pe.power.greaterThan(vt.power)||pe.power.equals(vt.power)){var Af=new Ae.Algebra.Classes.Factors;ie=Ae.Algebra.Factor.coeffFactor(ie.invert(),Af);var jl=Ae.Algebra.divide(pe,ie);jl.group!==Xe?(K=new it(0),jl.each(function(Rl){K=F.add(K,Ve.integrate(Rl,pt,ot))}),Af.each(function(Rl){K=F.divide(K,Rl)}),K=F.expand(K)):K=Ve.integration.by_parts(ft,pt,ot,Gt)}else K=Ve.integration.partial_fraction(ft,pt,ot)}else if(ie.power.den.equals(2)){Ne=(rt=Ve.integration.decompose_arg(ie.clone().toLinear(),pt))[3],yt=rt[0];var nr=rt[2];if((vt=rt[1]).power.equals(2)&&yt.lessThan(0)){Ne.equals(1)||(Fu=F.multiply(Fu,F.pow(Ne,new it(2)))),ke=pt,Qo=F.divide(F.pow(yt.clone().negate(),new it(.5)),F.pow(Ne,new it(.5))),hr=F.symfunction(L,[new it(ke)]);var Ou=F.pow(F.symfunction(L,[new it(ke)]),new it(ie.power.num)),Va=F.pow(F.symfunction(qe,[new it(ke)]),new it(pe.power)),wl=F.multiply(F.multiply(Ou,hr),Va);Bt=Ve.integrate(wl,ke,ot),K=Bt.sub(ke,F.symfunction(le,[F.multiply(new it(pt),Qo)]))}else K=Ve.integration.partial_fraction(ft,pt,ot,Gt)}else ca&&(K=Ve.integration.partial_fraction(ft,pt,ot))}else if(ie.isComposite()&&pe.isComposite())if(K=new it(0),ie.power.greaterThan(0)&&pe.power.greaterThan(0)){var Yr;(Yr=F.expand(ft)).each(function(Eo){K=F.add(K,Ve.integrate(Eo,pt,ot))},!0)}else ys=Number(ie.power),Jr=Number(pe.power),ys<0&&Jr>0&&(_e=ie,ie=pe,pe=_e),-1===ys&&-1===Jr?K=Ve.integration.partial_fraction(ft,pt):ie.each(function(Sc){var Nu=F.multiply(Sc,pe.clone()),Wf=Ve.integrate(Nu,pt,ot);K=F.add(K,Wf)});else if(Q===In&&m[0].power.greaterThan(0))ie=F.expand(ie),K=new it(0),ie.each(function(Er){K=F.add(K,Ve.integrate(F.multiply(Er,pe.clone()),pt,ot))},!0);else if(Q===fn&&Y===An&&Ae.Utils.in_htrig(ie.fname))ie=ie.fnTransform(),K=Ve.integrate(F.expand(F.multiply(ie,pe)),pt,ot);else if(Q===fn&&Y===In||Y===fn&&Q===In){var Us,Ia,bl;if(Y===fn&&Q===In&&(_e=ie,ie=pe,pe=_e),hr=it.unwrapSQRT(Ve.diff(ie.clone(),pt),!0),Us=it.unwrapSQRT(pe,!0),hr.power.equals(Us.power)){if(Ye=new it(pe.power),Ia=hr.clone().toLinear(),bl=pe.clone().toLinear(),(Co=Ae.Algebra.divide(Ia.toLinear(),bl)).isConstant()){var Ll=F.pow(Co,Ye.negate());K=F.multiply(Ll,Ve.integration.poly_integrate(ie.clone()))}}else K=Ve.integration.by_parts(ft,pt,ot,Gt)}else{var rl=ie.clone().toLinear(),ol=pe.clone().toLinear();K=Q===An&&Y===An&&ie.power.contains(pt)&&pe.power.contains(pt)&&!rl.contains(pt)&&!ol.contains(pt)?F.parse(Ht("(({0})^(({2})*({4}))*({1})^(({3})*({4})))/(log(({0})^({2}))+log(({1})^({3})))",rl.toString(),ol.toString(),ie.power.multiplier.toString(),pe.power.multiplier.toString(),pt)):Ve.integration.by_parts(ft,pt,ot,Gt)}}}else if(3===T&&(m[2].group===an&&m[2].power.lessThan(2)||m[0].group===In)){var ku=m[0];ku.group===In?(ku.power.greaterThan(1)&&(ku=F.expand(ku)),En=F.multiply(m[1],m[2]),K=new it(0),ku.each(function(Eo){var Sc=F.multiply(Eo,En.clone()),Nu=Ve.integrate(Sc,pt,ot);K=F.add(K,Nu)},!0)):K=Ve.integration.by_parts(ft,pt,ot,Gt)}else if(Wi(m)){_e=new it(1);var Qr=0;for(T=m.length;Qr<T;Qr++)_e=F.multiply(_e,m[Qr].fnTransform());_e=F.expand(_e),K=Ve.integrate(_e,pt,ot)}else Cr=rr(m),K=Ve.integrate(F.expand(Cr),pt,ot)}K=F.multiply(K,Fu)}}else K=F.multiply(ft.clone(),F.parse(pt));if(K)return K}catch(Er){if(!(Er instanceof si||Er instanceof Ae.exceptions.DivisionByZero))throw Er}return F.symfunction("integrate",[We,ht])},!1))},defint:function(We,ht,ot,Gt){Gt=Gt||"x";var ft,jn,en=function(xe,Nt,Ye){try{return F.parse(xe,Nt)}catch{return Ve.Limit.limit(xe,Gt,Ye)}},Cn=Ae.Utils.variables(We),pt=We.hasTrig();if(1===Cn.length&&!Gt&&(Gt=Cn[0]),pt||(jn=Ve.integrate(We,Gt)),pt||jn.hasIntegral())if(1===Cn.length&&ht.isConstant()&&ot.isConstant()){var vt=Ae.Utils.build(We);ft=new it(Ae.Math2.num_integrate(vt,Number(ht),Number(ot)))}else ft=F.symfunction("defint",[We,ht,ot,Gt]);else{var Ne,At,K={},_e={};K[Gt]=ot,_e[Gt]=ht,Ne=en(jn,K,ot),At=en(jn,_e,ht),ft=F.subtract(Ne,At)}return ft},Limit:{interval:function(We,ht){return F.parse(Ht("[{0}, {1}]",We,ht))},diverges:function(){return Ve.Limit.interval("-Infinity","Infinity")},divide:function(We,ht,ot,Gt,en){if(!(en++>_n.max_lim_depth)){We.clone();var pt=ht.clone();if(ht.fname===Di){var ft=We.sign(),jn=Gt.sign();if(Gt.isInfinity)return F.multiply(new it(ft),new it(jn));if(Gt.equals(0)){var K=F.parse(We.multiplier),_e=F.parse(ht.multiplier);return F.divide(F.multiply(K,Ve.Limit.interval("-1","1")),_e)}Ve.Limit.diverges()}var Ne=function(Ct){if(Ae.Utils.isVector(Ct)){for(var mt=0;mt<Ct.elements.length;mt++)if(!Ct.elements[mt].isInfinity)return!1;return!0}return Ct.isInfinity},At=function(Ct,mt){return!Ae.Utils.isVector(Ct)&&Ct.equals(mt)};do{var xe=$t(Ve.Limit.limit(We.clone(),ot,Gt,en)),Nt=$t(Ve.Limit.limit(ht.clone(),ot,Gt,en)),Ye=Ne(xe)&&Ne(Nt)||At(xe,0)&&At(Nt,0);if(Ye){var _t=Ve.diff(We.clone(),ot),Ge=Ve.diff(ht.clone(),ot),yt=F.expand(F.divide(_t,Ge));We=yt.getNum(),ht=yt.getDenom()}}while(Ye);var Kt=Nt.equals(0),xt=Number(pt.power);return Gt.isConstant(!0)&&Kt?it.infinity(Ae.Utils.even(xt)&&xe.lessThan(0)?-1:void 0):Kt?Ve.Limit.diverges():F.divide(xe,Nt)}},rewriteToLog:function(We){var ht=We.power.clone();return We.toLinear(),F.pow(new it("e"),F.multiply(ht,F.symfunction(_n.LOG+"",[We])))},getSubbed:function(We,ht,ot){var Gt;We.group===An&&(We=Ve.rewriteToLog(We));try{Gt=We.sub(ht,ot)}catch{Gt=We}return Gt},isInterval:function(We){return Ae.Utils.isVector(We)},isConvergent:function(We){return!(Ve.Limit.isInterval(We)&&We.elements[0].isInfinity&&We.elements[1].isInfinity||We.containsFunction("limit"))},limit:function(We,ht,ot,Gt){if(We.isLinear()&&We.isComposite()){var en=new it(0);return We.each(function(br){en=F.add(en,Ve.Limit.limit(br,ht,ot,Gt))},!0),en}if(We=Ae.Algebra.Simplify.simplify(We),Gt=Gt||1,!(Gt++>_n.max_lim_depth)){var Cn=F.parse(We.multiplier);We.toUnitMultiplier();try{var pt;if(We.isConstant(!0))pt=We;else{var ft={};ft[ht]=ot;try{var jn=F.parse(We.sub(ht,ot),ft);(jn.isConstant(!0)||jn.isInfinity)&&(pt=jn)}catch{}if(!pt){var K=We.getNum(),_e=We.getDenom();if(_e.isConstant(!0)){if(We.group===An){var Ne=We.clone().toLinear(),vt=(We.power.clone(),Ne.getNum()),xe=Ne.getDenom(),Nt=Ae.Utils.decompose_fn(xe,ht,!0);if(vt.group===an&&vt.multiplier.isOne()&&Nt.ax.group===an&&Nt.b.isConstant(!0)&&Nt.a.isOne()&&Nt.b.isConstant(!0))pt=F.parse(Ht("(1/e^({0}))",Nt.b));else{var Ye=Ve.Limit.rewriteToLog(We.clone()),_t=Ye.power.clone(),Ge=Ye.clone().toLinear(),yt=Ve.Limit.limit(Ge,ht,ot,Gt),Kt=Ve.Limit.limit(_t,ht,ot,Gt);pt=F.pow(yt,Kt)}}else if(We.group===fn&&1===We.args.length){var xt,Ct=Ve.Limit.limit(We.args[0],ht,ot,Gt);if(Ae.Utils.isVector(Ct))return pt=Ct.map(function(br){return We.clone().args[0]=br,Ve.Limit.limit(F.symfunction(We.fname,[br]),ht,ot,Gt)}),F.multiply(Cn,pt);if(Ct.isConstant(!0)){var mt=F.symfunction(We.fname,[Ct]);try{$t(mt),xt=!0}catch{xt=!1}}if(xt)pt=mt;else if(Ve.Limit.isConvergent(Ct))if(We.fname===gn)switch(Ct.toString()){case"0":pt=it.infinity().negate();break;case"Infinity":case"-Infinity":pt=it.infinity()}else if(We.fname!==L&&We.fname!==qe||!ot.isInfinity){if(We.fname===U){var hn=We.args[0],mn=hn.getNum(),xn=hn.getDenom(),hi=mn.toUnitMultiplier();(ot.isInfinity||hi.equals("pi")&&xn.equals(2))&&(pt=divergent())}else if(We.fname===_n.FACTORIAL&&Ct.isInfinity)return it.infinity()}else pt=Ve.Limit.interval(-1,1)}else if(We.group===an){if(We.power>0)return F.parse(We,ft);pt=Ae.Utils.even(We.power)?it.infinity():Ve.Limit.diverges()}else if(We.group===Xe){var ti,Br;for(Ne=(mi=We.collectSymbols().sort(function(Pr,j){return Pr.group-j.group})).pop(),ti=$t(Ve.Limit.limit(Ne,ht,ot,Gt));mi.length;){var ni=mi.pop();Br=$t(Ve.Limit.limit(ni,ht,ot,Gt)),ti.isInfinity||!Ve.Limit.isConvergent(ti)&&Br.equals(0)||ti.equals(0)&&Ve.Limit.isConvergent(Br)?(ni.containsFunction(gn)&&(ni=[Ne,Ne=ni][0]),ni.invert(),ti=ti.isInfinity&&Br.isInfinity?it.infinity():Ve.Limit.divide(Ne,ni,ht,ot,Gt)):(ti=F.multiply(ti,Br),Ne=F.multiply(Ne,ni))}pt=ti}else if(We.isComposite()){var Tr;We.isLinear()||(We=F.expand(We)),pt=new it(0);for(var mi=We.collectSymbols().sort(function(Pr,j){return j.group-Pr.group}),ii=[],_r=new it(0),Mr=0,ui=mi.length;Mr<ui;Mr++)(Yn=mi[Mr].clone()).group===fn||Yn.group===Xe&&Yn.hasFunc()?_r=F.add(_r,Yn):ii.push(Yn);for(ii.unshift(_r),1!==ii.length&&(mi=ii),Mr=0,ui=mi.length;Mr<ui;Mr++){var Yn=mi[Mr];try{Tr=Ve.Limit.limit(Yn,ht,ot,Gt)}catch{Tr=Ve.Limit.diverges()}try{pt=F.add(pt,Tr)}catch{if(Gt++>_n.max_lim_depth)return;pt=Ve.Limit.limit(Ve.diff(We,ht),ht,ot,Gt)}}}}else pt=Ve.Limit.divide(K,_e,ht,ot,Gt)}}pt||(pt=F.symfunction("limit",[We,ht,ot]))}catch{pt=F.symfunction("limit",[We,ht,ot])}return F.multiply(Cn,pt)}}},Fresnel:{S:function(We){return We.isConstant(!0)?Ve.defint(F.parse("sin(pi*x^2/2)"),it(0),We,"x"):F.symfunction("S",arguments)},C:function(We){return We.isConstant(!0)?Ve.defint(F.parse("cos(pi*x^2/2)"),it(0),We,"x"):F.symfunction("C",arguments)}}};Ln.register([{name:"diff",visible:!0,numargs:[1,3],build:function(){return Ve.diff}},{name:"sum",visible:!0,numargs:4,build:function(){return Ve.sum}},{name:"product",visible:!0,numargs:4,build:function(){return Ve.product}},{name:"integrate",visible:!0,numargs:[1,2],build:function(){return Ve.integrate}},{name:"defint",visible:!0,numargs:[3,4],build:function(){return Ve.defint}},{name:"S",visible:!0,numargs:1,build:function(){return Ve.Fresnel.S}},{name:"C",visible:!0,numargs:1,build:function(){return Ve.Fresnel.C}},{name:"limit",visible:!0,numargs:[3,4],build:function(){return Ve.Limit.limit}}]),Ln.updateAPI()}()},797:(ko,Kr,ei)=>{var Ln=ei(745);ei(540),ei(130),function(){var U,Ae=Ln.getCore(),F=Ae.PARSER,dn=Ae.Algebra,_n=Ae.Calculus,De=_n.integration.decompose_arg,it=Ae.Utils.evaluate,qn=Ae.Utils.remove,bn=Ae.Utils.format,Qi=Ae.Utils.build,Ht=Ae.Utils.knownVariable,Fe=Ae.Symbol,$t=Ae.Utils.isSymbol,Bi=Ae.Utils.variables,an=Ae.groups.S,fn=Ae.groups.PL,Tt=Ae.groups.CB,In=Ae.groups.CP,Xe=Ae.groups.FN,An=Ae.Settings,Un=Ae.Utils.range,gn=Ae.Utils.isArray;function qt(U,G){if(G.isConstant()&&U.isConstant()&&!U.equals(G)||U.equals(Ae.Settings.IMAGINARY)&&G.isConstant(!0)||G.equals(Ae.Settings.IMAGINARY)&&U.isConstant(!0))throw new Ae.exceptions.NerdamerValueError(U.toString()+" does not equal "+G.toString());this.LHS=U,this.RHS=G}Ae.Settings.SOLVE_RADIUS=1e3,Ae.Settings.ROOTS_PER_SIDE=10,Ae.Settings.make_pi_conversions=!1,Ae.Settings.STEP_SIZE=.1,Ae.Settings.EPSILON=1e-13,Ae.Settings.MAX_NEWTON_ITERATIONS=200,Ae.Settings.MAX_NON_LINEAR_TRIES=12,Ae.Settings.NON_LINEAR_JUMP_AT=50,Ae.Settings.NON_LINEAR_JUMP_SIZE=100,Ae.Settings.NON_LINEAR_START=.01,Ae.Settings.NEWTON_SLICES=200,Ae.Settings.NEWTON_EPSILON=2*Number.EPSILON,Ae.Settings.SOLUTION_PROXIMITY=1e-14,Ae.Settings.FILTER_SOLUTIONS=!0,Ae.Settings.MAX_SOLVE_DEPTH=10,Ae.Settings.ZERO_EPSILON=1e-9,Ae.Settings.MAX_BISECTION_ITER=2e3,Ae.Settings.BI_SECTION_EPSILON=1e-12,Ae.Symbol.prototype.hasTrig=function(){return this.containsFunction(["cos","sin","tan","cot","csc","sec"])},Ae.Symbol.prototype.hasNegativeTerms=function(){if(this.isComposite())for(var U in this.symbols){var G=this.symbols[U];if(G.group===fn&&G.hasNegativeTerms()||this.symbols[U].power.lessThan(0))return!0}return!1},qt.prototype={toString:function(){return this.LHS.toString()+"="+this.RHS.toString()},text:function(U){return this.LHS.text(U)+"="+this.RHS.text(U)},toLHS:function(U){var G,R=(G=(U=typeof U>"u")?this.removeDenom():this.clone()).LHS,oe=G.RHS;R.isConstant(!0)&&!oe.isConstant(!0)&&([R,oe]=[oe,R]);var le=F.subtract(R,oe),Me=U?F.expand(le):le;return new qt(Me,new Fe(0)).removeDenom().LHS},removeDenom:function(){var U=this.LHS.clone(),G=this.RHS.clone(),R=F.multiply(U.getDenom(),G.getDenom());if(U=F.expand(F.multiply(U,R.clone())),(G=F.expand(F.multiply(G,R))).group===In&&G.group!==In){var oe=U;U=G,G=oe}if(U.group===Tt){oe=new Fe(U.multiplier);var le=G.clone();U.each(function(ne){ne.power.lessThan(0)?le=F.divide(le,ne):oe=F.multiply(oe,ne)}),U=oe,G=le}else if(U.group===In)for(var Me in U.symbols){var Re=U.symbols[Me];if(Re.group===Tt)for(var $e in Re.symbols){var et=Re.symbols[$e];if(et.power.lessThan(0))return new qt(F.expand(F.multiply(et.clone().toLinear(),U)),F.expand(F.multiply(et.clone().toLinear(),G)))}}return new qt(U,G)},clone:function(){return new qt(this.LHS.clone(),this.RHS.clone())},sub:function(U,G){var R=this.clone();return R.LHS=R.LHS.sub(U.clone(),G.clone()),R.RHS=R.RHS.sub(U.clone(),G.clone()),R},isZero:function(){return Ae.Utils.evaluate(this.toLHS()).equals(0)},latex:function(U){return[this.LHS.latex(U),this.RHS.latex(U)].join("=")}},F.equals=function(U,G){return new qt(U,G)},U=F.functions.simplify[0],F.functions.simplify[0]=function(G){return G instanceof qt?(G.LHS=U(G.LHS),G.RHS=U(G.RHS),G):U(G)},Ae.Expression.prototype.equals=function(U){return U instanceof Ae.Expression&&(U=U.symbol),new qt(this.symbol,U)},Ae.Expression.prototype.solveFor=function(U){var G;if(this.symbol instanceof qt){if(this.symbol.LHS.isConstant()&&this.symbol.RHS.equals(U))return new Ae.Expression(this.symbol.LHS);if(this.symbol.RHS.isConstant()&&this.symbol.LHS.equals(U))return new Ae.Expression(this.symbol.RHS);G=this.symbol.toLHS()}else G=this.symbol;return L(G,U).map(function(R){return new Ae.Expression(R)})},Ae.Expression.prototype.expand=function(){if(this.symbol instanceof qt){var U=this.symbol.clone();return U.RHS=F.expand(U.RHS),U.LHS=F.expand(U.LHS),new Ae.Expression(U)}return new Ae.Expression(F.expand(this.symbol))},Ae.Expression.prototype.variables=function(){return this.symbol instanceof qt?Ae.Utils.arrayUnique(Bi(this.symbol.LHS).concat(Bi(this.symbol.RHS))):Bi(this.symbol)};var Di=function(U,G){return F.equals(U,G)};Ae.Equation=qt;var Wn=Ae.Utils.checkAll=function(U,G){for(var R=0;R<U.length;R++)if(G(U[R]))return!1;return!0},qe=Ae.Solve={version:"2.0.3",solutions:[],solve:function(U,G){var R=L(U,String(G));return new Ae.Vector(R)},toLHS:function(U,G){if($t(U))return U;if(!(U instanceof qt)){var R=U.split("=");R[1]=R[1]||"0",U=new qt(F.parse(R[0]),F.parse(R[1]))}return U.toLHS(G)},solveCircle:function(U,G){for(var R=G.map(function(Jt){return F.parse(Jt)}),oe=[],le=[],Me=0;Me<U.length;Me++){for(var Re=[],$e=0;$e<R.length;$e++)Re.push(Number(Ae.Algebra.degree(U[Me],R[$e])));Re.push(Ae.Utils.arraySum(Re,!0)),oe.push(Re)}var et=U[0],ve=U[1];if(oe[0][2]>oe[1][2]&&([ve,et]=[et,ve],[oe[1],oe[0]]=[oe[0],oe[1]]),1===oe[0][0]&&2===oe[0][2]&&2===oe[1][0]&&4===oe[1][2]){var ne=G[0],at=G[1],Yt=L(F.parse(ve,Ht(ne,L(F.parse(et),ne)[0])),at).map(function(Jt){return Jt.toString()}),Rt=[L(F.parse(et,Ht(at,Yt[0])))[0].toString()];Yt[1]&&Rt.push(L(F.parse(et,Ht(at,Yt[1])))[0].toString()),An.SOLUTIONS_AS_OBJECT?((le={})[ne]=Rt,le[at]=Yt):(Yt.unshift(at),Rt.unshift(ne),le=[Rt,Yt])}return le},solveNonLinearSystem:function(U,G,R){if(G<0)return[];R=typeof R>"u"?Ae.Settings.NON_LINEAR_START:R;var oe=Ae.Settings.MAX_NON_LINEAR_TRIES,le=Math.floor(oe/2);G=typeof G>"u"?oe:G;var Yt,Rt,Jt,Ft,Pn,Si,gi,si,Me=Ae.Settings.NON_LINEAR_JUMP_AT,Re=Ae.Settings.NON_LINEAR_JUMP_SIZE,et=function(Ve,We){return Ve.map(function(ht,ot){return Number(We.get(ot,0))})},ve=Ae.Utils.arrayGetVariables(U),ne=Ae.Matrix.jacobian(U,ve,function(Ve){return Qi(Ve,ve)},!0),at=Ae.Settings.MAX_NEWTON_ITERATIONS,Wi=U.map(function(Ve){return Qi(Ve,ve)}),zn=ne.map(function(Ve){return Qi(Ve,ve)},!0);Ft=Ae.Matrix.cMatrix(0,ve);var ri=Ae.Matrix.cMatrix(R,ve);Jt=0;do{if(Jt>at)break;Yt=et(ve,ri),gi=ri.clone(),Wi.forEach(function(Ve,We){ri.set(We,0,Ve.apply(null,Yt))});var Yi=new Ae.Matrix;if(zn.each(function(Ve,We,ht){var ot=Ve.apply(null,Yt);Yi.set(We,ht,ot)}),Yi=Yi.invert(),si=(Rt=F.multiply(Yi,ri).negate()).subtract(Ft,function(Ve){return F.parse(Number(Ve))}),Ft=gi.add(Rt,function(Ve){return F.parse(Number(Ve))}),ri=Ft,Jt>=Me&&Pn>1){G===le&&(R=0);var rr=G>le?1:-1;return n=G%Math.floor(le)+1,R+=rr*n*Re,qe.solveNonLinearSystem(U,--G,R)}if(Si=Pn,Jt++,Pn=si.max(),Number(Pn)===Number(Si))break}while(Number(Pn)>=Number.EPSILON);return qe.systemSolutions(ri,ve,!0,function(Ve){return Ae.Utils.round(Number(Ve),14)})},systemSolutions:function(U,G,R,oe){var le=Ae.Settings.SOLUTIONS_AS_OBJECT?{}:[];return U.each(function(Me,Re){var $e=(R?F.expand(Me):Me).valueOf();oe&&($e=oe.call(Me,$e));var et=G[Re];Ae.Settings.SOLUTIONS_AS_OBJECT?le[et]=$e:le.push([et,$e])}),le},solveSystemBySubstitution:function(U){var G=Bi(U[0]),R=Bi(U[1]);return 2===U.length&&2===G.length&&Ae.Utils.arrayEqual(G,R)?qe.solveCircle(U,G):[]},solveSystem:function(U,G){for(var R=0;R<U.length;R++)U[R]=qe.toLHS(U[R]);var $e,oe=U.length,le=new Ae.Matrix,Me=new Ae.Matrix,Re=!1;if(typeof G>"u"){if(!dn.allLinear(U))try{return qe.solveNonLinearSystem(U)}catch(We){if(We instanceof Ae.exceptions.DivisionByZero)return qe.solveSystemBySubstitution(U)}if(1===($e=Ae.Utils.arrayGetVariables(U)).length){var ve,et=0;do{var ne=U[et].clone();et>0&&(ne=ne.sub($e[0],ve[0])),ve=L(ne,$e[0])}while(++et<U.length);return An.SOLUTIONS_AS_OBJECT?(at={})[$e[0]]=ve:at=0===ve.length?ve:[$e[0],ve],at}if($e.length<U.length){var Yt=[];for(et=U.length,R=0;R<et-1;R++)Yt.push(F.parse(U[R]));var Rt={},at=qe.solveSystem(Yt,$e);Array.isArray(at)?at.forEach(function(ot){Rt[ot[0]]=ot[1]}):Rt=at;var Jt=!0;for(R=et-1;R<et;R++)F.parse(U[R],Rt).equals(0)||(Jt=!1);if(Jt)return at}for(R=0;R<$e.length;R++)Ln.setVar($e[R],"delete");for(R=0;R<oe;R++){ne=U[R];for(var Ft=0;Ft<$e.length;Ft++){var Pn=$e[Ft],Si=[];ne.each(function(ot){ot.contains(Pn)&&(Si=Si.concat(ot.coeffs()))});var gi=Ae.Utils.arraySum(Si);le.set(R,Ft,gi)}var si=ne.clone();$e.map(function(ot){si=si.stripVar(ot,!0)}),Me.set(R,0,si.negate())}}else for($e=G,Re=!0,R=0;R<oe;R++){for(Me.set(R,0,new Fe(0)),ne=F.expand(U[R]).collectSymbols(),Ft=0;Ft<G.length;Ft++){le.set(R,Ft,new Fe(0)),Pn=G[Ft];for(var Wi=0;Wi<ne.length;Wi++){for(var zn=ne[Wi],ri=!1,Yi=0;Yi<G.length;Yi++)zn.contains(G[Yi])&&(ri&&Ae.err("Multiple variables found for term "+zn),ri=!0);if(zn.contains(Pn)){var rr=De(qn(ne,Wi),Pn);le.set(R,Ft,F.add(le.get(R,Ft),rr[0]))}}}for(Wi=0;Wi<ne.length;Wi++)Me.set(R,0,F.add(Me.get(R,0),ne[Wi]))}if($e.length!==U.length||le.determinant().equals(0))throw new Ae.exceptions.SolveError("System does not have a distinct solution");var Ve=(le=le.invert()).multiply(Me);return Ae.Utils.isArray(G)&&Ve.each(function(We){return We.negate()}),qe.systemSolutions(Ve,$e,Re)},quad:function(U,G,R){var oe=F.subtract(F.pow(G.clone(),Fe(2)),F.multiply(F.multiply(R.clone(),U.clone()),Fe(4)));oe=F.expand(oe);var le=F.pow(oe,Fe(.5)),Me=F.parse(F.multiply(new Fe(2),R.clone()));return[F.parse(bn("(-({0})+({1}))/({2})",G,le,Me)),F.parse(bn("(-({0})-({1}))/({2})",G,le,Me))]},cubic:function(U,G,R,oe){var le=oe.text(),Me=R.text(),Re=G.text(),et=`(-(${Me})^3/(27*(${le})^3)+(${Me})*(${Re})/(6*(${le})^2)-(${U.text()})/(2*(${le})))`,ve=`((${Re})/(3*(${le}))-(${Me})^2/(9*(${le})^2))`,at=`((${et})+sqrt((${et})^2+(${ve})^3))^(1/3)+((${et})-sqrt((${et})^2+(${ve})^3))^(1/3)-((${Me})/(3*(${le})))`,Yt="1/2+sqrt(3)/2*i";return[F.parse(at),F.parse(`(${at})(${Yt})`),F.parse(`(${at})(${Yt})^2`)]},quartic:function(U,G,R,oe,le){var Re,$e,ve,ne,at,Me={};return Ae.Utils.arrayUnique(Bi(le).concat(Bi(oe)).concat(Bi(R)).concat(Bi(G)).concat(Bi(U))).map(function(Pn){Me[Pn]=1}),le=le.toString(),oe=oe.toString(),R=R.toString(),G=G.toString(),U=U.toString(),Re=F.parse(bn("(8*({0})*({2})-3*({1})^2)/(8*({0})^2)",le,oe,R)).toString(),$e=F.parse(bn("(({1})^3-4*({0})*({1})*({2})+8*({0})^2*({3}))/(8*({0})^3)",le,oe,R,G)).toString(),ve=F.parse(bn("12*({0})*({4})-3*({1})*({3})+({2})^2",le,oe,R,G,U)).toString(),ne=F.parse(bn("2*({2})^3-9*({1})*({2})*({3})+27*({1})^2*({4})+27*({0})*({3})^2-72*({0})*({2})*({4})",le,oe,R,G,U)).toString(),at=F.parse(bn("((({1})+(({1})^2-4*({0})^3)^(1/2))/2)^(1/3)",ve,ne)).toString(),an=F.parse(bn("(1/2)*(-(2/3)*({1})+(1/(3*({0}))*(({2})+(({3})/({2})))))^(1/2)",le,Re,at,ve)).toString(),[F.parse(bn("-(({1})/(4*({0})))-({4})+(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",le,oe,Re,$e,an)),F.parse(bn("-(({1})/(4*({0})))-({4})-(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",le,oe,Re,$e,an)),F.parse(bn("-(({1})/(4*({0})))+({4})+(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",le,oe,Re,$e,an)),F.parse(bn("-(({1})/(4*({0})))+({4})-(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",le,oe,Re,$e,an))]},divideAndConquer:function(U,G){var R=[],oe=Ae.Algebra.Factor.factor(U);return oe.group===Tt&&oe.each(function(le){le=Fe.unwrapPARENS(le),R=R.concat(L(le,G))}),R},csolve:function(U,G){return Ae.Utils.block("IGNORE_E",function(){var R,oe,le,Me,ve,at;if(at=[],(R=Ae.Utils.decompose_fn(U,G,!0)).x.group===an){oe=F.parse(R.x.power),le=Number(oe),Me=F.pow(F.divide(R.b.negate(),R.a),oe.invert()),ve=Fe.toPolarFormArray(Me)[0].toString(),oe.toString();for(var Rt,Jt,Ft=0;Ft<le;Ft++)Jt=bn("({0})*e^(2*{1}*pi*{2}*{3})",ve,Ft,oe,Ae.Settings.IMAGINARY),Rt=F.parse(Jt),at.push(Rt)}return at},!0)},getPoints:function(U,G,R){G=G||.01,R=R||[];var oe=Qi(U),Me=Math.round(0),Re=oe(Me),$e=Re/Math.abs(Re),et=Ae.Settings.ROOTS_PER_SIDE,ve=et;R.push(Math.floor(Me/2)),R.push(Math.abs(Me)),R.push(Me),U.each(function(Rt){Rt.containsFunction(Ae.Settings.LOG)&&R.push(.1)});var ne=Un(-Ae.Settings.SOLVE_RADIUS,Me,G),at=Un(Me,Ae.Settings.SOLVE_RADIUS,G),Yt=function(Rt,Jt){for(var Ft,Pn,Si,gi=[],si=0,Wi=Rt.length;si<Wi;si++)Si=(Pn=oe(Ft=Rt[si]))/Math.abs(Pn),!(isNaN(Pn)||!isFinite(Pn)||gi.length>Jt)&&(Si!==$e&&gi.push(Ft),$e=Si);R=R.concat(gi)};return Yt(ne,ve),Yt(at,et),R},bisection:function(U,G){var R=U-1,oe=U+1;if(Math.sign(G(R))!==Math.sign(G(oe))){var Me,Re,le=0;do{if(Me=Math.abs(oe-R),le++>Ae.Settings.MAX_BISECTION_ITER||isNaN(Me))return;Re=(R+oe)/2,G(R)*G(Re)>0?R=Re:oe=Re}while(Me>=An.EPSILON);var $e=(R+oe)/2,et=G($e);if(!isNaN(et)&&Math.abs(et)<=Ae.Settings.BI_SECTION_EPSILON)return Ae.Utils.round($e,13)}},Newton:function(U,G,R){var Re,oe=Ae.Settings.MAX_NEWTON_ITERATIONS,le=0,Me=U;do{var $e=G(Me);if(0===Me&&0===$e){Re=0;break}if(++le>oe)return;Re=Me-$e/R(Me);var et=Math.abs(Re-Me);Me=Re}while(et>An.NEWTON_EPSILON);if(Math.abs(G(Re))<=An.EPSILON)return Re},rewrite:function(U,G,R){if(G=G||new Fe(0),U.isComposite()&&U.isLinear()){var oe=[],le=[];U.each(function(ve){"sqrt"===(ve=ve.clone()).fname&&ve.contains(R)?oe.push(ve):le.push(ve)},!0),1===oe.length&&(G=F.expand(F.pow(F.subtract(G,Ae.Utils.arraySum(le)),new Fe(2))),U=F.expand(F.pow(Fe.unwrapSQRT(oe[0]),new Fe(2))))}else U=Fe.unwrapSQRT(F.expand(U));var Me=0,Re=U.length;if(U.group===In&&U.contains(R)&&U.isLinear()){U.distributeMultiplier();var $e=new Fe(0);return U.each(function(ve){ve.contains(R)?(Me++,$e=F.add($e,ve.clone())):G=F.subtract(G,ve.clone())}),U=$e,Me!==Re?qe.rewrite(U,G,R):[U,G]}if(U.group===Tt&&U.contains(R)&&U.isLinear())return U.multiplier.lessThan(0)&&(U.multiplier=U.multiplier.multiply(new Ae.Frac(-1)),G.multiplier=G.multiplier.multiply(new Ae.Frac(-1))),G.equals(0)?new Fe(0):($e=new Fe(1),U.each(function(ne){ne.contains(R)?$e=F.multiply($e,ne.clone()):G=F.divide(G,ne.clone())}),qe.rewrite(U=$e,G,R));if(!U.isLinear()&&U.contains(R)){var et=F.parse(U.power.clone().invert());return U=F.pow(U,et.clone()),G=F.pow(F.expand(G),et.clone()),qe.rewrite(U,G,R)}return U.group===Xe||U.group===an||U.group===fn?[U,G]:void 0},sqrtSolve:function(U,G){var R=new Fe(0),oe=new Fe(0);if(U.isComposite()&&(U.each(function(Re){"sqrt"===Re.fname&&Re.contains(G)?R=F.add(R,Re.clone()):oe=F.add(oe,Re.clone())}),!R.equals(0))){var le=F.expand(F.multiply(F.parse(U.multiplier),F.subtract(F.pow(oe,new Fe(2)),F.pow(R,new Fe(2))))),Me=L(le,G);return Me.filter(function(Re){if(Re.isImaginary())return Re;var $e={};return $e[G]=Re,it(U,$e).equals(0)?Re:void 0})}}},L=function(U,G,R,oe,le){if(oe=oe||0,oe++>An.MAX_SOLVE_DEPTH)return R;if(U instanceof qt){if(U.isZero())return[new Fe(0)];if(U.LHS.equals(G)&&!U.RHS.contains(G))return[U.RHS];if(U.RHS.equals(G)&&!U.LHS.contains(G))return[U.LHS]}if(U instanceof Ae.Vector&&(U=U.elements),G=G||"x",gn(U))return qe.solveSystem.apply(void 0,arguments);R=R||[];var Me={},Re={};if(Re[G]=0,$t(U)&&!0===it(U.getDenom(),Re).equals(0))return R;var $e=function(mt,hn){var mn=$t(mt);if(!(void 0===mt||"number"==typeof mt&&isNaN(mt)))if(gn(mt))mt.forEach(function(ni){$e(ni)});else if("null"!==mt.valueOf()){if("function"==typeof Ae.Settings.PRE_ADD_SOLUTION&&(mt=Ae.Settings.PRE_ADD_SOLUTION(mt)),mn||(mt=F.parse(mt)),Ae.Settings.make_pi_conversions&&hn){var xn=F.divide(mt.clone(),new Fe(Math.PI)),hi=xn.multiplier,ti=Math.abs(hi.num),Br=Math.abs(hi.den);ti<10&&Br<10&&(mt=F.multiply(xn,new Fe("pi")))}var mi=mt.toString();Me[mi]||R.push(mt),Me[mi]=!0}};if(U.group===an&&U.contains(G)){try{var et={};et[G]=0,it(le,et,"numer"),$e(new Fe(0))}catch{}return R}if(U.group===Tt){var ve=U.getNum();if(ve.group===Tt){var ne=String(G);return ve.each(function(mt){mt.contains(ne)&&L(mt,G,R,oe,U)}),R}return L(ve,G,R,oe,le)}U.group===Xe&&"sqrt"===U.fname&&(U=F.pow(Fe.unwrapSQRT(U),new Fe(2)));var at=(Ae.Utils.isSymbol(U)?U:qe.toLHS(U,!1)).getNum(),Yt=Ae.Utils.variables(at),Rt=Yt.length;if(Ae.Utils.isInt(at.power)&&at.power>0&&(at=F.parse(at).toLinear()),at.group===an||at.group===Tt&&at.contains(G))return[new Fe(0)];var Ft,Jt={},Pn=function(mt){var hn=(mt=F.expand(mt,{expand_denominator:!0,expand_functions:!0})).clone();if(mt.symbols)for(var mn in mt.symbols){var xn=mt.symbols[mn],hi=xn.getDenom();if(!hi.isConstant(!0)&&mt.isComposite()){var ti=new Fe(0);return mt.each(function(Yn){ti=F.add(ti,F.multiply(Yn,hi.clone()))}),Pn(F.multiply(F.parse(mt.multiplier),ti))}var Br=De(xn,G),mi=Br[1].fname===Ae.Settings.SQRT,ni=Fe.unwrapSQRT(Br[1]),Tr=ni.power.clone();if(!$t(Tr)&&!Tr.equals(.5))if(Tr.den.gt(1)){if(mi)return mt=F.subtract(mt,xn.clone()),mt=F.add(mt,F.multiply(Br[0].clone(),ni)),Pn(mt);var ii=Jt[Tr.den];Jt[Tr.den]=ii?ii++:1}else{if(-1===Tr.sign()){var _r=F.parse(G+"^"+Math.abs(Tr));return mt.each(function(Yn,br){Yn.contains(G)&&(mt.symbols[br]=F.multiply(Yn,_r.clone()))}),Jt={},Pn(F.parse(mt))}if(xn.group===fn){var Mr=Ae.Utils.arrayMin(Ae.Utils.keys(xn.symbols));if(Mr<0){_r=F.parse(G+"^"+Math.abs(Mr));var ui=new Fe(0);return hn.each(function(br){ui=F.add(ui,F.multiply(br.clone(),_r.clone()))},!0),ui}}}}return mt},Si=function(mt){var hn=new Fe(0),mn=new Fe(0);return mt.each(function(xn){xn.contains(G,!0)?hn=F.add(hn,xn.clone()):mn=F.subtract(mn,xn.clone())}),[hn,mn]};if(qe.inverseFunctionSolve=function(mt,hn,mn){var xn=De(hn.args[0],G);if(xn[1].group===an)return F.divide(F.symfunction(mt,[F.divide(mn,F.parse(hn.multiplier))]),xn[0])},(at=Pn(at)).equals(0))return[at];var gi=Ae.Utils.keys(Jt);if(1===gi.length&&(Ft=gi[0],at.each(function(mt,hn){if(mt.contains(G)){var mn=De(mt,G),xn=mn[1],hi=xn.power;hi.den.gt(1)&&(xn.power=hi.multiply(new Ae.Frac(Ft)),at.symbols[hn]=F.multiply(xn,mn[0]))}}),at=F.parse(at)),$e(qe.sqrtSolve(at,G)),1===Rt)if(at.isPoly(!0)){var si=new Ae.Algebra.Classes.Factors;if(Ae.Algebra.Factor.factor(at,si),si.getNumberSymbolics()>1)for(var Wi in si.factors)$e(L(si.factors[Wi],G));else{var ri=(zn=Ae.Utils.getCoeffs(at,G)).length-1,Yi=!1;if(Yt[0]===G){if(Wn(zn,function(mt){return mt.group!==Ae.groups.N})){var rr=Ae.Algebra.proots(at);Wn(rr,function(mt){return!Ae.Utils.isInt(mt)})&&(Yi=!0,rr.map(function(mt){$e(new Fe(mt))}))}if(!Yi)if((U=F.parse(U))instanceof Ae.Equation&&(U=U.toLHS()),1===ri)$e(F.divide(zn[0],zn[1].negate()));else if(2===ri)$e(F.expand(qe.quad.apply(void 0,zn)));else if(3===ri){R=[];var Ve=Ae.Algebra.Factor.factor(U);$e((R=[]).length>0?R:qe.cubic.apply(void 0,zn))}else dn.proots(at).map($e)}}}else try{var Cn,pt,ft,We=at.hasTrig(),ht=qe.getPoints(at,.1),ot=qe.getPoints(at,.05),Gt=qe.getPoints(at,.01),en=Ae.Utils.arrayUnique(ht.concat(ot).concat(Gt)).sort(function(mt,hn){return mt-hn}),jn=Qi(at.clone()),K=[];for(Cn=0;Cn<en.length;Cn++)typeof(ft=qe.bisection(pt=en[Cn],jn))>"u"?K.push(pt):$e(ft,We);en=K;var _e=_n.diff(at.clone()),Ne=Qi(_e);for(Cn=0;Cn<en.length;Cn++)$e(qe.Newton(pt=en[Cn],jn,Ne),We);R.sort()}catch(mt){console.log(mt)}else if(!at.hasFunc(G)&&at.isComposite())try{if((Ve=Ae.Algebra.Factor.factor(at.clone())).group===Tt)Ve.each(function(hn){$e(L(hn,G))});else{var zn;switch(ri=(zn=Ae.Utils.getCoeffs(at,G)).length-1){case 0:var Nt=(vt=Si(at))[1];if((xe=vt[0]).group===Ae.groups.EX){var Ye=Ae.Settings.LOG;$e(F.parse(`${Ye}((${Nt})/(${xe.multiplier}))/${Ye}(${xe.value})/${xe.power.multiplier}`))}break;case 1:$e(F.divide(zn[0],zn[1].negate()));break;case 2:$e(qe.quad.apply(void 0,zn));break;case 3:$e(qe.cubic.apply(void 0,zn));break;case 4:$e(qe.quartic.apply(void 0,zn));break;default:$e(qe.csolve(at,G)),0===R.length&&$e(qe.divideAndConquer(at,G))}0===R.length&&$e(L(Ve,G,R,oe))}}catch{}else try{var Ge=qe.rewrite(at,null,G);if(Nt=Ge[1],(xe=Ge[0]).group===Xe)if("abs"===xe.fname)$e([Nt.clone(),Nt.negate()]);else if("sin"===xe.fname)$e(qe.inverseFunctionSolve("asin",xe,Nt));else if("cos"===xe.fname)$e(qe.inverseFunctionSolve("acos",xe,Nt));else if("tan"===xe.fname)$e(qe.inverseFunctionSolve("atan",xe,Nt));else if(xe.fname===Ae.Settings.LOG){var yt=De(xe.args[0],G);(Wi=yt[1]).group===an&&(at=new qt(Wi,Nt=F.divide(F.subtract(F.pow(xe.args.length>1?xe.args[1]:new Fe("e"),F.divide(Nt,F.parse(xe.multiplier))),yt[3]),yt[0])).toLHS(),$e(L(at,G)))}else $e(F.subtract(xe,Nt));else{var Kt=new qt(xe,Nt).toLHS();if(Kt.equals(at))throw new Error("Stopping. No stop condition exists");$e(L(Kt,G))}}catch{try{if(at.group===Tt)$e(0);else if(at.group===In){var vt,xe;if(Nt=(vt=Si(at))[1],(xe=vt[0]).group===Ae.groups.EX&&xe.value===G){var xt=xe.power.clone().invert();$e(F.pow(Nt,xt))}}}catch{}}if(Ft&&(R=R.map(function(mt){return F.pow(mt,new Fe(Ft))})),$t(U)){var Ct={};R=R.filter(function(mt){try{Ct[G]=mt;var hn=Number(it(U,Ct));return isNaN(hn),!0}catch{return!1}})}return R};Ln.register([{name:"solveEquations",parent:"nerdamer",numargs:-1,visible:!0,build:function(){return L}},{name:"solve",parent:"Solve",numargs:2,visible:!0,build:function(){return Ae.Solve.solve}},{name:"setEquation",parent:"Solve",visible:!0,build:function(){return Di}}]),Ln.updateAPI()}()},745:function(ko,Kr,ei){ko=ei.nmd(ko);var Ae,dn,F=function(dn){"use strict";var De=new Co,it=dn.bigInt,qn=dn.bigDec;qn.set({precision:250});var bn={},Qi=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],Ht={},Fe={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:["\u03c0"],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_\u03b1A\u03b2B\u03b3\u0393\u03b4\u0394\u03f5E\u03b6Z\u03b7H\u03b8\u0398\u03b9I\u03baK\u03bb\u039b\u03bcM\u03bdN\u03be\u039eoO\u03c0\u03a0\u03c1P\u03c3\u03a3\u03c4T\u03c5\u03d2\u03d5\u03a6\u03c7X\u03c8\u03a8\u03c9\u03a9\u221e][0-9a-z_\u03b1A\u03b2B\u03b3\u0393\u03b4\u0394\u03f5E\u03b6Z\u03b7H\u03b8\u0398\u03b9I\u03baK\u03bb\u039b\u03bcM\u03bdN\u03be\u039eoO\u03c0\u03a0\u03c1P\u03c3\u03a3\u03c4T\u03c5\u03d2\u03d5\u03a6\u03c7X\u03c8\u03a8\u03c9\u03a9]*$/i,IMPLIED_MULTIPLICATION_REGEX:/([\+\-\/\*]*[0-9]+)([a-z_\u03b1A\u03b2B\u03b3\u0393\u03b4\u0394\u03f5E\u03b6Z\u03b7H\u03b8\u0398\u03b9I\u03baK\u03bb\u039b\u03bcM\u03bdN\u03be\u039eoO\u03c0\u03a0\u03c1P\u03c3\u03a3\u03c4T\u03c5\u03d2\u03d5\u03a6\u03c7X\u03c8\u03a8\u03c9\u03a9]+[\+\-\/\*]*)/gi,ALIASES:{\u03c0:"pi","\u221e":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:21,EXPRESSION_DECP:19,DEFAULT_DECP:16,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};!function(){Fe.CACHE.roots={};for(var Q=2;Q<=40;Q++)for(var Y=2;Y<=40;Y++){var ie=it(Q).pow(Y);Fe.CACHE.roots[ie+"-"+Y]=Q}}();var $t=bn.N=1,Bi=bn.P=2,an=bn.S=3,fn=bn.EX=4,Tt=bn.FN=5,In=bn.PL=6,Xe=bn.CB=7,An=bn.CP=8,Un=Fe.CONST_HASH="#",gn=Fe.PARENTHESIS,qt=Fe.SQRT,Di=Fe.ABS,Wn=Fe.FACTORIAL,qe=Fe.DOUBLEFACTORIAL,L=[],U={},G=[],R=[],oe=function(m,T){if(!Fe.suppress_errors)throw T?new T(m):new Error(m)},le=function(m){var T=function(Q){this.name=m,this.message=void 0!==Q?Q:"";var Y=new Error(this.message);Y.name=this.name,this.stack=Y.stack};return T.prototype=Object.create(Error.prototype),T},Me=function(m){return-1!==G.indexOf(m)},Re=function(m){for(var T=m[0],Q=1,Y=m.length;Q<Y;Q++)if(!m[Q].equals(T))return!1;return!0},$e=function(m){R.push(m),Fe.SHOW_WARNINGS&&console&&console.warn&&console.warn(m)},et=function(m,T){if(T=T||"variable",-1===Fe.ALLOW_CHARS.indexOf(m)&&!Fe.VALIDATION_REGEX.test(m))throw new Sn(m+" is not a valid "+T+" name")},ve=function(m){var T=Math.sign(m);if(m=Math.abs(m),/\d+\.?\d*e[\+\-]*\d+/i.test(m)){var Y=String(m).toLowerCase().split("e"),ie=Y.pop(),pe=Math.abs(ie),Qe=ie/pe,St=Y[0].split(".");if(-1===Qe)m=(pe-=St[0].length)<0?St[0].slice(0,pe)+"."+St[0].slice(pe)+(2===St.length?St[1]:""):"0."+new Array(pe+1).join("0")+St.join("");else{var on=St[1];on&&(pe-=on.length),m=pe<0?St[0]+on.slice(0,pe)+"."+on.slice(pe):St.join("")+new Array(pe+1).join("0")}}return T<0?"-"+m:m},ne=function(m){for(var T=Math.floor(Math.sqrt(m)),Q=2;Q<=T;Q++)if(m%Q==0)return!1;return!0},Yt=function(m){return/^\d+\.?\d*$/.test(m)},Jt=function(m){return Ft(m)?Jt(m.multiplier.toDecimal()):m%1!=0},Ft=function(m){return m instanceof be},Pn=function(m){return m instanceof Ot},Si=function(m,T,Q){if(Q=Q||{c:[],add:function(St){-1===this.c.indexOf(St)&&isNaN(St)&&this.c.push(St)}},Ft(m)){var Y=m.group,ie=m.previousGroup;if(Y===fn&&Si(m.power,T,Q),Y===An||Y===Xe||ie===An||ie===Xe)for(var pe in m.symbols)Si(m.symbols[pe],T,Q);else if(Y===an||ie===an)"e"===m.value||"pi"===m.value||m.value===Fe.IMAGINARY||Q.add(m.value);else if(Y===In||ie===In)Si(Ne(m.symbols),T,Q);else if(Y===fn)isNaN(m.value)||Q.add(m.value),Si(m.power,T,Q);else if(Y===Tt&&!T)for(var Qe=0;Qe<m.args.length;Qe++)Si(m.args[Qe],T,Q)}return Q.c.sort()},si=function(m,T){m=De.expand(m),T=T||{};var Q=function(Y,ie){T[Y]||(T[Y]=new be(0)),T[Y]=De.add(T[Y],ie.clone())};return m.each(function(Y){if(Y.isConstant("all"))Q("constants",Y);else if(Y.group===an)Q(Y.value,Y);else if(Y.group!==Tt||Y.fname!==Di&&""!==Y.fname){if(Y.group===fn||Y.group===Tt)throw new Error("Unable to separate. Term cannot be a function!");Q(Si(Y).join(" "),Y)}else si(Y.args[0])}),T},zn=function(m){return m instanceof Ti},ri=function(m){return m instanceof gr},Yi=function(m){return m instanceof Fr},rr=function(m){return m.group===$t||m.group===Bi},We=function(m){return Array.isArray(m)},ht=function(m){return/^[-+]?\d+e?\+?\d*$/gim.test(m.toString())},ot=function(m){return Ft(m)&&(m=m.multiplier),m.lessThan(0)},Gt=function(m){return m&&String(m)},en=function(m){return"("+m+")"},jn=function(){var m=[].slice.call(arguments);return m.shift().replace(/{(\d+)}/g,function(Y,ie){var pe=m[ie];return"function"==typeof pe?pe():pe})},_e=Object.keys,Ne=function(m,T,Q){for(var Y in m)break;return T?Y:Q?{key:Y,obj:m[Y]}:m[Y]},vt=function(m,T,Q){return et(m),Me(m)?null:(T=T||Si(De.parse(Q)),De.functions[m]=[De.mapped_function,T.length,{name:m,params:T,body:Q}],Q)},Nt=function(m){return Math.min.apply(void 0,m)},xt=function(m,T,Q){var Y,ie,pe,Qe;if(T=String(T),m.group===An){var St=De.expand(m.clone()).stripVar(T);Y=De.subtract(m.clone(),St.clone()),Qe=St}else Y=m.clone();return ie=Y.stripVar(T),pe=De.divide(Y.clone(),ie.clone()),Qe=Qe||new be(0),Q?{a:ie,x:pe,ax:Y,b:Qe}:[ie,pe,Y,Qe]},Ct=function(m,T){return ht(m)?m>=Number.MAX_VALUE?m.toString():Number(m):(T=typeof T>"u"?14:T,Math.round(m*Math.pow(10,T))/Math.pow(10,T))},mn=function(m,T){if(We(m))for(var Q=m.length,Y=0;Y<Q;Y++)T.call(m,Y);else for(var ie in m)m.hasOwnProperty(ie)&&T.call(m,ie)},xn=function(m){return m%2==0},hi=function(m){return 1/(m%1)%2==0},ti=function(m){for(var T=m.length,Q=[],Y=0;Y<T;Y++){var ie=m[Y];-1===Q.indexOf(ie)&&Q.push(ie)}return Q},mi=function(m,T){var Q=typeof T;("function"!==Q||"undefined"===Q)&&(T=function(on,Lt){return on===Lt});for(var Y=[];m.length;){var ie=m[0];if(1===m.length){Y.push(ie);break}var pe=[];Y.push(ie);for(var Qe=1;Qe<m.length;Qe++){var St=m[Qe];T(ie,St)||pe.push(St)}m=pe}return Y},ni=function(m){var T=function(Q){-1===G.indexOf(Q)&&G.push(Q)};"string"==typeof m?T(m):mn(m,function(Q){T(Q)})},Tr=function(m,T){var Q;return We(m)?Q=m.splice(T,1)[0]:(Q=m[T],delete m[T]),Q},ii=function(m,T,Q,Y){var ie=Fe[m];Fe[m]=void 0===Q||!!Q;var pe=T.call(Y);return Fe[m]=ie,pe},Mr=function(m){return[].slice.call(m)},Yn=function(m,T){return ii("PARSE2NUMBER",function(){return De.parse(m,T)},!0)},br=function(m){if(We(m)){for(var T=new Ti([]),Q=0;Q<m.length;Q++)T.elements.push(br(m[Q]));return T}return Ft(m)?m:De.parse(m)},Pr=function(m){for(var Q=Qi[Qi.length-1]||2;Q<m;Q++)ne(Q)&&Qi.push(Q)},j=function(m){for(var T=0;T<m.length;T++)if(m[T].group!==$t)return!1;return!0},fe=function(m){for(var T=0;T<m.length;T++)if(!m[T].isPi()&&!m[T].isE()&&!m[T].isConstant(!0))return!1;return!0},he=function(m,T,Q){(T.isComposite()&&!m.isComposite()||T.isLinear()&&!m.isLinear())&&([m,T]=[T,m]);var Y=new be(0);return m.isLinear()?m.each(function(ie){if(T.isComposite())T.isLinear()?T.each(function(Qe){var St=De.multiply(De.parse(ie),De.parse(Qe)),on=De.expand(De.parse(St),Q);Y=De.add(Y,on)},!0):Y=De.add(Y,De.multiply(ie,De.parse(T)));else{var pe=De.multiply(De.parse(ie),De.parse(T));Y=De.add(Y,De.expand(pe,Q))}},!0):Y=De.multiply(m,T),Y},ge=le("DivisionByZero"),ke=le("ParseError"),ee=le("UndefinedError"),Ue=le("OutOfFunctionDomainError"),gt=le("MaximumIterationsReached"),Bt=le("NerdamerTypeError"),zt=le("ParityError"),Et=le("OperatorError"),vn=le("OutOfRangeError"),yn=le("DimensionError"),Sn=le("InvalidVariableNameError"),Xt=le("ValueLimitExceededError"),hr=le("NerdamerValueError"),yo=le("SolveError"),Yr=le("InfiniteLoopError"),ar=le("UnexpectedTokenError"),Zr={DivisionByZero:ge,ParseError:ke,OutOfFunctionDomainError:Ue,UndefinedError:ee,MaximumIterationsReached:gt,NerdamerTypeError:Bt,ParityError:zt,OperatorError:Et,OutOfRangeError:vn,DimensionError:yn,InvalidVariableNameError:Sn,ValueLimitExceededError:Xt,NerdamerValueError:hr,SolveError:yo,InfiniteLoopError:Yr,UnexpectedTokenError:ar},ue={csc:function(m){return 1/Math.sin(m)},sec:function(m){return 1/Math.cos(m)},cot:function(m){return 1/Math.tan(m)},acsc:function(m){return Math.asin(1/m)},asec:function(m){return Math.acos(1/m)},acot:function(m){return Math.PI/2-Math.atan(m)},erf:function(m){var T=1/(1+.5*Math.abs(m)),Q=1-T*Math.exp(-m*m-1.26551223+T*(1.00002368+T*(.37409196+T*(.09678418+T*(T*(.27886807+T*(T*(1.48851587+T*(.17087277*T-.82215223))-1.13520398))-.18628806)))));return m>=0?Q:-Q},diff:function(m){var T=.001;return function(Y){return(m(Y+T)-m(Y-T))/(2*T)}},median:function(...m){m.sort(function(Q,Y){return Q-Y});var T=Math.floor(m.length/2);return m.length%2?m[T]:(m[T-1]+m[T])/2},fromContinued:function(m){for(var T=m.fractions.slice(),Q=1/T.pop(),Y=0,ie=T.length;Y<ie;Y++)Q=1/(T.pop()+Q);return m.sign*(m.whole+Q)},continuedFraction:function(m,T){T=T||20;for(var un,Vi,Q=Math.sign(m),Y=Math.abs(m),ie=Math.floor(Y),pe=Y-ie,Qe=0,St=!1,Zn={whole:ie,sign:Q,fractions:[]};!St&&0!==pe&&(un=1/pe,!((Vi=Math.floor(un))>1e7&&ue.fromContinued(Zn)-m<=Number.EPSILON));)Zn.fractions.push(Vi),((pe=un-Vi)<=1e-14||Qe>=T-1)&&(St=!0),Qe++;var lr=Zn.fractions.length-1;return 1===Zn.fractions[lr]&&(Zn.fractions.pop(),Zn.fractions[--lr]++),Zn},bigpow:function(m,T){m instanceof nn||(m=nn.create(m)),T instanceof nn||(T=nn.create(T));var Q=new nn(0);if(T.isInteger())Q.num=m.num.pow(T.toString()),Q.den=m.den.pow(T.toString());else{var Y=nn.create(Math.pow(m.num,T.num)),ie=nn.create(Math.pow(m.den,T.num));Q.num=ue.nthroot(Y,T.den.toString()),Q.den=ue.nthroot(ie,T.den)}return Q},gamma:function(m){var Q=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7];if(m<.5)return Math.PI/(Math.sin(Math.PI*m)*ue.gamma(1-m));m-=1;for(var Y=Q[0],ie=1;ie<9;ie++)Y+=Q[ie]/(m+ie);var pe=m+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(pe,m+.5)*Math.exp(-pe)*Y},bigfactorial:function(m){for(var T=new it(1),Q=2;Q<=m;Q++)T=T.times(Q);return new nn(T)},bigLog:function(m){var T=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(T[m])return nn.quick.apply(null,T[m].split("/"));m=new nn(m);for(var Y=new nn(0),ie=m.subtract(new nn(1)),pe=m.add(new nn(1)),Qe=0;Qe<80;Qe++){var St=new nn(2*Qe+1),on=ue.bigpow(ie.divide(pe),St),Lt=St.clone().invert().multiply(on);Y=Y.add(Lt)}return Y.multiply(new nn(2))},factorial:function(m){var T=m%1==0;if(T&&m<0)return NaN;if(!T)return ue.gamma(m+1);for(var Q=1,Y=2;Y<=m;Y++)Q*=Y;return Q},dfactorial:function(m){if(ht(m)){var T=m%2==0,Q=T?m/2:(m+1)/2,Y=new nn(1);if(T)for(var ie=1;ie<=Q;ie++)Y=Y.multiply(new nn(2).multiply(new nn(ie)));else for(ie=1;ie<=Q;ie++)Y=Y.multiply(new nn(2).multiply(new nn(ie)).subtract(new nn(1)))}else Y=Math.pow(2,(1+2*m-Math.cos(Math.PI*m))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*m)-1)/4)*ue.gamma(1+m/2);return Y},GCD:function(){for(var m=ti([].slice.call(arguments).map(function(ie){return Math.abs(ie)})).sort(),T=Math.abs(m.shift()),Q=m.length;Q-- >0;)for(var Y=Math.abs(m.shift());;){if(0==(T%=Y)){T=Y;break}if(0==(Y%=T))break}return T},QGCD:function(){for(var m=[].slice.call(arguments),T=m[0],Q=1;Q<m.length;Q++){var Y=m[Q],ie=T.isNegative()&&Y.isNegative()?-1:1;T=Y.gcd(T),ie<0&&T.negate()}return T},LCM:function(m,T){return m*T/ue.GCD(m,T)},pow:function(m,T){return m<0&&Math.abs(T)<1?1/T%2==0?NaN:-Math.pow(Math.abs(m),T):Math.pow(m,T)},factor:function(m){m=Number(m);var T=Math.sign(m);m=Math.abs(m);var Q=ue.ifactor(m),Y=new be;for(var ie in Y.symbols={},Y.group=Xe,Q){var pe=new be(1);pe.group=Bi,pe.value=ie,pe.power=new be(Q[ie]),Y.symbols[ie]=pe}return Y.updateHash(),1===m&&(Y=new be(m)),T<0&&Y.negate(),Y},sfactor:function(m,T){T=T||{};var Q=Math.floor(Math.sqrt(m));Q>Qi[Qi.length-1]&&m<1e6&&Pr(Q);for(var ie=Qi.length,pe=0;pe<ie;pe++)for(var Qe=Qi[pe];m%Qe==0;)m/=Qe,T[Qe]=(T[Qe]||0)+1;return m>1&&(T[m]=1),T},ifactor:function(m){var T=new it(m);if("0"===(m=String(m)))return{0:1};var Q=(m=new it(m)).sign?-1:1;m=m.abs();var Y={};if(m.lt("65536"))Y=ue.sfactor(m,Y);else{var ie=function(Lt){Lt.isPrime()?Y[Lt]=(Y[Lt]||0)+1:Y=ue.sfactor(Lt,Y)};try{for(var Qe=0;!m.abs().equals(1);){if(m.isPrime()){ie(m);break}{let Lt=function(un){for(var Vi=new it(un),Zn=2,bi=new it(un),lr=new it(1);lr.equals(1);){for(var Mn=0;Mn<=Zn&&lr.equals(1);Mn++){if(Qe++>1e3)throw new Error("stopping");bi=bi.pow(2).add(1).mod(m),lr=it.gcd(bi.minus(Vi).abs(),m)}Zn*=2,Vi=bi}return lr.equals(m)?Lt(un+1):lr};var St=Lt(2);ie(St),m=m.divide(St)}}}catch{Y={},ie(T)}}if(-1===Q){var on=Nt(_e(Y));Y["-"+on]=Y[on],delete Y[on]}return Y},boxfactor:function(m,T){T=T||200;for(var Q,Y,ie=Math.floor(5/12*m),pe=0,Qe=!1;Q=Math.floor(m/ie),0!=(Y=m%ie);){if(Qe)return[m,1];ie=Math.max(Y,ie-Y),Qe=++pe>T}return[Q,ie,pe]},fib:function(m){var T=Math.sign(m);m=Math.abs(m),T=xn(m)?T:Math.abs(T);for(var Q=0,Y=1,ie=1,pe=2;pe<=m;pe++)ie=Q+Y,Q=Y,Y=ie;return ie*T},mod:function(m,T){return m%T},integer_part:function(m){return Math.sign(m)*Math.floor(Math.abs(m))},simpson:function(m,T,Q,Y){var ie=function(bi,lr,Mn){var Wr=bi(lr);return isNaN(Wr)&&(Wr=bi(1===Mn?lr+1e-12:lr-1e-12)),Wr};Y=Y||1e-4;var pe=Math.abs(Math.floor((Q-T)/Y));pe%2!=0&&pe++;for(var Qe=(Q-T)/pe,St=ie(m,T,1),on=!1,Lt=T+Qe,Zn=1;Zn<pe;Zn++)St+=(on?2:4)*ie(m,Lt,1),on=!on,Lt+=Qe;return(St+ie(m,Lt,2))*(Qe/3)},num_integrate:function(m,T,Q,Y,ie){if(ie<0)throw new Error("max depth cannot be negative");function pe(on,Lt,un,Vi,Zn,bi,lr,Mn,Wr,nr,Cr){if(Cr.nanEncountered)return NaN;var No,is,io,vs,ca,ys,Jr,Qo,ai,fa;if(is=on(Lt+.25*(No=un-Lt)),io=on(un-.25*No),isNaN(is))Cr.nanEncountered=!0;else{if(!isNaN(io))return fa=((ys=(vs=No*(Vi+4*is+Zn)/12)+(ca=No*(Zn+4*io+bi)/12))-lr)/15,Cr.maxDepthCount>1e3*Wr?void 0:nr>Wr?(Cr.maxDepthCount++,ys+fa):Math.abs(fa)<Mn?ys+fa:(Qo=pe(on,Lt,Jr=Lt+.5*No,Vi,is,Zn,vs,.5*Mn,Wr,nr+1,Cr),isNaN(Qo)?(Cr.nanEncountered=!0,NaN):(ai=pe(on,Jr,un,Zn,io,bi,ca,.5*Mn,Wr,nr+1,Cr),isNaN(ai)?(Cr.nanEncountered=!0,NaN):Qo+ai));Cr.nanEncountered=!0}}var St;try{St=function Qe(on,Lt,un,Vi,Zn){var bi={maxDepthCount:0,nanEncountered:!1};void 0===Vi&&(Vi=1e-9),void 0===Zn&&(Zn=45);var lr=on(Lt),Mn=on(.5*(Lt+un)),Wr=on(un),Cr=pe(on,Lt,un,lr,Mn,Wr,(lr+4*Mn+Wr)*(un-Lt)/6,Vi,Zn,1,bi);if(bi.maxDepthCount>0&&$e("integrate-adaptive-simpson: Warning: maximum recursion depth ("+Zn+") reached "+bi.maxDepthCount+" times"),bi.nanEncountered)throw new Error("Function does not converge over interval!");return Cr}(m,T,Q,Y,ie)}catch{return ue.simpson(m,T,Q)}return Ct(St,12)},Ci:function(m){for(var Y=0,ie=1;ie<20;ie++){var pe=2*ie;Y+=Math.pow(-1,ie)*Math.pow(m,pe)/(pe*ue.factorial(pe))}return Math.log(m)+.5772156649015329+Y},Si:function(m){for(var Q=0,Y=0;Y<20;Y++){var ie=2*Y;Q+=Math.pow(-1,Y)*Math.pow(m,ie+1)/((ie+1)*ue.factorial(ie+1))}return Q},Ei:function(m){if(0===Number(m))return-1/0;for(var Y=0,ie=1;ie<30;ie++)Y+=Math.pow(m,ie)/(ie*ue.factorial(ie));return.5772156649015329+Math.abs(Math.log(m))+Y},Shi:function(m){for(var Y,ie,Q=0,pe=0;pe<30;pe++)ie=1+(Y=2*pe),Q+=Math.pow(m,ie)/(ie*ie*ue.factorial(Y));return Q},Chi:function(m){var Y;return Y=function(ie){return(Math.cosh(ie)-1)/ie},Math.log(m)+.5772156649015329+ue.num_integrate(Y,.002,m,.001)},Li:function(m){return ue.Ei(ue.bigLog(m))},gamma_incomplete:function(m,ie){for(var Q=m-1,Y=0,pe=(ie=ie||0,0);pe<Q;pe++)Y+=Math.pow(ie,pe)/ue.factorial(pe);return ue.factorial(Q)*Math.exp(-ie)*Y},step:function(m){return m>0?1:m<0?0:.5},rect:function(T){return.5===(T=Math.abs(T))?T:T>.5?0:1},sinc:function(m){return m.equals(0)?1:Math.sin(m)/m},tri:function(m){return(m=Math.abs(m))>=1?0:1-m},nthroot:function(m,T){if(m instanceof nn||(m=new nn(m.toString())),T instanceof nn||(T=new nn(T.toString())),T.equals(1))return m;var ie,pe,Qe,Q=m.divide(new nn(2)),Y=new nn(1e-15),St=T.clone().invert(),on=T.subtract(new nn(1));do{var Lt=ue.bigpow(Q,on),un=St.multiply(m.divide(Lt).subtract(Q)).toDecimal(25);if(ie=nn.create(un),Qe)break;Q=Q.add(ie),un=ie.toDecimal(),Qe=!!pe&&pe===un,pe=un}while(ie.abs().gte(Y));return Q},sqrt:function(m){m instanceof nn||(m=new nn(m));var T,Q,Y,ie,pe=0,Qe=!1,St=new nn(1e-20);T=m.divide(new nn(2));do{if(pe>1e3)throw new Error("Unable to calculate square root for "+m);T=T.add(m.divide(T)).divide(new nn(2)),T=new nn(T.decimal(30)),Q=m.subtract(T.multiply(T)),ie=!!Y&&Y.equals(Q),(Q.clone().abs().lessThan(St)||ie)&&(Qe=!0),Y=Q,pe++}while(!Qe);return T}};function Oe(m,T,Q,Y){var ie="hash"===T,pe=void 0,Qe=ie?void 0:T,St="decimal"===Qe||"decimals"===Qe;function on(Jr){switch(T){case"decimals":case"decimal":return pe=pe||function(Er){return!1},Jr.valueOf();case"recurring":pe=pe||function(Er){return-1!==Er.indexOf("'")};var wl=Jr.toString();if(0===(Us=/^-?\d+(?:\/\d+)?$/.exec(wl)).length)return wl;var Ia=Us[0].split("/"),Qo=!1,ai=Number(Ia[0]);ai<0&&(ai=-ai,Qo=!0);var fa=Number(Ia[1]);fa||(fa=1);var Ys=10*(ai-(ol=Math.floor(ai/fa))*fa);for(ol=ol.toString()+".";Ys&&Ys<fa;)Ys*=10,ol+="0";for(var Ds="",Rs=[],Gr=0;;){if(typeof Rs[Ys]<"u")return(Qo?"-":"")+(ol+Ds.slice(0,Rs[Ys])+"'"+Ds.slice(Rs[Ys])+"'").replace("'0'","").replace(/\.$/,"");var Ou=Math.floor(Ys/fa),Va=Ys-Ou*fa;Rs[Ys]=Gr,Ds+=Ou.toString(),Gr+=1,Ys=10*Va}case"mixed":var Us;if(pe=pe||function(Er){return-1!==Er.indexOf("/")},wl=Jr.toString(),0===(Us=/^-?\d+(?:\/\d+)?$/.exec(wl)).length)return wl;Ia=Us[0].split("/");var bl=new it(Ia[0]),Ll=new it(Ia[1]);Ll.equals(0)&&(Ll=new it(1));var rl=bl.divmod(Ll),ol=rl.quotient,ku=rl.remainder,Qr="-"===Ia[0][0]||ol.equals(0)||ku.equals(0)?"":"+";return(ol.equals(0)?"":ol.toString())+Qr+(ku.equals(0)?"":ku.toString()+"/"+Ia[1]);case"scientific":return pe=pe||function(Er){return!1},new zi(Jr.valueOf()).toString(Fe.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return pe=pe||function(Er){return-1!==Er.indexOf("/")},Jr.toString()}}if(St&&typeof Y>"u"&&(Y=Fe.DEFAULT_DECP),Ft(m)){var Lt="",un="",Vi="",Zn=m.group||Q,bi=m.value;if(!ie){var lr=on(m.multiplier);"-1"==lr&&"-1"===String(m.multiplier)&&(Vi="-",lr="1"),"1"!=lr&&(Lt=lr);var Mn=m.power?on(m.power):"";"1"!=Mn&&(un=Ft(Mn)?Oe(Mn,Qe):Mn)}switch(Zn){case $t:Lt="";var Wr=Y&&St?m.multiplier.toDecimal(Y):on(m.multiplier);bi="-1"==String(m.multiplier)?"1":Wr,un="";break;case In:bi=m.collectSymbols().map(function(Jr){var Qo=Oe(Jr,Qe,Q,Y);return"0"==Qo&&(Qo=""),Qo}).sort().join("+").replace(/\+\-/g,"-");break;case An:bi=m.collectSymbols().map(function(Jr){var Qo=Oe(Jr,Qe,Q,Y);return"0"==Qo&&(Qo=""),Qo}).sort().join("+").replace(/\+\-/g,"-");break;case Xe:bi=m.collectSymbols(function(Jr){var Qo=Jr.group;return(Qo===In||Qo===An)&&Jr.power.equals(1)&&Jr.multiplier.equals(1)?en(Oe(Jr,Qe)):Oe(Jr,Qe)}).join("*");break;case fn:var nr=m.previousGroup,Cr=m.power.group;nr===In&&(bi=m.collectSymbols(Oe,Qe).join("+").replace("+-","-")),!(nr===$t||nr===an||nr===Tt)&&!ie&&(bi=en(bi)),(Cr===An||Cr===Xe||Cr===In||"1"!=m.power.multiplier.toString())&&un&&(un=en(un))}if(Zn===Tt&&(bi=m.fname+en(m.args.map(function(Jr){return Oe(Jr,Qe)}).join(","))),Zn===Tt&&m.fname in Ht){var No=Oe(m.args[0]),is=Oe(m.args[1]);m.args[0].isComposite()&&(No=en(No)),m.args[1].isComposite()&&(is=en(is)),bi=No+Ht[m.fname]+is}un&&Zn!==fn&&pe(un)&&(un=en(un)),((Zn===An||Zn===In)&&(Lt&&"1"!=Lt||"-"===Vi)||(Zn===Xe||Zn===An||Zn===In)&&un&&"1"!=un||!ie&&Zn===Bi&&-1==bi||m.fname===gn)&&(bi=en(bi)),Y&&("decimal"===T||"decimals"===T&&Lt)&&(Lt=Ct(Lt,Y));var io=Vi+Lt;if(Lt&&pe(Lt)&&(io=en(io)),un<0&&(un=en(un)),Lt&&(io+="*"),un){if("e"===bi&&Fe.E_TO_EXP)return io+"exp"+en(un);un=Fe.POWER_OPERATOR+un}Zn===fn&&"-"===bi.charAt(0)&&(bi=en(bi));var vs=io+bi;return m.parens&&(vs=en(vs)),vs+un}if(zn(m)){for(var ca=m.elements.length,ys=(io=[],0);ys<ca;ys++)io.push(m.elements[ys].text(T));return"["+io.join(",")+"]"}try{return m.toString()}catch{return""}}function rt(m){if(ne(m))return[m];for(var T=m,Q=1,Y=[];Q<T;){var pe=m/Q,Qe=Math.floor(pe);if(pe-Qe<=2220446049250313e-31&&Q>1){if(ne(Q)&&(-1===Qi.indexOf(Q)&&Qi.push(Q),Y.push(Q)),ne(Qe)){Y.push(Qe);break}T=Qe}Q++}return Y.sort(function(on,Lt){return on-Lt})}function Ot(m){this.symbol=m}function zi(m){return this instanceof zi?((m=String(typeof m>"u"?0:m)).startsWith("-")?(this.sign=-1,m=m.substr(1,m.length)):this.sign=1,zi.isScientific(m)?this.fromScientific(m):this.convert(m),this):new zi(m)}function nn(m){if(m instanceof nn)return m;if(void 0===m)return this;try{if(ht(m))try{this.num=it(m),this.den=it(1)}catch{return nn.simple(m)}else{var T=m instanceof qn?$o.quickConversion(m):$o.convert(m);this.num=new it(T[0]),this.den=new it(T[1])}}catch{return nn.simple(m)}}function be(m){var T="Infinity"===m;return this instanceof be?(m instanceof qn&&(m=m.toString()),/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(m)||m instanceof qn?(this.group=$t,this.value=Un,this.multiplier=new nn(m)):(this.group=an,et(m),this.value=m,this.multiplier=new nn(1),this.imaginary=m===Fe.IMAGINARY,this.isInfinity=T),this.power=new nn(1),this):new be(m)}function Co(){var m=this,T={},Q={names:[],actions:[]};function Y(S,N){this.start=S,this.end=N}function ie(){this.elements=[]}function pe(S,N,me){if(this.type=N,this.value=S,void 0!==me&&(this.column=me+1),N===pe.OPERATOR){var Te=Lt[S];for(var ct in Te)this[ct]=Te[ct]}else N===pe.FUNCTION&&(this.precedence=pe.MAX_PRECEDENCE,this.leftAssoc=!1)}Y.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},Y.prototype.text=function(){return Oe(this.start)+":"+Oe(this.end)},ie.prototype.append=function(S){this.elements.push(S)},ie.prototype.getItems=function(){return this.elements},ie.prototype.toString=function(){return m.pretty_print(this.elements)},ie.create=function(S){var N=new ie;return S&&N.append(S),N},pe.prototype.toString=function(){return this.value},pe.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},pe.OPERATOR="OPERATOR",pe.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",pe.FUNCTION="FUNCTION",pe.UNIT="UNIT",pe.KEYWORD="KEYWORD",pe.MAX_PRECEDENCE=999,this.classes={Collection:ie,Slice:Y,Token:pe};var Qe={prec:void 0,cos:function(S,N){var me,Te;return me=m.parse(Math.cos(S)*Math.cosh(N)),Te=m.parse(Math.sin(S)*Math.sinh(N)),m.subtract(me,m.multiply(Te,be.imaginary()))},sin:function(S,N){var me,Te;return me=m.parse(Math.sin(S)*Math.cosh(N)),Te=m.parse(Math.cos(S)*Math.sinh(N)),m.subtract(me,m.multiply(Te,be.imaginary()))},tan:function(S,N){var me,Te;return me=m.parse(Math.sin(2*S)/(Math.cos(2*S)+Math.cosh(2*N))),Te=m.parse(Math.sinh(2*N)/(Math.cos(2*S)+Math.cosh(2*N))),m.add(me,m.multiply(Te,be.imaginary()))},sec:function(S,N){var me=this.removeDen(this.cos(S,N));return m.subtract(me[0],m.multiply(me[1],be.imaginary()))},csc:function(S,N){var me=this.removeDen(this.sin(S,N));return m.add(me[0],m.multiply(me[1],be.imaginary()))},cot:function(S,N){var me=this.removeDen(this.tan(S,N));return m.subtract(me[0],m.multiply(me[1],be.imaginary()))},acos:function(S,N){var me,Te,ct,Ut,Zt;return me=this.fromArray([S,N]),Zt=m.pow(me.clone(),new be(2)),Te=m.expand(Zt),ct=m.multiply(Gr(m.subtract(new be(1),Te)),be.imaginary()),Ut=Eo(m.expand(m.add(me.clone(),ct))),m.expand(m.multiply(be.imaginary().negate(),Ut))},asin:function(S,N){return m.subtract(m.parse("pi/2"),this.acos(S,N))},atan:function(S,N){return S.equals(0)&&(N.equals(1)||N.equals(-1))?m.parse(`${be.infinity()}*${Fe.IMAGINARY}*${N}`):(It=Qe.fromArray([S,N]),me=m.expand(m.multiply(be.imaginary(),It.clone())),Te=Eo(m.expand(m.subtract(new be(1),me.clone()))),ct=Eo(m.expand(m.add(new be(1),me.clone()))),m.expand(m.multiply(m.divide(be.imaginary(),new be(2)),m.subtract(Te,ct))));var me,Te,ct,It},asec:function(S,N){var me=this.removeDen([S,N]);return me[1].negate(),this.acos.apply(this,me)},acsc:function(S,N){var me=this.removeDen([S,N]);return me[1].negate(),this.asin.apply(this,me)},acot:function(S,N){var me=this.removeDen([S,N]);return me[1].negate(),this.atan.apply(this,me)},cosh:function(S,N){var me,Te;return me=m.parse(Math.cosh(S)*Math.cos(N)),Te=m.parse(Math.sinh(S)*Math.sin(N)),m.add(me,m.multiply(Te,be.imaginary()))},sinh:function(S,N){var me,Te;return me=m.parse(Math.sinh(S)*Math.cos(N)),Te=m.parse(Math.cosh(S)*Math.sin(N)),m.add(me,m.multiply(Te,be.imaginary()))},tanh:function(S,N){var me,Te;return me=m.parse(Math.sinh(2*S)/(Math.cos(2*N)+Math.cosh(2*S))),Te=m.parse(Math.sin(2*N)/(Math.cos(2*N)+Math.cosh(2*S))),m.subtract(me,m.multiply(Te,be.imaginary()))},sech:function(S,N){var me=this.removeDen(this.cosh(S,N));return m.subtract(me[0],m.multiply(me[1],be.imaginary()))},csch:function(S,N){var me=this.removeDen(this.sinh(S,N));return m.subtract(me[0],m.multiply(me[1],be.imaginary()))},coth:function(S,N){var me=this.removeDen(this.tanh(S,N));return m.add(me[0],m.multiply(me[1],be.imaginary()))},acosh:function(S,N){var me,Te,ct;return ct=this.fromArray([S,N]),me=Gr(m.add(ct.clone(),new be(1))),Te=Gr(m.subtract(ct.clone(),new be(1))),m.expand(Eo(m.add(ct,m.expand(m.multiply(me,Te)))))},asinh:function(S,N){var me,Te;return Te=this.fromArray([S,N]),me=Gr(m.add(new be(1),m.expand(m.pow(Te.clone(),new be(2))))),m.expand(Eo(m.add(Te,me)))},atanh:function(S,N){var me,Te,ct;return ct=this.fromArray([S,N]),me=Eo(m.add(ct.clone(),new be(1))),Te=Eo(m.subtract(new be(1),ct)),m.expand(m.divide(m.subtract(me,Te),new be(2)))},asech:function(S,N){var me=this.removeDen([S,N]);return me[1].negate(),this.acosh.apply(this,me)},acsch:function(S,N){var me=this.removeDen([S,N]);return me[1].negate(),this.asinh.apply(this,me)},acoth:function(S,N){var me=this.removeDen([S,N]);return me[1].negate(),this.atanh.apply(this,me)},sqrt:function(S){var N,me,Te,ct,It;return N=S.realpart(),me=S.imagpart(),Te=be.hyp(N,me),ct=m.add(N.clone(),Te),It=Gr(m.multiply(new be(2),ct.clone())),m.add(m.divide(ct.clone(),It.clone()),m.multiply(m.divide(me,It),be.imaginary()))},log:function(S,N){var me,Te,ct;return me=Eo(be.hyp(S,N)),ct=Fe.USE_BIG?be(qn.atan2(N.multiplier.toDecimal(),S.multiplier.toDecimal())):Math.atan2(N,S),Te=m.parse(ct),m.add(me,m.multiply(be.imaginary(),Te))},erf:(S,N)=>m.symfunction("erf",[S]),removeDen:function(S){var N,me,Te;return We(S)?(me=S[0],Te=S[1]):(me=S.realpart(),Te=S.imagpart()),N=Math.pow(me,2)+Math.pow(Te,2),[m.parse(me/N),m.parse(Te/N)]},fromArray:function(S){return m.add(S[0],m.multiply(be.imaginary(),S[1]))},evaluate:function(S,N){var me,Te,ct;if(ct=S.power.sign(),S.power=S.power.abs(),S.power.greaterThan(1)&&(S=m.expand(S)),ct<0){var It=this.removeDen(S);me=It[0],Te=It[1]}else me=S.realpart(),Te=S.imagpart();return me.isConstant("all")&&Te.isConstant("all")?this[N].call(this,me,Te):m.symfunction(N,[S])}},St=this.trig={cos:function(S){if(S.equals("pi")&&S.multiplier.den.equals(2))return new be(0);if(Fe.PARSE2NUMBER){if(S.equals(new be(Fe.PI/2)))return new be(0);if(S.isConstant())return new be(Fe.USE_BIG?qn.cos(S.multiplier.toDecimal()):Math.cos(S.valueOf()));if(S.isImaginary())return Qe.evaluate(S,"cos")}if(S.equals(0))return new be(1);var N,me=!1,Te=Nu(S.multiplier.toDecimal()),ct=S.multiplier.abs();if(S.multiplier=ct,S.isPi()&&S.isLinear())if(ht(ct))N=new be(xn(ct)?1:-1);else{Number(ct.num);var Ut=Number(ct.den);2===Ut?N=new be(0):3===Ut?(N=m.parse("1/2"),me=!0):4===Ut?(N=m.parse("1/sqrt(2)"),me=!0):6===Ut?(N=m.parse("sqrt(3)/2"),me=!0):N=m.symfunction("cos",[S])}return me&&(2===Te||3===Te)&&N.negate(),N||(N=m.symfunction("cos",[S])),N},sin:function(S){if(Fe.PARSE2NUMBER){if(S.isConstant())return S%Math.PI==0?new be(0):new be(Fe.USE_BIG?qn.sin(S.multiplier.toDecimal()):Math.sin(S.valueOf()));if(S.isImaginary())return Qe.evaluate(S,"sin")}if(S.equals(0))return new be(0);var N,me=!1,Te=Nu(S.multiplier.toDecimal()),ct=S.multiplier.sign(),It=S.multiplier.abs();if(S.multiplier=It,S.equals("pi"))N=new be(0);else if(S.isPi()&&S.isLinear())if(ht(It))N=new be(0);else{var Zt=It.den;2==Zt?(N=new be(1),me=!0):3==Zt?(N=m.parse("sqrt(3)/2"),me=!0):4==Zt?(N=m.parse("1/sqrt(2)"),me=!0):6==Zt?(N=m.parse("1/2"),me=!0):N=m.multiply(new be(ct),m.symfunction("sin",[S]))}return N||(N=m.multiply(new be(ct),m.symfunction("sin",[S]))),me&&(3===Te||4===Te)&&N.negate(),N},tan:function(S){if(Fe.PARSE2NUMBER){if(S%Math.PI==0&&S.isLinear())return new be(0);if(S.isConstant())return new be(Fe.USE_BIG?qn.tan(S.multiplier.toDecimal()):Math.tan(S.valueOf()));if(S.isImaginary())return Qe.evaluate(S,"tan")}var N,me=!1,Te=Nu(S.multiplier.toDecimal()),ct=S.multiplier;if(S.multiplier=ct,S.isPi()&&S.isLinear())if(ht(ct))N=new be(0);else{var Ut=ct.den;if(2==Ut)throw new ee("tan is undefined for "+S.toString());3==Ut?(N=m.parse("sqrt(3)"),me=!0):4==Ut?(N=new be(1),me=!0):6==Ut?(N=m.parse("1/sqrt(3)"),me=!0):N=m.symfunction("tan",[S])}return N||(N=m.symfunction("tan",[S])),me&&(2===Te||4===Te)&&N.negate(),N},sec:function(S){if(Fe.PARSE2NUMBER)return S.isConstant()?new be(Fe.USE_BIG?new qn(1).dividedBy(qn.cos(S.multiplier.toDecimal())):ue.sec(S.valueOf())):S.isImaginary()?Qe.evaluate(S,"sec"):m.parse(jn("1/cos({0})",S));var N,me=!1,Te=Nu(S.multiplier.toDecimal()),ct=S.multiplier.abs();if(S.multiplier=ct,S.isPi()&&S.isLinear())if(ht(ct))N=new be(xn(ct)?1:-1);else{var Ut=ct.den;if(2==Ut)throw new ee("sec is undefined for "+S.toString());3==Ut?(N=new be(2),me=!0):4==Ut?(N=m.parse("sqrt(2)"),me=!0):6==Ut?(N=m.parse("2/sqrt(3)"),me=!0):N=m.symfunction("sec",[S])}return me&&(2===Te||3===Te)&&N.negate(),N||(N=m.symfunction("sec",[S])),N},csc:function(S){if(Fe.PARSE2NUMBER)return S.isConstant()?new be(Fe.USE_BIG?new qn(1).dividedBy(qn.sin(S.multiplier.toDecimal())):ue.csc(S.valueOf())):S.isImaginary()?Qe.evaluate(S,"csc"):m.parse(jn("1/sin({0})",S));var N,me=!1,Te=Nu(S.multiplier.toDecimal()),ct=S.multiplier.sign(),It=S.multiplier.abs();if(S.multiplier=It,S.isPi()&&S.isLinear()){if(ht(It))throw new ee("csc is undefined for "+S.toString());var Zt=It.den;2==Zt?(N=new be(1),me=!0):3==Zt?(N=m.parse("2/sqrt(3)"),me=!0):4==Zt?(N=m.parse("sqrt(2)"),me=!0):6==Zt?(N=new be(2),me=!0):N=m.multiply(new be(ct),m.symfunction("csc",[S]))}return N||(N=m.multiply(new be(ct),m.symfunction("csc",[S]))),me&&(3===Te||4===Te)&&N.negate(),N},cot:function(S){if(Fe.PARSE2NUMBER)return S%(Math.PI/2)==0?new be(0):S.isConstant()?new be(Fe.USE_BIG?new qn(1).dividedBy(qn.tan(S.multiplier.toDecimal())):ue.cot(S.valueOf())):S.isImaginary()?Qe.evaluate(S,"cot"):m.parse(jn("1/tan({0})",S));var N,me=!1,Te=Nu(S.multiplier.toDecimal()),ct=S.multiplier;if(S.multiplier=ct,S.isPi()&&S.isLinear()){if(ht(ct))throw new ee("cot is undefined for "+S.toString());var Ut=ct.den;2==Ut?N=new be(0):3==Ut?(N=m.parse("1/sqrt(3)"),me=!0):4==Ut?(N=new be(1),me=!0):6==Ut?(N=m.parse("sqrt(3)"),me=!0):N=m.symfunction("cot",[S])}return N||(N=m.symfunction("cot",[S])),me&&(2===Te||4===Te)&&N.negate(),N},acos:function(S){if(Fe.PARSE2NUMBER){if(S.isConstant()){if(S.gt(1)||S.lt(-1)){var N=S.toString();return Or(Yn(`pi/2-asin(${N})`))}return new be(Fe.USE_BIG?qn.acos(S.multiplier.toDecimal()):Math.acos(S.valueOf()))}if(S.isImaginary())return Qe.evaluate(S,"acos")}return m.symfunction("acos",arguments)},asin:function(S){if(Fe.PARSE2NUMBER){if(S.isConstant()){if(S.gt(1)||S.lt(-1)){var N=Fe.IMAGINARY,me=S.multiplier.toDecimal();return Or(Yn(`${N}*log(sqrt(1-${me}^2)-${N}*${me})`))}return new be(Fe.USE_BIG?qn.asin(S.multiplier.toDecimal()):Math.asin(S.valueOf()))}if(S.isImaginary())return Qe.evaluate(S,"asin")}return m.symfunction("asin",arguments)},atan:function(S){var N;if(S.equals(0))N=new be(0);else{if(Fe.PARSE2NUMBER)return S.isConstant()?new be(Fe.USE_BIG?qn.atan(S.multiplier.toDecimal()):Math.atan(S.valueOf())):S.isImaginary()?Qe.evaluate(S,"atan"):m.symfunction("atan",arguments);N=S.equals(-1)?m.parse("-pi/4"):m.symfunction("atan",arguments)}return N},asec:function(S){if(Fe.PARSE2NUMBER){if(S.equals(0))throw new Ue("Input is out of the domain of sec!");if(S.isConstant())return St.acos(S.invert());if(S.isImaginary())return Qe.evaluate(S,"asec")}return m.symfunction("asec",arguments)},acsc:function(S){if(Fe.PARSE2NUMBER){if(S.isConstant())return St.asin(S.invert());if(S.isImaginary())return Qe.evaluate(S,"acsc")}return m.symfunction("acsc",arguments)},acot:function(S){if(Fe.PARSE2NUMBER){if(S.isConstant())return new m.add(m.parse("pi/2"),St.atan(S).negate());if(S.isImaginary())return Qe.evaluate(S,"acot")}return m.symfunction("acot",arguments)},atan2:function(S,N){if(S.equals(0)&&N.equals(0))throw new ee("atan2 is undefined for 0, 0");return Fe.PARSE2NUMBER&&S.isConstant()&&N.isConstant()?new be(Math.atan2(S,N)):m.symfunction("atan2",arguments)}},on=this.trigh={cosh:function(S){if(Fe.PARSE2NUMBER){if(S.isConstant())return new be(Math.cosh(S.valueOf()));if(S.isImaginary())return Qe.evaluate(S,"cosh")}return m.symfunction("cosh",arguments)},sinh:function(S){if(Fe.PARSE2NUMBER){if(S.isConstant())return new be(Math.sinh(S.valueOf()));if(S.isImaginary())return Qe.evaluate(S,"sinh")}return m.symfunction("sinh",arguments)},tanh:function(S){if(Fe.PARSE2NUMBER){if(S.isConstant())return new be(Math.tanh(S.valueOf()));if(S.isImaginary())return Qe.evaluate(S,"tanh")}return m.symfunction("tanh",arguments)},sech:function(S){return Fe.PARSE2NUMBER?S.isConstant()?new be(Math.sech(S.valueOf())):S.isImaginary()?Qe.evaluate(S,"sech"):m.parse(jn("1/cosh({0})",S)):m.symfunction("sech",arguments)},csch:function(S){return Fe.PARSE2NUMBER?S.isConstant()?new be(Math.csch(S.valueOf())):S.isImaginary()?Qe.evaluate(S,"csch"):m.parse(jn("1/sinh({0})",S)):m.symfunction("csch",arguments)},coth:function(S){return Fe.PARSE2NUMBER?S.isConstant()?new be(Math.coth(S.valueOf())):S.isImaginary()?Qe.evaluate(S,"coth"):m.parse(jn("1/tanh({0})",S)):m.symfunction("coth",arguments)},acosh:function(S){return Fe.PARSE2NUMBER&&S.isImaginary()?Qe.evaluate(S,"acosh"):Fe.PARSE2NUMBER?Yn(m.parse(jn(Fe.LOG+"(({0})+sqrt(({0})^2-1))",S.toString()))):m.symfunction("acosh",arguments)},asinh:function(S){return Fe.PARSE2NUMBER&&S.isImaginary()?Qe.evaluate(S,"asinh"):Fe.PARSE2NUMBER?Yn(m.parse(jn(Fe.LOG+"(({0})+sqrt(({0})^2+1))",S.toString()))):m.symfunction("asinh",arguments)},atanh:function(S){return Fe.PARSE2NUMBER&&S.isImaginary()?Qe.evaluate(S,"atanh"):Fe.PARSE2NUMBER?Yn(m.parse(jn("(1/2)*"+Fe.LOG+"((1+({0}))/(1-({0})))",S.toString()))):m.symfunction("atanh",arguments)},asech:function(S){return Fe.PARSE2NUMBER&&S.isImaginary()?Qe.evaluate(S,"asech"):Fe.PARSE2NUMBER?Yn(Eo(m.add(S.clone().invert(),Gr(m.subtract(m.pow(S,new be(-2)),new be(1)))))):m.symfunction("asech",arguments)},acsch:function(S){return Fe.PARSE2NUMBER&&S.isImaginary()?Qe.evaluate(S,"acsch"):Fe.PARSE2NUMBER?Yn(m.parse(jn(Fe.LOG+"((1+sqrt(1+({0})^2))/({0}))",S.toString()))):m.symfunction("acsch",arguments)},acoth:function(S){return Fe.PARSE2NUMBER&&S.isImaginary()?Qe.evaluate(S,"acoth"):Fe.PARSE2NUMBER?S.equals(1)?be.infinity():Yn(m.divide(Eo(m.divide(m.add(S.clone(),new be(1)),m.subtract(S.clone(),new be(1)))),new be(2))):m.symfunction("acoth",arguments)}};this.units={};var S,Lt={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(S){return S}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(S){return m.symfunction(Fe.DOUBLEFACTORIAL,[S])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(S){return is(S)}},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(S){return m.divide(S,new be(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(S){return S}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(S){return S}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(S){return S.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},un={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},Vi=this.functions={cos:[St.cos,1],sin:[St.sin,1],tan:[St.tan,1],sec:[St.sec,1],csc:[St.csc,1],cot:[St.cot,1],acos:[St.acos,1],asin:[St.asin,1],atan:[St.atan,1],arccos:[St.acos,1],arcsin:[St.asin,1],arctan:[St.atan,1],asec:[St.asec,1],acsc:[St.acsc,1],acot:[St.acot,1],atan2:[St.atan2,2],acoth:[on.acoth,1],asech:[on.asech,1],acsch:[on.acsch,1],sinh:[on.sinh,1],cosh:[on.cosh,1],tanh:[on.tanh,1],asinh:[on.asinh,1],sech:[on.sech,1],csch:[on.csch,1],coth:[on.coth,1],acosh:[on.acosh,1],atanh:[on.atanh,1],log10:[,1],exp:[function ai(S){return S.fname===Fe.LOG&&S.isLinear()?m.pow(S.args[0],be.create(S.multiplier)):m.parse(jn("e^({0})",S))},1],radians:[function fa(S){return m.parse(jn("({0})*pi/180",S))},1],degrees:[function Ys(S){return m.parse(jn("({0})*180/pi",S))},1],min:[function ku(){var S=[].slice.call(arguments);return Re(S)?S[0]:j(S)?new be(Math.min.apply(null,S)):Fe.SYMBOLIC_MIN_MAX&&fe(S)?rl("min",S):m.symfunction("min",S)},-1],max:[function ol(){var S=[].slice.call(arguments);return Re(S)?S[0]:j(S)?new be(Math.max.apply(null,S)):Fe.SYMBOLIC_MIN_MAX&&fe(S)?rl("max",S):m.symfunction("max",S)},-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[function Qo(S){return Fe.PARSE2NUMBER?S.isConstant()?new be(ue.sinc(S)):m.parse(jn("sin({0})/({0})",S)):m.symfunction("sinc",[S])},1],tri:[,1],sign:[function Qr(S){return S.isConstant(!0)?new be(Math.sign(Yn(S))):m.symfunction("sign",arguments)},1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[is,1],factorial:[is,1],continued_fraction:[function io(S,N){var me=Yn(S);if(me.isConstant()){var Te=ue.continuedFraction(me,N),ct=Ti.fromArray(Te.fractions.map(function(It){return new be(It)}));return Ti.fromArray([new be(Te.sign),new be(Te.whole),ct])}return m.symfunction("continued_fraction",arguments)},[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[Sc,[1,2]],scientific:[function Af(S,N){return S.scientific=N||10,S},[1,2]],mod:[ca,2],pfactor:[Ou,1],vector:[function Ld(){return new Ti([].slice.call(arguments))},-1],matrix:[function Z1(){return gr.fromArray(arguments)},-1],Set:[function ep(){return Fr.fromArray(arguments)},-1],imatrix:[function Xf(S){return gr.identity(S)},-1],parens:[function Cr(S){return Fe.PARSE2NUMBER?S:m.symfunction("parens",[S])},-1],sqrt:[Gr,1],cbrt:[Ts,1],nthroot:[jl,2],log:[Eo,[1,2]],expand:[function Rl(S,N){return Or(S,N=N||{expand_denominator:!0,expand_functions:!0})},1],abs:[No,1],invert:[function tp(S){if(ri(S))return S.invert();oe("invert expects a matrix")},1],determinant:[function Bc(S){return ri(S)?S.determinant():S},1],size:[function Zf(S){var N;return ri(S)?N=[new be(S.cols()),new be(S.rows())]:zn(S)||Yi(S)?N=new be(S.elements.length):oe("size expects a matrix or a vector"),N},1],transpose:[function Ar(S){if(ri(S))return S.transpose();oe("function transpose expects a matrix")},1],dot:[function Lo(S,N){if(zn(S)&&zn(N))return S.dot(N);oe("function dot expects 2 vectors")},2],cross:[function tv(S,N){if(zn(S)&&zn(N))return S.cross(N);oe("function cross expects 2 vectors")},2],vecget:[function Yf(S,N){return N.isConstant()&&ht(N)?S.elements[N]:m.symfunction("vecget",arguments)},2],vecset:[function X1(S,N,me){return N.isConstant?(S.elements[N]=me,S):m.symfunction("vecset",arguments)},3],vectrim:[function $a(S,N){return N=typeof N>"u"?1e-14:N,S=S.clone(),N=Number(N),S.elements.sort(function(me,Te){return Te.group-me.group}),S.elements=mi(S.elements,function(me,Te){return Number(m.subtract(Yn(me),Yn(Te)).abs())<=N}),S},[1,2]],matget:[function Q4(S,N,me){return N.isConstant()&&me.isConstant()?S.elements[N][me]:m.symfunction("matget",arguments)},3],matset:[function Y1(S,N,me,Te){return S.elements[N][me]=Te,S},4],matgetrow:[function V4(S,N){return N.isConstant()?new gr(S.elements[N]):m.symfunction("matgetrow",arguments)},2],matsetrow:[function hf(S,N,me){if(!N.isConstant())return m.symfunction("matsetrow",arguments);if(S.elements[N].length!==me.elements.length)throw new yn("Matrix row must match row dimensions!");var Te=S.clone();return Te.elements[N]=me.clone().elements,Te},3],matgetcol:[function ba(S,N){if(!N.isConstant())return m.symfunction("matgetcol",arguments);N=Number(N);var me=gr.fromArray([]);return S.each(function(Te,ct,It){It===N&&me.elements.push([Te.clone()])}),me},2],matsetcol:[function J0(S,N,me){if(!N.isConstant())return m.symfunction("matsetcol",arguments);if(N=Number(N),S.rows()!==me.elements.length)throw new yn("Matrix columns must match number of columns!");return me.each(function(Te,ct){S.set(ct-1,N,Te.elements[0].clone())}),S},3],rationalize:[Rs,1],IF:[function ys(S,N,me){return"boolean"!=typeof S&&rr(S)&&(S=!!Number(S)),S?N:me},3],is_in:[function Jr(S,N){if(ri(S)){for(var me=0,Te=S.rows();me<Te;me++)for(var ct=0,It=S.cols();ct<It;ct++)if(S.elements[me][ct].equals(N))return new be(1)}else if(S.elements)for(me=0,Te=S.elements.length;me<Te;me++)if(S.elements[me].equals(N))return new be(1);return new be(0)},2],realpart:[Va,1],imagpart:[wl,1],conjugate:[Us,1],arg:[Ia,1],polarform:[function bl(S){var N,me,Te;return me=(N=be.toPolarFormArray(S))[0],Te=m.parse(jn("e^({0}*({1}))",Fe.IMAGINARY,N[1])),m.multiply(me,Te)},1],rectform:[function Ll(S){var N=S.clone();try{var me,Te,ct,Zt,kn;return me=xt(S,"e",!0),Te=m.divide(me.x.power,be.imaginary()),ct=Yn(St.tan(Te)),m.pow(me.a,new be(2)),Zt=ct.getDenom(!0),kn=ct.getNum(),be.hyp(kn,Zt).equals(me.a)?m.add(Zt,m.multiply(be.imaginary(),kn)):N}catch{return N}},1],sort:[function Er(S,N){N=N?N.toString():"asc";var me=function(ct){return ct.group===$t?ct.multiplier:ct.group===Tt?""===ct.fname?me(ct.args[0]):ct.fname:ct.group===an?ct.power:ct.value};return new Ti((zn(S)?S.elements:S.collectSymbols()).sort(function(ct,It){var Ut=me(ct),Zt=me(It);return"desc"===N?Zt-Ut:Ut-Zt}))},[1,2]],integer_part:[,1],union:[function Kn(S,N){return S.union(N)},2],contains:[function Rd(S,N){return S.contains(N)},2],intersection:[function du(S,N){return S.intersection(N)},2],difference:[function Da(S,N){return S.difference(N)},2],intersects:[function Zs(S,N){return new be(Number(S.intersects(N)))},2],is_subset:[function np(S,N){return new be(Number(S.is_subset(N)))},2],print:[function sl(){Mr(arguments).map(function(S){console.log(S.toString())})},-1]};function lr(S){this.type=S.type,this.value=S.value,this.left=S.left,this.right=S.right}this.error=oe,this.override=function(S,N){T[S]||(T[S]=[]),T[S].push(this[S]),this[S]=N},this.restore=function(S){this[S]&&(this[S]=T[S].pop())},this.extend=function(S,N,me){var Te=this;if("function"==typeof this[S]&&"function"==typeof N){var It=this[S];this[S]=function(Ut,Zt){return Ft(Ut)&&Ft(Zt)&&!me?It.call(Te,Ut,Zt):N.call(Te,Ut,Zt,It)}}},this.symfunction=function(S,N){var me=new be(S);return me.group=Tt,"object"==typeof N&&(N=[].slice.call(N)),me.args=N,me.fname=S===gn?"":S,me.updateHash(),me},this.callfunction=function(S,N,me){var Te=Vi[S];Te||oe("Nerdamer currently does not support the function "+S);var Ut,ct=Te[1]||me,It=Te[0];if(N instanceof Array||(N=void 0!==N?[N]:[]),-1!==ct){var Zt=We(ct),kn=Zt?ct[0]:ct,Rn=Zt?ct[1]:ct,vi=N.length,tn=S+" requires a {0} of {1} arguments. {2} provided!";vi<kn&&oe(jn(tn,"minimum",kn,vi)),vi>Rn&&oe(jn(tn,"maximum",Rn,vi))}var or=j(N);return It?Ut=It.apply(Te[2],N):(It=function(S){for(var N=Fe.FUNCTION_MODULES,me=N.length,Te=0;Te<me;Te++){var ct=N[Te];if(S in ct)return ct[S]}oe("The function "+S+" is undefined!")}(S),Ut=Fe.PARSE2NUMBER&&or?Wf(It.apply(It,N)):m.symfunction(S,N)),Ut},this.operator_filter_regex=(S="^\\"+Object.keys(Lt).filter(function(N){if(1===N.length)return N}).join("\\"),new RegExp("(["+S+"])\\s+(["+S+"])")),this.setOperator=function(S,N,me){var Te=S.operator;if(Lt[Te]=S,N&&(this[S.action]=N),m[Te]=S.operation,!S.action&&!(S.prefix||S.postif)&&(S.action=Te),"over"===me||"under"===me){var ct=S.precedence;for(var It in Lt){var Ut=Lt[It];("over"===me?Ut.precedence>=ct:Ut.precedence>ct)&&Ut.precedence++}}},this.getOperator=function(S){return Lt[S]},this.aliasOperator=function(S,N){var me={},Te=Lt[S];for(var ct in Te)me[ct]=Te[ct];me.operator=N,this.setOperator(me)},this.getOperators=function(){return Lt},this.getBrackets=function(){return un},this.initConstants=function(){this.CONSTANTS={E:new be(Fe.E),PI:new be(Fe.PI)}},this.pretty_print=function(S){if(Array.isArray(S)){var N=S.map(me=>m.pretty_print(me)).join(", ");return"vector"===S.type?"vector<"+N+">":"("+N+")"}return S.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(S){if(Fe.callPeekers)for(var N=this.peekers[S],me=Mr(arguments).slice(1).map(Gt),Te=0;Te<N.length;Te++)N[Te].apply(null,me)},this.tokenize=function(S){for(var N in S=(S=String(S)).trim().replace(/\s+/g," "),un){var me=new RegExp(un[N].is_close?"\\s+\\"+N:"\\"+N+"\\s+","g");S=S.replace(me,N)}for(var Te=0,ct=S.length,It=0,Ut=[],Zt=[Ut],kn=Zt[0],Rn=0,vi=[],tn=!1,Mo=function(As,Aa){var xo=[];void 0!==As&&(xo.type=As),xo.column=Aa,Zt.push(xo),kn.push(xo),kn=xo,Rn++},li=function(){Zt.pop(),kn=Zt[--Rn]},wi=function(As){for(var Aa=(As=void 0!==As?As:Te)+1;S.charAt(Aa++)in Lt;);return S.substring(As,Aa-1)},co=function(As){for(var Aa=Te-As.length,xo=[],al=As.charAt(0),Hs=1,Ul=As.length;Hs<Ul;Hs++){var hu=As.charAt(Hs),pu=al+hu;pu in Lt?al=pu:(xo.push(new pe(al,pe.OPERATOR,Aa+Hs)),al=hu)}return xo.push(new pe(al,pe.OPERATOR,Aa+Hs)),xo},Ur=function(As,Aa){void 0===Aa&&(Aa=S.substring(It,As)),Aa in m.units?kn.push(new pe(Aa,pe.UNIT,It)):""!==Aa&&kn.push(new pe(Aa,pe.VARIABLE_OR_LITERAL,It))},Oo=function(As){kn.push(new pe(As,pe.FUNCTION,It))},Go=function(As){It=As+1};Te<ct;Te++){var _o=S.charAt(Te);if(_o in Lt){Ur(Te);var cn=kn[0]&&Yt(kn[0]);tn&&It<Te&&!(","===_o||cn&&"*"===_o)&&(tn=!1,li()),Go(Te+1);var Ps=wi(Te);Te=(It=It+Ps.length-2)-1,kn.push.apply(kn,co(Ps))}else if(_o in un){var da=un[_o];if(da.is_open)vi.push([da,It]),(ea=S.substring(It,Te))in Vi?Oo(ea):""!==ea&&kn.push(new pe(ea,pe.VARIABLE_OR_LITERAL,It)),Mo(da.maps_to,Te);else if(da.is_close){var Ta=vi.pop();if(!Ta)throw new zt("Missing open bracket for bracket at: "+(Te+1));if(Ta[0].id!==da.id-1)throw new zt("Parity error");Ur(Te),li()}Go(Te)}else if(" "===_o){var as=S.substring(It,Te),Fa=S.charAt(Te+1);if(tn){if(as in Lt)kn.push(new pe(as,pe.OPERATOR,Te));else{Ur(void 0,as),li();var Au=Fa in Lt;(Au&&"-"===Lt[Fa].value||!Au)&&kn.push(new pe("*",pe.OPERATOR,Te))}tn=!1}else{var ea;(ea=S.substring(It,Te))in Vi?(tn=!0,Oo(ea),Mo()):ea in Lt?kn.push(new pe(ea,pe.OPERATOR,Te)):(Ur(void 0,ea),Fa=S.charAt(Te+1),""!==as&&""!==Fa&&!(as in Lt)&&!(Fa in Lt)&&kn.push(new pe("*",pe.OPERATOR,Te)))}Go(Te)}}if(vi.length){var El=vi.pop();throw new zt("Missing closed bracket for bracket at "+(El[1]+1))}return Ur(Te),Ut},this.toRPN=function(S){var Te,N=S.type,me=S.length,ct=[],It=[],Ut=[],Zt=function(go,Mo){for(;go.length;)Mo.push(go.pop())};for(Te=0;Te<me;Te++){var kn=S[Te];if(kn.type!==pe.OPERATOR)break;if(!kn.prefix)throw new Et("Not a prefix operator");kn.is_prefix=!0,It.push(kn)}for(;Te<me;Te++){var Rn=S[Te];if(Rn.type===pe.OPERATOR){var vi=Rn;for(vi.overloaded&&(tn=S[Te+1])&&tn.type===pe.VARIABLE_OR_LITERAL&&(vi.postfix=!1,vi.action=vi.overloadAction,vi.leftAssoc=vi.overloadLeftAssoc);It.length;){var or=It[It.length-1];if(!(or.precedence>vi.precedence||!vi.leftAssoc&&or.precedence===vi.precedence))break;ct.push(It.pop())}if(("vector"===N||"set"===N)&&"vectorFn"in vi&&(vi.action=vi.vectorFn),vi.postfix){var Gi=S[Te-1];if(!Gi)throw new Et("Unexpected prefix operator '"+Rn.value+"'! at "+Rn.column);if(Gi.type===pe.OPERATOR&&!Gi.postfix)throw new Et("Unexpected prefix operator '"+Gi.value+"'! at "+Gi.column)}else do{var tn,mr=!!(tn=S[Te+1])&&tn.type===pe.OPERATOR;if(mr){if(!tn.prefix)throw new Et("A prefix operator was expected at "+tn.column);tn.is_prefix=!0,Ut.push(tn),Te++}}while(mr);for(vi.is_prefix?Ut.push(vi):It.push(vi);Ut.length&&(vi.leftAssoc||!vi.leftAssoc&&Ut[Ut.length-1].precedence>=vi.precedence);)It.push(Ut.pop())}else if(Rn.type===pe.VARIABLE_OR_LITERAL){0===ct.length&&Zt(Ut,It),ct.push(Rn);var Ir=It[It.length-1];(!Ir||!Ir.leftAssoc)&&Zt(Ut,ct)}else Rn.type===pe.FUNCTION?It.push(Rn):Rn.type===pe.UNIT&&ct.push(Rn);Array.isArray(Rn)&&(ct.push(this.toRPN(Rn)),Rn.type&&ct.push(new pe(Rn.type,pe.FUNCTION,Rn.column)))}return Zt(It,ct),Zt(Ut,ct),ct},this.parseRPN=function(S,N){try{for(var me in N=N||{})N[me]=m.parse(N[me],{});Fe.PARSE2NUMBER&&("e"in N||(N.e=new be(Fe.E)),"pi"in N||(N.pi=new be(Fe.PI)));for(var Te=[],ct=0,It=S.length;ct<It;ct++){var Ut=S[ct];if(Array.isArray(Ut)&&(Ut=this.parseRPN(Ut,N)),Ut)if(Ut.type===pe.OPERATOR)if(Ut.is_prefix||Ut.postfix)Te.push(Ut.operation(Te.pop()));else{var Zt=Te.pop(),kn=Te.pop();if(typeof kn>"u")throw new Et(Ut+" is not a valid postfix operator at "+Ut.column);var Rn="comma"===Ut.action;kn instanceof Fr&&!Rn&&(kn=Ti.fromSet(kn)),Zt instanceof Fr&&!Rn&&(Zt=Ti.fromSet(Zt)),this.callPeekers("pre_operator",kn,Zt,Ut);var vi=m[Ut.action](kn,Zt);this.callPeekers("post_operator",vi,kn,Zt,Ut),Te.push(vi)}else if(Ut.type===pe.FUNCTION){var tn=Te.pop(),or=tn.parent;tn instanceof ie||(tn=ie.create(tn));var Gi=Ut.value,mr=tn.getItems();this.callPeekers("pre_function",Gi,mr);var Ir=m.callfunction(Gi,mr);this.callPeekers("post_function",Ir,Gi,mr);var go=Te[Te.length-1],Mo=S[ct+1];if(Mo&&Mo.type===pe.OPERATOR&&","===Mo.value||!(Ir instanceof Ti)||!go||!go.elements||go instanceof ie)or&&(Ir.parent=or),Te.push(Ir);else{var wi=Te.pop(),co=Ir.elements[0];if(co.isConstant())if(co instanceof Y)Te.push(Ti.fromArray(wi.elements.slice(co.start,co.end)));else{var Ur=Number(co),Oo=wi.elements.length;if(Ur<0&&(Ur=Oo+Ur),Ur<0||Ur>=Oo)throw new vn("Index out of range "+(Ut.column+1));var Go=wi.elements[Ur];wi.getter=Ur,Go.parent=wi,Te.push(Go)}else wi.getter=co,Te.push(wi),Te.push(Ir)}}else{var Vo,_o=Ut.value;_o in Fe.ALIASES?Ut=m.parse(Fe.ALIASES[Ut]):Ut.type===pe.VARIABLE_OR_LITERAL?Ut=new be(_o):Ut.type===pe.UNIT&&((Ut=new be(_o)).isUnit=!0),_o in m.CONSTANTS?(Vo=Ut,Ut=new be(m.CONSTANTS[_o])):_o in N&&_o!==N[_o].toString()?(Vo=Ut,Ut=N[_o].clone()):_o in U&&(Vo=Ut,Ut=U[_o].clone()),Vo&&(Ut.subbed=Vo),Te.push(Ut)}}var cn=Te[0];if(-1!==["undefined","string","number"].indexOf(typeof cn))throw new ar("Unexpected token!");return cn}catch(Ps){throw[Ue].forEach(function(da){if(Ps instanceof da)throw new da(Ps.message+": "+Ut.column)}),new ke(Ps.message+": "+Ut.column)}},lr.prototype.toString=function(){var S=this.left?this.left.toString()+"---":"",N=this.right?"---"+this.right.toString():"";return S+"("+this.value+")"+N},lr.prototype.toHTML=function(S,N){S=S||0,N=typeof N>"u"?4:N;var me=function(Ut){return" ".repeat(N*Ut)},It="",Te=this.left?me(S+1)+"<li>\n"+this.left.toHTML(S+2,N)+me(S+1)+"</li> \n":"",ct=this.right?me(S+1)+"<li>\n"+this.right.toHTML(S+2,N)+me(S+1)+"</li>\n":"";return It=me(S)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+me(S)+"\n",(Te||ct)&&(It+=me(S)+"<ul>\n"+Te+ct+me(S)+"</ul>\n"),It+""},this.tree=function(S){for(var N=[],me=0;me<S.length;me++){var Te=S[me];if(Array.isArray(Te))Te=this.tree(Te),N.push(Te);else if(Te.type===pe.OPERATOR)if(Te.is_prefix||Te.postfix){var ct=Te.is_prefix?"left":"right",It=N.pop();(Te=new lr(Te))[ct]=It,N.push(Te)}else(Te=new lr(Te)).right=N.pop(),Te.left=N.pop(),N.push(Te);else if(Te.type===pe.FUNCTION){Te=new lr(Te);var Ut=N.pop();if(Te.right=Ut,"object"===Te.value&&(It=N[N.length-1])){for(;It.right;)It=It.right;It.right=Te;continue}N.push(Te)}else N.push(new lr(Te))}return N[0]},this.parse=function(S,N){S=function(S){S=String(S);for(var N=0;N<Q.actions.length;N++)S=Q.actions[N].call(this,S);for(S=S.replace(/\s+/g," "),/e/gi.test(S)&&(S=S.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,function(Te){return ve(Te)})),S=S.replace(Fe.IMPLIED_MULTIPLICATION_REGEX,function(){var Te=arguments[4],ct=arguments[1],It=arguments[2],Ut=arguments[3],kn="",Rn="*";return Te.charAt(Ut).match(/[\+\-\/\*]/)||(kn=Te.charAt(Ut-1)),kn.match(/[a-z]/i)&&(Rn=""),ct+Rn+It}).replace(/([a-z0-9_]+)/gi,function(Te,ct){return!1===Fe.USE_MULTICHARACTER_VARS&&!(ct in Vi)&&isNaN(ct)?ct.split("").join("*"):ct}).replace(/\)\(/g,")*(")||"0";S!==(S=S.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,function(Te,ct,It,Ut,Zt){var kn=ct||Ut,Rn=It||Zt;return kn in Vi?kn+Rn:kn+"*"+Rn})););return S}(S),N=N||{};var me=this.tokenize(S),Te=this.toRPN(me);return this.parseRPN(Te,N)},this.toObject=function(S){var N=function(me){for(var Te=[],ct=0,It=me.length;ct<It;ct++){var Ut=me[ct],Zt=Ut.value;if(Ut.type===pe.VARIABLE_OR_LITERAL)Te.push(new be(Zt));else if(Ut.type===pe.FUNCTION){ct++;var kn=m.symfunction(Zt,N(me[ct]));kn.isConversion=!0,Te.push(kn)}else Te.push(Ut.type===pe.OPERATOR?Zt:N(Ut))}return Te};return N(m.tokenize(S))};var Mn=function(S){for(var me=0,Te=[[]],N=0,ct=S.length;N<ct;N++)","===S[N]?Te[++me]=[]:Te[me].push(S[N]);return Te},Wr=function(S){return S.replace(/^\\left\((.+)\\right\)$/g,function(N,me){return me||N})};function No(S){if(S.isInfinity)return be.infinity();if(S.multiplier.lessThan(0)&&S.multiplier.negate(),S.isImaginary()){var N=S.realpart(),me=S.imagpart();if(N.isConstant()&&me.isConstant())return Gr(m.add(m.pow(N,new be(2)),m.pow(me,new be(2))))}else if(rr(S)||xn(S.power))return S;if(S.isComposite()){var Te=[];S.each(function(Ut){Te.push(Ut.multiplier)}),ue.QGCD.apply(null,Te).lessThan(0)&&(S.multiplier=S.multiplier.multiply(new nn(-1)),S.distributeMultiplier())}var It=m.parse(S.multiplier);return S.toUnitMultiplier(),m.multiply(It,m.symfunction(Di,[S]))}function is(S){if(zn(S)){var me=new Ti;return S.each(function(vi,tn){me.set(tn-1,is(vi))}),me}if(ri(S)){var Te=new gr;return S.each(function(vi,tn,or){Te.set(tn,or,is(vi))}),Te}if(Fe.PARSE2NUMBER&&S.isConstant())return Wf(ht(S)?ue.bigfactorial(S):ue.gamma(S.multiplier.add(new nn(1)).toDecimal()));if(S.isConstant()&&S.getDenom().equals(2)){var Ut,Zt,kn,Rn,It=S.getNum();return S.multiplier.isNegative()?(Rn=m.subtract(It.negate(),new be(1)).multiplier.divide(new nn(2)),Ut=m.pow(new be(-4),new be(Rn)).multiplier.multiply(ue.bigfactorial(Rn)),Zt=ue.bigfactorial(new nn(2).multiply(Rn))):(Rn=m.add(It,new be(1)).multiplier.divide(new nn(2)),Ut=ue.bigfactorial(new nn(2).multiply(Rn)),Zt=m.pow(new be(4),new be(Rn)).multiplier.multiply(ue.bigfactorial(Rn))),kn=Ut.divide(Zt),m.multiply(m.parse("sqrt(pi)"),new be(kn))}return m.symfunction(Wn,[S])}function ca(S,N){if(S.isConstant()&&N.isConstant()){var me=new be(1);return me.multiplier=me.multiplier.multiply(S.multiplier.mod(N.multiplier)),me}var Te=m.divide(S.clone(),N.clone());return ht(Te)?new be(0):m.symfunction("mod",[S,N])}function Rs(S){if(S.isComposite()){var me,Te,ct,It,Ut,Zt,kn,Rn,N=new be(0);return S.each(function(vi){me=vi.getNum(),Te=vi.getDenom(),ct=N.getNum(),It=N.getDenom(),Ut=m.multiply(Te,ct),Zt=m.multiply(me,It),kn=m.expand(m.add(Ut,Zt)),Rn=m.multiply(It,Te),N=m.divide(kn,Rn)},!0),N}return S}function Gr(S){if(Ft(S)||(S=m.parse(S)),S.group===fn)return m.symfunction(qt,[S]);""===S.fname&&S.power.equals(1)&&(S=S.args[0]);var N=S.multiplier.sign()<0;if(Fe.PARSE2NUMBER){if(S.isConstant()&&!N)return new be(qn.sqrt(S.multiplier.toDecimal()));if(S.isImaginary())return Qe.sqrt(S);if(S.group===an)return m.symfunction("sqrt",[S])}var me,Te,ct=S.isConstant();if(S.group===Xe&&S.isLinear()){var It=Gr(be(S.multiplier));for(var Ut in S.symbols)It=m.multiply(It,Gr(Zt=S.symbols[Ut]));Te=It}else if(S.fname===qt){var kn=S.multiplier;(Ut=S.args[0]).setPower(S.power.multiply(new nn(.25))),Te=Ut,kn.equals(1)||(Te=m.multiply(Gr(m.parse(kn)),Te))}else if(S.power.isInteger())if(S.multiplier<0&&S.group===an){var Rn=m.parse(S.multiplier).negate(),vi=m.parse(S).toUnitMultiplier().negate();Te=m.multiply(m.symfunction(Fe.SQRT,[vi]),Gr(Rn))}else{var tn=S.power.sign();S.power=S.power.abs(),ct&&S.multiplier.lessThan(0)&&(me=be.imaginary(),S.multiplier=S.multiplier.abs());var or=S.multiplier.toDecimal(),Gi=Math.abs(or),mr=Math.sqrt(Gi);if(ht(mr))It=new be(mr);else if(ht(or)){var Ir=ue.ifactor(or),go=1;for(var Zt in Ir){var li=(Mo=Ir[Zt])-Mo%2;if(li){var wi=Math.pow(Zt,li);go*=Math.pow(Zt,li/2),or/=wi}}It=m.multiply(m.symfunction(qt,[new be(or)]),new be(go))}else{for(var co=[new be(S.multiplier.num),new be(S.multiplier.den)],Ur=[new be(1),new be(1)],Oo=[new be(1),new be(1)],Go=0;Go<2;Go++){var Mo;Ou(Mo=co[Go]).each(function(cn){var Js=(cn=be.unwrapPARENS(cn)).clone().toLinear(),Ps=Number(cn.power),da=Ps%2;Ur[Go]=m.multiply(Ur[Go],m.pow(Js,new be((Ps-da)/2))),Oo[Go]=m.multiply(Oo[Go],Gr(m.pow(Js,new be(da))))})}It=m.divide(m.multiply(Ur[0],Oo[0]),m.multiply(Ur[1],Oo[1]))}Te=(S=S.toUnitMultiplier(!0)).isOne()?S:xn(S.power.toString())?m.pow(S.clone(),new be(.5)):m.symfunction(qt,[S]),tn<0&&Te.power.negate(),It&&(Te=m.multiply(It,Te)),me&&(Te=m.multiply(me,Te))}else S.setPower(S.power.multiply(new nn(.5))),Te=S;return N&&Fe.PARSE2NUMBER?m.parse(Te):Te}function Ts(S){if(!S.isConstant(!0)){var N,me=S.power/3,Te=m.pow(m.parse(S.multiplier),new be(1/3)),ct=S.toUnitMultiplier();return ht(me)?N=m.pow(ct.toLinear(),m.parse(me)):ct.group===Xe?(N=new be(1),ct.each(function(It){N=m.multiply(N,Ts(It))})):N=m.symfunction("cbrt",[ct]),m.multiply(Te,N)}return jl(S,new be(3))}function jl(S,N,me,Te){if((N=Yn(m.parse(N))).equals(0))throw new ee("Unable to calculate nthroots of zero");if(S<0&&xn(N))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!S.isConstant(!0))return m.symfunction("nthroot",arguments);S.group!==$t&&(S=Yn(S)),typeof Te>"u"&&(Te=!0),me=me||25;var Ut,It,ct=S.sign();return ct<0&&(S=No(S)),ht(S)&&N.isConstant()?(Ut=S<0x10000000000000000?nn.create(Math.pow(S,1/N)):ue.nthroot(S,N),Te&&(It=new be(Ut)),It=new be(Ut.toDecimal(me)),m.multiply(new be(ct),It)):void 0}function Ou(S){if(S.greaterThan(9999999999998891e26)||S.equals(-1))return S;if(S.equals(Math.PI))return new be(Math.PI);if((S=Yn(S.clone())).isConstant()){var N=new be(1),me=S.toString();if(ht(me)){var Te=ue.ifactor(me);for(var ct in Te){var It=Te[ct];N=m.multiply(N,m.symfunction("parens",[new be(ct).setPower(new nn(It))]))}}else{var Ut=Ou(new be(S.multiplier.num)),Zt=Ou(new be(S.multiplier.den));N=m.multiply(m.symfunction("parens",[Ut]),m.symfunction("parens",[Zt]).invert())}}else N=m.symfunction("pfactor",arguments);return N}function Va(S){return S.realpart()}function wl(S){return S.imagpart()}function Us(S){var N=S.realpart(),me=S.imagpart();return m.add(N,m.multiply(me.negate(),be.imaginary()))}function Ia(S){var N=S.realpart(),me=S.imagpart();return N.isConstant()&&me.isConstant()?me.equals(0)&&N.equals(-1)?m.parse("pi"):me.equals(1)&&N.equals(0)?m.parse("pi/2"):me.equals(1)&&N.equals(1)?m.parse("pi/4"):new be(Math.atan2(me,N)):m.symfunction("atan2",[me,N])}function rl(S,N){N.map(function(Zt){Zt.numVal=Yn(Zt).multiplier});for(var me,Te,ct;;){if((me=N.length)<2)return N[0];Te=N.pop(),ct=N[me-2],("min"===S?Te.numVal<ct.numVal:Te.numVal>ct.numVal)&&(N.pop(),N.push(Te))}}function Eo(S,N){if(S.equals(1))return new be(0);var me;if(S.fname===qt&&S.multiplier.equals(1))return me=m.divide(Eo(S.args[0]),new be(2)),S.power.sign()<0&&me.negate(),me;if(S.equals(0))throw new ee(Fe.LOG+"(0) is undefined!");if(S.isImaginary())return Qe.evaluate(S,Fe.LOG);if(S.isConstant()&&typeof N<"u"&&N.isConstant())me=new be(Math.log(S)/Math.log(N));else if(S.group===fn&&S.power.multiplier.lessThan(0)||"-1"===S.power.toString())S.power.negate(),me=Eo(S).negate();else if("e"===S.value&&S.multiplier.equals(1)){var It=S.power;me=Ft(It)?It:new be(It)}else if(S.group===Tt&&"exp"===S.fname){var Ut=S.args[0];me=S.multiplier.equals(1)?m.multiply(Ut,new be(S.power)):m.symfunction(Fe.LOG,[S])}else if(Fe.PARSE2NUMBER&&rr(S)){var Zt;(S=m.parse(S)).multiplier.lessThan(0)&&(S.negate(),Zt=m.multiply(new be(Math.PI),new be("i"))),me=new be(Math.log(S.multiplier.toDecimal())),Zt&&(me=m.add(me,Zt))}else!S.power.equals(1)&&!S.contains("e")&&(Ut=S.group===fn?S.power:new be(S.power),S.toLinear()),me=arguments.length>1&&Re(arguments)?new be(1):m.symfunction(Fe.LOG,arguments),Ut&&(me=m.multiply(Ut,me));return me}function Sc(S,N){var Te,ct,It,Ut,me=N&&N.isConstant()||typeof N>"u";return S.isConstant()&&me?(Te=S,N&&N.lessThan(0)&&(N=No(N),Te=(ct=Number(S).toExponential().toString().split("e"))[0],It=ct[1]),Ut=new be(Ct(Te,Number(N||0))),m.multiply(Ut,m.pow(new be(10),new be(It||0)))):m.symfunction("round",arguments)}function Nu(S){var N=S%2;return N<0&&(N=2+N),N>=0&&N<=.5?1:N>.5&&N<=1?2:N>1&&N<=1.5?3:4}function Wf(S){if(!isFinite(S)){var N=Math.sign(S),me=new be(String(Math.abs(S)));return me.multiplier=me.multiplier.multiply(new nn(N)),me}if(Ft(S))return S;if("number"==typeof S)try{S=nn.simple(S)}catch{S=new nn(S)}var Te=new be(0);return Te.multiplier=S,Te}function Or(S,N){if(Array.isArray(S))return S.map(function(mr){return Or(mr,N)});if(N=N||{},S.group===Tt&&""===S.fname){var me=Or(S.args[0],N),Te=Or(m.pow(me,m.parse(S.power)),N);return m.multiply(m.parse(S.multiplier),Te).distributeMultiplier()}if(-1!==[$t,Bi,an].indexOf(S.group))return S;var ct=S.clone();try{var It=S.multiplier.toString(),Ut=Number(S.power),Zt=S;if(S.isComposite()&&ht(S.power)&&S.power>0){var kn=Ut-1;me=new be(0),S.each(function(Ir){me=m.add(me,Or(m.parse(Ir),N))});for(var Rn=m.parse(me),vi=0;vi<kn;vi++)Rn=he(Rn,me,N);Zt=m.multiply(m.parse(It),Rn).distributeMultiplier()}else if(S.group===Tt&&!0===N.expand_functions){var tn=[];S.args.forEach(function(mr){tn.push(Or(mr,N))}),Zt=m.pow(m.symfunction(S.fname,tn),m.parse(S.power)),Zt=m.multiply(Zt,m.parse(S.multiplier))}else if(S.isComposite()&&ht(S.power)&&S.power<0&&!0===N.expand_denominator)S=S.invert(),(Zt=Or(S,N)).invert();else if(S.group===Xe){var or=function(Ir){switch(Ir.group){case An:return 0;case In:return 1;case Xe:return 2;case Tt:return 3;default:return 4}},Gi=S.collectSymbols().sort(function(Ir,go){return or(go)-or(Ir)}).map(function(Ir){return Or(m.pow(Ir,m.parse(Ut)),N)});(me=Gi.pop()).isComposite()&&me.isLinear()?(Gi.forEach(function(Ir){me=he(me,Ir,N)}),me.isComposite()?(me.power>1&&(me=Or(m.pow(me,m.parse(me.power)),N)),Zt=m.multiply(m.parse(It),me).distributeMultiplier()):Zt=me):(Zt=me,Gi.forEach(function(Ir){Zt=m.multiply(Zt,Ir)}),Zt=m.multiply(Zt,m.parse(It)).distributeMultiplier()),Zt.group===Xe&&(Zt=m.parse(Zt))}else Zt=S;return Zt}catch{return ct}return ct}function ou(S){if(!Ft(S.power)&&S.power.absEquals(.5)){var N=S.power.sign(),me=Gr(S.group===Bi?new be(S.value):S.toLinear());return N<0&&me.invert(),me}return S}this.toTeX=function(S,N){var me=!0===(N=N||{}).decimals?"decimals":void 0,Te="string"==typeof S?this.toObject(S):S,ct=[],It=typeof N.cdot>"u"?"\\cdot":N.cdot;if(Te=function(S){for(var N=[];S.length;){var me=S.shift(),Te=S[0],ct=We(Te),It="-"===Te;if("^"===me&&("+"===Te?S.shift():ct&&"+"===Te[0]&&Te.shift(),ct&&1===Te.length&&S.unshift(S.shift()[0])),"^"===me&&(ct&&"-"===Te[0]||It)){var Ut=N.pop(),Zt=N[N.length-1],kn="1";"*"===Zt?(N.pop(),kn=N.pop()):We(Zt)&&(kn=N.pop()),N.push(kn,"/",Ut,me),ct?Te.shift():S.shift(),ct&&1===Te.length&&N.push(S.shift()[0])}else N.push(me)}return N}(Te),We(Te)){for(var Zt,kn,Ut=[],Rn=0;Rn<Te.length;Rn++)Zt=Te[Rn],"^"===Te[Rn+1]?(kn=Te[Rn+2],Ut.push(En.braces(this.toTeX([Zt]))+"^"+En.braces(this.toTeX([kn]))),Rn+=2):Ut.push(Zt);Te=Ut}Rn=0;for(var vi=Te.length;Rn<vi;Rn++){var tn=Te[Rn];if("*"===tn&&(tn=It),Ft(tn))if(tn.group===Tt){var Gi,or=tn.fname;if(or===qt)Gi="\\sqrt"+En.braces(this.toTeX(tn.args));else if(or===Di)Gi=En.brackets(this.toTeX(tn.args),"abs");else if(or===gn)Gi=En.brackets(this.toTeX(tn.args),"parens");else if(or===Fe.LOG10)Gi="\\"+Fe.LOG10_LATEX+"\\left( "+this.toTeX(tn.args)+"\\right)";else if("integrate"===or){var mr=Mn(tn.args);Gi="\\int "+(Ir=En.braces(this.toTeX(mr[0])))+"\\, d"+(go=this.toTeX(mr[1]))}else if("defint"===or){mr=Mn(tn.args);var Ir=En.braces(this.toTeX(mr[0])),go=this.toTeX(mr[3]);Gi="\\int\\limits_{"+this.toTeX(mr[1])+"}^{"+this.toTeX(mr[2])+"} "+Ir+"\\, d"+go}else if("diff"===or){if(mr=Mn(tn.args),go="",Ir=En.braces(this.toTeX(mr[0])),1===mr.length){var wi=[];for(Ur=0;Ur<mr[0].length;Ur++)3===mr[0][Ur].group&&wi.push(mr[0][Ur].value);wi.sort(),go=wi.length>0?"\\frac{d}{d "+wi[0]+"}":"\\frac{d}{d x}"}else go=2===mr.length?"\\frac{d}{d "+mr[1]+"}":"\\frac{d^{"+mr[2]+"}}{d "+this.toTeX(mr[1])+"^{"+mr[2]+"}}";Gi=go+"\\left("+Ir+"\\right)"}else if("sum"===or||"product"===or){var co=[[],[],[],[]],Ur=0;for(Rn=0;Rn<tn.args.length;Rn++)","!==tn.args[Rn]?co[Ur].push(tn.args[Rn]):Ur++;Gi=("sum"===or?"\\sum_":"\\prod_")+En.braces(this.toTeX(co[1])+" = "+this.toTeX(co[2])),Gi+="^"+En.braces(this.toTeX(co[3]))+En.braces(this.toTeX(co[0]))}else if("limit"===or){var Oo=Mn(tn.args).map(function(Vo){return Array.isArray(Vo)?m.toTeX(Vo.join("")):m.toTeX(String(Vo))});Gi="\\lim_"+En.braces(Oo[1]+"\\to "+Oo[2])+" "+En.braces(Oo[0])}else Gi=or===Wn||or===qe?this.toTeX(tn.args)+(or===Wn?"!":"!!"):En.latex(tn,me);ct.push(Gi)}else ct.push(En.latex(tn,me));else We(tn)?ct.push(En.brackets(this.toTeX(tn))):ct.push("/"===tn?En.frac(Wr(ct.pop()),Wr(this.toTeX([Te[++Rn]]))):tn)}return ct.join(" ")},this.expand=Or,this.round=Sc,this.clean=function za(S){var me,N=S.group;if(N===An){var Te=S.getNum(),ct=S.getDenom()||new be(1),It=Number(S.power),Ut=new be(1);if(1===Math.abs(It)){ct.each(function(Rn){Rn.group===Xe?Ut=m.multiply(Ut,za(Rn.getDenom())):Rn.power.lessThan(0)&&(Ut=m.multiply(Ut,za(Rn.clone().toUnitMultiplier())))});var kn,Zt=new be(0);ct.each(function(Rn){Zt=m.add(m.divide(Rn,Ut.clone()),Zt)}),Ut.invert(),Te.isComposite()?(kn=new be(0),Te.each(function(Rn){kn=m.add(m.multiply(za(Rn),Ut.clone()),kn)})):kn=m.multiply(Ut,Te),me=m.divide(kn,Zt)}}else N===Xe?(me=new be(1),S.each(function(Rn){me=m.multiply(me,m.clean(Rn))})):N===Tt&&1===S.args.length&&S.args[0].isConstant()&&(me=ii("PARSE2NUMBER",function(){return m.parse(S)},!0));return me||(me=S),me},this.sqrt=Gr,this.cbrt=Ts,this.abs=No,this.log=Eo,this.rationalize=Rs,this.nthroot=jl,this.arg=Ia,this.conjugate=Us,this.imagpart=wl,this.realpart=Va,this.getFunction=function(S){return Vi[S][0]},this.addPreprocessor=function(S,N,me,Te){var ct=Q.names,It=Q.actions;if("function"!=typeof N)throw new PreprocessorError("Incorrect parameters. Function expected!");me?Te?(ct.splice(me,0,S),It.splice(me,0,N)):(ct[me]=S,It[me]=N):(ct.push(S),It.push(N))},this.getPreprocessors=function(){for(var S={},N=0,me=S.names.length;N<me;N++)S[S.names[N]]={order:N,action:S.actions[N]};return S},this.removePreprocessor=function(S,N){var me=Q.names.indexOf(S);N?(Tr(Q.names,me),Tr(Q.actions,me)):(Q.names[me]=void 0,Q.actions[me]=void 0)},this.mapped_function=function(){for(var S={},N=this.params,me=0;me<N.length;me++)S[N[me]]=String(arguments[me]);return m.parse(this.body,S)},this.add=function(S,N){var me=Ft(S),Te=Ft(N);if(me&&Te){if(S.unit||N.unit)return m.Unit.add(S,N);if(S.isInfinity||N.isInfinity){var ct=S.multiplier.lessThan(0),It=N.multiplier.lessThan(0);if(S.isInfinity&&N.isInfinity&&ct!==It)throw new ee("("+S+")+("+N+") is not defined!");var Ut=be.infinity();return It&&Ut.negate(),Ut}if(S.isComposite()&&S.isLinear()&&N.isComposite()&&N.isLinear()&&(S.distributeMultiplier(),N.distributeMultiplier(),N.length>S.length&&S.group===N.group&&([S,N]=[N,S])),S.multiplier.equals(0))return N;if(N.multiplier.equals(0))return S;if(S.isConstant()&&N.isConstant()&&Fe.PARSE2NUMBER)return new be(S.multiplier.add(N.multiplier).toDecimal(Fe.PRECISION));var Zt=S.group,kn=N.group,Rn=S.power.toString(),vi=N.power.toString();if(Zt<kn||Zt===kn&&Rn>vi&&vi>0)return this.add(N,S);if(Zt===Xe&&kn===In&&S.value===N.value){var tn=S;Zt=(S=N).group,kn=(N=tn).group,Rn=S.power.toString(),vi=N.power.toString()}var Mo,li,wi,or=Rn===vi,Gi=S.value,mr=N.value,Ir=S.isComposite(),go=N.isComposite();if(Ir&&(Mo=Oe(S,"hash")),go&&(li=Oe(N,"hash")),Zt===An&&kn===An&&N.isLinear()&&!S.isLinear()&&Mo!==li)return this.add(N,S);Zt===In&&kn===In&&(Gi=Mo,mr=li);var co=Zt===Bi&&kn===$t,Ur=S.value===N.multiplier.toString(),Oo=Gi===mr||Mo===li&&void 0!==Mo||co&&Ur;if(Oo&&or&&Zt===kn)if(co&&(N=N.convert(Bi)),Zt!==In||kn!==an&&kn!==Bi)if(wi=S,S.multiplier.isOne()&&N.multiplier.isOne()&&Zt===An&&S.isLinear()&&N.isLinear())for(var Go in N.symbols)wi.attach(N.symbols[Go]);else wi.multiplier=wi.multiplier.add(N.multiplier);else S.distributeMultiplier(),wi=S.attach(N);else if(Oo&&Zt!==In)Zt===An&&kn===In?(N.insert(S,"add"),wi=N):(wi=be.shell(In).attach([S,N])).value=Zt===In?Mo:Gi;else if(Ir&&S.isLinear()){var _o=Zt===kn,cn=Zt===In&&kn===In;if(cn&&(_o=S.value===N.value),S.distributeMultiplier(),N.isComposite()&&N.isLinear()&&_o){for(var Go in N.distributeMultiplier(),N.symbols)S.attach(N.symbols[Go]);wi=S}else cn&&S.value!==li||Zt===In&&!Oo?(wi=be.shell(An).attach([S,N])).updateHash():wi=S.attach(N)}else{if(Zt===Tt&&S.fname===qt&&kn!==fn&&N.power.equals(.5)){var Js=N.multiplier.clone();(N=Gr(N.toUnitMultiplier().toLinear())).multiplier=Js}2===S.length&&2===N.length&&xn(S.power)&&xn(N.power)?wi=m.add(Or(S),Or(N)):(wi=be.shell(An).attach([S,N])).updateHash()}return wi.multiplier.equals(0)&&(wi=new be(0)),1===wi.length&&(Js=wi.multiplier,(wi=Ne(wi.symbols)).multiplier=wi.multiplier.multiply(Js)),wi}Te&&!me&&(tn=S,S=N,N=tn,tn=Te,Te=me,me=tn);var Ps=ri(N);if(me&&Ps){var da=new gr;N.eachElement(function(Ta,as,Fa){da.set(as,Fa,m.add(S.clone(),Ta))}),N=da}else if(ri(S)&&Ps)N=S.add(N);else if(me&&zn(N))N.each(function(Ta,as){as--,N.elements[as]=m.add(S.clone(),N.elements[as])});else if(zn(S)&&zn(N))N.each(function(Ta,as){as--,N.elements[as]=m.add(S.elements[as],N.elements[as])});else{if(zn(S)&&ri(N))return m.add(N,S);if(ri(S)&&zn(N)){if(N.elements.length===S.rows()){da=new gr;var ea=S.cols();return N.each(function(as,Fa){for(var Au=[],El=0;El<ea;El++)Au.push(m.add(S.elements[Fa-1][El].clone(),as.clone()));da.elements.push(Au)}),da}oe("Dimensions must match!")}}return N},this.subtract=function(S,N){var me=me=Ft(S),Te=Ft(N);if(me&&Te)return S.unit||N.unit?m.Unit.subtract(S,N):this.add(S,N.negate());if(Te&&zn(S))N=S.map(function(Zt){return m.subtract(Zt,N.clone())});else if(me&&zn(N))N=N.map(function(Zt){return m.subtract(S.clone(),Zt)});else if(zn(S)&&zn(N))S.dimensions()===N.dimensions()?N=S.subtract(N):m.error("Unable to subtract vectors. Dimensions do not match.");else if(ri(S)&&zn(N)){if(N.elements.length===S.rows()){var It=new gr,Ut=S.cols();return N.each(function(Zt,kn){for(var Rn=[],vi=0;vi<Ut;vi++)Rn.push(m.subtract(S.elements[kn-1][vi].clone(),Zt.clone()));It.elements.push(Rn)}),It}oe("Dimensions must match!")}else{if(zn(S)&&ri(N))return It=N.clone().negate(),m.add(It,S);ri(S)&&ri(N)?N=S.subtract(N):ri(S)&&Te?(It=new gr,S.each(function(kn,Rn,vi){It.set(Rn,vi,m.subtract(kn,N.clone()))}),N=It):me&&ri(N)&&(It=new gr,N.each(function(kn,Rn,vi){It.set(Rn,vi,m.subtract(S.clone(),kn))}),N=It)}return N},this.multiply=function(S,N){var me=Ft(S),Te=Ft(N);if(me&&N instanceof ie)return N.elements.push(S),N;if(me&&Te){if(N.isUnit){var li=S.clone();return S.unit=N,li}if(S.unit||N.unit)return m.Unit.multiply(S,N);if(S.isInfinity||N.isInfinity){if(S.equals(0)||N.equals(0))throw new ee(S+"*"+N+" is undefined!");if(N.power.lessThan(0)){if(S.isInfinity)throw new ee("Infinity/Infinity is not defined!");return new be(0)}var Ir=S.multiplier.multiply(N.multiplier).sign(),ct=be.infinity();if(S.isConstant()||N.isConstant()||S.isInfinity&&N.isInfinity)return Ir<0&&ct.negate(),ct}if(S.isConstant()&&N.isConstant()&&Fe.PARSE2NUMBER)return new be(It=new qn(S.multiplier.toDecimal()).times(new qn(N.multiplier.toDecimal())).toFixed());if(S.isOne())return N.clone();if(N.isOne())return S.clone();if(S.multiplier.equals(0)||N.multiplier.equals(0))return new be(0);if(N.group>S.group&&N.group!==An)return this.multiply(N,S);if(S.group===Xe&&N.group===In&&S.value===N.value){var It=S;S=N,N=It}var Zt=S.group,kn=N.group,Rn=N.multiplier.num,vi=N.multiplier.den;if(Zt!==Tt||S.fname!==qt||N.isConstant()||S.args[0].value!==N.value||S.args[0].multiplier.lessThan(0))Zt===Tt&&S.fname===qt&&S.multiplier.equals(1)&&S.power.equals(-1)&&N.isConstant()&&S.args[0].equals(N)&&(S=m.symfunction(qt,[N.clone()]),N=new be(1));else{var tn=S.power,or=m.parse(S.multiplier);(S=m.multiply(or,S.args[0].clone())).setPower(new nn(.5).multiply(tn)),Zt=S.group}var Gi=S.value,mr=N.value,go=(Ir=new nn(S.sign()),Zt===Bi&&kn===$t&&N.multiplier.equals(S.value)),Mo=go?new nn(1).multiply(S.multiplier).abs():S.multiplier.multiply(N.multiplier).abs();if(li=S.clone().toUnitMultiplier(),N=N.clone().toUnitMultiplier(!0),Zt===Tt&&kn===Tt){var wi=S.args[0].clone(),co=N.args[0].clone();if(S.fname===qt&&N.fname===qt&&S.isLinear()&&N.isLinear()){var Ur=m.divide(wi,co).invert();Ur.gt(1)&&ht(Ur)&&(li=m.multiply(S.args[0].clone(),Gr(Ur.clone())),N=new be(1))}else if(S.fname===Wn&&N.fname===Wn&&!wi.isConstant()&&!co.isConstant()&&N.power<0){var Oo=m.subtract(wi.clone(),co.clone());if(Oo.isConstant())if(It=new be(1),Oo<0){for(var Go=0,Vo=Math.abs(Oo);Go<=Vo;Go++){var _o=m.add(wi.clone(),new be(Go));It=m.multiply(It,_o)}li=m.multiply(m.pow(wi,new be(S.power)),m.pow(It,new be(N.power))),N=new be(1)}else{for(Go=0,Vo=Math.abs(Oo);Go<=Vo;Go++)_o=m.add(co.clone(),new be(Go)),It=m.multiply(It,_o);li=m.multiply(m.pow(It,new be(S.power)),m.pow(co,new be(N.power))),N=new be(1)}}}if(Gi===mr&&Zt===In&&Zt===kn&&(Gi=S.text("hash"),mr=N.text("hash")),kn===fn&&N.previousGroup===In&&Zt===In&&(Gi=Oe(S,"hash",fn)),Gi!==mr&&!go||Zt===In&&(kn===an||kn===Bi||kn===Tt)||Zt===In&&kn===Xe)if(Zt===Xe&&S.isLinear())if(kn===Xe&&N.distributeExponent(),kn===Xe&&N.isLinear()){for(var _o in N.symbols)li=li.combine(N.symbols[_o]);li.multiplier=li.multiplier.multiply(N.multiplier)}else li.combine(N);else if(Zt!==$t){if(Zt===Xe)li.distributeExponent(),li.combine(N);else if(!N.isOne()){var Fa=N.multiplier.clone();N.toUnitMultiplier(),(li=be.shell(Xe).combine([li,N])).multiplier=li.multiplier.multiply(Fa)}}else li=N.clone().toUnitMultiplier();else{var cn=S.power,Js=N.power,Ps=Ft(cn),da=Ft(Js),ea=Ps||da;Zt===In&&kn!==In&&N.previousGroup!==In&&cn.equals(1)?(li=new be(0),S.each(function(Mc){li=m.add(li,m.multiply(Mc,N.clone()))},!0)):(li.power=ea?m.add(Ft(cn)?cn:new be(cn),Ft(Js)?Js:new be(Js)):Zt===$t?cn:cn.add(Js),li.power.equals(0)&&(li=li.convert($t)),ea&&li.convert(fn),S.imaginary&&N.imaginary&&xn(li.power%2)&&(li=new be(1),Mo.negate()),li.group!==fn&&li.previousGroup&&(li.previousGroup=void 0),li.multiplier=li.multiplier.multiply(N.multiplier))}if(li.group===Bi){var Au=Math.log(li.value),El=Math.log(Rn)/Au,As=Math.log(vi)/Au,Aa=Mo.num/Rn,xo=Mo.den/vi;0!==El&&ht(El)&&ht(Aa)&&(li.power=li.power.add(new nn(El)),Mo.num/=Rn),0!==As&&ht(As)&&ht(xo)&&(li.power=li.power.subtract(new nn(As)),Mo.den/=vi)}1===li.length&&(It=li.multiplier,(li=Ne(li.symbols)).multiplier=li.multiplier.multiply(It));var al=li.power.toString();if(xn(al)&&li.fname===qt){Ir*=li.sign();var Hs=li.power;li=li.args[0],li=m.multiply(new be(Mo),m.pow(li,new be(Hs.divide(new nn(2))))),Ir<0&&li.negate()}else li.multiplier=li.multiplier.multiply(Mo).multiply(Ir),li.group===An&&li.isImaginary()&&li.distributeMultiplier();return li.group===Bi&&ht(li.power.toDecimal())&&(li=li.convert($t)),li}Te&&!me&&(It=S,S=N,N=It,It=Te,Te=me,me=It);var Ul=ri(N),hu=ri(S);if(me&&Ul){var pu=new gr;N.eachElement(function(Mc,Ga,IA){pu.set(Ga,IA,m.multiply(S.clone(),Mc))}),N=pu}else if(hu&&Ul)N=S.multiply(N);else if(me&&zn(N))N.each(function(Mc,Ga){Ga--,N.elements[Ga]=m.multiply(S.clone(),N.elements[Ga])});else if(zn(S)&&zn(N))N.each(function(Mc,Ga){Ga--,N.elements[Ga]=m.multiply(S.elements[Ga],N.elements[Ga])});else{if(zn(S)&&ri(N))return this.multiply(N,S);if(ri(S)&&zn(N)){if(N.elements.length===S.rows()){pu=new gr;var Ud=S.cols();return N.each(function(Ga,IA){for(var Ic=[],mo=0;mo<Ud;mo++)Ic.push(m.multiply(S.elements[IA-1][mo].clone(),Ga.clone()));pu.elements.push(Ic)}),pu}oe("Dimensions must match!")}}return N},this.divide=function(S,N){var me=Ft(S),Te=Ft(N);if(me&&Te){if(S.unit||N.unit)return m.Unit.divide(S,N);var ct;if(N.equals(0))throw new ge("Division by zero not allowed!");return S.isConstant()&&N.isConstant()?(ct=S.clone()).multiplier=ct.multiplier.divide(N.multiplier):(N.invert(),ct=m.multiply(S,N)),ct}var It=zn(S),Ut=zn(N);if(me&&Ut)N=N.map(function(vi){return m.divide(S.clone(),vi)});else if(It&&Te)N=S.map(function(vi){return m.divide(vi,N.clone())});else if(It&&Ut)S.dimensions()===N.dimensions()?N=N.map(function(vi,tn){return m.divide(S.elements[--tn],vi)}):m.error("Cannot divide vectors. Dimensions do not match!");else{var Zt=ri(S),kn=ri(N);if(Zt&&Te){var Rn=new gr;S.eachElement(function(vi,tn,or){Rn.set(tn,or,m.divide(vi,N.clone()))}),N=Rn}else me&&kn?(Rn=new gr,N.eachElement(function(tn,or,Gi){Rn.set(or,Gi,m.divide(S.clone(),tn))}),N=Rn):Zt&&kn?(Rn=new gr,S.rows()===N.rows()&&S.cols()===N.cols()?(S.eachElement(function(tn,or,Gi){Rn.set(or,Gi,m.divide(tn,N.elements[or][Gi]))}),N=Rn):m.error("Dimensions do not match!")):Zt&&Ut&&(S.cols()===N.dimensions()?(Rn=new gr,S.eachElement(function(tn,or,Gi){Rn.set(or,Gi,m.divide(tn,N.elements[or].clone()))}),N=Rn):m.error("Unable to divide matrix by vector."))}return N},this.pow=function(S,N){var me=Ft(S),Te=Ft(N);if(me&&Te){if(S.unit||N.unit)return m.Unit.pow(S,N);if(S.group===Tt&&S.fname===Di&&xn(N)){var vi=S.multiplier.clone(),ct=m.pow(S.args[0],N);return ct.multiplier=vi,ct}if(S.isInfinity||N.isInfinity){if(S.isInfinity&&N.isInfinity)throw new ee("("+S+")^("+N+") is undefined!");if(S.isConstant()&&N.isInfinity){if(S.equals(0)){if(N.lessThan(0))throw new ee("0^Infinity is undefined!");return new be(0)}if(S.equals(1))throw new ee("1^"+N.toString()+" is undefined!");if(N.lessThan(0))return new be(0);if(!S.lessThan(0))return be.infinity()}if(S.isInfinity&&N.isConstant()){if(N.equals(0))throw new ee(S+"^0 is undefined!");return N.lessThan(0)?new be(0):m.multiply(be.infinity(),m.pow(new be(S.sign()),N.clone()))}}var It=S.equals(0),Ut=N.equals(0);if(It&&Ut)throw new ee("0^0 is undefined!");if(It&&N.isConstant()&&N.multiplier.greaterThan(0))return new be(0);if(Ut)return new be(1);var or,Mo,li,wi,Oo,Zt=N.isConstant(),kn=S.isConstant(),Rn=N.isInteger(),tn=(vi=S.multiplier,S.clone());if(kn&&Zt&&S.equals(0)&&N.lessThan(0))throw new ee("Division by zero is not allowed!");if(Fe.PARSE2NUMBER&&kn&&Zt&&S.sign()<0&&hi(N))return or=Math.PI*N,Gi=new be(Math.cos(or)),mr=m.multiply(be.imaginary(),new be(Math.sin(or))),m.add(Gi,mr);if(Fe.PARSE2NUMBER&&S.isImaginary()&&Zt&&ht(N)&&!N.lessThan(0)&&(Gi=S.realpart(),mr=S.imagpart(),Gi.isConstant("all")&&mr.isConstant("all")))return wi=Fe.USE_BIG?be(qn.atan2(Js.multiplier.toDecimal(),Ir.multiplier.toDecimal()).times(N.toString())):Math.atan2(mr,Gi)*N,go=new be(wi),Ir=m.pow(be.hyp(Gi,mr),N),Mo=m.multiply(Ir.clone(),m.trig.cos(go.clone())),li=m.multiply(Ir,m.trig.sin(go)),m.add(Mo,m.multiply(be.imaginary(),li));if(tn.toUnitMultiplier(),tn.group!==Tt||tn.fname!==qt||Zt){var Ur=vi.sign();hi(N)&&Ur<0&&(tn.negate(),(tn=m.symfunction(gn,[tn])).negate()),tn.multiplyPower(N)}else(co=tn.args[0]).multiplyPower(new be(.5)),co.multiplier.multiply(tn.multiplier),co.multiplyPower(N),tn=co;if(kn&&Zt&&Fe.PARSE2NUMBER)Ur<0&&(S.negate(),Oo=N.multiplier.den.equals(2)?new be(Fe.IMAGINARY):ht(N.multiplier)?xn(N.multiplier)?new be(1):new be(-1):xn(N.multiplier.den)?m.pow(m.symfunction(gn,[new be(Ur)]),N.clone()):new be(Math.pow(Ur,N.multiplier.num))),tn=new be(Math.pow(S.multiplier.toDecimal(),N.multiplier.toDecimal())),Oo&&(tn=m.multiply(tn,Oo));else if(Rn&&!vi.equals(1)){if(N.abs().gt(Fe.MAX_EXP))return N.sign()<0?new be(0):be.infinity();var Vo=N.multiplier.toDecimal(),_o=Math.sign(Vo);Vo=Math.abs(Vo);var cn=new nn(1);cn.num=vi.num.pow(Vo),cn.den=vi.den.pow(Vo),_o<0&&cn.invert(),tn.multiplier=tn.multiplier.multiply(cn)}else if(Ur=S.sign(),N.isConstant()&&S.isConstant()&&!N.multiplier.den.equals(1)&&Ur<0)if(N.multiplier.den.equals(2)){var Js=new be(Fe.IMAGINARY);S.negate(),N.lessThan(0)&&(Js.negate(),N.negate()),tn=m.multiply(m.pow(S,N),Js)}else{(Ps=S.clone()).multiplier.negate(),tn=m.pow(m.symfunction(gn,[new be(Ur)]),N.clone());var da=m.pow(new be(Ps.multiplier.num),N.clone()),ea=m.pow(new be(Ps.multiplier.den),N.clone()),Ir=m.divide(da,ea);tn=m.multiply(tn,Ir)}else if(Fe.PARSE2NUMBER&&N.isImaginary()){var Gi=N.realpart(),mr=N.imagpart(),Ps=S.clone().toLinear(),Ta=m.pow(Ps.clone(),Gi),as=Eo(Ps.clone()),Fa=St.cos(m.multiply(mr.clone(),as)),Au=m.multiply(St.sin(m.multiply(mr,Eo(Ps))),be.imaginary());tn=m.multiply(Ta,m.add(Fa,Au)),tn=m.expand(m.parse(tn))}else{var El=S.group===$t&&Ur<0,As=ou(new be(El?vi.num:Math.abs(vi.num)).setPower(N.clone())),Aa=ou(new be(vi.den).setPower(N.clone()).invert());if(S.imaginary)if(Rn){var co;co=Math.sign(N),Vo=No(N),tn=new be(xn(xo=Vo%4)?-1:Fe.IMAGINARY),(0===xo||co<0&&1===xo||co>0&&3===xo)&&tn.negate()}else{var al=N.multiplier.multiply(nn.quick(1,2)),Hs=Math.pow(-1,al.num);tn=xn(al.den)?new be(-1).setPower(al,!0):new be(Hs)}if(Ur<0&&!El&&tn.negate(),Zt&&S.group!==fn){var Ul=xn(N.multiplier.den),hu=xn(S.power),xo=tn.power.toDecimal(),pu=xn(xo);Ul&&hu&&!pu&&(1===xo?tn=m.symfunction(Di,[tn]):ht(xo)?tn=m.multiply(m.symfunction(Di,[tn.clone().toLinear()]),tn.clone().setPower(new nn(xo-1))):(Vo=tn.power,tn=m.symfunction(Di,[tn.toLinear()]).setPower(Vo)),Fe.POSITIVE_MULTIPLIERS&&tn.fname===Di&&(tn=tn.args[0]))}if(N.equals(2)&&tn.group===Xe){var Ud=new be(1);tn.each(function(Dh){Ud=m.multiply(Ud,m.pow(Dh,N))}),tn=Ud}}if(tn=ou(tn),As&&Aa&&(tn=m.multiply(tn,function Cl(S){if(S.group===Bi){var N=S.value,me=rt(N)[0];if(!me)return $e("Unable to compute prime factors. This should not happen. Please review and report."),S;var ct=new nn(Math.log(N)/Math.log(me)).multiply(S.power);if(ct.den>S.power.den)return S;S=ht(ct)?be(Math.pow(me,ct)):new be(me).setPower(ct)}return S}(m.multiply(As,Aa)))),tn.fname===qt){var Mc=tn.group===fn,Ga=Mc?tn.power.multiplier.toString():tn.power.toString();if(xn(Ga)){var IA=Mc?m.divide(tn.power,new be(2)):new be(tn.power.divide(new nn(2)));vi=tn.multiplier,(tn=m.pow(tn.args[0],IA)).multiplier=tn.multiplier.multiply(vi)}}else if(!Fe.IGNORE_E&&tn.isE()&&tn.group===fn&&tn.power.contains("pi")&&tn.power.contains(Fe.IMAGINARY)&&N.group===Xe){var go=N.stripVar(Fe.IMAGINARY);tn=m.add(St.cos(go),m.multiply(be.imaginary(),St.sin(go)))}return tn}if(zn(S)&&Te)S=S.map(function(mo){return m.pow(mo,N.clone())});else if(ri(S)&&Te){var Ic=new gr;S.eachElement(function(mo,Dh,Th){Ic.set(Dh,Th,m.pow(mo,N.clone()))}),S=Ic}else me&&ri(N)&&(Ic=new gr,N.eachElement(function(Dh,Th,Yo){Ic.set(Th,Yo,m.pow(S.clone(),Dh))}),S=Ic);return S},this.comma=function(S,N){return S instanceof ie||(S=ie.create(S)),S.append(N),S},this.mod=function(S,N){return ca(S,N)},this.slice=function(S,N){return new Y(S,N)},this.equals=function(S,N){return S.group!==an&&!S.isLinear()&&oe("Cannot set equality for "+S.toString()),U[S.value]=N.clone(),N},this.percent=function(S){return m.divide(S,new be(100))},this.assign=function(S,N){if(S instanceof ie&&N instanceof ie)return S.elements.map(function(Te,ct){return m.assign(Te,N.elements[ct])}),Ti.fromArray(N.elements);if(S.parent){var me=S.parent;return me.elements[me.getter]=N,delete me.getter,me}if(S.group!==an)throw new hr("Cannot complete operation. Incorrect LH value for "+S);return U[S.value]=N,N},this.function_assign=function(S,N){var me=S.elements.pop();return vt(me,S.elements,N)};var tc=function(S){return new be(!0===S?1:0)};this.eq=function(S,N){return tc(S.equals(N))},this.gt=function(S,N){return tc(S.gt(N))},this.gte=function(S,N){return tc(S.gte(N))},this.lt=function(S,N){return tc(S.lt(N))},this.lte=function(S,N){return tc(S.lte(N))},this.factorial=function(S){return this.symfunction(Wn,[S])},this.dfactorial=function(S){return this.symfunction(qe,[S])}}Fe.FUNCTION_MODULES.push(ue),ni(ue),Math.sign=Math.sign||function(m){return 0==(m=+m)||isNaN(m)?m:m>0?1:-1},Math.cosh=Math.cosh||function(m){var T=Math.exp(m);return(T+1/T)/2},Math.sech=Math.sech||function(m){return 1/Math.cosh(m)},Math.csch=Math.csch||function(m){return 1/Math.sinh(m)},Math.coth=Math.coth||function(m){return 1/Math.tanh(m)},Math.sinh=Math.sinh||function(m){var T=Math.exp(m);return(T-1/T)/2},Math.tanh=Math.tanh||function(m){if(m===1/0)return 1;if(m===-1/0)return-1;var T=Math.exp(2*m);return(T-1)/(T+1)},Math.asinh=Math.asinh||function(m){return m===-1/0?m:Math.log(m+Math.sqrt(m*m+1))},Math.acosh=Math.acosh||function(m){return Math.log(m+Math.sqrt(m*m-1))},Math.atanh=Math.atanh||function(m){return Math.log((1+m)/(1-m))/2},Math.log10=Math.log10||function(m){return Math.log(m)*Math.LOG10E},Math.trunc=Math.trunc||function(m){return isNaN(m)?NaN:m>0?Math.floor(m):Math.ceil(m)},rt(314146179365),Ot.getExpression=function(m,T){("last"===m||!m)&&(m=L.length),"first"===m&&(m=1);var Y=L[m-1];return Y&&new Ot(Y)},Ot.prototype={text:function(m,T){return T=T||Fe.EXPRESSION_DECP,m=m||"decimals",this.symbol.text_?this.symbol.text_(m):Oe(this.symbol,m,void 0,T)},latex:function(m){return this.symbol.latex?this.symbol.latex(m):En.latex(this.symbol,m)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){if(zn(this.symbol)&&0===this.symbol.dimensions())return this;var T,m=arguments[0],Q=1;"string"==typeof m?T="%"===m.charAt(0)?Ot.getExpression(m.substr(1)).text():m:m instanceof Ot||Ft(m)?T=m.text():(T=this.symbol.text(),Q--);var Y=arguments[Q]||{};return new Ot(ii("PARSE2NUMBER",function(){return De.parse(T,Y)},!0))},buildFunction:function(m){return ua.build(this.symbol,m)},isNumber:function(){return rr(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},isImaginary:function(){return Yn(De.parse(this.symbol)).isImaginary()},variables:function(){return Si(this.symbol)},toString:function(){try{return We(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch{return""}},toDecimal:function(m){Fe.precision=m;var T=Oe(this.symbol,"decimals");return Fe.precision=void 0,T},isFraction:function(){return Jt(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(m,T){return new Ot(this.symbol.sub(De.parse(m),De.parse(T)))},operation:function(m,T){return Pn(T)?T=T.symbol:Ft(T)||(T=De.parse(T)),new Ot(De[m](this.symbol.clone(),T.clone()))},add:function(m){return this.operation("add",m)},subtract:function(m){return this.operation("subtract",m)},multiply:function(m){return this.operation("multiply",m)},divide:function(m){return this.operation("divide",m)},pow:function(m){return this.operation("pow",m)},expand:function(){return new Ot(De.expand(this.symbol))},each:function(m,T){if(this.symbol.each)this.symbol.each(m,T);else if(We(this.symbol))for(T=0;T<this.symbol.length;T++)m.call(this.symbol,this.symbol[T],T);else m.call(this.symbol)},eq:function(m){Ft(m)||(m=De.parse(m));try{return De.subtract(this.symbol.clone(),m).equals(0)}catch{return!1}},lt:function(m){Ft(m)||(m=De.parse(m));try{return Yn(De.subtract(this.symbol.clone(),m)).lessThan(0)}catch{return!1}},gt:function(m){Ft(m)||(m=De.parse(m));try{return Yn(De.subtract(this.symbol.clone(),m)).greaterThan(0)}catch{return!1}},gte:function(m){return this.gt(m)||this.eq(m)},lte:function(m){return this.lt(m)||this.eq(m)},numerator:function(){return new Ot(this.symbol.getNum())},denominator:function(){return new Ot(this.symbol.getDenom())},hasFunction:function(m){return this.symbol.containsFunction(m)},contains:function(m){return this.symbol.contains(m)}},Ot.prototype.toTeX=Ot.prototype.latex,zi.prototype={fromScientific:function(m){var T=String(m).toLowerCase().split("e");return this.coeff=T[0],this.exponent=T[1],this},convert:function(m){var T=m.split("."),Q=T[0]||"",Y=T[1]||"";Q=zi.removeLeadingZeroes(Q),Y=zi.removeTrailingZeroes(Y);var ie=Q.length,pe=Q+Y,Qe=zi.leadingZeroes(pe).length;this.exponent=ie-(Qe+1);var St=zi.removeLeadingZeroes(pe);this.coeff=St.charAt(0)+"."+(St.substr(1,St.length)||"0");var on=this.coeff.split(".")[1]||"";return this.decp="0"===on?0:on.length,this.dec=Y,this.wholes=Q,this},round:function(m){var T=this.copy();if(0===(m=Number(m)))T.coeff=T.coeff.charAt(0);else{var Q=this.coeff.substring(0,m+1),Y=this.coeff.substring(m+1,m+3),ie=Y.charAt(0);Y.charAt(1)>4&&ie++,T.coeff=Q+ie}return T},copy:function(){var m=new zi(0);return m.coeff=this.coeff,m.exponent=this.exponent,m.sign=this.sign,m},toString:function(m){var T;if(Fe.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&0===this.exponent&&this.decp<m)T=0===this.decp?this.wholes:this.coeff;else{var Q=typeof m>"u"?this.coeff:zi.round(this.coeff,Math.min(m,this.decp||1));T=0===this.exponent?Q:Q+"e"+this.exponent}return(-1===this.sign?"-":"")+T}},zi.isScientific=function(m){return/\d+\.?\d*e[\+\-]*\d+/i.test(m)},zi.leadingZeroes=function(m){var T=m.match(/^(0*).*$/);return T?T[1]:""},zi.removeLeadingZeroes=function(m){var T=m.match(/^0*(.*)$/);return T?T[1]:""},zi.removeTrailingZeroes=function(m){var T=m.match(/0*$/);return T?m.substring(0,m.length-T[0].length):""},zi.round=function(m,T){var Q=Ct(m,T),ie=T-String(Q).split(".").pop().length;return ie>0&&(Q+=new Array(ie+1).join(0)),Q},nn.create=function(m){if(m instanceof nn)return m;var T="-"===(m=m.toString()).charAt(0);T&&(m=m.substr(1,m.length-1));var Q=new nn(m);return T&&Q.negate(),Q},nn.isFrac=function(m){return m instanceof nn},nn.quick=function(m,T){var Q=new nn;return Q.num=new it(m),Q.den=new it(T),Q},nn.simple=function(m){for(var Q=String(ve(m)).split("."),Y=Q.join(""),ie=1,pe=(Q[1]||"").length,Qe=0;Qe<pe;Qe++)ie+="0";return nn.quick(Y,ie).simplify()},nn.prototype={multiply:function(m){if(this.isOne())return m.clone();if(m.isOne())return this.clone();var T=this.clone();return T.num=T.num.multiply(m.num),T.den=T.den.multiply(m.den),T.simplify()},divide:function(m){if(m.equals(0))throw new ge("Division by zero not allowed!");return this.clone().multiply(m.clone().invert()).simplify()},subtract:function(m){return this.clone().add(m.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(m){var T=this.den,Q=m.den,Y=this.clone(),ie=Y.num,pe=m.num;return T.equals(Q)?Y.num=ie.add(pe):(Y.num=ie.multiply(Q).add(pe.multiply(T)),Y.den=T.multiply(Q)),Y.simplify()},mod:function(m){var T=this.clone(),Q=m.clone();return T.num=T.num.multiply(Q.den),T.den=T.den.multiply(Q.den),Q.num=Q.num.multiply(this.den),Q.den=Q.den.multiply(this.den),T.num=T.num.mod(Q.num),T.simplify()},simplify:function(){var m=it.gcd(this.num,this.den);return this.num=this.num.divide(m),this.den=this.den.divide(m),this},clone:function(){var m=new nn;return m.num=new it(this.num),m.den=new it(this.den),m},decimal:function(m){var T=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";m=m||Fe.PRECISION,m++;for(var Q=[],Y=this.num.abs(),ie=this.den,pe=0;pe<m;pe++){var Qe=Y.divide(ie),St=Y.subtract(Qe.multiply(ie));if(Q.push(Qe),St.equals(0))break;Y=St.times(10)}var on=Q.shift();if(0===Q.length)return T+on.toString();if(pe===m){var Lt=[];for(pe=0;pe<2;pe++)Lt.unshift(Q.pop());Q.push(Math.round(Lt.join(".")))}return T+(on.toString()+".")+Q.join("")},toDecimal:function(m){return(m=m||Fe.PRECISION)?this.decimal(m):this.num/this.den},qcompare:function(m){return[this.num.multiply(m.den),m.num.multiply(this.den)]},equals:function(m){isNaN(m)||(m=new nn(m));var T=this.qcompare(m);return T[0].equals(T[1])},absEquals:function(m){isNaN(m)||(m=new nn(m));var T=this.qcompare(m);return T[0].abs().equals(T[1])},greaterThan:function(m){isNaN(m)||(m=new nn(m));var T=this.qcompare(m);return T[0].gt(T[1])},gte:function(m){return this.greaterThan(m)||this.equals(m)},lte:function(m){return this.lessThan(m)||this.equals(m)},lessThan:function(m){isNaN(m)||(m=new nn(m));var T=this.qcompare(m);return T[0].lt(T[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var m=this.den;if(!this.num.equals(0)){var T=this.num.isNegative();this.den=this.num.abs(),this.num=m,T&&(this.num=this.num.multiply(-1))}return this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(m){return nn.quick(it.gcd(m.num,this.num),it.lcm(m.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){return Fe.USE_BIG?new qn(this.num.toString()).div(new qn(this.den.toString())):this.num/this.den},isNegative:function(){return this.toDecimal()<0}},be.imaginary=function(){var m=new be(Fe.IMAGINARY);return m.imaginary=!0,m},be.infinity=function(m){var T=new be("Infinity");return-1===m&&T.negate(),T},be.shell=function(m,T){var Q=new be(T);return Q.group=m,Q.symbols={},Q.length=0,Q},be.unwrapSQRT=function(m,T){var Q=m.power;if(m.fname===qt&&(m.isLinear()||T)){var Y=m.args[0].clone();Y.power=Y.power.multiply(new nn(.5)),Y.multiplier=Y.multiplier.multiply(m.multiplier),m=Y,T&&(m.power=Q.multiply(new nn(.5)))}return m},be.hyp=function(m,T){return m=m||new be(0),T=T||new be(0),De.sqrt(De.add(De.pow(m.clone(),new be(2)),De.pow(T.clone(),new be(2))))},be.toPolarFormArray=function(m){var T,Q;return T=m.realpart(),Q=m.imagpart(),[be.hyp(T,Q),T.equals(0)?De.parse("pi/2"):De.trig.atan(De.divide(Q,T))]},be.unwrapPARENS=function(m){if(""===m.fname){var T=m.args[0];return T.power=T.power.multiply(m.power),T.multiplier=T.multiplier.multiply(m.multiplier),""===m.fname?be.unwrapPARENS(T):T}return m},be.create=function(m,T){return De.parse("("+m+")^("+(T=void 0===T?1:T)+")")},be.prototype={getNth:function(m){var T=Yn(De.pow(De.parse(this.multiplier),De.parse(m).invert())),Q=De.parse(Ct(T));return Yn(De.pow(Q,De.parse(m))).equals(De.parse(this.multiplier))?Q:T},isToNth:function(m){var Y,T=this.getNth(m),Q=ht(T);return this.group===Xe?(Y=!0,this.each(function(ie){ie.isToNth(m)||(Y=!1)})):Y=this.group===$t||ht(De.divide(De.parse(this.power),De.parse(m))),Q&&Y},isSquare:function(){return this.isToNth(2)},isCube:function(){return this.isToNth(3)},isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group===Xe){var m=[],Q=this.multiplier.sign();this.each(function(Vi){var Zn=Vi.power;if(Ft(Zn)||Zn.equals(1))return this.clone();m.push(Zn)});var T=new nn(Nt(m)),Y=(Q=this.multiplier.sign(),this.multiplier.clone().abs()),ie=ue.ifactor(Y),pe=new nn(1),Qe=new nn(1);for(var St in ie){var on=new nn(ie[St]);on.lessThan(T)||(on=on.divide(T).subtract(new nn(1)),Qe=Qe.multiply(new nn(St))),pe=pe.multiply(De.parse(en(St)+"^"+en(on)).multiplier)}var Lt=new be(Qe);this.each(function(Vi){(Vi=Vi.clone()).power=Vi.power.divide(T),Lt=De.multiply(Lt,Vi)});var un=De.symfunction(gn,[Lt]);return un.power=T,un.multiplier=Q<0?pe.negate():pe,un}return this.clone()},equals:function(m){return Ft(m)||(m=new be(m)),this.value===m.value&&this.power.equals(m.power)&&this.multiplier.equals(m.multiplier)&&this.group===m.group},abs:function(){var m=this.clone();return m.multiplier.abs(),m},gt:function(m){return Ft(m)||(m=new be(m)),this.isConstant()&&m.isConstant()&&this.multiplier.greaterThan(m.multiplier)},gte:function(m){return Ft(m)||(m=new be(m)),this.equals(m)||this.isConstant()&&m.isConstant()&&this.multiplier.greaterThan(m.multiplier)},lt:function(m){return Ft(m)||(m=new be(m)),this.isConstant()&&m.isConstant()&&this.multiplier.lessThan(m.multiplier)},lte:function(m){return Ft(m)||(m=new be(m)),this.equals(m)||this.isConstant()&&m.isConstant()&&this.multiplier.lessThan(m.multiplier)},isPoly:function(m){var T=this.group,Q=this.power;if(!ht(Q)||Q<0)return!1;if(T===$t||T===an||this.isConstant(!0))return!0;var Y=Si(this);if(T===Xe&&1===Y.length){var ie=Y[0];if(!ie)return!0;for(var pe in this.symbols){var Qe=this.symbols[pe];if(Qe.group===Tt&&!Qe.args[0].isConstant()||!Qe.contains(ie)&&!Qe.isConstant(!0))return!1}return!0}if(this.isComposite()||T===Xe&&m){if(!m&&Y.length>1)return!1;for(var pe in this.symbols)if(!this.symbols[pe].isPoly(m))return!1;return!0}return!1},stripVar:function(m,T){var Q;return this.group!==In&&this.group!==an||this.value!==m?this.group===Xe&&this.isLinear()?(Q=new be(1),this.each(function(Y){Y.contains(m,!0)||(Q=De.multiply(Q,Y.clone()))}),Q.multiplier=Q.multiplier.multiply(this.multiplier)):this.group!==An||this.isLinear()?this.group===An&&this.isLinear()?(Q=new be(0),this.each(function(Y){if(!Y.contains(m)){var ie=Y.clone();ie.multiplier=ie.multiplier.multiply(this.multiplier),Q=De.add(Q,ie)}}),Q.equals(0)&&(Q=new be(this.multiplier))):Q=this.group===fn&&this.power.contains(m,!0)||this.group===Tt&&this.contains(m)?new be(this.multiplier):this.clone():Q=new be(this.multiplier):Q=new be(T?0:this.multiplier),Q},toArray:function(m,T){T=T||{arr:[],add:function(St,on){var Lt=this.arr[on];this.arr[on]=Lt?De.add(Lt,St):St}};var Q=this.group;if(Q===an&&this.contains(m))T.add(new be(this.multiplier),this.power);else if(Q===Xe){var Y=this.stripVar(m),ie=De.divide(this.clone(),Y.clone()),pe=ie.isConstant()?0:ie.power;T.add(Y,pe)}else if(Q===In&&this.value===m)this.each(function(St,on){T.add(St.stripVar(m),on)});else if(Q===An)this.each(function(St){St.toArray(m,T)});else{if(this.contains(m))throw new Bt("Cannot convert to array! Exiting");T.add(this.clone(),0)}T=T.arr;for(var Qe=0;Qe<T.length;Qe++)T[Qe]||(T[Qe]=new be(0));return T},hasFunc:function(m){var T=this.group===Tt||this.group===fn;if(T&&!m||T&&this.contains(m))return!0;if(this.symbols)for(var Q in this.symbols)if(this.symbols[Q].hasFunc(m))return!0;return!1},sub:function(m,T){m=Ft(m)?m.clone():De.parse(m),T=Ft(T)?T.clone():De.parse(T),(m.group===$t||m.group===Bi)&&oe("Cannot substitute a number. Must be a variable");var pe,Q=!1,Y=m.multiplier.equals(1),ie=this.multiplier.clone();if(this.value===m.value&&(this.group!==In&&m.group!==In||this.group===In&&m.group===In))(Y||m.multiplier.equals(this.multiplier))&&(m.isLinear()?pe=T:m.power.equals(this.power)&&(pe=T,Q=!0),m.multiplier.equals(this.multiplier)&&(ie=new nn(1)));else if(this.group===Xe||this.previousGroup===Xe)pe=new be(1),this.each(function(bi){var lr=De.parse(bi.sub(m,T));pe=De.multiply(pe,lr)});else if(this.isComposite()){var Qe=this.clone();if(m.isComposite()&&Qe.isComposite()&&Qe.isLinear()&&m.isLinear()){var St=function(bi,lr){for(var Mn in bi.symbols){var Wr=bi.symbols[Mn];if(Wr.isComposite()&&St(Wr,lr)||Wr.equals(lr))return!0}return!1};for(var on in m.symbols)if(!St(Qe,m.symbols[on]))return Qe.clone();pe=De.add(De.subtract(Qe.clone(),m),T)}else pe=new be(0),Qe.each(function(bi){pe=De.add(pe,bi.sub(m,T))})}else if(this.group===fn)pe=De.parse(this.value).sub(m,T);else if(this.group===Tt){for(var Lt=[],un=0;un<this.args.length;un++){var Vi=this.args[un];Ft(Vi)||(Vi=De.parse(Vi)),Lt.push(Vi.sub(m,T))}pe=De.symfunction(this.fname,Lt)}if(pe){if(!Q){var Zn=this.group===fn?this.power.sub(m,T):De.parse(this.power);pe=De.pow(pe,Zn)}return pe.multiplier=pe.multiplier.multiply(ie),pe}return this.clone()},isMonomial:function(){if(this.group===an)return!0;if(this.group!==Xe)return!1;for(var m in this.symbols)if(this.symbols[m].group!==an)return!1;return!0},isPi:function(){return this.group===an&&"pi"===this.value},sign:function(){return this.multiplier.sign()},isE:function(){return"e"===this.value},isSQRT:function(){return this.fname===qt},isConstant:function(m,T){if(T&&this.group===Xe)for(var Q in this.symbols)if(this.symbols[Q].isConstant(!0))return!0;if("functions"===m&&this.isComposite()){var Y=!0;return this.each(function(pe){pe.isConstant(m,T)||(Y=!1)},!0),Y}if("all"===m&&(this.isPi()||this.isE()))return!0;if(m&&this.group===Tt){for(var ie=0;ie<this.args.length;ie++)if(!this.args[ie].isConstant(m))return!1;return!0}return m?rr(this):this.value===Un},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols)for(var m in this.symbols)if(this.symbols[m].isImaginary())return!0;return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new be(0);if(this.isComposite()){var m=new be(0);return this.each(function(T){m=De.add(m,T.realpart())}),m}return this.isImaginary()?new be(0):this.clone()},imagpart:function(){if(this.group===an&&this.isImaginary())return new be(this.multiplier);if(this.isComposite()){var m=new be(0);return this.each(function(T){m=De.add(m,T.imagpart())}),m}return this.group===Xe?this.stripVar(Fe.IMAGINARY):new be(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(m){if(m){if(this.isConstant())return!0;if(this.group===an)return this.value!==m||this.power.equals(1);if(this.isComposite()&&this.power.equals(1)){for(var T in this.symbols)if(!this.symbols[T].isLinear(m))return!1;return!0}return!(this.group!==Xe||!this.symbols[m])&&this.symbols[m].isLinear(m)}return this.power.equals(1)},containsFunction:function(m){if("string"==typeof m&&(m=[m]),this.group===Tt&&-1!==m.indexOf(this.fname))return!0;if(this.symbols)for(var T in this.symbols)if(this.symbols[T].containsFunction(m))return!0;return!1},multiplyPower:function(m){if(this.group===$t&&this.multiplier.equals(1))return this;var T=this.power;if(this.group!==fn&&m.group===$t){var Q=m.multiplier;this.group===$t&&!Q.isInteger()&&this.convert(Bi),this.power=T.equals(1)?Q.clone():T.multiply(Q),this.group===Bi&&ht(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert($t))}else this.group!==fn&&(T=new be(T),this.convert(fn)),this.power=De.multiply(T,m);return this},setPower:function(m,T){if(this.group===$t&&this.multiplier.equals(1))return this;if(this.group!==fn||Ft(m)){var Q=!1;Ft(m)&&(m.group===$t?m=m.multiplier:Q=!0);var Y=Q?fn:Bi;this.power=m,this.group===$t&&Y&&this.convert(Y,T)}else this.group=this.previousGroup,delete this.previousGroup,this.group===$t?(this.multiplier=new nn(this.value),this.value=Un):this.power=m;return this},isInverse:function(){return this.group===fn?this.power.multiplier.lessThan(0):this.power<0},clone:function(m){var ie,T=m||new be(0),Q=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],Y=Q.length;if(this.symbols)for(var pe in T.symbols={},this.symbols)T.symbols[pe]=this.symbols[pe].clone();for(ie=0;ie<Y;ie++)void 0!==this[Q[ie]]&&(T[Q[ie]]=this[Q[ie]]);return T.power=this.power.clone(),T.multiplier=this.multiplier.clone(),this.isConversion&&(T.isConversion=this.isConversion),this.isUnit&&(T.isUnit=this.isUnit),T},toUnitMultiplier:function(m){return this.multiplier.num=new it(this.multiplier.num.isNegative()&&m?-1:1),this.multiplier.den=new it(1),this},toLinear:function(){return this.power.equals(1)||this.setPower(new nn(1)),this},each:function(m,T){if(this.symbols)for(var Q in this.symbols){var Y=this.symbols[Q];if(Y.group===In&&T)for(var ie in Y.symbols)m.call(Q,Y.symbols[ie],ie);else m.call(this,Y,Q)}else m.call(this,this,this.value)},valueOf:function(){return this.group===$t?this.multiplier.valueOf():0===this.power?1:0===this.multiplier?0:Oe(this,"decimals")},contains:function(m,T){m=String(m);var Q=this.group;if(this.value===m)return!0;if(this.symbols)for(var Y in this.symbols)if(this.symbols[Y].contains(m,T))return!0;if(Q===Tt||this.previousGroup===Tt)for(var ie=0;ie<this.args.length;ie++)if(this.args[ie].contains(m,T))return!0;return!(Q!==fn||!(T&&this.power.contains(m,T)||this.value===m))||this.value===m},negate:function(){return this.multiplier.negate(),(this.group===An||this.group===In)&&this.distributeMultiplier(),this},invert:function(m,T){return m||(this.multiplier=this.multiplier.invert()),Ft(this.power)?this.power.negate():this.group===Xe&&T?this.each(function(Q){return Q.invert()}):this.power&&this.group!==$t&&this.power.negate(),this},distributeMultiplier:function(m){var T=m?this.power.absEquals(1):this.power.equals(1);if(this.symbols&&T&&this.group!==Xe&&!this.multiplier.equals(1)){for(var Q in this.symbols){var Y=this.symbols[Q];Y.multiplier=Y.multiplier.multiply(this.multiplier),Y.distributeMultiplier()}this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var m=this.power;for(var T in this.symbols){var Q=this.symbols[T];Q.group===fn?Q.power=De.multiply(Q.power,new be(m)):this.symbols[T].power=this.symbols[T].power.multiply(m)}this.toLinear()}return this},convert:function(m,T){if(m>Tt){var Q=this.clone();this.symbols={},m===Xe?Q.toUnitMultiplier():this.toUnitMultiplier(),this.group===Tt&&(Q.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[Q.keyForGroup(m)]=Q,this.group=m,this.length=1}else if(m===fn)this.group===$t&&this.multiplier.equals(1)||(this.group!==fn&&(this.previousGroup=this.group),this.group===$t?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=Oe(this,"hash"),this.group=fn);else if(m===$t){var Y=this.multiplier.toDecimal();this.symbols&&(this.symbols=void 0),new be(this.group===Bi?Y*Math.pow(this.value,this.power):Y).clone(this)}else m===Bi&&this.group===$t&&(this.value=T?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!T),this.group=Bi);return this},insert:function(m,T){if(Ft(m)||oe("Object "+m+" is not of type Symbol!"),this.symbols){var Q=this.group;if(Q>Tt){var Y=m.keyForGroup(Q),ie=Y in this.symbols&&this.symbols[Y];if("add"===T){var pe=Y;ie?(this.symbols[pe]=De.add(ie,m),this.symbols[pe].multiplier.equals(0)&&(delete this.symbols[pe],this.length--,0===this.length&&(this.convert($t),this.multiplier=new nn(0)))):(this.symbols[Y]=m,this.length++)}else m.group===Bi&&ht(m.power)&&m.convert($t),m.group!==fn?(this.multiplier=this.multiplier.multiply(m.multiplier),m.toUnitMultiplier()):(m.parens=m.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(m.multiplier.clone().abs()),m.toUnitMultiplier(!0)),ie&&((m=De.multiply(Tr(this.symbols,Y),m)).isConstant()&&(this.multiplier=this.multiplier.multiply(m.multiplier),m=new be(1)),this.length--),m.isOne(!0)?m.multiplier.lessThan(0)&&this.negate():(this.symbols[Y]=m,this.length++);0===this.length&&this.convert($t),(this.group===An||this.group===Xe)&&this.updateHash()}}return this},attach:function(m){if(We(m)){for(var T=0;T<m.length;T++)this.insert(m[T],"add");return this}return this.insert(m,"add")},combine:function(m){if(We(m)){for(var T=0;T<m.length;T++)this.insert(m[T],"multiply");return this}return this.insert(m,"multiply")},updateHash:function(){if(this.group!==$t)if(this.group===Tt){for(var m="",T=this.args,Q=this.fname===gn,Y=0;Y<T.length;Y++)m+=(0===Y?"":",")+Oe(T[Y]);this.value=(Q?"":this.fname)+(Q?m:en(m))}else this.group===an||this.group===In||(this.value=Oe(this,"hash"))},keyForGroup:function(m){var Q,T=this.group;if(T===$t)Q=this.value;else if(T===an||T===Bi)Q=m===In?this.power.toDecimal():this.value;else if(T===Tt)Q=m===In?this.power.toDecimal():Oe(this,"hash");else{if(T===In)return m===Xe?Oe(this,"hash"):m===An?this.power.equals(1)?this.value:en(Oe(this,"hash"))+Fe.POWER_OPERATOR+this.power.toDecimal():m===In?this.power.toString():this.value;T===An?(m===An&&(Q=Oe(this,"hash")),Q=m===In?this.power.toDecimal():this.value):T===Xe?Q=m===In?this.power.toDecimal():Oe(this,"hash"):T===fn&&(Q=m===In?Oe(this.power):Oe(this,"hash"))}return Q},collectSymbols:function(m,T,Q,Y){var ie=[];if(this.symbols)for(var pe in this.symbols){var Qe=this.symbols[pe];!Y||Qe.group!==In&&Qe.group!==An?ie.push(m?m(Qe,T):Qe):ie=ie.concat(Qe.collectSymbols())}else ie.push(this);return null===Q&&(Q=void 0),ie.sort(Q)},latex:function(m){return En.latex(this,m)},text:function(m){return Oe(this,m)},isOne:function(m){return this.group===$t?this.multiplier[m?"absEquals":"equals"](1):this.power.equals(0)},isComposite:function(){var m=this.group,T=this.previousGroup;return m===An||m===In||T===In||T===An},isCombination:function(){return this.group===Xe||this.previousGroup===Xe},lessThan:function(m){return this.multiplier.lessThan(m)},greaterThan:function(m){return Ft(m)||(m=new be(m)),!(!this.isConstant(!0)||!m.isConstant(!0))&&this.multiplier.greaterThan(m.multiplier)},getDenom:function(){var m,T;if(T=this.clone(),this.group===Xe&&this.power.lessThan(0)&&(T=De.expand(T)),T.power.lessThan(0)||T.group===fn&&T.power.multiplier.lessThan(0)){var Q=De.parse(T.multiplier.den);(m=T.toUnitMultiplier()).power.negate(),m=De.multiply(Q,m)}else if(T.group===Xe)for(var Y in m=De.parse(T.multiplier.den),T.symbols){var ie=T.symbols[Y];(ie.power<0||ie.group===fn&&ie.power.multiplier.lessThan(0))&&(m=De.multiply(m,T.symbols[Y].clone().invert()))}else m=De.parse(T.multiplier.den);return m},getNum:function(){var m,T;return(T=this.clone()).group===Xe&&T.power.lessThan(0)&&(T=De.expand(T)),T.power.greaterThan(0)&&T.group!==Xe||T.group===fn&&T.power.multiplier.greaterThan(0)?m=De.multiply(De.parse(T.multiplier.num),T.toUnitMultiplier()):T.group===Xe?(m=De.parse(T.multiplier.num),T.each(function(Q){(Q.power>0||Q.group===fn&&Q.power.multiplier>0)&&(m=De.multiply(m,Q.clone()))})):m=De.parse(T.multiplier.num),m},toString:function(){return this.text()}};var $o={convert:function(m,T){var Q;if(0===m)Q=[0,1];else if(m<1e-6||m>1e20){var Y=this.quickConversion(Number(m));if(Y[1]<=1e20){var ie=Math.abs(m),pe=m/ie;(Q=this.fullConversion(ie.toFixed((Y[1]+"").length-1)))[0]=Q[0]*pe}else Q=Y}else Q=this.fullConversion(m);return Q},quickConversion:function(m){return function Q(Y){zi.isScientific(Y)&&(Y=ve(Y));var Qe,ie=function(Y){"string"!=typeof Y&&(Y=Y.toString());var ie="",pe=Y.charAt(0);return"-"===pe?(Y=Y.substr(1,Y.length),ie="-"):"+"===pe&&(Y=Y.substr(1,Y.length)),{sign:ie,value:Y}}(Y),pe=ie.value.split(".");Qe=1===pe.length?pe[0]:pe[0]+pe[1];var on=`1${"0".repeat(pe[1]?pe[1].length:0)}`;return"0"!==Qe&&(Qe=Qe.replace(/^0+/,"")),[ie.sign+Qe,on]}(m)},fullConversion:function(m){for(var T=!1,Q=0,Y=1,ie=1,pe=0,Qe=0,St=m;!T;){++Qe>1e4&&(T=!0);var Lt=Math.floor(St),un=Q+Lt*ie,Vi=Y+Lt*pe,Zn=St-Lt;Zn<1e-16&&(T=!0),St=1/Zn,Q=ie,Y=pe,ie=un,pe=Vi,(Math.abs(un/Vi-m)<1e-16||Qe>30)&&(T=!0)}return[un,Vi]}},En={parser:function(){var m=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],T=new Co;for(var Q in T)-1===m.indexOf(Q)&&delete T[Q];return T.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(ie){return ie}}),T.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(ie){return ie}}),T.getBrackets()["{"].maps_to=void 0,T}(),space:"~",dot:" \\cdot ",latex:function(m,T){if(m.clone&&(m=m.clone()),m instanceof De.classes.Collection&&(m=m.elements),We(m)){for(var Q=[],Y=0;Y<m.length;Y++){var ie=m[Y];Ft(ie)||(ie=De.parse(ie)),Q.push(this.latex(ie,T))}return this.brackets(Q.join(", "),"square")}if(ri(m)){var pe="\\begin{pmatrix}\n";for(Y=0;Y<m.elements.length;Y++){for(var Qe=[],St=m.elements[Y],on=0;on<St.length;on++)Qe.push(this.latex(St[on],T));pe+=Qe.join(" & "),Y<m.elements.length-1&&(pe+="\\\\\n")}return pe+"\\end{pmatrix}"}if(zn(m)){for(pe="\\left[",Y=0;Y<m.elements.length;Y++)pe+=this.latex(m.elements[Y],T)+" "+(Y!==m.elements.length-1?",\\,":"");return pe+"\\right]"}if(Yi(m)){for(pe="\\{",Y=0;Y<m.elements.length;Y++)pe+=this.latex(m.elements[Y],T)+" "+(Y!==m.elements.length-1?",\\,":"");return pe+"\\}"}var bi,Lt="decimal"===T||"decimals"===T,un=(m=m.clone()).power,Vi=ot(un),Zn=m.multiplier.lessThan(0);if(m.group===Bi&&Lt)return String(m.multiplier.toDecimal()*Math.pow(m.value,m.power.toDecimal()));m.multiplier=m.multiplier.abs(),bi=Lt?[String(m.multiplier.toDecimal()),""]:[m.multiplier.num,m.multiplier.den];var Wr,Mn=this.value(m,Vi,T,Zn);Vi&&un.negate(),Lt?(Wr=Ft(un)?En.latex(un,T):String(un.toDecimal()),"1"===String(Wr)&&(Wr="")):Wr=Ft(un)?this.latex(un,T):this.formatFrac(un,!0);var nr=["",""];return nr[Vi?1:0]=Wr,((Zn?"-":"")+this.set(bi,Mn,nr,m.group===Xe)).replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(m,T,Q,Y){var ie=m.group,pe=m.previousGroup,Qe=["",""],St=T?1:0;if(m.isInfinity)Qe[St]="\\infty";else if(ie===an||ie===Bi||pe===an||pe===Bi||pe===$t){(on=this.formatSubscripts(m.value)).replace&&(on=on.replace(/(.+)_$/,"$1\\_"));var Lt=String(on).split("_"),un=this.greek[Lt[0]];un&&(Lt[0]=un,on=Lt.join("_")),(m=this.symbols[Lt[0]])&&(Lt[0]=m,on=Lt.join("_")),Qe[St]=on}else if(ie===Tt||pe===Tt){for(var Zn=[],bi=m.fname,lr=0;lr<m.args.length;lr++){var Wr;Wr="string"==typeof(Mn=m.args[lr])?Mn:this.latex(Mn,Q),Zn.push(Wr)}if(bi===qt)Qe[St]="\\sqrt"+this.braces(Zn.join(","));else if(bi===Di)Qe[St]=this.brackets(Zn.join(","),"abs");else if(bi===gn)Qe[St]=this.brackets(Zn.join(","),"parens");else if("limit"===bi)Qe[St]=" \\lim\\limits_{"+Zn[1]+" \\to "+Zn[2]+"} "+Zn[0];else if("integrate"===bi)Qe[St]="\\int"+this.braces(Zn[0])+this.braces("d"+Zn[1]);else if("defint"===bi)Qe[St]="\\int\\limits_"+this.braces(Zn[1])+"^"+this.braces(Zn[2])+" "+Zn[0]+" d"+Zn[3];else if(bi===Wn||bi===qe){var Mn;(Mn=m.args[0]).power.equals(1)&&(Mn.isComposite()||Mn.isCombination())&&(Zn[0]=this.brackets(Zn[0])),Qe[St]=Zn[0]+(bi===Wn?"!":"!!")}else if("floor"===bi)Qe[St]="\\left \\lfloor"+this.braces(Zn[0])+"\\right \\rfloor";else if("ceil"===bi)Qe[St]="\\left \\lceil"+this.braces(Zn[0])+"\\right \\rceil";else if(bi===Fe.LOG&&Zn.length>1)Qe[St]="\\mathrm"+this.braces(Fe.LOG)+"_"+this.braces(Zn[1])+this.brackets(Zn[0]);else if(bi===Fe.LOG10)Qe[St]="\\mathrm"+this.braces(Fe.LOG)+"_"+this.braces(10)+this.brackets(Zn[0]);else if("sum"===bi){var nr=Zn[0],No=Zn[2],is=Zn[3];Qe[St]="\\sum\\limits_{"+this.braces(Zn[1])+"="+this.braces(No)+"}^"+this.braces(is)+" "+this.braces(nr)}else if("product"===bi)nr=Zn[0],No=Zn[2],is=Zn[3],Qe[St]="\\prod\\limits_{"+this.braces(Zn[1])+"="+this.braces(No)+"}^"+this.braces(is)+" "+this.braces(nr);else if("nthroot"===bi)Qe[St]="\\sqrt["+Zn[1]+"]"+this.braces(Zn[0]);else if("mod"===bi)Qe[St]=Zn[0]+" \\bmod "+Zn[1];else if("realpart"===bi)Qe[St]="\\operatorname{Re}"+this.brackets(Zn[0]);else if("imagpart"===bi)Qe[St]="\\operatorname{Im}"+this.brackets(Zn[0]);else{var Vi=""!==bi?"\\mathrm"+this.braces(bi.replace(/_/g,"\\_")):"";Qe[St]=m.isConversion?Vi+this.brackets(Zn.join(""),"parens"):Vi+this.brackets(Zn.join(","),"parens")}}else if(m.isComposite()){var io=m.collectSymbols().sort(ie===An||pe===An?function(Gr,Ts){return Ts.group-Gr.group}:function(Gr,Ts){var Af=Ft(Gr.power)?-1:Gr.power;return(Ft(Ts.power)?-1:Ts.power)-Af}),vs=[],ca=io.length;for(lr=0;lr<ca;lr++)vs.push(En.latex(io[lr],Q));var on=vs.join("+");Qe[St]=m.isLinear()&&m.multiplier.equals(1)&&!Y?on:this.brackets(on,"parens")}else if(ie===Xe||pe===fn||pe===Xe){ie===Xe&&m.distributeExponent();var ys=[],Jr=[],Qo=[],ai=[],fa=0,Ys=0,Ds=function(Rs,Gr,Ts){if(Ts>1&&Gr.length>0)for(var Af=Gr.length,jl=0;jl<Af;jl++){var Ou=Gr[jl],Va=Rs[Ou];/^\\left\(.+\\right\)\^\{.+\}$/g.test(Va)||/^\\left\(.+\\right\)$/g.test(Va)||(Rs[Ou]=En.brackets(Va,"parens"))}return Rs};m.each(function(Rs){var Ts;ot(Rs.power)?(Ts=En.latex(Rs.invert(),Q),Ys++,Rs.isComposite()&&(1!=m.multiplier.den&&1==Math.abs(Rs.power)&&(Ts=En.brackets(Ts,"parens")),Qo.push(ys.length)),ys.push(Ts)):(Ts=En.latex(Rs,Q),fa++,Rs.isComposite()&&(1!=m.multiplier.num&&1==Math.abs(Rs.power)&&(Ts=En.brackets(Ts,"parens")),ai.push(Jr.length)),Jr.push(Ts))}),Ds(Jr,ai,fa),Qe[0]=Jr.join(this.dot),Ds(ys,Qo,Ys),Qe[1]=ys.join(this.dot)}return Qe},set:function(m,T,Q,Y){var ie=function(bi){return/^\\left\(.+\\right\)$/.test(bi)};if(Q&&(Q=this.formatP(Q)),Y){var pe=Q[0];Q[0]=""}T=this.merge(T,Q);var Qe=m[0],St=m[1],on=T[0],Lt=T[1];on&&1===Number(Qe)&&(Qe=""),1===Number(St)&&(St="");var un=this.join(Qe,on,ie(on)?"":this.dot),Vi=this.join(St,Lt,ie(Lt)?"":this.dot);if(un&&Vi){var Zn=this.frac(un,Vi);return Y&&pe&&(Zn=this.brackets(Zn)+pe),Zn}return un},merge:function(m,T){for(var Q=[],Y=0;Y<2;Y++)Q[Y]=m[Y]+T[Y];return Q},join:function(m,T,Q){return m||T?m&&!T?m:T&&!m?T:m+Q+T:""},formatSubscripts:function(m){for(var T=m.toString().split("_"),Q="";T.length>1;)T.length>0&&(Q="_"+this.braces(T.pop()+Q));return T[0]+Q},formatP:function(m){for(var T=0;T<2;T++){var Q=m[T];Q&&(m[T]="^"+this.braces(Q))}return m},formatFrac:function(m,T){var Q=m.num.toString(),Y=m.den.toString();return T&&"1"===Q&&"1"===Y?"":"1"===Y?Q:this.frac(Q,Y)},frac:function(m,T){return"\\frac"+this.braces(m)+this.braces(T)},braces:function(m){return"{"+m+"}"},brackets:function(m,T){var Y={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]}[T=T||"parens"];return"\\left"+Y[0]+m+"\\right"+Y[1]},filterTokens:function(m){var T=[];We(m)&&(T.type=m.type);for(var Q=["\\","left","right","big","Big","large","Large"],Y=0,ie=m.length;Y<ie;Y++){var pe=m[Y];"\\"===pe.value&&"\\"===m[Y+1].value?T.push(pe):We(pe)?T.push(En.filterTokens(pe)):-1===Q.indexOf(pe.value)&&T.push(pe)}return T},parse:function(m){var T,Y="",ie=this.filterTokens(m),pe={cdot:"",times:"",infty:"Infinity"},Qe=function(io){return ie[typeof io>"u"?++T:T+=io]},St=function(){return En.parse(Qe())},on=function(io){return io in pe?pe[io]:"*"===io&&"&"===ie[T+1].value?(Qe(2),","):"&"===io?(Qe(),","):"\\"===io?"],[":io};for(T=0,Q=ie.length;T<Q;T++){var Lt=ie[T];if("frac"===Lt.value)Y+=St()+"/"+St();else if(Lt.value in En.symbols)if(Lt.value===qt&&"vector"===ie[T+1].type&&"Set"===ie[T+2].type){var Zn=St();Y+=St()+"^"+en("1/"+Zn)}else Y+=Lt.value+St();else if("int"===Lt.value){var lr=St();T++,Mn=on((Mn=Qe().value).substring(1,Mn.length)),Y+="integrate"+en(lr+","+Mn)}else if("int_"===Lt.value){var Q=St();if(T++,void 0===(Wr=Qe().value)){T--;var Wr=St()}if(lr=St(),","===(Mn=Qe().value))var Mn=Qe().value;"differentialD"===Mn&&(T++,Mn=Qe().value),"mathrm"===Mn&&(T++,Mn=Qe().value),Y+="defint"+en(lr+","+Q+","+Wr+","+Mn)}else if(Lt.value&&Lt.value.startsWith("int_"))Q=Lt.value.replace("int_",""),console.log("uppernow"),T++,void 0===(Wr=Qe().value)&&(T--,Wr=St()),lr=St(),","===(Mn=Qe().value)&&(Mn=Qe().value),"differentialD"===Mn&&(T++,Mn=Qe().value),"mathrm"===Mn&&(T++,Mn=Qe().value),Y+="defint"+en(lr+","+Q+","+Wr+","+Mn);else if("mathrm"===Lt.value)Y+=(lr=ie[++T][0].value)+St();else if("sum_"===Lt.value||"prod_"===Lt.value){var nr="sum_"===Lt.value?"sum":"product",Cr=Qe();T++;var No=St();lr=St(),Y+=nr+en([lr,on(Cr[0]),on(Cr[2]),on(No)].join(","))}else"lim_"===Lt.value?(Cr=Qe(),Y+="limit"+en([St(),on(Cr[0]),on(Cr[2])].join(","))):"begin"===Lt.value?(Cr=Qe(),Array.isArray(Cr)&&"matrix"===Cr[0].value&&(Y+="matrix([")):"end"===Lt.value?(Cr=Qe(),Array.isArray(Cr)&&"matrix"===Cr[0].value&&(Y+="])")):Array.isArray(Lt)?Y+=on(En.parse(Lt)):Y+=on(Lt.value.toString())}return en(Y)}};function Ti(m){this.elements=zn(m)?m.items.slice(0):We(m)?m.slice(0):[].slice.call(arguments)}function gr(){var Q,ie,pe,Qe,m=arguments,T=m.length,Y=[];if(ri(m))for(Q=0;Q<T;Q++)Y.push(m[Q].slice(0));else for(Q=0;Q<T;Q++)zn(ie=m[Q])&&(ie=ie.elements),We(ie)||(ie=[ie]),Qe=ie.length,pe&&pe!==Qe&&oe("Unable to create Matrix. Row dimensions do not match!"),Y.push(ie),pe=Qe;this.elements=Y}function Fr(m){if(this.elements=[],zn(m)||(m=Ti.fromArray(arguments)),m)for(var T=m.elements,Q=0,Y=T.length;Q<Y;Q++)this.add(T[Q])}Ti.arrayPrefill=function(m,T){var Q=[];T=T||0;for(var Y=0;Y<m;Y++)Q[Y]=T;return Q},Ti.fromArray=function(m){var T=new Ti;return T.elements=m,T},Ti.fromSet=function(m){return Ti.fromArray(m.elements)},Ti.prototype={custom:!0,e:function(m){return m<1||m>this.elements.length?null:this.elements[m-1]},set:function(m,T){Ft(T)||(T=new be(T)),this.elements[m]=T},dimensions:function(){return this.elements.length},modulus:function(){return ii("SAFE",function(){return De.pow(this.dot(this.clone()),new be(.5))},void 0,this)},eql:function(m){var T=this.elements.length,Q=m.elements||m;if(T!==Q.length)return!1;do{if(Math.abs(De.subtract(this.elements[T-1],Q[T-1]).valueOf())>PRECISION)return!1}while(--T);return!0},clone:function(){for(var m=new Ti,T=this.elements.length,Q=0;Q<T;Q++)m.elements.push(this.elements[Q].clone());return this.getter&&(m.getter=this.getter.clone()),m},map:function(m){var T=[];return this.each(function(Q,Y){T.push(m(Q,Y))}),new Ti(T)},each:function(m){var Y,T=this.elements.length,Q=T;do{m(this.elements[Y=Q-T],Y+1)}while(--T)},toUnitVector:function(){return ii("SAFE",function(){var m=this.modulus();return 0===m.valueOf()?this.clone():this.map(function(T){return De.divide(T,m)})},void 0,this)},angleFrom:function(m){return ii("SAFE",function(){var T=m.elements||m;if(this.elements.length!==T.length)return null;var Y=new be(0),ie=new be(0),pe=new be(0);this.each(function(Lt,un){Y=De.add(Y,De.multiply(Lt,T[un-1])),ie=De.add(ie,De.multiply(Lt,Lt)),pe=De.add(pe,De.multiply(T[un-1],T[un-1]))}),ie=De.pow(ie,new be(.5)),pe=De.pow(pe,new be(.5));var Qe=De.multiply(ie,pe);if(0===Qe.valueOf())return null;var St=De.divide(Y,Qe),on=St.valueOf();return on<-1&&(St=-1),on>1&&(St=1),new be(Math.acos(St))},void 0,this)},isParallelTo:function(m){var T=this.angleFrom(m).valueOf();return null===T?null:T<=PRECISION},isAntiparallelTo:function(m){var T=this.angleFrom(m).valueOf();return null===T?null:Math.abs(T-Math.PI)<=PRECISION},isPerpendicularTo:function(m){var T=this.dot(m);return null===T?null:Math.abs(T)<=PRECISION},add:function(m){return ii("SAFE",function(){var T=m.elements||m;return this.elements.length!==T.length?null:this.map(function(Q,Y){return De.add(Q,T[Y-1])})},void 0,this)},subtract:function(m){return ii("SAFE",function(){var T=m.elements||m;return this.elements.length!==T.length?null:this.map(function(Q,Y){return De.subtract(Q,T[Y-1])})},void 0,this)},multiply:function(m){return this.map(function(T){return T.clone()*m.clone()})},x:function(m){return this.multiply(m)},dot:function(m){return ii("SAFE",function(){var T=m.elements||m,Q=new be(0),Y=this.elements.length;if(Y!==T.length)return null;do{Q=De.add(Q,De.multiply(this.elements[Y-1],T[Y-1]))}while(--Y);return Q},void 0,this)},cross:function(m){var T=m.elements||m;if(3!==this.elements.length||3!==T.length)return null;var Q=this.elements;return ii("SAFE",function(){return new Ti([De.subtract(De.multiply(Q[1],T[2]),De.multiply(Q[2],T[1])),De.subtract(De.multiply(Q[2],T[0]),De.multiply(Q[0],T[2])),De.subtract(De.multiply(Q[0],T[1]),De.multiply(Q[1],T[0]))])},void 0,this)},max:function(){var Y,m=0,T=this.elements.length,Q=T;do{Y=Q-T,Math.abs(this.elements[Y].valueOf())>Math.abs(m.valueOf())&&(m=this.elements[Y])}while(--T);return m},magnitude:function(){var m=new be(0);return this.each(function(T){m=De.add(m,De.pow(T,new be(2)))}),De.sqrt(m)},indexOf:function(m){var ie,T=null,Q=this.elements.length,Y=Q;do{ie=Y-Q,null===T&&this.elements[ie].valueOf()===m.valueOf()&&(T=ie+1)}while(--Q);return T},text:function(m){return Oe(this)},toString:function(){return this.text()},latex:function(m){for(var T=[],Q=0;Q<this.elements.length;Q++)T.push(En.latex.call(En,this.elements[Q],m));return"["+T.join(", ")+"]"}},gr.identity=function(m){for(var T=new gr,Q=0;Q<m;Q++){T.elements.push([]);for(var Y=0;Y<m;Y++)T.set(Q,Y,new be(Q===Y?1:0))}return T},gr.fromArray=function(m){function T(Q){return gr.apply(this,Q)}return T.prototype=gr.prototype,new T(m)},gr.zeroMatrix=function(m,T){for(var Q=new gr,Y=0;Y<m;Y++)Q.elements.push(Ti.arrayPrefill(T,new be(0)));return Q},(gr.prototype={custom:!0,get:function(m,T){if(this.elements[m])return this.elements[m][T]},map:function(m,T){var Q=new gr;return this.each(function(Y,ie,pe){Q.set(ie,pe,m.call(Q,Y),T)}),Q},set:function(m,T,Q,Y){this.elements[m]||(this.elements[m]=[]),this.elements[m][T]=Y||Ft(Q)?Q:new be(Q)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(m){return!m||m>this.cols()?[]:this.elements[m-1]},col:function(m){var T=this.rows(),Q=[];if(m>this.cols()||!m)return Q;for(var Y=0;Y<T;Y++)Q.push(this.elements[Y][m-1]);return Q},eachElement:function(m){var Y,ie,T=this.rows(),Q=this.cols();for(Y=0;Y<T;Y++)for(ie=0;ie<Q;ie++)m.call(this,this.elements[Y][ie],Y,ie)},determinant:function(){if(!this.isSquare())return null;var ie,m=this.toRightTriangular(),T=m.elements[0][0],Q=m.elements.length-1,Y=Q;do{T=De.multiply(T,m.elements[ie=Y-Q+1][ie])}while(--Q);return T},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&0===this.determinant()},augment:function(m){var T=this.rows();T!==m.rows()&&oe("Cannot augment matrix. Rows don't match.");for(var Y=0;Y<T;Y++)this.elements[Y]=this.elements[Y].concat(m.elements[Y]);return this},clone:function(){for(var m=this.rows(),T=this.cols(),Q=new gr,Y=0;Y<m;Y++){Q.elements[Y]=[];for(var ie=0;ie<T;ie++){var pe=this.elements[Y][ie];Q.elements[Y][ie]=Ft(pe)?pe.clone():pe}}return Q},invert:function(){return this.isSquare()||oe("Matrix is not square!"),ii("SAFE",function(){var Q,Y,Qe,on,Lt,un,Zn,m=this.elements.length,T=m,ie=gr.identity(m),pe=this.augment(ie).toRightTriangular(),St=pe.elements[0].length,Vi=[];do{Lt=[],Qe=St,Vi[Q=m-1]=[],un=pe.elements[Q][Q];do{Zn=De.divide(pe.elements[Q][on=St-Qe],un.clone()),Lt.push(Zn),on>=T&&Vi[Q].push(Zn)}while(--Qe);for(pe.elements[Q]=Lt,Y=0;Y<Q;Y++){Lt=[],Qe=St;do{Lt.push(De.subtract(pe.elements[Y][on=St-Qe].clone(),De.multiply(pe.elements[Q][on].clone(),pe.elements[Y][Q].clone())))}while(--Qe);pe.elements[Y]=Lt}}while(--m);return gr.fromArray(Vi)},void 0,this)},toRightTriangular:function(){return ii("SAFE",function(){var T,Y,Qe,St,Lt,m=this.clone(),ie=this.elements.length,pe=ie,on=this.elements[0].length;do{if(0===m.elements[Qe=pe-ie][Qe].valueOf())for(var un=Qe+1;un<pe;un++)if((Y=m.elements[un][Qe])&&0!==Y.valueOf()){T=[],St=on;do{T.push(De.add(m.elements[Qe][Lt=on-St].clone(),m.elements[un][Lt].clone()))}while(--St);m.elements[Qe]=T;break}if(0!==m.elements[Qe][Qe].valueOf())for(un=Qe+1;un<pe;un++){var Vi=De.divide(m.elements[un][Qe].clone(),m.elements[Qe][Qe].clone());T=[],St=on;do{T.push((Lt=on-St)<=Qe?new be(0):De.subtract(m.elements[un][Lt].clone(),De.multiply(m.elements[Qe][Lt].clone(),Vi.clone())))}while(--St);m.elements[un]=T}}while(--ie);return m},void 0,this)},transpose:function(){var ie,pe,Qe,m=this.elements.length,T=this.elements[0].length,Q=new gr,Y=T;do{Q.elements[ie=T-Y]=[],pe=m;do{Q.elements[ie][Qe=m-pe]=this.elements[Qe][ie].clone()}while(--pe)}while(--Y);return Q},canMultiplyFromLeft:function(m){var T=ri(m)?m.elements.length:m.length;return this.elements[0].length===T},sameSize:function(m){return this.rows()===m.rows()&&this.cols()===m.cols()},multiply:function(m){return ii("SAFE",function(){var T=m.elements||m;if(!this.canMultiplyFromLeft(T)){if(this.sameSize(m)){for(var Q=new gr,Y=this.rows(),St=0;St<Y;St++){var ie=De.multiply(new Ti(this.elements[St]),new Ti(m.elements[St]));Q.elements[St]=ie.elements}return Q}return null}var on,un,bi,lr,Mn,pe=this.elements.length,Qe=pe,Lt=T[0].length,Vi=this.elements[0].length,Zn=[];do{Zn[St=Qe-pe]=[],on=Lt;do{un=Lt-on,bi=new be(0),lr=Vi;do{bi=De.add(bi,De.multiply(this.elements[St][Mn=Vi-lr],T[Mn][un]))}while(--lr);Zn[St][un]=bi}while(--on)}while(--pe);return gr.fromArray(Zn)},void 0,this)},add:function(m,T){var Q=new gr;return this.sameSize(m)&&this.eachElement(function(Y,ie,pe){var Qe=De.add(Y.clone(),m.elements[ie][pe].clone());T&&(Qe=T.call(Q,Qe,Y,m.elements[ie][pe])),Q.set(ie,pe,Qe)}),Q},subtract:function(m,T){var Q=new gr;return this.sameSize(m)&&this.eachElement(function(Y,ie,pe){var Qe=De.subtract(Y.clone(),m.elements[ie][pe].clone());T&&(Qe=T.call(Q,Qe,Y,m.elements[ie][pe])),Q.set(ie,pe,Qe)}),Q},negate:function(){return this.each(function(m){return m.negate()}),this},toVector:function(){if(1===this.rows()||1===this.cols()){var m=new Ti;return m.elements=this.elements,m}return this},toString:function(m,T){var Q=this.rows(),Y=[];m=void 0===m?"\n":m;for(var ie=0;ie<Q;ie++)Y.push("["+this.elements[ie].map(function(pe){var Qe=T?pe.multiplier.toDecimal():pe.toString();return void 0!==pe?Qe:""}).join(",")+"]");return"matrix"+en(Y.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(m){var T=this.cols(),Q=this.elements;return jn("\\begin{vmatrix}{0}\\end{vmatrix}",function(){var Y=[];for(var ie in Q){for(var pe=[],Qe=0;Qe<T;Qe++)pe.push(En.latex.call(En,Q[ie][Qe],m));Y.push(pe.join(" & "))}return Y.join(" \\cr ")})}}).each=gr.prototype.eachElement,Fr.fromArray=function(m){function T(Q){return Fr.apply(this,Q)}return T.prototype=Fr.prototype,new T(m)},Fr.prototype={add:function(m){this.contains(m)||this.elements.push(m.clone())},contains:function(m){for(var T=0;T<this.elements.length;T++)if(m.equals(this.elements[T]))return!0;return!1},each:function(m){for(var T=this.elements,Q=new Fr,Y=0,ie=T.length;Y<ie;Y++)m.call(this,T[Y],Q,Y);return Q},clone:function(){var m=new Fr;return this.each(function(T){m.add(T.clone())}),m},union:function(m){var T=this.clone();return m.each(function(Q){T.add(Q)}),T},difference:function(m){var T=this.clone();return m.each(function(Q){T.remove(Q)}),T},remove:function(m){for(var T=0,Q=this.elements.length;T<Q;T++)if(this.elements[T].equals(m))return Tr(this.elements,T),!0;return!1},intersection:function(m){var T=new Fr,Q=this;return m.each(function(Y){Q.contains(Y)&&T.add(Y)}),T},intersects:function(m){return this.intersection(m).elements.length>0},is_subset:function(m){for(var T=m.elements,Q=0,Y=T.length;Q<Y;Q++)if(!this.contains(T[Q]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var ua={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":ue.gamma},gamma_incomplete:{"Math2.factorial":ue.factorial},Li:{"Math2.Ei":ue.Ei,"Math2.bigLog":ue.bigLog,Frac:nn},Ci:{"Math2.factorial":ue.factorial},Ei:{"Math2.factorial":ue.factorial},Si:{"Math2.factorial":ue.factorial},Shi:{"Math2.factorial":ue.factorial},Chi:{isInt:ht,nround:Ct,"Math2.num_integrate":ue.num_integrate},factor:{"Math2.ifactor":ue.ifactor,Symbol:be},num_integrate:{"Math2.simpson":ue.simpson,nround:Ct},fib:{even:xn}},reformat:{diff:function(m,T){var Q=m.args[1].toString(),Y="var f = "+ua.build(m.args[0].toString(),[Q])+";";return T[1]+="var diff = "+ue.diff.toString()+";",T[1]+=Y,["diff(f)("+Q+")",T]}},getProperName:function(m){return{continued_fraction:"continuedFraction"}[m]||m},compileDependencies:function(m,T){var Q=ua.dependencies[m],Y=T&&T[1]?T[1]:"",ie=T&&T[0]?T[0]:{};for(var pe in Q)if("object"!=typeof Q[pe]){var Qe=pe.split(".");Y+="var "+(Qe.length>1?Qe[1]:Qe[0])+"="+Q[pe]+";",ie[pe]=Qe.pop()}return[ie,Y]},getArgsDeps:function(m,T){for(var Q=m.args,Y=0;Y<Q.length;Y++)m.args[Y].each(function(ie){ie.group===Tt&&(T=ua.compileDependencies(ie.fname,T))});return T},build:function(m,T){m=ii("PARSE2NUMBER",function(){return De.parse(m)},!0);var Q=Si(m),Y=[],ie=[],pe=function(un,Vi){""===un.fname&&(un=be.unwrapPARENS(un)),Vi=Vi||[];var nr,Zn=[],bi=un.group,lr="",Mn=function(io){var vs=io===Xe?"*":"+",ca=[];for(var ys in un.symbols){var Jr=un.symbols[ys],Qo=pe(Jr,Vi)[0];Jr.isComposite()&&(Qo=en(Qo)),ca.push(Qo)}var ai=ca.join(vs);return ai&&!un.multiplier.equals(1)?en(ai):ai},Wr=function(io){var vs;return io in Math?vs="Math."+io:(io=ua.getProperName(io),-1===Y.indexOf(io)&&(Vi.push("var "+io+" = "+ue[io].toString()+"; "),Y.push(io)),vs=io),vs+en(un.args.map(function(ca){return pe(ca,Vi)[0]}).join(","))};if(bi===$t?Zn.push(un.multiplier.toDecimal()):un.multiplier.equals(-1)?lr="-":un.multiplier.equals(1)||Zn.push(un.multiplier.toDecimal()),bi===an||bi===Bi)nr=un.value;else if(bi===Tt)if(ie=ua.compileDependencies(un.fname,ie),ie=ua.getArgsDeps(un,ie),ua.reformat[un.fname]){var Cr=ua.reformat[un.fname](un,ie);ie=Cr[1],nr=Cr[0]}else nr=Wr(un.fname);else if(bi===fn){var No=un.previousGroup;No===$t||No===an?nr=un.value:No===Tt?(nr=Wr(un.fname),ie=ua.compileDependencies(un.fname,ie),ie=ua.getArgsDeps(un,ie)):nr=Mn(un.previousGroup)}else nr=Mn(un.group);if(un.group!==$t&&!un.power.equals(1)){var is=pe(De.parse(un.power));Vi.push(is[1]),nr="Math.pow"+en(nr+","+is[0])}return nr&&Zn.push(lr+nr),[Zn.join("*"),Vi.join("").replace(/\n+\s+/g," ")]};T&&(Q=T);var Qe=pe(m);for(var St in ie[0]){var on=ie[0][St];Qe[1]=Qe[1].replace(St,on),ie[1]=ie[1].replace(St,on)}return new Function(Q,(ie[1]||"")+Qe[1]+" return "+Qe[0]+";")}};ni(De.CONSTANTS),ni(De.functions),De.initConstants(),De.error||(De.error=oe),Fe.LOG_FNS={log:De.functions.log,log10:De.functions.log10};var Z0={allSame:Re,allNumeric:function(m){for(var T=0;T<m.length;T++)if(!Yt(m[T]))return!1;return!0},arguments2Array:Mr,arrayAddSlices:function(m,T){T=T||20;var Y,pe,Q=[];Q.push(m[0]);for(var Qe=0;Qe<m.length-1;Qe++){pe=(m[Qe+1]-(Y=m[Qe]))/T;for(var St=0;St<T;St++)Q.push(Y+=pe)}return Q},arrayClone:function(m){for(var T=[],Q=m.length,Y=0;Y<Q;Y++)T[Y]=m[Y].clone();return T},arrayMax:function(m){return Math.max.apply(void 0,m)},arrayMin:Nt,arrayEqual:function(m,T){if(m.sort(),T.sort(),m.length===T.length){for(var Q=0;Q<m.length;Q++)if(m[Q]!==T[Q])return!1;return!0}return!1},arrayUnique:ti,arrayGetVariables:function(m){for(var T=Si(m[0],null,null,!0),Q=1,Y=m.length;Q<Y;Q++)T=T.concat(Si(m[Q]));return ti(T).sort()},arraySum:function(m,T){for(var Q=new be(0),Y=0;Y<m.length;Y++){var ie=m[Y];Q=De.add(Q,Ft(ie)?ie:De.parse(ie))}return T?Number(Q):Q},block:ii,build:ua.build,clearU:function(m){var T=G.indexOf(m);-1!==T&&(G[T]=void 0)},comboSort:function(m,T){for(var Q=m.length,Y=[],ie=0;ie<m.length;ie++)Y.push([m[ie],T[ie]]);Y.sort(function(St,on){return St[0]-on[0]});var pe=[],Qe=[];for(ie=0;ie<Q;ie++)pe.push(Y[ie][0]),Qe.push(Y[ie][1]);return[pe,Qe]},compare:function(m,T,Q){for(var pe,ie={},Qe=0;Qe<Q.length;Qe++)ie[Q[Qe]]=new be(Math.floor(5*Math.random())+1);return ii("PARSE2NUMBER",function(){pe=De.parse(m,ie).equals(De.parse(T,ie))}),pe},convertToVector:br,customError:le,customType:function(m){return void 0!==m&&m.custom},decompose_fn:xt,each:mn,evaluate:Yn,even:xn,evenFraction:hi,fillHoles:function(m,T){T=T||m.length;for(var Q=0;Q<T;Q++)m[Q]||(m[Q]=new be(0));return m},firstObject:Ne,format:jn,generatePrimes:Pr,getCoeffs:function(m,T,Q){var Y=[];m.each(function(pe){if(pe.contains(T))var Qe=pe.stripVar(T),on=De.divide(pe.clone(),Qe.clone()).power.toDecimal();else Qe=pe,on=0;var Lt=Y[on];Y[on]=Lt?De.add(Lt,Qe):Qe},!0);for(var ie=0;ie<Y.length;ie++)Y[ie]||(Y[ie]=new be(0));return Y},getU:function(m){for(var Q="u",Y=0,ie=Si(m);-1!==G.indexOf(Q)||-1!==ie.indexOf(Q);)Q="u"+Y++;for(var pe=0,Qe=G.length;pe<=Qe;pe++)if(!G[pe]){G[pe]=Q;break}return Q},importFunctions:function(){var m={};for(var T in De.functions)m[T]=De.functions[T][0];return m},inBrackets:en,isArray:We,isExpression:Pn,isFraction:Jt,isInt:ht,isMatrix:ri,isNegative:ot,isNumericSymbol:rr,isPrime:ne,isReserved:Me,isSymbol:Ft,isVariableSymbol:function(m){return m.group===an&&m.multiplier.equals(1)&&m.power.equals(1)},isVector:zn,keys:_e,knownVariable:function(m,T){var Q={};return Q[m]=T,Q},nroots:function(m){var T,Q;if(m.group===Tt&&""===m.fname?(T=be.unwrapPARENS(De.parse(m).toLinear()),Q=De.parse(m.power)):m.group===Bi&&(T=De.parse(m.value),Q=De.parse(m.power)),T&&Q&&T.group===$t&&Q.group===$t&&T.multiplier.isNegative()){for(var Y=[],pe=be.toPolarFormArray(Yn(m))[0],Qe=De.arg(T),St=Q.multiplier.den.toString(),on=Q.multiplier.num.toString(),un=0;un<St;un++){var Vi=Yn(De.parse(jn("(({0})+2*pi*({1}))/({2})",Qe,un,St))).multiplier.toDecimal();Y.push(Yn(De.parse(jn("(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",pe,St,Fe.IMAGINARY,Vi,on))))}return Ti.fromArray(Y)}if(m.isConstant(!0,!0)){var Zn=m.sign(),bi=(Qe=Yn(m.abs()),De.sqrt(Qe));Y=[bi.clone(),bi.negate()],Zn<0&&(Y=Y.map(function(Wr){return De.multiply(Wr,be.imaginary())}))}else Y=[De.parse(m)];return Ti.fromArray(Y)},remove:Tr,reserveNames:ni,range:function(m,T,Q){var Y=[];Q=Q||1;for(var ie=m;ie<=T;ie++)Y.push(ie*Q);return Y},round:Ct,sameSign:function(m,T){return m<0==T<0},scientificToDecimal:ve,separate:si,stringReplace:function(m,T,Q,Y){return m.substr(0,T)+Y+m.substr(Q,m.length)},text:Oe,validateName:et,variables:Si,warn:$e},Fu={groups:bn,Symbol:be,Expression:Ot,Frac:nn,Vector:Ti,Matrix:gr,Parser:Co,Scientific:zi,Fraction:$o,Math2:ue,LaTeX:En,Utils:Z0,PARSER:De,PARENTHESIS:gn,Settings:Fe,err:oe,bigInt:it,bigDec:qn,exceptions:Zr},dr=function(m,T,Q,Y){var ie=!1,pe=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(m);if(pe)return F.setFunction(pe[1],pe[2].split(","),pe[3]);m instanceof Ot&&(m=m.toString()),We(Q)||(Q=typeof Q>"u"?[]:[Q]),Q.forEach(function(St){if("numer"!==St){var on=De.functions[Q];on&&1===on[1]&&(m=`${St}(${m})`)}else ie=!0});var Qe=ii("PARSE2NUMBER",function(){return De.parse(m,T)},ie||Fe.PARSE2NUMBER);return Y?L[Y-1]=Qe:L.push(Qe),new Ot(Qe)};return dr.rpn=function(m){return De.tokenize(De.toRPN(m))},dr.convertToLaTeX=function(m,T){return De.toTeX(m,T)},dr.convertFromLaTeX=function(m){var T=En.parse(De.tokenize(m));return new Ot(De.parse(T))},dr.version=function(m){if(m)try{return Fu[m].version}catch{return"No module named "+m+" found!"}return"1.1.13"},dr.getWarnings=function(){return R},dr.setConstant=function(m,T){if(et(m),!Me(m))if("delete"===T||""===T)delete De.CONSTANTS[m];else{if(isNaN(T))throw new Bt("Constant must be a number!");De.CONSTANTS[m]=T}return this},dr.getConstant=function(m){return String(De.constant[m])},dr.setFunction=vt,dr.getCore=function(){return Fu},dr.getExpression=dr.getEquation=Ot.getExpression,dr.reserved=function(m){return m?G:G.join(", ")},dr.clear=function(m,T){if("all"===m)L=[];else if("last"===m)L.pop();else if("first"===m)L.shift();else{var Q=m?m-1:L.length;!0===T?L[Q]=void 0:Tr(L,Q)}return this},dr.flush=function(){return this.clear("all"),this},dr.expressions=function(m,T,Q){for(var Y=m?{}:[],ie=0;ie<L.length;ie++){var pe=T?En.latex(L[ie],Q):Oe(L[ie],Q);m?Y[ie+1]=pe:Y.push(pe)}return Y},dr.register=function(m){var T=this.getCore();if(We(m))for(var Q=0;Q<m.length;Q++)m&&this.register(m[Q]);else if(m&&-1===Fe.exclude.indexOf(m.name)){if(m.dependencies)for(Q=0;Q<m.dependencies.length;Q++)if(!T[m.dependencies[Q]])throw new Error(jn("{0} requires {1} to be loaded!",m.name,m.dependencies[Q]));var Y=m.parent,ie=m.build.call(T);Y&&(T[Y]||(T[m.parent]={}),("nerdamer"===Y?this:T[Y])[m.name]=ie),m.visible&&(De.functions[m.name]=[ie,m.numargs])}},dr.validateName=et,dr.validVarName=function(m){try{return et(m),-1===G.indexOf(m)}catch{return!1}},dr.supported=function(){return _e(De.functions)},dr.numEquations=dr.numExpressions=function(){return L.length},dr.setVar=function(m,T){return et(m),m in De.CONSTANTS&&oe("Cannot set value for constant "+m),"delete"===T||""===T?delete U[m]:U[m]=Ft(T)?T:De.parse(T),this},dr.getVar=function(m){return U[m]},dr.clearVars=function(){return U={},this},dr.load=function(m){return m.call(this),this},dr.getVars=function(m,T){var Q={};if("object"===(m=m||"text"))Q=U;else for(var Y in U)"latex"===m?Q[Y]=U[Y].latex(T):"text"===m&&(Q[Y]=U[Y].text(T));return Q},dr.set=function(m,T){if("object"==typeof m)for(var Q in m)dr.set(Q,m[Q]);-1!==["SAFE"].indexOf(m)&&oe("Cannot modify setting: "+m),"PRECISION"===m?(qn.set({precision:T}),Fe.PRECISION=T,T>21&&this.set("USE_BIG",!0)):"USE_LN"===m&&!0===T?(Fe.LOG="LN",Fe.LOG10="log",De.functions.log=Fe.LOG_FNS.log10,De.functions.log[0]=function(ie){return ie.isConstant()?new be(Math.log10(ie)):De.symfunction(Fe.LOG10,[ie])},De.functions.LN=Fe.LOG_FNS.log,delete De.functions.log10):Fe[m]=T},dr.get=function(m){return Fe[m]},dr.updateAPI=function(m){var T=function(Y){return function(){for(var ie=[].slice.call(arguments),pe=0;pe<ie.length;pe++)ie[pe]=De.parse(ie[pe]);return new Ot(ii("PARSE2NUMBER",function(){return De.callfunction(Y,ie)}))}};for(var Q in De.functions)(!(Q in dr)||m)&&(dr[Q]=T(Q))},dr.replaceFunction=function(m,T,Q){var Y=De.functions[m],ie=typeof Q>"u"?Y[1]:Q;De.functions[m]=[T.call(void 0,Y[0],Fu),ie]},dr.setOperator=function(m,T){De.setOperator(m,T)},dr.getOperator=function(m){return De.getOperator(m)},dr.aliasOperator=function(m,T){De.aliasOperator(m,T)},dr.tree=function(m){return De.tree(De.toRPN(De.tokenize(m)))},dr.htmlTree=function(m,T){return'<div class="tree">\n    <ul>\n        <li>\n'+this.tree(m).toHTML(3,T)+"\n        </li>\n    </ul>\n</div>"},dr.addPeeker=function(m,T){De.peekers[m]&&De.peekers[m].push(T)},dr.removePeeker=function(m,T){Tr(De.peekers[m],T)},dr.parse=function(m){return String(m).split(";").map(function(T){return De.parse(T)})},dr.updateAPI(),dr}({bigInt:(dn=function(_n){"use strict";var De=1e7,it=7,qn=9007199254740992,bn=an(qn),Qi=Math.log(qn);function Ht(K,_e){return typeof K>"u"?Ht[0]:typeof _e<"u"?10==+_e?ft(K):We(K,_e):ft(K)}function Fe(K,_e){this.value=K,this.sign=_e,this.isSmall=!1}function $t(K){this.value=K,this.sign=K<0,this.isSmall=!0}function Bi(K){return-qn<K&&K<qn}function an(K){return K<1e7?[K]:K<1e14?[K%1e7,Math.floor(K/1e7)]:[K%1e7,Math.floor(K/1e7)%1e7,Math.floor(K/1e14)]}function fn(K){Tt(K);var _e=K.length;if(_e<4&&ve(K,bn)<0)switch(_e){case 0:return 0;case 1:return K[0];case 2:return K[0]+K[1]*De;default:return K[0]+(K[1]+K[2]*De)*De}return K}function Tt(K){for(var _e=K.length;0===K[--_e];);K.length=_e+1}function In(K){for(var _e=new Array(K),Ne=-1;++Ne<K;)_e[Ne]=0;return _e}function Xe(K){return K>0?Math.floor(K):Math.ceil(K)}function An(K,_e){var Ye,_t,Ne=K.length,At=_e.length,vt=new Array(Ne),xe=0,Nt=De;for(_t=0;_t<At;_t++)vt[_t]=(Ye=K[_t]+_e[_t]+xe)-(xe=Ye>=Nt?1:0)*Nt;for(;_t<Ne;)Ye=K[_t]+xe,vt[_t++]=Ye-(xe=Ye===Nt?1:0)*Nt;return xe>0&&vt.push(xe),vt}function Un(K,_e){return K.length>=_e.length?An(K,_e):An(_e,K)}function gn(K,_e){var xe,Nt,Ne=K.length,At=new Array(Ne),vt=De;for(Nt=0;Nt<Ne;Nt++)xe=K[Nt]-vt+_e,_e=Math.floor(xe/vt),At[Nt]=xe-_e*vt,_e+=1;for(;_e>0;)At[Nt++]=_e%vt,_e=Math.floor(_e/vt);return At}function qt(K,_e){var Ye,_t,Ne=K.length,At=_e.length,vt=new Array(Ne),xe=0,Nt=De;for(Ye=0;Ye<At;Ye++)(_t=K[Ye]-xe-_e[Ye])<0?(_t+=Nt,xe=1):xe=0,vt[Ye]=_t;for(Ye=At;Ye<Ne;Ye++){if(!((_t=K[Ye]-xe)<0)){vt[Ye++]=_t;break}vt[Ye]=_t+=Nt}for(;Ye<Ne;Ye++)vt[Ye]=K[Ye];return Tt(vt),vt}function Wn(K,_e,Ne){var Ye,_t,At=K.length,vt=new Array(At),xe=-_e,Nt=De;for(Ye=0;Ye<At;Ye++)_t=K[Ye]+xe,xe=Math.floor(_t/Nt),vt[Ye]=(_t%=Nt)<0?_t+Nt:_t;return"number"==typeof(vt=fn(vt))?(Ne&&(vt=-vt),new $t(vt)):new Fe(vt,Ne)}function qe(K,_e){var Ye,_t,Ge,yt,Ne=K.length,At=_e.length,xe=In(Ne+At),Nt=De;for(Ge=0;Ge<Ne;++Ge){yt=K[Ge];for(var xt=0;xt<At;++xt)Ye=yt*_e[xt]+xe[Ge+xt],_t=Math.floor(Ye/Nt),xe[Ge+xt]=Ye-_t*Nt,xe[Ge+xt+1]+=_t}return Tt(xe),xe}function L(K,_e){var Nt,Ye,Ne=K.length,At=new Array(Ne),vt=De,xe=0;for(Ye=0;Ye<Ne;Ye++)Nt=K[Ye]*_e+xe,xe=Math.floor(Nt/vt),At[Ye]=Nt-xe*vt;for(;xe>0;)At[Ye++]=xe%vt,xe=Math.floor(xe/vt);return At}function U(K,_e){for(var Ne=[];_e-- >0;)Ne.push(0);return Ne.concat(K)}function G(K,_e){var Ne=Math.max(K.length,_e.length);if(Ne<=30)return qe(K,_e);Ne=Math.ceil(Ne/2);var At=K.slice(Ne),vt=K.slice(0,Ne),xe=_e.slice(Ne),Nt=_e.slice(0,Ne),Ye=G(vt,Nt),_t=G(At,xe),Ge=G(Un(vt,At),Un(Nt,xe)),yt=Un(Un(Ye,U(qt(qt(Ge,Ye),_t),Ne)),U(_t,2*Ne));return Tt(yt),yt}function oe(K,_e,Ne){return new Fe(K<De?L(_e,K):qe(_e,an(K)),Ne)}function le(K){var vt,xe,Nt,Ye,_e=K.length,Ne=In(_e+_e),At=De;for(Nt=0;Nt<_e;Nt++){xe=0-(Ye=K[Nt])*Ye;for(var Ge=Nt;Ge<_e;Ge++)vt=Ye*K[Ge]*2+Ne[Nt+Ge]+xe,xe=Math.floor(vt/At),Ne[Nt+Ge]=vt-xe*At;Ne[Nt+_e]=xe}return Tt(Ne),Ne}function $e(K,_e){var xe,Nt,Ye,_t,Ne=K.length,At=In(Ne),vt=De;for(Ye=0,xe=Ne-1;xe>=0;--xe)Ye=(_t=Ye*vt+K[xe])-(Nt=Xe(_t/_e))*_e,At[xe]=0|Nt;return[At,0|Ye]}function et(K,_e){var Ne,Nt,At=ft(_e),vt=K.value,xe=At.value;if(0===xe)throw new Error("Cannot divide by zero");if(K.isSmall)return At.isSmall?[new $t(Xe(vt/xe)),new $t(vt%xe)]:[Ht[0],K];if(At.isSmall){if(1===xe)return[K,Ht[0]];if(-1==xe)return[K.negate(),Ht[0]];var Ye=Math.abs(xe);if(Ye<De){Nt=fn((Ne=$e(vt,Ye))[0]);var _t=Ne[1];return K.sign&&(_t=-_t),"number"==typeof Nt?(K.sign!==At.sign&&(Nt=-Nt),[new $t(Nt),new $t(_t)]):[new Fe(Nt,K.sign!==At.sign),new $t(_t)]}xe=an(Ye)}var Ge=ve(vt,xe);if(-1===Ge)return[Ht[0],K];if(0===Ge)return[Ht[K.sign===At.sign?1:-1],Ht[0]];Ne=vt.length+xe.length<=200?function Me(K,_e){var yt,Kt,xt,Ct,mt,hn,mn,Ne=K.length,At=_e.length,vt=De,xe=In(_e.length),Nt=_e[At-1],Ye=Math.ceil(vt/(2*Nt)),_t=L(K,Ye),Ge=L(_e,Ye);for(_t.length<=Ne&&_t.push(0),Ge.push(0),Nt=Ge[At-1],Kt=Ne-At;Kt>=0;Kt--){for(yt=vt-1,_t[Kt+At]!==Nt&&(yt=Math.floor((_t[Kt+At]*vt+_t[Kt+At-1])/Nt)),xt=0,Ct=0,hn=Ge.length,mt=0;mt<hn;mt++)xt+=yt*Ge[mt],mn=Math.floor(xt/vt),Ct+=_t[Kt+mt]-(xt-mn*vt),xt=mn,Ct<0?(_t[Kt+mt]=Ct+vt,Ct=-1):(_t[Kt+mt]=Ct,Ct=0);for(;0!==Ct;){for(yt-=1,xt=0,mt=0;mt<hn;mt++)(xt+=_t[Kt+mt]-vt+Ge[mt])<0?(_t[Kt+mt]=xt+vt,xt=0):(_t[Kt+mt]=xt,xt=1);Ct+=xt}xe[Kt]=yt}return _t=$e(_t,Ye)[0],[fn(xe),fn(_t)]}(vt,xe):function Re(K,_e){for(var Ye,_t,Ge,Kt,Ne=K.length,At=_e.length,vt=[],xe=[],Nt=De;Ne;)if(xe.unshift(K[--Ne]),Tt(xe),ve(xe,_e)<0)vt.push(0);else{Ge=xe[(_t=xe.length)-1]*Nt+xe[_t-2],_t>At&&(Ge=(Ge+1)*Nt),Ye=Math.ceil(Ge/(_e[At-1]*Nt+_e[At-2]));do{if(ve(Kt=L(_e,Ye),xe)<=0)break;Ye--}while(Ye);vt.push(Ye),xe=qt(xe,Kt)}return vt.reverse(),[fn(vt),fn(xe)]}(vt,xe);var yt=K.sign!==At.sign,Kt=Ne[1],xt=K.sign;return"number"==typeof(Nt=Ne[0])?(yt&&(Nt=-Nt),Nt=new $t(Nt)):Nt=new Fe(Nt,yt),"number"==typeof Kt?(xt&&(Kt=-Kt),Kt=new $t(Kt)):Kt=new Fe(Kt,xt),[Nt,Kt]}function ve(K,_e){if(K.length!==_e.length)return K.length>_e.length?1:-1;for(var Ne=K.length-1;Ne>=0;Ne--)if(K[Ne]!==_e[Ne])return K[Ne]>_e[Ne]?1:-1;return 0}function ne(K){var _e=K.abs();return!_e.isUnit()&&(!!(_e.equals(2)||_e.equals(3)||_e.equals(5))||!(_e.isEven()||_e.isDivisibleBy(3)||_e.isDivisibleBy(5))&&(!!_e.lesser(49)||void 0))}function at(K,_e){for(var xe,Ye,_t,Ne=K.prev(),At=Ne,vt=0;At.isEven();)At=At.divide(2),vt++;e:for(Ye=0;Ye<_e.length;Ye++)if(!K.lesser(_e[Ye])&&(_t=dn(_e[Ye]).modPow(At,K),!_t.equals(Ht[1])&&!_t.equals(Ne))){for(xe=vt-1;0!=xe;xe--){if((_t=_t.square().mod(K)).isUnit())return!1;if(_t.equals(Ne))continue e}return!1}return!0}Fe.prototype=Object.create(Ht.prototype),$t.prototype=Object.create(Ht.prototype),Fe.prototype.add=function(K){var _e=ft(K);if(this.sign!==_e.sign)return this.subtract(_e.negate());var Ne=this.value,At=_e.value;return new Fe(_e.isSmall?gn(Ne,Math.abs(At)):Un(Ne,At),this.sign)},Fe.prototype.plus=Fe.prototype.add,$t.prototype.add=function(K){var _e=ft(K),Ne=this.value;if(Ne<0!==_e.sign)return this.subtract(_e.negate());var At=_e.value;if(_e.isSmall){if(Bi(Ne+At))return new $t(Ne+At);At=an(Math.abs(At))}return new Fe(gn(At,Math.abs(Ne)),Ne<0)},$t.prototype.plus=$t.prototype.add,Fe.prototype.subtract=function(K){var _e=ft(K);if(this.sign!==_e.sign)return this.add(_e.negate());var Ne=this.value,At=_e.value;return _e.isSmall?Wn(Ne,Math.abs(At),this.sign):function Di(K,_e,Ne){var At;return ve(K,_e)>=0?At=qt(K,_e):(At=qt(_e,K),Ne=!Ne),"number"==typeof(At=fn(At))?(Ne&&(At=-At),new $t(At)):new Fe(At,Ne)}(Ne,At,this.sign)},Fe.prototype.minus=Fe.prototype.subtract,$t.prototype.subtract=function(K){var _e=ft(K),Ne=this.value;if(Ne<0!==_e.sign)return this.add(_e.negate());var At=_e.value;return _e.isSmall?new $t(Ne-At):Wn(At,Math.abs(Ne),Ne>=0)},$t.prototype.minus=$t.prototype.subtract,Fe.prototype.negate=function(){return new Fe(this.value,!this.sign)},$t.prototype.negate=function(){var K=this.sign,_e=new $t(-this.value);return _e.sign=!K,_e},Fe.prototype.abs=function(){return new Fe(this.value,!1)},$t.prototype.abs=function(){return new $t(Math.abs(this.value))},Fe.prototype.multiply=function(K){var xe,_e=ft(K),Ne=this.value,At=_e.value,vt=this.sign!==_e.sign;if(_e.isSmall){if(0===At)return Ht[0];if(1===At)return this;if(-1===At)return this.negate();if((xe=Math.abs(At))<De)return new Fe(L(Ne,xe),vt);At=an(xe)}return function R(K,_e){return-.012*K-.012*_e+15e-6*K*_e>0}(Ne.length,At.length)?new Fe(G(Ne,At),vt):new Fe(qe(Ne,At),vt)},Fe.prototype.times=Fe.prototype.multiply,$t.prototype._multiplyBySmall=function(K){return Bi(K.value*this.value)?new $t(K.value*this.value):oe(Math.abs(K.value),an(Math.abs(this.value)),this.sign!==K.sign)},Fe.prototype._multiplyBySmall=function(K){return 0===K.value?Ht[0]:1===K.value?this:-1===K.value?this.negate():oe(Math.abs(K.value),this.value,this.sign!==K.sign)},$t.prototype.times=$t.prototype.multiply=function(K){return ft(K)._multiplyBySmall(this)},Fe.prototype.square=function(){return new Fe(le(this.value),!1)},$t.prototype.square=function(){var K=this.value*this.value;return Bi(K)?new $t(K):new Fe(le(an(Math.abs(this.value))),!1)},$t.prototype.divmod=Fe.prototype.divmod=function(K){var _e=et(this,K);return{quotient:_e[0],remainder:_e[1]}},$t.prototype.over=$t.prototype.divide=Fe.prototype.over=Fe.prototype.divide=function(K){return et(this,K)[0]},$t.prototype.remainder=$t.prototype.mod=Fe.prototype.remainder=Fe.prototype.mod=function(K){return et(this,K)[1]},Fe.prototype.pow=function(K){var vt,xe,Nt,_e=ft(K),Ne=this.value,At=_e.value;if(0===At)return Ht[1];if(0===Ne)return Ht[0];if(1===Ne)return Ht[1];if(-1===Ne)return _e.isEven()?Ht[1]:Ht[-1];if(_e.sign)return Ht[0];if(!_e.isSmall)throw new Error("The exponent "+_e.toString()+" is too large.");if(this.isSmall&&Bi(vt=Math.pow(Ne,At)))return new $t(Xe(vt));for(xe=this,Nt=Ht[1];!0&At&&(Nt=Nt.times(xe),--At),0!==At;)At/=2,xe=xe.square();return Nt},$t.prototype.pow=Fe.prototype.pow,$t.prototype.modPow=Fe.prototype.modPow=function(K,_e){if(K=ft(K),(_e=ft(_e)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var Ne=Ht[1],At=this.mod(_e);K.isPositive();){if(At.isZero())return Ht[0];K.isOdd()&&(Ne=Ne.multiply(At).mod(_e)),K=K.divide(2),At=At.square().mod(_e)}return Ne},Fe.prototype.compareAbs=function(K){var _e=ft(K);return _e.isSmall?1:ve(this.value,_e.value)},$t.prototype.compareAbs=function(K){var _e=ft(K),Ne=Math.abs(this.value),At=_e.value;return _e.isSmall?Ne===(At=Math.abs(At))?0:Ne>At?1:-1:-1},Fe.prototype.compareTo=Fe.prototype.compare=function(K){if(K===1/0)return-1;if(K===-1/0)return 1;var _e=ft(K);return this.sign!==_e.sign?_e.sign?1:-1:_e.isSmall?this.sign?-1:1:ve(this.value,_e.value)*(this.sign?-1:1)},$t.prototype.compareTo=$t.prototype.compare=function(K){if(K===1/0)return-1;if(K===-1/0)return 1;var _e=ft(K),Ne=this.value,At=_e.value;return _e.isSmall?Ne==At?0:Ne>At?1:-1:Ne<0!==_e.sign?Ne<0?-1:1:Ne<0?1:-1},$t.prototype.eq=$t.prototype.equals=Fe.prototype.eq=Fe.prototype.equals=function(K){return 0===this.compare(K)},$t.prototype.neq=$t.prototype.notEquals=Fe.prototype.neq=Fe.prototype.notEquals=function(K){return 0!==this.compare(K)},$t.prototype.gt=$t.prototype.greater=Fe.prototype.gt=Fe.prototype.greater=function(K){return this.compare(K)>0},$t.prototype.lt=$t.prototype.lesser=Fe.prototype.lt=Fe.prototype.lesser=function(K){return this.compare(K)<0},$t.prototype.geq=$t.prototype.greaterOrEquals=Fe.prototype.geq=Fe.prototype.greaterOrEquals=function(K){return this.compare(K)>=0},$t.prototype.leq=$t.prototype.lesserOrEquals=Fe.prototype.leq=Fe.prototype.lesserOrEquals=function(K){return this.compare(K)<=0},Fe.prototype.isEven=function(){return!(1&this.value[0])},$t.prototype.isEven=function(){return!(1&this.value)},Fe.prototype.isOdd=function(){return!(1&~this.value[0])},$t.prototype.isOdd=function(){return!(1&~this.value)},Fe.prototype.isPositive=function(){return!this.sign},$t.prototype.isPositive=function(){return this.value>0},Fe.prototype.isNegative=function(){return this.sign},$t.prototype.isNegative=function(){return this.value<0},Fe.prototype.isUnit=function(){return!1},$t.prototype.isUnit=function(){return 1===Math.abs(this.value)},Fe.prototype.isZero=function(){return!1},$t.prototype.isZero=function(){return 0===this.value},$t.prototype.isDivisibleBy=Fe.prototype.isDivisibleBy=function(K){var _e=ft(K),Ne=_e.value;return 0!==Ne&&(1===Ne||(2===Ne?this.isEven():this.mod(_e).equals(Ht[0])))},$t.prototype.isPrime=Fe.prototype.isPrime=function(K){var _e=ne(this);if(_e!==_n)return _e;var Ne=this.abs(),At=Ne.bitLength();if(At<=64)return at(Ne,[2,325,9375,28178,450775,9780504,1795265022]);for(var vt=Math.log(2)*At,xe=Math.ceil(!0===K?2*Math.pow(vt,2):vt),Nt=[],Ye=0;Ye<xe;Ye++)Nt.push(dn(Ye+2));return at(Ne,Nt)},$t.prototype.isProbablePrime=Fe.prototype.isProbablePrime=function(K){var _e=ne(this);if(_e!==_n)return _e;for(var Ne=this.abs(),At=K===_n?5:K,vt=[],xe=0;xe<At;xe++)vt.push(dn.randBetween(2,Ne.minus(2)));return at(Ne,vt)},$t.prototype.modInv=Fe.prototype.modInv=function(K){for(var xe,Nt,Ye,_e=dn.zero,Ne=dn.one,At=ft(K),vt=this.abs();!vt.equals(dn.zero);)xe=At.divide(vt),Nt=_e,Ye=At,_e=Ne,At=vt,Ne=Nt.subtract(xe.multiply(Ne)),vt=Ye.subtract(xe.multiply(vt));if(!At.equals(1))throw new Error(this.toString()+" and "+K.toString()+" are not co-prime");return-1===_e.compare(0)&&(_e=_e.add(K)),this.isNegative()?_e.negate():_e},Fe.prototype.next=function(){var K=this.value;return this.sign?Wn(K,1,this.sign):new Fe(gn(K,1),this.sign)},$t.prototype.next=function(){var K=this.value;return K+1<qn?new $t(K+1):new Fe(bn,!1)},Fe.prototype.prev=function(){var K=this.value;return this.sign?new Fe(gn(K,1),!0):Wn(K,1,this.sign)},$t.prototype.prev=function(){var K=this.value;return K-1>-qn?new $t(K-1):new Fe(bn,!0)};for(var Yt=[1];2*Yt[Yt.length-1]<=De;)Yt.push(2*Yt[Yt.length-1]);var Rt=Yt.length,Jt=Yt[Rt-1];function Ft(K){return("number"==typeof K||"string"==typeof K)&&+Math.abs(K)<=De||K instanceof Fe&&K.value.length<=1}function Pn(K,_e,Ne){_e=ft(_e);for(var At=K.isNegative(),vt=_e.isNegative(),xe=At?K.not():K,Nt=vt?_e.not():_e,Ye=0,_t=0,Ge=null,yt=null,Kt=[];!xe.isZero()||!Nt.isZero();)Ye=(Ge=et(xe,Jt))[1].toJSNumber(),At&&(Ye=Jt-1-Ye),_t=(yt=et(Nt,Jt))[1].toJSNumber(),vt&&(_t=Jt-1-_t),xe=Ge[0],Nt=yt[0],Kt.push(Ne(Ye,_t));for(var xt=0!==Ne(At?1:0,vt?1:0)?dn(-1):dn(0),Ct=Kt.length-1;Ct>=0;Ct-=1)xt=xt.multiply(Jt).add(dn(Kt[Ct]));return xt}$t.prototype.shiftLeft=Fe.prototype.shiftLeft=function(K){if(!Ft(K))throw new Error(String(K)+" is too large for shifting.");if((K=+K)<0)return this.shiftRight(-K);var _e=this;if(_e.isZero())return _e;for(;K>=Rt;)_e=_e.multiply(Jt),K-=Rt-1;return _e.multiply(Yt[K])},$t.prototype.shiftRight=Fe.prototype.shiftRight=function(K){var _e;if(!Ft(K))throw new Error(String(K)+" is too large for shifting.");if((K=+K)<0)return this.shiftLeft(-K);for(var Ne=this;K>=Rt;){if(Ne.isZero()||Ne.isNegative()&&Ne.isUnit())return Ne;Ne=(_e=et(Ne,Jt))[1].isNegative()?_e[0].prev():_e[0],K-=Rt-1}return(_e=et(Ne,Yt[K]))[1].isNegative()?_e[0].prev():_e[0]},$t.prototype.not=Fe.prototype.not=function(){return this.negate().prev()},$t.prototype.and=Fe.prototype.and=function(K){return Pn(this,K,function(_e,Ne){return _e&Ne})},$t.prototype.or=Fe.prototype.or=function(K){return Pn(this,K,function(_e,Ne){return _e|Ne})},$t.prototype.xor=Fe.prototype.xor=function(K){return Pn(this,K,function(_e,Ne){return _e^Ne})};var Si=1<<30,gi=(De&-De)*(De&-De)|Si;function si(K){var _e=K.value,Ne="number"==typeof _e?_e|Si:_e[0]+_e[1]*De|gi;return Ne&-Ne}function Wi(K,_e){if(_e.compareTo(K)<=0){var Ne=Wi(K,_e.square(_e)),At=Ne.p,vt=Ne.e,xe=At.multiply(_e);return xe.compareTo(K)<=0?{p:xe,e:2*vt+1}:{p:At,e:2*vt}}return{p:dn(1),e:0}}function zn(K,_e){return K=ft(K),_e=ft(_e),K.greater(_e)?K:_e}function ri(K,_e){return K=ft(K),_e=ft(_e),K.lesser(_e)?K:_e}function Yi(K,_e){if(K=ft(K).abs(),_e=ft(_e).abs(),K.equals(_e))return K;if(K.isZero())return _e;if(_e.isZero())return K;for(var At,vt,Ne=Ht[1];K.isEven()&&_e.isEven();)At=Math.min(si(K),si(_e)),K=K.divide(At),_e=_e.divide(At),Ne=Ne.multiply(At);for(;K.isEven();)K=K.divide(si(K));do{for(;_e.isEven();)_e=_e.divide(si(_e));K.greater(_e)&&(vt=_e,_e=K,K=vt),_e=_e.subtract(K)}while(!_e.isZero());return Ne.isUnit()?K:K.multiply(Ne)}$t.prototype.bitLength=Fe.prototype.bitLength=function(){var K=this;return K.compareTo(dn(0))<0&&(K=K.negate().subtract(dn(1))),0===K.compareTo(dn(0))?dn(0):dn(Wi(K,dn(2)).e).add(dn(1))};var We=function(K,_e){for(var Ne=K.length,vt=Math.abs(_e),At=0;At<Ne;At++)if("-"!==(xe=K[At].toLowerCase())&&/[a-z0-9]/.test(xe)){if(/[0-9]/.test(xe)&&+xe>=vt){if("1"===xe&&1===vt)continue;throw new Error(xe+" is not a valid digit in base "+_e+".")}if(xe.charCodeAt(0)-87>=vt)throw new Error(xe+" is not a valid digit in base "+_e+".")}if(2<=_e&&_e<=36&&Ne<=Qi/Math.log(_e)){var Nt=parseInt(K,_e);if(isNaN(Nt))throw new Error(xe+" is not a valid digit in base "+_e+".");return new $t(parseInt(K,_e))}_e=ft(_e);var Ye=[],_t="-"===K[0];for(At=_t?1:0;At<K.length;At++){var xe,Ge=(xe=K[At].toLowerCase()).charCodeAt(0);if(48<=Ge&&Ge<=57)Ye.push(ft(xe));else if(97<=Ge&&Ge<=122)Ye.push(ft(xe.charCodeAt(0)-87));else{if("<"!==xe)throw new Error(xe+" is not a valid character");var yt=At;do{At++}while(">"!==K[At]);Ye.push(ft(K.slice(yt+1,At)))}}return ht(Ye,_e,_t)};function ht(K,_e,Ne){var xe,At=Ht[0],vt=Ht[1];for(xe=K.length-1;xe>=0;xe--)At=At.add(K[xe].times(vt)),vt=vt.times(_e);return Ne?At.negate():At}function ot(K){return K<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(K):"<"+K+">"}function Gt(K,_e){if((_e=dn(_e)).isZero()){if(K.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(_e.equals(-1)){if(K.isZero())return{value:[0],isNegative:!1};if(K.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-K)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var Ne=Array.apply(null,Array(+K-1)).map(Array.prototype.valueOf,[0,1]);return Ne.unshift([1]),{value:[].concat.apply([],Ne),isNegative:!1}}var At=!1;if(K.isNegative()&&_e.isPositive()&&(At=!0,K=K.abs()),_e.equals(1))return K.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+K)).map(Number.prototype.valueOf,1),isNegative:At};for(var Nt,vt=[],xe=K;xe.isNegative()||xe.compareAbs(_e)>=0;){Nt=xe.divmod(_e),xe=Nt.quotient;var Ye=Nt.remainder;Ye.isNegative()&&(Ye=_e.minus(Ye).abs(),xe=xe.next()),vt.push(Ye.toJSNumber())}return vt.push(xe.toJSNumber()),{value:vt.reverse(),isNegative:At}}function en(K,_e){var Ne=Gt(K,_e);return(Ne.isNegative?"-":"")+Ne.value.map(ot).join("")}function Cn(K){if(Bi(+K)){var _e=+K;if(_e===Xe(_e))return new $t(_e);throw new Error("Invalid integer: "+K)}var Ne="-"===K[0];Ne&&(K=K.slice(1));var At=K.split(/e/i);if(At.length>2)throw new Error("Invalid integer: "+At.join("e"));if(2===At.length){var vt=At[1];if("+"===vt[0]&&(vt=vt.slice(1)),(vt=+vt)!==Xe(vt)||!Bi(vt))throw new Error("Invalid integer: "+vt+" is not a valid exponent.");var xe=At[0],Nt=xe.indexOf(".");if(Nt>=0&&(vt-=xe.length-Nt-1,xe=xe.slice(0,Nt)+xe.slice(Nt+1)),vt<0)throw new Error("Cannot include negative exponent part for integers");K=xe+=new Array(vt+1).join("0")}if(!/^([0-9][0-9]*)$/.test(K))throw new Error("Invalid integer: "+K);for(var _t=[],Ge=K.length,yt=it,Kt=Ge-yt;Ge>0;)_t.push(+K.slice(Kt,Ge)),(Kt-=yt)<0&&(Kt=0),Ge-=yt;return Tt(_t),new Fe(_t,Ne)}function ft(K){return"number"==typeof K?function pt(K){if(Bi(K)){if(K!==Xe(K))throw new Error(K+" is not an integer.");return new $t(K)}return Cn(K.toString())}(K):"string"==typeof K?Cn(K):K}Fe.prototype.toArray=function(K){return Gt(this,K)},$t.prototype.toArray=function(K){return Gt(this,K)},Fe.prototype.toString=function(K){if(K===_n&&(K=10),10!==K)return en(this,K);for(var xe,_e=this.value,Ne=_e.length,At=String(_e[--Ne]);--Ne>=0;)xe=String(_e[Ne]),At+="0000000".slice(xe.length)+xe;return(this.sign?"-":"")+At},$t.prototype.toString=function(K){return K===_n&&(K=10),10!=K?en(this,K):String(this.value)},Fe.prototype.toJSON=$t.prototype.toJSON=function(){return this.toString()},Fe.prototype.toJSNumber=Fe.prototype.valueOf=function(){return parseInt(this.toString(),10)},$t.prototype.toJSNumber=$t.prototype.valueOf=function(){return this.value};for(var jn=0;jn<1e3;jn++)Ht[jn]=new $t(jn),jn>0&&(Ht[-jn]=new $t(-jn));return Ht.one=Ht[1],Ht.zero=Ht[0],Ht.minusOne=Ht[-1],Ht.max=zn,Ht.min=ri,Ht.gcd=Yi,Ht.lcm=function rr(K,_e){return K=ft(K).abs(),_e=ft(_e).abs(),K.divide(Yi(K,_e)).multiply(_e)},Ht.isInstance=function(K){return K instanceof Fe||K instanceof $t},Ht.randBetween=function Ve(K,_e){var Ne=ri(K=ft(K),_e=ft(_e)),vt=zn(K,_e).subtract(Ne).add(1);if(vt.isSmall)return Ne.add(Math.floor(Math.random()*vt));for(var Nt=[],Ye=!0,_t=vt.value.length-1;_t>=0;_t--){var Ge=Ye?vt.value[_t]:De,yt=Xe(Math.random()*Ge);Nt.unshift(yt),yt<Ge&&(Ye=!1)}return Nt=fn(Nt),Ne.add("number"==typeof Nt?new $t(Nt):new Fe(Nt,!1))},Ht.fromArray=function(K,_e,Ne){return ht(K.map(ft),ft(_e||10),Ne)},Ht}(),ko.hasOwnProperty("exports")&&(ko.exports=dn),void 0!==(Ae=function(){return dn}.apply(Kr,[]))&&(ko.exports=Ae),dn),bigDec:function(dn){"use strict";var _n,De,qn,bn=9e15,Qi=1e9,Ht="0123456789abcdef",Fe="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",$t="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Bi={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-bn,maxE:bn,crypto:!1},an=!0,fn="[DecimalError] ",Tt=fn+"Invalid argument: ",In=fn+"Precision limit exceeded",Xe=fn+"crypto unavailable",An=Math.floor,Un=Math.pow,gn=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,qt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Di=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Wn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qe=1e7,L=7,U=Fe.length-1,G=$t.length-1,R={name:"[object Decimal]"};function oe(j){var fe,he,ge,ke=j.length-1,ee="",Ue=j[0];if(ke>0){for(ee+=Ue,fe=1;fe<ke;fe++)(he=L-(ge=j[fe]+"").length)&&(ee+=Jt(he)),ee+=ge;(he=L-(ge=(Ue=j[fe])+"").length)&&(ee+=Jt(he))}else if(0===Ue)return"0";for(;Ue%10==0;)Ue/=10;return ee+Ue}function le(j,fe,he){if(j!==~~j||j<fe||j>he)throw Error(Tt+j)}function Me(j,fe,he,ge){var ke,ee,Ue,gt;for(ee=j[0];ee>=10;ee/=10)--fe;return--fe<0?(fe+=L,ke=0):(ke=Math.ceil((fe+1)/L),fe%=L),ee=Un(10,L-fe),gt=j[ke]%ee|0,null==ge?fe<3?(0==fe?gt=gt/100|0:1==fe&&(gt=gt/10|0),Ue=he<4&&99999==gt||he>3&&49999==gt||5e4==gt||0==gt):Ue=(he<4&&gt+1==ee||he>3&&gt+1==ee/2)&&(j[ke+1]/ee/100|0)==Un(10,fe-2)-1||(gt==ee/2||0==gt)&&!(j[ke+1]/ee/100|0):fe<4?(0==fe?gt=gt/1e3|0:1==fe?gt=gt/100|0:2==fe&&(gt=gt/10|0),Ue=(ge||he<4)&&9999==gt||!ge&&he>3&&4999==gt):Ue=((ge||he<4)&&gt+1==ee||!ge&&he>3&&gt+1==ee/2)&&(j[ke+1]/ee/1e3|0)==Un(10,fe-3)-1,Ue}function Re(j,fe,he){for(var ge,ke,ee=[0],Ue=0,gt=j.length;Ue<gt;){for(ke=ee.length;ke--;)ee[ke]*=fe;for(ee[0]+=Ht.indexOf(j.charAt(Ue++)),ge=0;ge<ee.length;ge++)ee[ge]>he-1&&(void 0===ee[ge+1]&&(ee[ge+1]=0),ee[ge+1]+=ee[ge]/he|0,ee[ge]%=he)}return ee.reverse()}R.absoluteValue=R.abs=function(){var j=new this.constructor(this);return j.s<0&&(j.s=1),et(j)},R.ceil=function(){return et(new this.constructor(this),this.e+1,2)},R.comparedTo=R.cmp=function(j){var fe,he,ge,ke,ee=this,Ue=ee.d,gt=(j=new ee.constructor(j)).d,Bt=ee.s,zt=j.s;if(!Ue||!gt)return Bt&&zt?Bt!==zt?Bt:Ue===gt?0:!Ue^Bt<0?1:-1:NaN;if(!Ue[0]||!gt[0])return Ue[0]?Bt:gt[0]?-zt:0;if(Bt!==zt)return Bt;if(ee.e!==j.e)return ee.e>j.e^Bt<0?1:-1;for(fe=0,he=(ge=Ue.length)<(ke=gt.length)?ge:ke;fe<he;++fe)if(Ue[fe]!==gt[fe])return Ue[fe]>gt[fe]^Bt<0?1:-1;return ge===ke?0:ge>ke^Bt<0?1:-1},R.cosine=R.cos=function(){var j,fe,he=this,ge=he.constructor;return he.d?he.d[0]?(fe=ge.rounding,ge.precision=(j=ge.precision)+Math.max(he.e,he.sd())+L,ge.rounding=1,he=function(ke,ee){var Ue,gt,Bt=ee.d.length;Bt<32?gt=(1/rr(4,Ue=Math.ceil(Bt/3))).toString():(Ue=16,gt="2.3283064365386962890625e-10"),ke.precision+=Ue,ee=Yi(ke,1,ee.times(gt),new ke(1));for(var zt=Ue;zt--;){var Et=ee.times(ee);ee=Et.times(Et).minus(Et).times(8).plus(1)}return ke.precision-=Ue,ee}(ge,Ve(ge,he)),ge.precision=j,ge.rounding=fe,et(2==qn||3==qn?he.neg():he,j,fe,!0)):new ge(1):new ge(NaN)},R.cubeRoot=R.cbrt=function(){var j,fe,he,ge,ke,ee,Ue,gt,Bt,zt,Et=this,vn=Et.constructor;if(!Et.isFinite()||Et.isZero())return new vn(Et);for(an=!1,(ee=Et.s*Un(Et.s*Et,1/3))&&Math.abs(ee)!=1/0?ge=new vn(ee.toString()):(he=oe(Et.d),(ee=((j=Et.e)-he.length+1)%3)&&(he+=1==ee||-2==ee?"0":"00"),ee=Un(he,1/3),j=An((j+1)/3)-(j%3==(j<0?-1:2)),(ge=new vn(he=ee==1/0?"5e"+j:(he=ee.toExponential()).slice(0,he.indexOf("e")+1)+j)).s=Et.s),Ue=(j=vn.precision)+3;;)if(zt=(Bt=(gt=ge).times(gt).times(gt)).plus(Et),ge=$e(zt.plus(Et).times(gt),zt.plus(Bt),Ue+2,1),oe(gt.d).slice(0,Ue)===(he=oe(ge.d)).slice(0,Ue)){if("9999"!=(he=he.slice(Ue-3,Ue+1))&&(ke||"4999"!=he)){+he&&(+he.slice(1)||"5"!=he.charAt(0))||(et(ge,j+1,1),fe=!ge.times(ge).times(ge).eq(Et));break}if(!ke&&(et(gt,j+1,0),gt.times(gt).times(gt).eq(Et))){ge=gt;break}Ue+=4,ke=1}return an=!0,et(ge,j,vn.rounding,fe)},R.decimalPlaces=R.dp=function(){var j,fe=this.d,he=NaN;if(fe){if(he=((j=fe.length-1)-An(this.e/L))*L,j=fe[j])for(;j%10==0;j/=10)he--;he<0&&(he=0)}return he},R.dividedBy=R.div=function(j){return $e(this,new this.constructor(j))},R.dividedToIntegerBy=R.divToInt=function(j){var fe=this.constructor;return et($e(this,new fe(j),0,1,1),fe.precision,fe.rounding)},R.equals=R.eq=function(j){return 0===this.cmp(j)},R.floor=function(){return et(new this.constructor(this),this.e+1,3)},R.greaterThan=R.gt=function(j){return this.cmp(j)>0},R.greaterThanOrEqualTo=R.gte=function(j){var fe=this.cmp(j);return 1==fe||0===fe},R.hyperbolicCosine=R.cosh=function(){var j,fe,he,ge,ke,ee=this,Ue=ee.constructor,gt=new Ue(1);if(!ee.isFinite())return new Ue(ee.s?1/0:NaN);if(ee.isZero())return gt;ge=Ue.rounding,Ue.precision=(he=Ue.precision)+Math.max(ee.e,ee.sd())+4,Ue.rounding=1,(ke=ee.d.length)<32?fe=(1/rr(4,j=Math.ceil(ke/3))).toString():(j=16,fe="2.3283064365386962890625e-10"),ee=Yi(Ue,1,ee.times(fe),new Ue(1),!0);for(var Bt,zt=j,Et=new Ue(8);zt--;)Bt=ee.times(ee),ee=gt.minus(Bt.times(Et.minus(Bt.times(Et))));return et(ee,Ue.precision=he,Ue.rounding=ge,!0)},R.hyperbolicSine=R.sinh=function(){var j,fe,he,ge,ke=this,ee=ke.constructor;if(!ke.isFinite()||ke.isZero())return new ee(ke);if(he=ee.rounding,ee.precision=(fe=ee.precision)+Math.max(ke.e,ke.sd())+4,ee.rounding=1,(ge=ke.d.length)<3)ke=Yi(ee,2,ke,ke,!0);else{j=(j=1.4*Math.sqrt(ge))>16?16:0|j,ke=Yi(ee,2,ke=ke.times(1/rr(5,j)),ke,!0);for(var Ue,gt=new ee(5),Bt=new ee(16),zt=new ee(20);j--;)Ue=ke.times(ke),ke=ke.times(gt.plus(Ue.times(Bt.times(Ue).plus(zt))))}return ee.precision=fe,ee.rounding=he,et(ke,fe,he,!0)},R.hyperbolicTangent=R.tanh=function(){var j,fe,he=this,ge=he.constructor;return he.isFinite()?he.isZero()?new ge(he):(fe=ge.rounding,ge.precision=(j=ge.precision)+7,ge.rounding=1,$e(he.sinh(),he.cosh(),ge.precision=j,ge.rounding=fe)):new ge(he.s)},R.inverseCosine=R.acos=function(){var j,fe=this,he=fe.constructor,ge=fe.abs().cmp(1),ke=he.precision,ee=he.rounding;return-1!==ge?0===ge?fe.isNeg()?Yt(he,ke,ee):new he(0):new he(NaN):fe.isZero()?Yt(he,ke+4,ee).times(.5):(he.precision=ke+6,he.rounding=1,fe=fe.asin(),j=Yt(he,ke+4,ee).times(.5),he.precision=ke,he.rounding=ee,j.minus(fe))},R.inverseHyperbolicCosine=R.acosh=function(){var j,fe,he=this,ge=he.constructor;return he.lte(1)?new ge(he.eq(1)?0:NaN):he.isFinite()?(fe=ge.rounding,ge.precision=(j=ge.precision)+Math.max(Math.abs(he.e),he.sd())+4,ge.rounding=1,an=!1,he=he.times(he).minus(1).sqrt().plus(he),an=!0,ge.precision=j,ge.rounding=fe,he.ln()):new ge(he)},R.inverseHyperbolicSine=R.asinh=function(){var j,fe,he=this,ge=he.constructor;return!he.isFinite()||he.isZero()?new ge(he):(fe=ge.rounding,ge.precision=(j=ge.precision)+2*Math.max(Math.abs(he.e),he.sd())+6,ge.rounding=1,an=!1,he=he.times(he).plus(1).sqrt().plus(he),an=!0,ge.precision=j,ge.rounding=fe,he.ln())},R.inverseHyperbolicTangent=R.atanh=function(){var j,fe,he,ge,ke=this,ee=ke.constructor;return ke.isFinite()?ke.e>=0?new ee(ke.abs().eq(1)?ke.s/0:ke.isZero()?ke:NaN):(j=ee.precision,fe=ee.rounding,ge=ke.sd(),Math.max(ge,j)<2*-ke.e-1?et(new ee(ke),j,fe,!0):(ee.precision=he=ge-ke.e,ke=$e(ke.plus(1),new ee(1).minus(ke),he+j,1),ee.precision=j+4,ee.rounding=1,ke=ke.ln(),ee.precision=j,ee.rounding=fe,ke.times(.5))):new ee(NaN)},R.inverseSine=R.asin=function(){var j,fe,he,ge,ke=this,ee=ke.constructor;return ke.isZero()?new ee(ke):(fe=ke.abs().cmp(1),he=ee.precision,ge=ee.rounding,-1!==fe?0===fe?((j=Yt(ee,he+4,ge).times(.5)).s=ke.s,j):new ee(NaN):(ee.precision=he+6,ee.rounding=1,ke=ke.div(new ee(1).minus(ke.times(ke)).sqrt().plus(1)).atan(),ee.precision=he,ee.rounding=ge,ke.times(2)))},R.inverseTangent=R.atan=function(){var j,fe,he,ge,ke,ee,Ue,gt,Bt,zt=this,Et=zt.constructor,vn=Et.precision,yn=Et.rounding;if(zt.isFinite()){if(zt.isZero())return new Et(zt);if(zt.abs().eq(1)&&vn+4<=G)return(Ue=Yt(Et,vn+4,yn).times(.25)).s=zt.s,Ue}else{if(!zt.s)return new Et(NaN);if(vn+4<=G)return(Ue=Yt(Et,vn+4,yn).times(.5)).s=zt.s,Ue}for(Et.precision=gt=vn+10,Et.rounding=1,j=he=Math.min(28,gt/L+2|0);j;--j)zt=zt.div(zt.times(zt).plus(1).sqrt().plus(1));for(an=!1,fe=Math.ceil(gt/L),ge=1,Bt=zt.times(zt),Ue=new Et(zt),ke=zt;-1!==j;)if(ke=ke.times(Bt),ee=Ue.minus(ke.div(ge+=2)),ke=ke.times(Bt),void 0!==(Ue=ee.plus(ke.div(ge+=2))).d[fe])for(j=fe;Ue.d[j]===ee.d[j]&&j--;);return he&&(Ue=Ue.times(2<<he-1)),an=!0,et(Ue,Et.precision=vn,Et.rounding=yn,!0)},R.isFinite=function(){return!!this.d},R.isInteger=R.isInt=function(){return!!this.d&&An(this.e/L)>this.d.length-2},R.isNaN=function(){return!this.s},R.isNegative=R.isNeg=function(){return this.s<0},R.isPositive=R.isPos=function(){return this.s>0},R.isZero=function(){return!!this.d&&0===this.d[0]},R.lessThan=R.lt=function(j){return this.cmp(j)<0},R.lessThanOrEqualTo=R.lte=function(j){return this.cmp(j)<1},R.logarithm=R.log=function(j){var fe,he,ge,ke,ee,Ue,gt,Bt,zt=this.constructor,Et=zt.precision,vn=zt.rounding;if(null==j)j=new zt(10),fe=!0;else{if(he=(j=new zt(j)).d,j.s<0||!he||!he[0]||j.eq(1))return new zt(NaN);fe=j.eq(10)}if(he=this.d,this.s<0||!he||!he[0]||this.eq(1))return new zt(he&&!he[0]?-1/0:1!=this.s?NaN:he?0:1/0);if(fe)if(he.length>1)ee=!0;else{for(ke=he[0];ke%10==0;)ke/=10;ee=1!==ke}if(an=!1,Ue=si(this,gt=Et+5),ge=fe?at(zt,gt+10):si(j,gt),Me((Bt=$e(Ue,ge,gt,1)).d,ke=Et,vn))do{if(Ue=si(this,gt+=10),ge=fe?at(zt,gt+10):si(j,gt),Bt=$e(Ue,ge,gt,1),!ee){+oe(Bt.d).slice(ke+1,ke+15)+1==1e14&&(Bt=et(Bt,Et+1,0));break}}while(Me(Bt.d,ke+=10,vn));return an=!0,et(Bt,Et,vn)},R.minus=R.sub=function(j){var fe,he,ge,ke,ee,Ue,gt,Bt,zt,Et,vn,yn,Sn=this,Xt=Sn.constructor;if(j=new Xt(j),!Sn.d||!j.d)return Sn.s&&j.s?Sn.d?j.s=-j.s:j=new Xt(j.d||Sn.s!==j.s?Sn:NaN):j=new Xt(NaN),j;if(Sn.s!=j.s)return j.s=-j.s,Sn.plus(j);if(yn=j.d,gt=Xt.precision,Bt=Xt.rounding,!(zt=Sn.d)[0]||!yn[0]){if(yn[0])j.s=-j.s;else{if(!zt[0])return new Xt(3===Bt?-0:0);j=new Xt(Sn)}return an?et(j,gt,Bt):j}if(he=An(j.e/L),Et=An(Sn.e/L),zt=zt.slice(),ee=Et-he){for((vn=ee<0)?(fe=zt,ee=-ee,Ue=yn.length):(fe=yn,he=Et,Ue=zt.length),ee>(ge=Math.max(Math.ceil(gt/L),Ue)+2)&&(ee=ge,fe.length=1),fe.reverse(),ge=ee;ge--;)fe.push(0);fe.reverse()}else{for((vn=(ge=zt.length)<(Ue=yn.length))&&(Ue=ge),ge=0;ge<Ue;ge++)if(zt[ge]!=yn[ge]){vn=zt[ge]<yn[ge];break}ee=0}for(vn&&(fe=zt,zt=yn,yn=fe,j.s=-j.s),ge=yn.length-(Ue=zt.length);ge>0;--ge)zt[Ue++]=0;for(ge=yn.length;ge>ee;){if(zt[--ge]<yn[ge]){for(ke=ge;ke&&0===zt[--ke];)zt[ke]=qe-1;--zt[ke],zt[ge]+=qe}zt[ge]-=yn[ge]}for(;0===zt[--Ue];)zt.pop();for(;0===zt[0];zt.shift())--he;return zt[0]?(j.d=zt,j.e=ne(zt,he),an?et(j,gt,Bt):j):new Xt(3===Bt?-0:0)},R.modulo=R.mod=function(j){var fe,he=this,ge=he.constructor;return j=new ge(j),!he.d||!j.s||j.d&&!j.d[0]?new ge(NaN):!j.d||he.d&&!he.d[0]?et(new ge(he),ge.precision,ge.rounding):(an=!1,9==ge.modulo?(fe=$e(he,j.abs(),0,3,1)).s*=j.s:fe=$e(he,j,0,ge.modulo,1),fe=fe.times(j),an=!0,he.minus(fe))},R.naturalExponential=R.exp=function(){return gi(this)},R.naturalLogarithm=R.ln=function(){return si(this)},R.negated=R.neg=function(){var j=new this.constructor(this);return j.s=-j.s,et(j)},R.plus=R.add=function(j){var fe,he,ge,ke,ee,Ue,gt,Bt,zt,Et,vn=this,yn=vn.constructor;if(j=new yn(j),!vn.d||!j.d)return vn.s&&j.s?vn.d||(j=new yn(j.d||vn.s===j.s?vn:NaN)):j=new yn(NaN),j;if(vn.s!=j.s)return j.s=-j.s,vn.minus(j);if(Et=j.d,gt=yn.precision,Bt=yn.rounding,!(zt=vn.d)[0]||!Et[0])return Et[0]||(j=new yn(vn)),an?et(j,gt,Bt):j;if(ee=An(vn.e/L),ge=An(j.e/L),zt=zt.slice(),ke=ee-ge){for(ke<0?(he=zt,ke=-ke,Ue=Et.length):(he=Et,ge=ee,Ue=zt.length),ke>(Ue=(ee=Math.ceil(gt/L))>Ue?ee+1:Ue+1)&&(ke=Ue,he.length=1),he.reverse();ke--;)he.push(0);he.reverse()}for((Ue=zt.length)-(ke=Et.length)<0&&(ke=Ue,he=Et,Et=zt,zt=he),fe=0;ke;)fe=(zt[--ke]=zt[ke]+Et[ke]+fe)/qe|0,zt[ke]%=qe;for(fe&&(zt.unshift(fe),++ge),Ue=zt.length;0==zt[--Ue];)zt.pop();return j.d=zt,j.e=ne(zt,ge),an?et(j,gt,Bt):j},R.precision=R.sd=function(j){var fe;if(void 0!==j&&j!==!!j&&1!==j&&0!==j)throw Error(Tt+j);return this.d?(fe=Rt(this.d),j&&this.e+1>fe&&(fe=this.e+1)):fe=NaN,fe},R.round=function(){var j=this,fe=j.constructor;return et(new fe(j),j.e+1,fe.rounding)},R.sine=R.sin=function(){var j,fe,he=this,ge=he.constructor;return he.isFinite()?he.isZero()?new ge(he):(fe=ge.rounding,ge.precision=(j=ge.precision)+Math.max(he.e,he.sd())+L,ge.rounding=1,he=function(ke,ee){var Ue,gt=ee.d.length;if(gt<3)return Yi(ke,2,ee,ee);Ue=(Ue=1.4*Math.sqrt(gt))>16?16:0|Ue,ee=Yi(ke,2,ee=ee.times(1/rr(5,Ue)),ee);for(var Bt,zt=new ke(5),Et=new ke(16),vn=new ke(20);Ue--;)Bt=ee.times(ee),ee=ee.times(zt.plus(Bt.times(Et.times(Bt).minus(vn))));return ee}(ge,Ve(ge,he)),ge.precision=j,ge.rounding=fe,et(qn>2?he.neg():he,j,fe,!0)):new ge(NaN)},R.squareRoot=R.sqrt=function(){var j,fe,he,ge,ke,ee,Ue=this,gt=Ue.d,Bt=Ue.e,zt=Ue.s,Et=Ue.constructor;if(1!==zt||!gt||!gt[0])return new Et(!zt||zt<0&&(!gt||gt[0])?NaN:gt?Ue:1/0);for(an=!1,0==(zt=Math.sqrt(+Ue))||zt==1/0?(((fe=oe(gt)).length+Bt)%2==0&&(fe+="0"),zt=Math.sqrt(fe),Bt=An((Bt+1)/2)-(Bt<0||Bt%2),ge=new Et(fe=zt==1/0?"5e"+Bt:(fe=zt.toExponential()).slice(0,fe.indexOf("e")+1)+Bt)):ge=new Et(zt.toString()),he=(Bt=Et.precision)+3;;)if(ge=(ee=ge).plus($e(Ue,ee,he+2,1)).times(.5),oe(ee.d).slice(0,he)===(fe=oe(ge.d)).slice(0,he)){if("9999"!=(fe=fe.slice(he-3,he+1))&&(ke||"4999"!=fe)){+fe&&(+fe.slice(1)||"5"!=fe.charAt(0))||(et(ge,Bt+1,1),j=!ge.times(ge).eq(Ue));break}if(!ke&&(et(ee,Bt+1,0),ee.times(ee).eq(Ue))){ge=ee;break}he+=4,ke=1}return an=!0,et(ge,Bt,Et.rounding,j)},R.tangent=R.tan=function(){var j,fe,he=this,ge=he.constructor;return he.isFinite()?he.isZero()?new ge(he):(fe=ge.rounding,ge.precision=(j=ge.precision)+10,ge.rounding=1,(he=he.sin()).s=1,he=$e(he,new ge(1).minus(he.times(he)).sqrt(),j+10,0),ge.precision=j,ge.rounding=fe,et(2==qn||4==qn?he.neg():he,j,fe,!0)):new ge(NaN)},R.times=R.mul=function(j){var fe,he,ge,ke,ee,Ue,gt,Bt,zt,vn=this.constructor,yn=this.d,Sn=(j=new vn(j)).d;if(j.s*=this.s,!(yn&&yn[0]&&Sn&&Sn[0]))return new vn(!j.s||yn&&!yn[0]&&!Sn||Sn&&!Sn[0]&&!yn?NaN:yn&&Sn?0*j.s:j.s/0);for(he=An(this.e/L)+An(j.e/L),(Bt=yn.length)<(zt=Sn.length)&&(ee=yn,yn=Sn,Sn=ee,Ue=Bt,Bt=zt,zt=Ue),ee=[],ge=Ue=Bt+zt;ge--;)ee.push(0);for(ge=zt;--ge>=0;){for(fe=0,ke=Bt+ge;ke>ge;)gt=ee[ke]+Sn[ge]*yn[ke-ge-1]+fe,ee[ke--]=gt%qe|0,fe=gt/qe|0;ee[ke]=(ee[ke]+fe)%qe|0}for(;!ee[--Ue];)ee.pop();return fe?++he:ee.shift(),j.d=ee,j.e=ne(ee,he),an?et(j,vn.precision,vn.rounding):j},R.toBinary=function(j,fe){return We(this,2,j,fe)},R.toDecimalPlaces=R.toDP=function(j,fe){var he=this,ge=he.constructor;return he=new ge(he),void 0===j?he:(le(j,0,Qi),void 0===fe?fe=ge.rounding:le(fe,0,8),et(he,j+he.e+1,fe))},R.toExponential=function(j,fe){var he,ge=this,ke=ge.constructor;return void 0===j?he=ve(ge,!0):(le(j,0,Qi),void 0===fe?fe=ke.rounding:le(fe,0,8),he=ve(ge=et(new ke(ge),j+1,fe),!0,j+1)),ge.isNeg()&&!ge.isZero()?"-"+he:he},R.toFixed=function(j,fe){var he,ge,ke=this,ee=ke.constructor;return void 0===j?he=ve(ke):(le(j,0,Qi),void 0===fe?fe=ee.rounding:le(fe,0,8),he=ve(ge=et(new ee(ke),j+ke.e+1,fe),!1,j+ge.e+1)),ke.isNeg()&&!ke.isZero()?"-"+he:he},R.toFraction=function(j){var fe,he,ge,ke,ee,Ue,gt,Bt,zt,Et,vn,yn,Sn=this,Xt=Sn.d,hr=Sn.constructor;if(!Xt)return new hr(Sn);if(zt=he=new hr(1),ge=Bt=new hr(0),Ue=(ee=(fe=new hr(ge)).e=Rt(Xt)-Sn.e-1)%L,fe.d[0]=Un(10,Ue<0?L+Ue:Ue),null==j)j=ee>0?fe:zt;else{if(!(gt=new hr(j)).isInt()||gt.lt(zt))throw Error(Tt+gt);j=gt.gt(fe)?ee>0?fe:zt:gt}for(an=!1,gt=new hr(oe(Xt)),Et=hr.precision,hr.precision=ee=Xt.length*L*2;vn=$e(gt,fe,0,1,1),1!=(ke=he.plus(vn.times(ge))).cmp(j);)he=ge,ge=ke,zt=Bt.plus(vn.times(ke=zt)),Bt=ke,fe=gt.minus(vn.times(ke=fe)),gt=ke;return ke=$e(j.minus(he),ge,0,1,1),Bt=Bt.plus(ke.times(zt)),he=he.plus(ke.times(ge)),Bt.s=zt.s=Sn.s,yn=$e(zt,ge,ee,1).minus(Sn).abs().cmp($e(Bt,he,ee,1).minus(Sn).abs())<1?[zt,ge]:[Bt,he],hr.precision=Et,an=!0,yn},R.toHexadecimal=R.toHex=function(j,fe){return We(this,16,j,fe)},R.toNearest=function(j,fe){var he=this,ge=he.constructor;if(he=new ge(he),null==j){if(!he.d)return he;j=new ge(1),fe=ge.rounding}else{if(j=new ge(j),void 0===fe?fe=ge.rounding:le(fe,0,8),!he.d)return j.s?he:j;if(!j.d)return j.s&&(j.s=he.s),j}return j.d[0]?(an=!1,he=$e(he,j,0,fe,1).times(j),an=!0,et(he)):(j.s=he.s,he=j),he},R.toNumber=function(){return+this},R.toOctal=function(j,fe){return We(this,8,j,fe)},R.toPower=R.pow=function(j){var fe,he,ge,ke,ee,Ue,gt=this,Bt=gt.constructor,zt=+(j=new Bt(j));if(!(gt.d&&j.d&&gt.d[0]&&j.d[0]))return new Bt(Un(+gt,zt));if((gt=new Bt(gt)).eq(1))return gt;if(ge=Bt.precision,ee=Bt.rounding,j.eq(1))return et(gt,ge,ee);if((fe=An(j.e/L))>=j.d.length-1&&(he=zt<0?-zt:zt)<=9007199254740991)return ke=Ft(Bt,gt,he,ge),j.s<0?new Bt(1).div(ke):et(ke,ge,ee);if((Ue=gt.s)<0){if(fe<j.d.length-1)return new Bt(NaN);if(!(1&j.d[fe])&&(Ue=1),0==gt.e&&1==gt.d[0]&&1==gt.d.length)return gt.s=Ue,gt}return(fe=0!=(he=Un(+gt,zt))&&isFinite(he)?new Bt(he+"").e:An(zt*(Math.log("0."+oe(gt.d))/Math.LN10+gt.e+1)))>Bt.maxE+1||fe<Bt.minE-1?new Bt(fe>0?Ue/0:0):(an=!1,Bt.rounding=gt.s=1,he=Math.min(12,(fe+"").length),(ke=gi(j.times(si(gt,ge+he)),ge)).d&&Me((ke=et(ke,ge+5,1)).d,ge,ee)&&+oe((ke=et(gi(j.times(si(gt,(fe=ge+10)+he)),fe),fe+5,1)).d).slice(ge+1,ge+15)+1==1e14&&(ke=et(ke,ge+1,0)),ke.s=Ue,an=!0,Bt.rounding=ee,et(ke,ge,ee))},R.toPrecision=function(j,fe){var he,ge=this,ke=ge.constructor;return void 0===j?he=ve(ge,ge.e<=ke.toExpNeg||ge.e>=ke.toExpPos):(le(j,1,Qi),void 0===fe?fe=ke.rounding:le(fe,0,8),he=ve(ge=et(new ke(ge),j,fe),j<=ge.e||ge.e<=ke.toExpNeg,j)),ge.isNeg()&&!ge.isZero()?"-"+he:he},R.toSignificantDigits=R.toSD=function(j,fe){var he=this.constructor;return void 0===j?(j=he.precision,fe=he.rounding):(le(j,1,Qi),void 0===fe?fe=he.rounding:le(fe,0,8)),et(new he(this),j,fe)},R.toString=function(){var j=this,fe=j.constructor,he=ve(j,j.e<=fe.toExpNeg||j.e>=fe.toExpPos);return j.isNeg()&&!j.isZero()?"-"+he:he},R.truncated=R.trunc=function(){return et(new this.constructor(this),this.e+1,1)},R.valueOf=R.toJSON=function(){var j=this,fe=j.constructor,he=ve(j,j.e<=fe.toExpNeg||j.e>=fe.toExpPos);return j.isNeg()?"-"+he:he};var $e=function(){function j(ge,ke,ee){var Ue,gt=0,Bt=ge.length;for(ge=ge.slice();Bt--;)ge[Bt]=(Ue=ge[Bt]*ke+gt)%ee|0,gt=Ue/ee|0;return gt&&ge.unshift(gt),ge}function fe(ge,ke,ee,Ue){var gt,Bt;if(ee!=Ue)Bt=ee>Ue?1:-1;else for(gt=Bt=0;gt<ee;gt++)if(ge[gt]!=ke[gt]){Bt=ge[gt]>ke[gt]?1:-1;break}return Bt}function he(ge,ke,ee,Ue){for(var gt=0;ee--;)ge[ee]-=gt,ge[ee]=(gt=ge[ee]<ke[ee]?1:0)*Ue+ge[ee]-ke[ee];for(;!ge[0]&&ge.length>1;)ge.shift()}return function(ge,ke,ee,Ue,gt,Bt){var zt,Et,vn,yn,Sn,Xt,hr,yo,Yr,ar,Zr,ue,Oe,rt,Ot,zi,nn,be,Co,$o,En=ge.constructor,Ti=ge.s==ke.s?1:-1,gr=ge.d,Fr=ke.d;if(!(gr&&gr[0]&&Fr&&Fr[0]))return new En(ge.s&&ke.s&&(gr?!Fr||gr[0]!=Fr[0]:Fr)?gr&&0==gr[0]||!Fr?0*Ti:Ti/0:NaN);for(Bt?(Sn=1,Et=ge.e-ke.e):(Bt=qe,Et=An(ge.e/(Sn=L))-An(ke.e/Sn)),Co=Fr.length,nn=gr.length,ar=(Yr=new En(Ti)).d=[],vn=0;Fr[vn]==(gr[vn]||0);vn++);if(Fr[vn]>(gr[vn]||0)&&Et--,null==ee?(rt=ee=En.precision,Ue=En.rounding):rt=gt?ee+(ge.e-ke.e)+1:ee,rt<0)ar.push(1),Xt=!0;else{if(rt=rt/Sn+2|0,vn=0,1==Co){for(yn=0,Fr=Fr[0],rt++;(vn<nn||yn)&&rt--;vn++)ar[vn]=(Ot=yn*Bt+(gr[vn]||0))/Fr|0,yn=Ot%Fr|0;Xt=yn||vn<nn}else{for((yn=Bt/(Fr[0]+1)|0)>1&&(Fr=j(Fr,yn,Bt),gr=j(gr,yn,Bt),Co=Fr.length,nn=gr.length),zi=Co,ue=(Zr=gr.slice(0,Co)).length;ue<Co;)Zr[ue++]=0;($o=Fr.slice()).unshift(0),be=Fr[0],Fr[1]>=Bt/2&&++be;do{yn=0,(zt=fe(Fr,Zr,Co,ue))<0?(Oe=Zr[0],Co!=ue&&(Oe=Oe*Bt+(Zr[1]||0)),(yn=Oe/be|0)>1?(yn>=Bt&&(yn=Bt-1),1==(zt=fe(hr=j(Fr,yn,Bt),Zr,yo=hr.length,ue=Zr.length))&&(yn--,he(hr,Co<yo?$o:Fr,yo,Bt))):(0==yn&&(zt=yn=1),hr=Fr.slice()),(yo=hr.length)<ue&&hr.unshift(0),he(Zr,hr,ue,Bt),-1==zt&&(zt=fe(Fr,Zr,Co,ue=Zr.length))<1&&(yn++,he(Zr,Co<ue?$o:Fr,ue,Bt)),ue=Zr.length):0===zt&&(yn++,Zr=[0]),ar[vn++]=yn,zt&&Zr[0]?Zr[ue++]=gr[zi]||0:(Zr=[gr[zi]],ue=1)}while((zi++<nn||void 0!==Zr[0])&&rt--);Xt=void 0!==Zr[0]}ar[0]||ar.shift()}if(1==Sn)Yr.e=Et,De=Xt;else{for(vn=1,yn=ar[0];yn>=10;yn/=10)vn++;Yr.e=vn+Et*Sn-1,et(Yr,gt?ee+Yr.e+1:ee,Ue,Xt)}return Yr}}();function et(j,fe,he,ge){var ke,ee,Ue,gt,Bt,zt,Et,vn,yn,Sn=j.constructor;e:if(null!=fe){if(!(vn=j.d))return j;for(ke=1,gt=vn[0];gt>=10;gt/=10)ke++;if((ee=fe-ke)<0)ee+=L,Bt=(Et=vn[yn=0])/Un(10,ke-(Ue=fe)-1)%10|0;else if((yn=Math.ceil((ee+1)/L))>=(gt=vn.length)){if(!ge)break e;for(;gt++<=yn;)vn.push(0);Et=Bt=0,ke=1,Ue=(ee%=L)-L+1}else{for(Et=gt=vn[yn],ke=1;gt>=10;gt/=10)ke++;Bt=(Ue=(ee%=L)-L+ke)<0?0:Et/Un(10,ke-Ue-1)%10|0}if(ge=ge||fe<0||void 0!==vn[yn+1]||(Ue<0?Et:Et%Un(10,ke-Ue-1)),zt=he<4?(Bt||ge)&&(0==he||he==(j.s<0?3:2)):Bt>5||5==Bt&&(4==he||ge||6==he&&(ee>0?Ue>0?Et/Un(10,ke-Ue):0:vn[yn-1])%10&1||he==(j.s<0?8:7)),fe<1||!vn[0])return vn.length=0,zt?(vn[0]=Un(10,(L-(fe-=j.e+1)%L)%L),j.e=-fe||0):vn[0]=j.e=0,j;if(0==ee?(vn.length=yn,gt=1,yn--):(vn.length=yn+1,gt=Un(10,L-ee),vn[yn]=Ue>0?(Et/Un(10,ke-Ue)%Un(10,Ue)|0)*gt:0),zt)for(;;){if(0==yn){for(ee=1,Ue=vn[0];Ue>=10;Ue/=10)ee++;for(Ue=vn[0]+=gt,gt=1;Ue>=10;Ue/=10)gt++;ee!=gt&&(j.e++,vn[0]==qe&&(vn[0]=1));break}if(vn[yn]+=gt,vn[yn]!=qe)break;vn[yn--]=0,gt=1}for(ee=vn.length;0===vn[--ee];)vn.pop()}return an&&(j.e>Sn.maxE?(j.d=null,j.e=NaN):j.e<Sn.minE&&(j.e=0,j.d=[0])),j}function ve(j,fe,he){if(!j.isFinite())return Wi(j);var ge,ke=j.e,ee=oe(j.d),Ue=ee.length;return fe?(he&&(ge=he-Ue)>0?ee=ee.charAt(0)+"."+ee.slice(1)+Jt(ge):Ue>1&&(ee=ee.charAt(0)+"."+ee.slice(1)),ee=ee+(j.e<0?"e":"e+")+j.e):ke<0?(ee="0."+Jt(-ke-1)+ee,he&&(ge=he-Ue)>0&&(ee+=Jt(ge))):ke>=Ue?(ee+=Jt(ke+1-Ue),he&&(ge=he-ke-1)>0&&(ee=ee+"."+Jt(ge))):((ge=ke+1)<Ue&&(ee=ee.slice(0,ge)+"."+ee.slice(ge)),he&&(ge=he-Ue)>0&&(ke+1===Ue&&(ee+="."),ee+=Jt(ge))),ee}function ne(j,fe){var he=j[0];for(fe*=L;he>=10;he/=10)fe++;return fe}function at(j,fe,he){if(fe>U)throw an=!0,he&&(j.precision=he),Error(In);return et(new j(Fe),fe,1,!0)}function Yt(j,fe,he){if(fe>G)throw Error(In);return et(new j($t),fe,he,!0)}function Rt(j){var fe=j.length-1,he=fe*L+1;if(fe=j[fe]){for(;fe%10==0;fe/=10)he--;for(fe=j[0];fe>=10;fe/=10)he++}return he}function Jt(j){for(var fe="";j--;)fe+="0";return fe}function Ft(j,fe,he,ge){var ke,ee=new j(1),Ue=Math.ceil(ge/L+4);for(an=!1;;){if(he%2&&ht((ee=ee.times(fe)).d,Ue)&&(ke=!0),0===(he=An(he/2))){he=ee.d.length-1,ke&&0===ee.d[he]&&++ee.d[he];break}ht((fe=fe.times(fe)).d,Ue)}return an=!0,ee}function Pn(j){return 1&j.d[j.d.length-1]}function Si(j,fe,he){for(var ge,ke=new j(fe[0]),ee=0;++ee<fe.length;){if(!(ge=new j(fe[ee])).s){ke=ge;break}ke[he](ge)&&(ke=ge)}return ke}function gi(j,fe){var he,ge,ke,ee,Ue,gt,Bt,zt=0,Et=0,vn=0,yn=j.constructor,Sn=yn.rounding,Xt=yn.precision;if(!j.d||!j.d[0]||j.e>17)return new yn(j.d?j.d[0]?j.s<0?0:1/0:1:j.s?j.s<0?0:j:NaN);for(null==fe?(an=!1,Bt=Xt):Bt=fe,gt=new yn(.03125);j.e>-2;)j=j.times(gt),vn+=5;for(Bt+=ge=Math.log(Un(2,vn))/Math.LN10*2+5|0,he=ee=Ue=new yn(1),yn.precision=Bt;;){if(ee=et(ee.times(j),Bt,1),he=he.times(++Et),oe((gt=Ue.plus($e(ee,he,Bt,1))).d).slice(0,Bt)===oe(Ue.d).slice(0,Bt)){for(ke=vn;ke--;)Ue=et(Ue.times(Ue),Bt,1);if(null!=fe)return yn.precision=Xt,Ue;if(!(zt<3&&Me(Ue.d,Bt-ge,Sn,zt)))return et(Ue,yn.precision=Xt,Sn,an=!0);yn.precision=Bt+=10,he=ee=gt=new yn(1),Et=0,zt++}Ue=gt}}function si(j,fe){var he,ge,ke,ee,Ue,gt,Bt,zt,Et,vn,yn,Sn=1,Xt=j,hr=Xt.d,yo=Xt.constructor,Yr=yo.rounding,ar=yo.precision;if(Xt.s<0||!hr||!hr[0]||!Xt.e&&1==hr[0]&&1==hr.length)return new yo(hr&&!hr[0]?-1/0:1!=Xt.s?NaN:hr?0:Xt);if(null==fe?(an=!1,Et=ar):Et=fe,yo.precision=Et+=10,ge=(he=oe(hr)).charAt(0),!(Math.abs(ee=Xt.e)<15e14))return zt=at(yo,Et+2,ar).times(ee+""),Xt=si(new yo(ge+"."+he.slice(1)),Et-10).plus(zt),yo.precision=ar,null==fe?et(Xt,ar,Yr,an=!0):Xt;for(;ge<7&&1!=ge||1==ge&&he.charAt(1)>3;)ge=(he=oe((Xt=Xt.times(j)).d)).charAt(0),Sn++;for(ee=Xt.e,ge>1?(Xt=new yo("0."+he),ee++):Xt=new yo(ge+"."+he.slice(1)),vn=Xt,Bt=Ue=Xt=$e(Xt.minus(1),Xt.plus(1),Et,1),yn=et(Xt.times(Xt),Et,1),ke=3;;){if(Ue=et(Ue.times(yn),Et,1),oe((zt=Bt.plus($e(Ue,new yo(ke),Et,1))).d).slice(0,Et)===oe(Bt.d).slice(0,Et)){if(Bt=Bt.times(2),0!==ee&&(Bt=Bt.plus(at(yo,Et+2,ar).times(ee+""))),Bt=$e(Bt,new yo(Sn),Et,1),null!=fe)return yo.precision=ar,Bt;if(!Me(Bt.d,Et-10,Yr,gt))return et(Bt,yo.precision=ar,Yr,an=!0);yo.precision=Et+=10,zt=Ue=Xt=$e(vn.minus(1),vn.plus(1),Et,1),yn=et(Xt.times(Xt),Et,1),ke=gt=1}Bt=zt,ke+=2}}function Wi(j){return String(j.s*j.s/0)}function zn(j,fe){var he,ge,ke;for((he=fe.indexOf("."))>-1&&(fe=fe.replace(".","")),(ge=fe.search(/e/i))>0?(he<0&&(he=ge),he+=+fe.slice(ge+1),fe=fe.substring(0,ge)):he<0&&(he=fe.length),ge=0;48===fe.charCodeAt(ge);ge++);for(ke=fe.length;48===fe.charCodeAt(ke-1);--ke);if(fe=fe.slice(ge,ke)){if(ke-=ge,j.e=he=he-ge-1,j.d=[],ge=(he+1)%L,he<0&&(ge+=L),ge<ke){for(ge&&j.d.push(+fe.slice(0,ge)),ke-=L;ge<ke;)j.d.push(+fe.slice(ge,ge+=L));fe=fe.slice(ge),ge=L-fe.length}else ge-=ke;for(;ge--;)fe+="0";j.d.push(+fe),an&&(j.e>j.constructor.maxE?(j.d=null,j.e=NaN):j.e<j.constructor.minE&&(j.e=0,j.d=[0]))}else j.e=0,j.d=[0];return j}function Yi(j,fe,he,ge,ke){var ee,Ue,gt,Bt,zt=j.precision,Et=Math.ceil(zt/L);for(an=!1,Bt=he.times(he),gt=new j(ge);;){if(Ue=$e(gt.times(Bt),new j(fe++*fe++),zt,1),gt=ke?ge.plus(Ue):ge.minus(Ue),ge=$e(Ue.times(Bt),new j(fe++*fe++),zt,1),void 0!==(Ue=gt.plus(ge)).d[Et]){for(ee=Et;Ue.d[ee]===gt.d[ee]&&ee--;);if(-1==ee)break}ee=gt,gt=ge,ge=Ue,Ue=ee}return an=!0,Ue.d.length=Et+1,Ue}function rr(j,fe){for(var he=j;--fe;)he*=j;return he}function Ve(j,fe){var he,ge=fe.s<0,ke=Yt(j,j.precision,1),ee=ke.times(.5);if((fe=fe.abs()).lte(ee))return qn=ge?4:1,fe;if((he=fe.divToInt(ke)).isZero())qn=ge?3:2;else{if((fe=fe.minus(he.times(ke))).lte(ee))return qn=Pn(he)?ge?2:3:ge?4:1,fe;qn=Pn(he)?ge?1:4:ge?3:2}return fe.minus(ke).abs()}function We(j,fe,he,ge){var ke,ee,Ue,gt,Bt,zt,Et,vn,yn,Sn=j.constructor,Xt=void 0!==he;if(Xt?(le(he,1,Qi),void 0===ge?ge=Sn.rounding:le(ge,0,8)):(he=Sn.precision,ge=Sn.rounding),j.isFinite()){for(Xt?(ke=2,16==fe?he=4*he-3:8==fe&&(he=3*he-2)):ke=fe,(Ue=(Et=ve(j)).indexOf("."))>=0&&(Et=Et.replace(".",""),(yn=new Sn(1)).e=Et.length-Ue,yn.d=Re(ve(yn),10,ke),yn.e=yn.d.length),ee=Bt=(vn=Re(Et,10,ke)).length;0==vn[--Bt];)vn.pop();if(vn[0]){if(Ue<0?ee--:((j=new Sn(j)).d=vn,j.e=ee,vn=(j=$e(j,yn,he,ge,0,ke)).d,ee=j.e,zt=De),Ue=vn[he],gt=ke/2,zt=zt||void 0!==vn[he+1],zt=ge<4?(void 0!==Ue||zt)&&(0===ge||ge===(j.s<0?3:2)):Ue>gt||Ue===gt&&(4===ge||zt||6===ge&&1&vn[he-1]||ge===(j.s<0?8:7)),vn.length=he,zt)for(;++vn[--he]>ke-1;)vn[he]=0,he||(++ee,vn.unshift(1));for(Bt=vn.length;!vn[Bt-1];--Bt);for(Ue=0,Et="";Ue<Bt;Ue++)Et+=Ht.charAt(vn[Ue]);if(Xt){if(Bt>1)if(16==fe||8==fe){for(Ue=16==fe?4:3,--Bt;Bt%Ue;Bt++)Et+="0";for(Bt=(vn=Re(Et,ke,fe)).length;!vn[Bt-1];--Bt);for(Ue=1,Et="1.";Ue<Bt;Ue++)Et+=Ht.charAt(vn[Ue])}else Et=Et.charAt(0)+"."+Et.slice(1);Et=Et+(ee<0?"p":"p+")+ee}else if(ee<0){for(;++ee;)Et="0"+Et;Et="0."+Et}else if(++ee>Bt)for(ee-=Bt;ee--;)Et+="0";else ee<Bt&&(Et=Et.slice(0,ee)+"."+Et.slice(ee))}else Et=Xt?"0p+0":"0";Et=(16==fe?"0x":2==fe?"0b":8==fe?"0o":"")+Et}else Et=Wi(j);return j.s<0?"-"+Et:Et}function ht(j,fe){if(j.length>fe)return j.length=fe,!0}function ot(j){return new this(j).abs()}function Gt(j){return new this(j).acos()}function en(j){return new this(j).acosh()}function Cn(j,fe){return new this(j).plus(fe)}function pt(j){return new this(j).asin()}function ft(j){return new this(j).asinh()}function jn(j){return new this(j).atan()}function K(j){return new this(j).atanh()}function _e(j,fe){j=new this(j),fe=new this(fe);var he,ge=this.precision,ke=this.rounding,ee=ge+4;return j.s&&fe.s?j.d||fe.d?!fe.d||j.isZero()?(he=fe.s<0?Yt(this,ge,ke):new this(0)).s=j.s:!j.d||fe.isZero()?(he=Yt(this,ee,1).times(.5)).s=j.s:fe.s<0?(this.precision=ee,this.rounding=1,he=this.atan($e(j,fe,ee,1)),fe=Yt(this,ee,1),this.precision=ge,this.rounding=ke,he=j.s<0?he.minus(fe):he.plus(fe)):he=this.atan($e(j,fe,ee,1)):(he=Yt(this,ee,1).times(fe.s>0?.25:.75)).s=j.s:he=new this(NaN),he}function Ne(j){return new this(j).cbrt()}function At(j){return et(j=new this(j),j.e+1,2)}function vt(j){if(!j||"object"!=typeof j)throw Error(fn+"Object expected");var fe,he,ge,ke=!0===j.defaults,ee=["precision",1,Qi,"rounding",0,8,"toExpNeg",-bn,0,"toExpPos",0,bn,"maxE",0,bn,"minE",-bn,0,"modulo",0,9];for(fe=0;fe<ee.length;fe+=3)if(he=ee[fe],ke&&(this[he]=Bi[he]),void 0!==(ge=j[he])){if(!(An(ge)===ge&&ge>=ee[fe+1]&&ge<=ee[fe+2]))throw Error(Tt+he+": "+ge);this[he]=ge}if(he="crypto",ke&&(this[he]=Bi[he]),void 0!==(ge=j[he])){if(!0!==ge&&!1!==ge&&0!==ge&&1!==ge)throw Error(Tt+he+": "+ge);if(ge){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Xe);this[he]=!0}else this[he]=!1}return this}function xe(j){return new this(j).cos()}function Nt(j){return new this(j).cosh()}function Ye(j,fe){return new this(j).div(fe)}function _t(j){return new this(j).exp()}function Ge(j){return et(j=new this(j),j.e+1,3)}function yt(){var j,fe,he=new this(0);for(an=!1,j=0;j<arguments.length;)if((fe=new this(arguments[j++])).d)he.d&&(he=he.plus(fe.times(fe)));else{if(fe.s)return an=!0,new this(1/0);he=fe}return an=!0,he.sqrt()}function Kt(j){return j instanceof _n||j&&"[object Decimal]"===j.name||!1}function xt(j){return new this(j).ln()}function Ct(j,fe){return new this(j).log(fe)}function mt(j){return new this(j).log(2)}function hn(j){return new this(j).log(10)}function mn(){return Si(this,arguments,"lt")}function xn(){return Si(this,arguments,"gt")}function hi(j,fe){return new this(j).mod(fe)}function ti(j,fe){return new this(j).mul(fe)}function Br(j,fe){return new this(j).pow(fe)}function mi(j){var fe,he,ge,ke,ee=0,Ue=new this(1),gt=[];if(void 0===j?j=this.precision:le(j,1,Qi),ge=Math.ceil(j/L),this.crypto)if(crypto.getRandomValues)for(fe=crypto.getRandomValues(new Uint32Array(ge));ee<ge;)(ke=fe[ee])>=429e7?fe[ee]=crypto.getRandomValues(new Uint32Array(1))[0]:gt[ee++]=ke%1e7;else{if(!crypto.randomBytes)throw Error(Xe);for(fe=crypto.randomBytes(ge*=4);ee<ge;)(ke=fe[ee]+(fe[ee+1]<<8)+(fe[ee+2]<<16)+((127&fe[ee+3])<<24))>=214e7?crypto.randomBytes(4).copy(fe,ee):(gt.push(ke%1e7),ee+=4);ee=ge/4}else for(;ee<ge;)gt[ee++]=1e7*Math.random()|0;for(ge=gt[--ee],j%=L,ge&&j&&(ke=Un(10,L-j),gt[ee]=(ge/ke|0)*ke);0===gt[ee];ee--)gt.pop();if(ee<0)he=0,gt=[0];else{for(he=-1;0===gt[0];he-=L)gt.shift();for(ge=1,ke=gt[0];ke>=10;ke/=10)ge++;ge<L&&(he-=L-ge)}return Ue.e=he,Ue.d=gt,Ue}function ni(j){return et(j=new this(j),j.e+1,this.rounding)}function Tr(j){return(j=new this(j)).d?j.d[0]?j.s:0*j.s:j.s||NaN}function ii(j){return new this(j).sin()}function _r(j){return new this(j).sinh()}function Mr(j){return new this(j).sqrt()}function ui(j,fe){return new this(j).sub(fe)}function Yn(j){return new this(j).tan()}function br(j){return new this(j).tanh()}function Pr(j){return et(j=new this(j),j.e+1,1)}return(_n=function j(fe){var he,ge,ke;function ee(Ue){var gt,Bt,zt,Et=this;if(!(Et instanceof ee))return new ee(Ue);if(Et.constructor=ee,Ue instanceof ee)return Et.s=Ue.s,void(an?!Ue.d||Ue.e>ee.maxE?(Et.e=NaN,Et.d=null):Ue.e<ee.minE?(Et.e=0,Et.d=[0]):(Et.e=Ue.e,Et.d=Ue.d.slice()):(Et.e=Ue.e,Et.d=Ue.d?Ue.d.slice():Ue.d));if("number"==(zt=typeof Ue)){if(0===Ue)return Et.s=1/Ue<0?-1:1,Et.e=0,void(Et.d=[0]);if(Ue<0?(Ue=-Ue,Et.s=-1):Et.s=1,Ue===~~Ue&&Ue<1e7){for(gt=0,Bt=Ue;Bt>=10;Bt/=10)gt++;return void(an?gt>ee.maxE?(Et.e=NaN,Et.d=null):gt<ee.minE?(Et.e=0,Et.d=[0]):(Et.e=gt,Et.d=[Ue]):(Et.e=gt,Et.d=[Ue]))}return 0*Ue!=0?(Ue||(Et.s=NaN),Et.e=NaN,void(Et.d=null)):zn(Et,Ue.toString())}if("string"!==zt)throw Error(Tt+Ue);return 45===(Bt=Ue.charCodeAt(0))?(Ue=Ue.slice(1),Et.s=-1):(43===Bt&&(Ue=Ue.slice(1)),Et.s=1),Wn.test(Ue)?zn(Et,Ue):function ri(j,fe){var he,ge,ke,ee,Ue,gt,Bt,zt,Et;if("Infinity"===fe||"NaN"===fe)return+fe||(j.s=NaN),j.e=NaN,j.d=null,j;if(qt.test(fe))he=16,fe=fe.toLowerCase();else if(gn.test(fe))he=2;else{if(!Di.test(fe))throw Error(Tt+fe);he=8}for((ee=fe.search(/p/i))>0?(Bt=+fe.slice(ee+1),fe=fe.substring(2,ee)):fe=fe.slice(2),Ue=(ee=fe.indexOf("."))>=0,ge=j.constructor,Ue&&(ee=(gt=(fe=fe.replace(".","")).length)-ee,ke=Ft(ge,new ge(he),ee,2*ee)),ee=Et=(zt=Re(fe,he,qe)).length-1;0===zt[ee];--ee)zt.pop();return ee<0?new ge(0*j.s):(j.e=ne(zt,Et),j.d=zt,an=!1,Ue&&(j=$e(j,ke,4*gt)),Bt&&(j=j.times(Math.abs(Bt)<54?Un(2,Bt):_n.pow(2,Bt))),an=!0,j)}(Et,Ue)}if(ee.prototype=R,ee.ROUND_UP=0,ee.ROUND_DOWN=1,ee.ROUND_CEIL=2,ee.ROUND_FLOOR=3,ee.ROUND_HALF_UP=4,ee.ROUND_HALF_DOWN=5,ee.ROUND_HALF_EVEN=6,ee.ROUND_HALF_CEIL=7,ee.ROUND_HALF_FLOOR=8,ee.EUCLID=9,ee.config=ee.set=vt,ee.clone=j,ee.isDecimal=Kt,ee.abs=ot,ee.acos=Gt,ee.acosh=en,ee.add=Cn,ee.asin=pt,ee.asinh=ft,ee.atan=jn,ee.atanh=K,ee.atan2=_e,ee.cbrt=Ne,ee.ceil=At,ee.cos=xe,ee.cosh=Nt,ee.div=Ye,ee.exp=_t,ee.floor=Ge,ee.hypot=yt,ee.ln=xt,ee.log=Ct,ee.log10=hn,ee.log2=mt,ee.max=mn,ee.min=xn,ee.mod=hi,ee.mul=ti,ee.pow=Br,ee.random=mi,ee.round=ni,ee.sign=Tr,ee.sin=ii,ee.sinh=_r,ee.sqrt=Mr,ee.sub=ui,ee.tan=Yn,ee.tanh=br,ee.trunc=Pr,void 0===fe&&(fe={}),fe&&!0!==fe.defaults)for(ke=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],he=0;he<ke.length;)fe.hasOwnProperty(ge=ke[he++])||(fe[ge]=this[ge]);return ee.config(fe),ee}(Bi)).default=_n.Decimal=_n,Fe=new _n(Fe),$t=new _n($t),void 0!==(Ae=function(){return _n}.call(Kr,ei,Kr,ko))&&(ko.exports=Ae),_n}()});ko.exports=F},489:ko=>{var Kr="function"==typeof setImmediate;ko.exports=Kr?function(Ln){setImmediate(Ln)}:function(Ln){setTimeout(Ln,0)}}},ko=>{ko(ko.s=41)}]);